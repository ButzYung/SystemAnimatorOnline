/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/

!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).JSZip=e()}}(function(){return function s(a,o,h){function u(r,e){if(!o[r]){if(!a[r]){var t="function"==typeof require&&require;if(!e&&t)return t(r,!0);if(l)return l(r,!0);var n=new Error("Cannot find module '"+r+"'");throw n.code="MODULE_NOT_FOUND",n}var i=o[r]={exports:{}};a[r][0].call(i.exports,function(e){var t=a[r][1][e];return u(t||e)},i,i.exports,s,a,o,h)}return o[r].exports}for(var l="function"==typeof require&&require,e=0;e<h.length;e++)u(h[e]);return u}({1:[function(e,t,r){"use strict";var d=e("./utils"),c=e("./support"),p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(e){for(var t,r,n,i,s,a,o,h=[],u=0,l=e.length,f=l,c="string"!==d.getTypeOf(e);u<e.length;)f=l-u,n=c?(t=e[u++],r=u<l?e[u++]:0,u<l?e[u++]:0):(t=e.charCodeAt(u++),r=u<l?e.charCodeAt(u++):0,u<l?e.charCodeAt(u++):0),i=t>>2,s=(3&t)<<4|r>>4,a=1<f?(15&r)<<2|n>>6:64,o=2<f?63&n:64,h.push(p.charAt(i)+p.charAt(s)+p.charAt(a)+p.charAt(o));return h.join("")},r.decode=function(e){var t,r,n,i,s,a,o=0,h=0,u="data:";if(e.substr(0,u.length)===u)throw new Error("Invalid base64 input, it looks like a data url.");var l,f=3*(e=e.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(e.charAt(e.length-1)===p.charAt(64)&&f--,e.charAt(e.length-2)===p.charAt(64)&&f--,f%1!=0)throw new Error("Invalid base64 input, bad content length.");for(l=c.uint8array?new Uint8Array(0|f):new Array(0|f);o<e.length;)t=p.indexOf(e.charAt(o++))<<2|(i=p.indexOf(e.charAt(o++)))>>4,r=(15&i)<<4|(s=p.indexOf(e.charAt(o++)))>>2,n=(3&s)<<6|(a=p.indexOf(e.charAt(o++))),l[h++]=t,64!==s&&(l[h++]=r),64!==a&&(l[h++]=n);return l}},{"./support":30,"./utils":32}],2:[function(e,t,r){"use strict";var n=e("./external"),i=e("./stream/DataWorker"),s=e("./stream/Crc32Probe"),a=e("./stream/DataLengthProbe");function o(e,t,r,n,i){this.compressedSize=e,this.uncompressedSize=t,this.crc32=r,this.compression=n,this.compressedContent=i}o.prototype={getContentWorker:function(){var e=new i(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),t=this;return e.on("end",function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),e},getCompressedWorker:function(){return new i(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},o.createWorkerFrom=function(e,t,r){return e.pipe(new s).pipe(new a("uncompressedSize")).pipe(t.compressWorker(r)).pipe(new a("compressedSize")).withStreamInfo("compression",t)},t.exports=o},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,r){"use strict";var n=e("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},r.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,r){"use strict";var n=e("./utils");var o=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==n.getTypeOf(e)?function(e,t,r,n){var i=o,s=n+r;e^=-1;for(var a=n;a<s;a++)e=e>>>8^i[255&(e^t[a])];return-1^e}(0|t,e,e.length,0):function(e,t,r,n){var i=o,s=n+r;e^=-1;for(var a=n;a<s;a++)e=e>>>8^i[255&(e^t.charCodeAt(a))];return-1^e}(0|t,e,e.length,0):0}},{"./utils":32}],5:[function(e,t,r){"use strict";r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(e,t,r){"use strict";var n=null;n="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:n}},{lie:37}],7:[function(e,t,r){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=e("pako"),s=e("./utils"),a=e("./stream/GenericWorker"),o=n?"uint8array":"array";function h(e,t){a.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}r.magic="\b\0",s.inherits(h,a),h.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(s.transformTo(o,e.data),!1)},h.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var t=this;this._pako.onData=function(e){t.push({data:e,meta:t.meta})}},r.compressWorker=function(e){return new h("Deflate",e)},r.uncompressWorker=function(){return new h("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,r){"use strict";function A(e,t){var r,n="";for(r=0;r<t;r++)n+=String.fromCharCode(255&e),e>>>=8;return n}function n(e,t,r,n,i,s){var a,o,h=e.file,u=e.compression,l=s!==O.utf8encode,f=I.transformTo("string",s(h.name)),c=I.transformTo("string",O.utf8encode(h.name)),d=h.comment,p=I.transformTo("string",s(d)),m=I.transformTo("string",O.utf8encode(d)),_=c.length!==h.name.length,g=m.length!==d.length,b="",v="",y="",w=h.dir,k=h.date,x={crc32:0,compressedSize:0,uncompressedSize:0};t&&!r||(x.crc32=e.crc32,x.compressedSize=e.compressedSize,x.uncompressedSize=e.uncompressedSize);var S=0;t&&(S|=8),l||!_&&!g||(S|=2048);var z=0,C=0;w&&(z|=16),"UNIX"===i?(C=798,z|=function(e,t){var r=e;return e||(r=t?16893:33204),(65535&r)<<16}(h.unixPermissions,w)):(C=20,z|=function(e){return 63&(e||0)}(h.dosPermissions)),a=k.getUTCHours(),a<<=6,a|=k.getUTCMinutes(),a<<=5,a|=k.getUTCSeconds()/2,o=k.getUTCFullYear()-1980,o<<=4,o|=k.getUTCMonth()+1,o<<=5,o|=k.getUTCDate(),_&&(v=A(1,1)+A(B(f),4)+c,b+="up"+A(v.length,2)+v),g&&(y=A(1,1)+A(B(p),4)+m,b+="uc"+A(y.length,2)+y);var E="";return E+="\n\0",E+=A(S,2),E+=u.magic,E+=A(a,2),E+=A(o,2),E+=A(x.crc32,4),E+=A(x.compressedSize,4),E+=A(x.uncompressedSize,4),E+=A(f.length,2),E+=A(b.length,2),{fileRecord:R.LOCAL_FILE_HEADER+E+f+b,dirRecord:R.CENTRAL_FILE_HEADER+A(C,2)+E+A(p.length,2)+"\0\0\0\0"+A(z,4)+A(n,4)+f+b+p}}var I=e("../utils"),i=e("../stream/GenericWorker"),O=e("../utf8"),B=e("../crc32"),R=e("../signature");function s(e,t,r,n){i.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=r,this.encodeFileName=n,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}I.inherits(s,i),s.prototype.push=function(e){var t=e.meta.percent||0,r=this.entriesCount,n=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,i.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:r?(t+100*(r-n-1))/r:100}}))},s.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var r=n(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0},s.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,r=n(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),t)this.push({data:function(e){return R.DATA_DESCRIPTOR+A(e.crc32,4)+A(e.compressedSize,4)+A(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},s.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var r=this.bytesWritten-e,n=function(e,t,r,n,i){var s=I.transformTo("string",i(n));return R.CENTRAL_DIRECTORY_END+"\0\0\0\0"+A(e,2)+A(e,2)+A(t,4)+A(r,4)+A(s.length,2)+s}(this.dirRecords.length,r,e,this.zipComment,this.encodeFileName);this.push({data:n,meta:{percent:100}})},s.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},s.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()}),e.on("error",function(e){t.error(e)}),this},s.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},s.prototype.error=function(e){var t=this._sources;if(!i.prototype.error.call(this,e))return!1;for(var r=0;r<t.length;r++)try{t[r].error(e)}catch(e){}return!0},s.prototype.lock=function(){i.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=s},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,r){"use strict";var u=e("../compressions"),n=e("./ZipFileWorker");r.generateWorker=function(e,a,t){var o=new n(a.streamFiles,t,a.platform,a.encodeFileName),h=0;try{e.forEach(function(e,t){h++;var r=function(e,t){var r=e||t,n=u[r];if(!n)throw new Error(r+" is not a valid compression method !");return n}(t.options.compression,a.compression),n=t.options.compressionOptions||a.compressionOptions||{},i=t.dir,s=t.date;t._compressWorker(r,n).withStreamInfo("file",{name:e,dir:i,date:s,comment:t.comment||"",unixPermissions:t.unixPermissions,dosPermissions:t.dosPermissions}).pipe(o)}),o.entriesCount=h}catch(e){o.error(e)}return o}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,r){"use strict";function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new n;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(n.prototype=e("./object")).loadAsync=e("./load"),n.support=e("./support"),n.defaults=e("./defaults"),n.version="3.10.1",n.loadAsync=function(e,t){return(new n).loadAsync(e,t)},n.external=e("./external"),t.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,r){"use strict";var u=e("./utils"),i=e("./external"),n=e("./utf8"),s=e("./zipEntries"),a=e("./stream/Crc32Probe"),l=e("./nodejsUtils");function f(n){return new i.Promise(function(e,t){var r=n.decompressed.getContentWorker().pipe(new a);r.on("error",function(e){t(e)}).on("end",function(){r.streamInfo.crc32!==n.decompressed.crc32?t(new Error("Corrupted zip : CRC32 mismatch")):e()}).resume()})}t.exports=function(e,o){var h=this;return o=u.extend(o||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:n.utf8decode}),l.isNode&&l.isStream(e)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):u.prepareContent("the loaded zip file",e,!0,o.optimizedBinaryString,o.base64).then(function(e){var t=new s(o);return t.load(e),t}).then(function(e){var t=[i.Promise.resolve(e)],r=e.files;if(o.checkCRC32)for(var n=0;n<r.length;n++)t.push(f(r[n]));return i.Promise.all(t)}).then(function(e){for(var t=e.shift(),r=t.files,n=0;n<r.length;n++){var i=r[n],s=i.fileNameStr,a=u.resolve(i.fileNameStr);h.file(a,i.decompressed,{binary:!0,optimizedBinaryString:!0,date:i.date,dir:i.dir,comment:i.fileCommentStr.length?i.fileCommentStr:null,unixPermissions:i.unixPermissions,dosPermissions:i.dosPermissions,createFolders:o.createFolders}),i.dir||(h.file(a).unsafeOriginalName=s)}return t.zipComment.length&&(h.comment=t.zipComment),h})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,r){"use strict";var n=e("../utils"),i=e("../stream/GenericWorker");function s(e,t){i.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}n.inherits(s,i),s.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",function(e){t.push({data:e,meta:{percent:0}})}).on("error",function(e){t.isPaused?this.generatedError=e:t.error(e)}).on("end",function(){t.isPaused?t._upstreamEnded=!0:t.end()})},s.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=s},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,r){"use strict";var i=e("readable-stream").Readable;function n(e,t,r){i.call(this,t),this._helper=e;var n=this;e.on("data",function(e,t){n.push(e)||n._helper.pause(),r&&r(t)}).on("error",function(e){n.emit("error",e)}).on("end",function(){n.push(null)})}e("../utils").inherits(n,i),n.prototype._read=function(){this._helper.resume()},t.exports=n},{"../utils":32,"readable-stream":16}],14:[function(e,t,r){"use strict";t.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,r){"use strict";function s(e,t,r){var n,i=u.getTypeOf(t),s=u.extend(r||{},f);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),"string"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(e=g(e)),s.createFolders&&(n=_(e))&&b.call(this,n,!0);var a="string"===i&&!1===s.binary&&!1===s.base64;r&&void 0!==r.binary||(s.binary=!a),(t instanceof c&&0===t.uncompressedSize||s.dir||!t||0===t.length)&&(s.base64=!1,s.binary=!0,t="",s.compression="STORE",i="string");var o=null;o=t instanceof c||t instanceof l?t:p.isNode&&p.isStream(t)?new m(e,t):u.prepareContent(e,t,s.binary,s.optimizedBinaryString,s.base64);var h=new d(e,o,s);this.files[e]=h}var i=e("./utf8"),u=e("./utils"),l=e("./stream/GenericWorker"),a=e("./stream/StreamHelper"),f=e("./defaults"),c=e("./compressedObject"),d=e("./zipObject"),o=e("./generate"),p=e("./nodejsUtils"),m=e("./nodejs/NodejsStreamInputAdapter"),_=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""},g=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},b=function(e,t){return t=void 0!==t?t:f.createFolders,e=g(e),this.files[e]||s.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function h(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var n={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,r,n;for(t in this.files)n=this.files[t],(r=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(r,n)},filter:function(r){var n=[];return this.forEach(function(e,t){r(e,t)&&n.push(t)}),n},file:function(e,t,r){if(1!==arguments.length)return e=this.root+e,s.call(this,e,t,r),this;if(h(e)){var n=e;return this.filter(function(e,t){return!t.dir&&n.test(e)})}var i=this.files[this.root+e];return i&&!i.dir?i:null},folder:function(r){if(!r)return this;if(h(r))return this.filter(function(e,t){return t.dir&&r.test(e)});var e=this.root+r,t=b.call(this,e),n=this.clone();return n.root=t.name,n},remove:function(r){r=this.root+r;var e=this.files[r];if(e||("/"!==r.slice(-1)&&(r+="/"),e=this.files[r]),e&&!e.dir)delete this.files[r];else for(var t=this.filter(function(e,t){return t.name.slice(0,r.length)===r}),n=0;n<t.length;n++)delete this.files[t[n].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,r={};try{if((r=u.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=r.type.toLowerCase(),r.compression=r.compression.toUpperCase(),"binarystring"===r.type&&(r.type="string"),!r.type)throw new Error("No output type specified.");u.checkSupport(r.type),"darwin"!==r.platform&&"freebsd"!==r.platform&&"linux"!==r.platform&&"sunos"!==r.platform||(r.platform="UNIX"),"win32"===r.platform&&(r.platform="DOS");var n=r.comment||this.comment||"";t=o.generateWorker(this,r,n)}catch(e){(t=new l("error")).error(e)}return new a(t,r.type||"string",r.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=n},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,r){"use strict";t.exports=e("stream")},{stream:void 0}],17:[function(e,t,r){"use strict";var n=e("./DataReader");function i(e){n.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(i,n),i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),i=e.charCodeAt(3),s=this.length-4;0<=s;--s)if(this.data[s]===t&&this.data[s+1]===r&&this.data[s+2]===n&&this.data[s+3]===i)return s-this.zero;return-1},i.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),i=e.charCodeAt(3),s=this.readData(4);return t===s[0]&&r===s[1]&&n===s[2]&&i===s[3]},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],18:[function(e,t,r){"use strict";var n=e("../utils");function i(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var t,r=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)r=(r<<8)+this.byteAt(t);return this.index+=e,r},readString:function(e){return n.transformTo("string",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=i},{"../utils":32}],19:[function(e,t,r){"use strict";var n=e("./Uint8ArrayReader");function i(e){n.call(this,e)}e("../utils").inherits(i,n),i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,r){"use strict";var n=e("./DataReader");function i(e){n.call(this,e)}e("../utils").inherits(i,n),i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],21:[function(e,t,r){"use strict";var n=e("./ArrayReader");function i(e){n.call(this,e)}e("../utils").inherits(i,n),i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,r){"use strict";var n=e("../utils"),i=e("../support"),s=e("./ArrayReader"),a=e("./StringReader"),o=e("./NodeBufferReader"),h=e("./Uint8ArrayReader");t.exports=function(e){var t=n.getTypeOf(e);return n.checkSupport(t),"string"!==t||i.uint8array?"nodebuffer"===t?new o(e):i.uint8array?new h(n.transformTo("uint8array",e)):new s(n.transformTo("array",e)):new a(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,r){"use strict";r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\b"},{}],24:[function(e,t,r){"use strict";var n=e("./GenericWorker"),i=e("../utils");function s(e){n.call(this,"ConvertWorker to "+e),this.destType=e}i.inherits(s,n),s.prototype.processChunk=function(e){this.push({data:i.transformTo(this.destType,e.data),meta:e.meta})},t.exports=s},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,r){"use strict";var n=e("./GenericWorker"),i=e("../crc32");function s(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(s,n),s.prototype.processChunk=function(e){this.streamInfo.crc32=i(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=s},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,r){"use strict";var n=e("../utils"),i=e("./GenericWorker");function s(e){i.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}n.inherits(s,i),s.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}i.prototype.processChunk.call(this,e)},t.exports=s},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,r){"use strict";var n=e("../utils"),i=e("./GenericWorker");function s(e){i.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then(function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=n.getTypeOf(e),t.isPaused||t._tickAndRepeat()},function(e){t.error(e)})}n.inherits(s,i),s.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=s},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,r){"use strict";function n(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var r=0;r<this._listeners[e].length;r++)this._listeners[e][r].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.end()}),e.on("error",function(e){t.error(e)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=n},{}],29:[function(e,t,r){"use strict";var h=e("../utils"),i=e("./ConvertWorker"),s=e("./GenericWorker"),u=e("../base64"),n=e("../support"),a=e("../external"),o=null;if(n.nodestream)try{o=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function l(e,o){return new a.Promise(function(t,r){var n=[],i=e._internalType,s=e._outputType,a=e._mimeType;e.on("data",function(e,t){n.push(e),o&&o(t)}).on("error",function(e){n=[],r(e)}).on("end",function(){try{var e=function(e,t,r){switch(e){case"blob":return h.newBlob(h.transformTo("arraybuffer",t),r);case"base64":return u.encode(t);default:return h.transformTo(e,t)}}(s,function(e,t){var r,n=0,i=null,s=0;for(r=0;r<t.length;r++)s+=t[r].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(i=new Uint8Array(s),r=0;r<t.length;r++)i.set(t[r],n),n+=t[r].length;return i;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(i,n),a);t(e)}catch(e){r(e)}n=[]}).resume()})}function f(e,t,r){var n=t;switch(t){case"blob":case"arraybuffer":n="uint8array";break;case"base64":n="string"}try{this._internalType=n,this._outputType=t,this._mimeType=r,h.checkSupport(n),this._worker=e.pipe(new i(n)),e.lock()}catch(e){this._worker=new s("error"),this._worker.error(e)}}f.prototype={accumulate:function(e){return l(this,e)},on:function(e,t){var r=this;return"data"===e?this._worker.on(e,function(e){t.call(r,e.data,e.meta)}):this._worker.on(e,function(){h.delay(t,arguments,r)}),this},resume:function(){return h.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(h.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new o(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,r){"use strict";if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,r.nodebuffer="undefined"!=typeof Buffer,r.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)r.blob=!1;else{var n=new ArrayBuffer(0);try{r.blob=0===new Blob([n],{type:"application/zip"}).size}catch(e){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(n),r.blob=0===i.getBlob("application/zip").size}catch(e){r.blob=!1}}}try{r.nodestream=!!e("readable-stream").Readable}catch(e){r.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,s){"use strict";for(var o=e("./utils"),h=e("./support"),r=e("./nodejsUtils"),n=e("./stream/GenericWorker"),u=new Array(256),i=0;i<256;i++)u[i]=252<=i?6:248<=i?5:240<=i?4:224<=i?3:192<=i?2:1;u[254]=u[254]=1;function a(){n.call(this,"utf-8 decode"),this.leftOver=null}function l(){n.call(this,"utf-8 encode")}s.utf8encode=function(e){return h.nodebuffer?r.newBufferFrom(e,"utf-8"):function(e){var t,r,n,i,s,a=e.length,o=0;for(i=0;i<a;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<a&&56320==(64512&(n=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=h.uint8array?new Uint8Array(o):new Array(o),i=s=0;s<o;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<a&&56320==(64512&(n=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),r<128?t[s++]=r:(r<2048?t[s++]=192|r>>>6:(r<65536?t[s++]=224|r>>>12:(t[s++]=240|r>>>18,t[s++]=128|r>>>12&63),t[s++]=128|r>>>6&63),t[s++]=128|63&r);return t}(e)},s.utf8decode=function(e){return h.nodebuffer?o.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,r,n,i,s=e.length,a=new Array(2*s);for(t=r=0;t<s;)if((n=e[t++])<128)a[r++]=n;else if(4<(i=u[n]))a[r++]=65533,t+=i-1;else{for(n&=2===i?31:3===i?15:7;1<i&&t<s;)n=n<<6|63&e[t++],i--;1<i?a[r++]=65533:n<65536?a[r++]=n:(n-=65536,a[r++]=55296|n>>10&1023,a[r++]=56320|1023&n)}return a.length!==r&&(a.subarray?a=a.subarray(0,r):a.length=r),o.applyFromCharCode(a)}(e=o.transformTo(h.uint8array?"uint8array":"array",e))},o.inherits(a,n),a.prototype.processChunk=function(e){var t=o.transformTo(h.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(h.uint8array){var r=t;(t=new Uint8Array(r.length+this.leftOver.length)).set(this.leftOver,0),t.set(r,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var n=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;0<=r&&128==(192&e[r]);)r--;return r<0?t:0===r?t:r+u[e[r]]>t?r:t}(t),i=t;n!==t.length&&(h.uint8array?(i=t.subarray(0,n),this.leftOver=t.subarray(n,t.length)):(i=t.slice(0,n),this.leftOver=t.slice(n,t.length))),this.push({data:s.utf8decode(i),meta:e.meta})},a.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=a,o.inherits(l,n),l.prototype.processChunk=function(e){this.push({data:s.utf8encode(e.data),meta:e.meta})},s.Utf8EncodeWorker=l},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,a){"use strict";var o=e("./support"),h=e("./base64"),r=e("./nodejsUtils"),u=e("./external");function n(e){return e}function l(e,t){for(var r=0;r<e.length;++r)t[r]=255&e.charCodeAt(r);return t}e("setimmediate"),a.newBlob=function(t,r){a.checkSupport("blob");try{return new Blob([t],{type:r})}catch(e){try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return n.append(t),n.getBlob(r)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var i={stringifyByChunk:function(e,t,r){var n=[],i=0,s=e.length;if(s<=r)return String.fromCharCode.apply(null,e);for(;i<s;)"array"===t||"nodebuffer"===t?n.push(String.fromCharCode.apply(null,e.slice(i,Math.min(i+r,s)))):n.push(String.fromCharCode.apply(null,e.subarray(i,Math.min(i+r,s)))),i+=r;return n.join("")},stringifyByChar:function(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&1===String.fromCharCode.apply(null,r.allocBuffer(1)).length}catch(e){return!1}}()}};function s(e){var t=65536,r=a.getTypeOf(e),n=!0;if("uint8array"===r?n=i.applyCanBeUsed.uint8array:"nodebuffer"===r&&(n=i.applyCanBeUsed.nodebuffer),n)for(;1<t;)try{return i.stringifyByChunk(e,r,t)}catch(e){t=Math.floor(t/2)}return i.stringifyByChar(e)}function f(e,t){for(var r=0;r<e.length;r++)t[r]=e[r];return t}a.applyFromCharCode=s;var c={};c.string={string:n,array:function(e){return l(e,new Array(e.length))},arraybuffer:function(e){return c.string.uint8array(e).buffer},uint8array:function(e){return l(e,new Uint8Array(e.length))},nodebuffer:function(e){return l(e,r.allocBuffer(e.length))}},c.array={string:s,array:n,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return r.newBufferFrom(e)}},c.arraybuffer={string:function(e){return s(new Uint8Array(e))},array:function(e){return f(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:n,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return r.newBufferFrom(new Uint8Array(e))}},c.uint8array={string:s,array:function(e){return f(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:n,nodebuffer:function(e){return r.newBufferFrom(e)}},c.nodebuffer={string:s,array:function(e){return f(e,new Array(e.length))},arraybuffer:function(e){return c.nodebuffer.uint8array(e).buffer},uint8array:function(e){return f(e,new Uint8Array(e.length))},nodebuffer:n},a.transformTo=function(e,t){if(t=t||"",!e)return t;a.checkSupport(e);var r=a.getTypeOf(t);return c[r][e](t)},a.resolve=function(e){for(var t=e.split("/"),r=[],n=0;n<t.length;n++){var i=t[n];"."===i||""===i&&0!==n&&n!==t.length-1||(".."===i?r.pop():r.push(i))}return r.join("/")},a.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":o.nodebuffer&&r.isBuffer(e)?"nodebuffer":o.uint8array&&e instanceof Uint8Array?"uint8array":o.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(e){if(!o[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(e){var t,r,n="";for(r=0;r<(e||"").length;r++)n+="\\x"+((t=e.charCodeAt(r))<16?"0":"")+t.toString(16).toUpperCase();return n},a.delay=function(e,t,r){setImmediate(function(){e.apply(r||null,t||[])})},a.inherits=function(e,t){function r(){}r.prototype=t.prototype,e.prototype=new r},a.extend=function(){var e,t,r={};for(e=0;e<arguments.length;e++)for(t in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],t)&&void 0===r[t]&&(r[t]=arguments[e][t]);return r},a.prepareContent=function(r,e,n,i,s){return u.Promise.resolve(e).then(function(n){return o.blob&&(n instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(n)))&&"undefined"!=typeof FileReader?new u.Promise(function(t,r){var e=new FileReader;e.onload=function(e){t(e.target.result)},e.onerror=function(e){r(e.target.error)},e.readAsArrayBuffer(n)}):n}).then(function(e){var t=a.getTypeOf(e);return t?("arraybuffer"===t?e=a.transformTo("uint8array",e):"string"===t&&(s?e=h.decode(e):n&&!0!==i&&(e=function(e){return l(e,o.uint8array?new Uint8Array(e.length):new Array(e.length))}(e))),e):u.Promise.reject(new Error("Can't read the data of '"+r+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,t,r){"use strict";var n=e("./reader/readerFor"),i=e("./utils"),s=e("./signature"),a=e("./zipEntry"),o=e("./support");function h(e){this.files=[],this.loadOptions=e}h.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(t)+", expected "+i.pretty(e)+")")}},isSignature:function(e,t){var r=this.reader.index;this.reader.setIndex(e);var n=this.reader.readString(4)===t;return this.reader.setIndex(r),n},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=o.uint8array?"uint8array":"array",r=i.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(r)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,r,n=this.zip64EndOfCentralSize-44;0<n;)e=this.reader.readInt(2),t=this.reader.readInt(4),r=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:r}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(e=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(e<0)throw!this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory");this.reader.setIndex(e);var t=e;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var r=this.centralDirOffset+this.centralDirSize;this.zip64&&(r+=20,r+=12+this.zip64EndOfCentralSize);var n=t-r;if(0<n)this.isSignature(t,s.CENTRAL_FILE_HEADER)||(this.reader.zero=n);else if(n<0)throw new Error("Corrupted zip: missing "+Math.abs(n)+" bytes.")},prepareReader:function(e){this.reader=n(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=h},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,t,r){"use strict";var n=e("./reader/readerFor"),s=e("./utils"),i=e("./compressedObject"),a=e("./crc32"),o=e("./utf8"),h=e("./compressions"),u=e("./support");function l(e,t){this.options=e,this.loadOptions=t}l.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,r;if(e.skip(22),this.fileNameLength=e.readInt(2),r=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(r),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in h)if(Object.prototype.hasOwnProperty.call(h,t)&&h[t].magic===e)return h[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new i(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=n(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var t,r,n,i=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<i;)t=e.readInt(2),r=e.readInt(2),n=e.readData(r),this.extraFields[t]={id:t,length:r,value:n};e.setIndex(i)},handleUTF8:function(){var e=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=o.utf8decode(this.fileName),this.fileCommentStr=o.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var r=s.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var n=this.findExtraFieldUnicodeComment();if(null!==n)this.fileCommentStr=n;else{var i=s.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(i)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=n(e.value);return 1!==t.readInt(1)?null:a(this.fileName)!==t.readInt(4)?null:o.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=n(e.value);return 1!==t.readInt(1)?null:a(this.fileComment)!==t.readInt(4)?null:o.utf8decode(t.readData(e.length-5))}return null}},t.exports=l},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,r){"use strict";function n(e,t,r){this.name=e,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=t,this._dataBinary=r.binary,this.options={compression:r.compression,compressionOptions:r.compressionOptions}}var s=e("./stream/StreamHelper"),i=e("./stream/DataWorker"),a=e("./utf8"),o=e("./compressedObject"),h=e("./stream/GenericWorker");n.prototype={internalStream:function(e){var t=null,r="string";try{if(!e)throw new Error("No output type specified.");var n="string"===(r=e.toLowerCase())||"text"===r;"binarystring"!==r&&"text"!==r||(r="string"),t=this._decompressWorker();var i=!this._dataBinary;i&&!n&&(t=t.pipe(new a.Utf8EncodeWorker)),!i&&n&&(t=t.pipe(new a.Utf8DecodeWorker))}catch(e){(t=new h("error")).error(e)}return new s(t,r,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof o&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var r=this._decompressWorker();return this._dataBinary||(r=r.pipe(new a.Utf8EncodeWorker)),o.createWorkerFrom(r,e,t)},_decompressWorker:function(){return this._data instanceof o?this._data.getContentWorker():this._data instanceof h?this._data:new i(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],l=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<u.length;f++)n.prototype[u[f]]=l;t.exports=n},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,l,t){(function(t){"use strict";var r,n,e=t.MutationObserver||t.WebKitMutationObserver;if(e){var i=0,s=new e(u),a=t.document.createTextNode("");s.observe(a,{characterData:!0}),r=function(){a.data=i=++i%2}}else if(t.setImmediate||void 0===t.MessageChannel)r="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){u(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(u,0)};else{var o=new t.MessageChannel;o.port1.onmessage=u,r=function(){o.port2.postMessage(0)}}var h=[];function u(){var e,t;n=!0;for(var r=h.length;r;){for(t=h,h=[],e=-1;++e<r;)t[e]();r=h.length}n=!1}l.exports=function(e){1!==h.push(e)||n||r()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,r){"use strict";var i=e("immediate");function u(){}var l={},s=["REJECTED"],a=["FULFILLED"],n=["PENDING"];function o(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=n,this.queue=[],this.outcome=void 0,e!==u&&d(this,e)}function h(e,t,r){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function f(t,r,n){i(function(){var e;try{e=r(n)}catch(e){return l.reject(t,e)}e===t?l.reject(t,new TypeError("Cannot resolve promise with itself")):l.resolve(t,e)})}function c(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function d(t,e){var r=!1;function n(e){r||(r=!0,l.reject(t,e))}function i(e){r||(r=!0,l.resolve(t,e))}var s=p(function(){e(i,n)});"error"===s.status&&n(s.value)}function p(e,t){var r={};try{r.value=e(t),r.status="success"}catch(e){r.status="error",r.value=e}return r}(t.exports=o).prototype.finally=function(t){if("function"!=typeof t)return this;var r=this.constructor;return this.then(function(e){return r.resolve(t()).then(function(){return e})},function(e){return r.resolve(t()).then(function(){throw e})})},o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){if("function"!=typeof e&&this.state===a||"function"!=typeof t&&this.state===s)return this;var r=new this.constructor(u);this.state!==n?f(r,this.state===a?e:t,this.outcome):this.queue.push(new h(r,e,t));return r},h.prototype.callFulfilled=function(e){l.resolve(this.promise,e)},h.prototype.otherCallFulfilled=function(e){f(this.promise,this.onFulfilled,e)},h.prototype.callRejected=function(e){l.reject(this.promise,e)},h.prototype.otherCallRejected=function(e){f(this.promise,this.onRejected,e)},l.resolve=function(e,t){var r=p(c,t);if("error"===r.status)return l.reject(e,r.value);var n=r.value;if(n)d(e,n);else{e.state=a,e.outcome=t;for(var i=-1,s=e.queue.length;++i<s;)e.queue[i].callFulfilled(t)}return e},l.reject=function(e,t){e.state=s,e.outcome=t;for(var r=-1,n=e.queue.length;++r<n;)e.queue[r].callRejected(t);return e},o.resolve=function(e){if(e instanceof this)return e;return l.resolve(new this(u),e)},o.reject=function(e){var t=new this(u);return l.reject(t,e)},o.all=function(e){var r=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);var s=new Array(n),a=0,t=-1,o=new this(u);for(;++t<n;)h(e[t],t);return o;function h(e,t){r.resolve(e).then(function(e){s[t]=e,++a!==n||i||(i=!0,l.resolve(o,s))},function(e){i||(i=!0,l.reject(o,e))})}},o.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,n=!1;if(!r)return this.resolve([]);var i=-1,s=new this(u);for(;++i<r;)a=e[i],t.resolve(a).then(function(e){n||(n=!0,l.resolve(s,e))},function(e){n||(n=!0,l.reject(s,e))});var a;return s}},{immediate:36}],38:[function(e,t,r){"use strict";var n={};(0,e("./lib/utils/common").assign)(n,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=n},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,r){"use strict";var a=e("./zlib/deflate"),o=e("./utils/common"),h=e("./utils/strings"),i=e("./zlib/messages"),s=e("./zlib/zstream"),u=Object.prototype.toString,l=0,f=-1,c=0,d=8;function p(e){if(!(this instanceof p))return new p(e);this.options=o.assign({level:f,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:c,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var r=a.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==l)throw new Error(i[r]);if(t.header&&a.deflateSetHeader(this.strm,t.header),t.dictionary){var n;if(n="string"==typeof t.dictionary?h.string2buf(t.dictionary):"[object ArrayBuffer]"===u.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(r=a.deflateSetDictionary(this.strm,n))!==l)throw new Error(i[r]);this._dict_set=!0}}function n(e,t){var r=new p(t);if(r.push(e,!0),r.err)throw r.msg||i[r.err];return r.result}p.prototype.push=function(e,t){var r,n,i=this.strm,s=this.options.chunkSize;if(this.ended)return!1;n=t===~~t?t:!0===t?4:0,"string"==typeof e?i.input=h.string2buf(e):"[object ArrayBuffer]"===u.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;do{if(0===i.avail_out&&(i.output=new o.Buf8(s),i.next_out=0,i.avail_out=s),1!==(r=a.deflate(i,n))&&r!==l)return this.onEnd(r),!(this.ended=!0);0!==i.avail_out&&(0!==i.avail_in||4!==n&&2!==n)||("string"===this.options.to?this.onData(h.buf2binstring(o.shrinkBuf(i.output,i.next_out))):this.onData(o.shrinkBuf(i.output,i.next_out)))}while((0<i.avail_in||0===i.avail_out)&&1!==r);return 4===n?(r=a.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===l):2!==n||(this.onEnd(l),!(i.avail_out=0))},p.prototype.onData=function(e){this.chunks.push(e)},p.prototype.onEnd=function(e){e===l&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Deflate=p,r.deflate=n,r.deflateRaw=function(e,t){return(t=t||{}).raw=!0,n(e,t)},r.gzip=function(e,t){return(t=t||{}).gzip=!0,n(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,r){"use strict";var c=e("./zlib/inflate"),d=e("./utils/common"),p=e("./utils/strings"),m=e("./zlib/constants"),n=e("./zlib/messages"),i=e("./zlib/zstream"),s=e("./zlib/gzheader"),_=Object.prototype.toString;function a(e){if(!(this instanceof a))return new a(e);this.options=d.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new i,this.strm.avail_out=0;var r=c.inflateInit2(this.strm,t.windowBits);if(r!==m.Z_OK)throw new Error(n[r]);this.header=new s,c.inflateGetHeader(this.strm,this.header)}function o(e,t){var r=new a(t);if(r.push(e,!0),r.err)throw r.msg||n[r.err];return r.result}a.prototype.push=function(e,t){var r,n,i,s,a,o,h=this.strm,u=this.options.chunkSize,l=this.options.dictionary,f=!1;if(this.ended)return!1;n=t===~~t?t:!0===t?m.Z_FINISH:m.Z_NO_FLUSH,"string"==typeof e?h.input=p.binstring2buf(e):"[object ArrayBuffer]"===_.call(e)?h.input=new Uint8Array(e):h.input=e,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new d.Buf8(u),h.next_out=0,h.avail_out=u),(r=c.inflate(h,m.Z_NO_FLUSH))===m.Z_NEED_DICT&&l&&(o="string"==typeof l?p.string2buf(l):"[object ArrayBuffer]"===_.call(l)?new Uint8Array(l):l,r=c.inflateSetDictionary(this.strm,o)),r===m.Z_BUF_ERROR&&!0===f&&(r=m.Z_OK,f=!1),r!==m.Z_STREAM_END&&r!==m.Z_OK)return this.onEnd(r),!(this.ended=!0);h.next_out&&(0!==h.avail_out&&r!==m.Z_STREAM_END&&(0!==h.avail_in||n!==m.Z_FINISH&&n!==m.Z_SYNC_FLUSH)||("string"===this.options.to?(i=p.utf8border(h.output,h.next_out),s=h.next_out-i,a=p.buf2string(h.output,i),h.next_out=s,h.avail_out=u-s,s&&d.arraySet(h.output,h.output,i,s,0),this.onData(a)):this.onData(d.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(f=!0)}while((0<h.avail_in||0===h.avail_out)&&r!==m.Z_STREAM_END);return r===m.Z_STREAM_END&&(n=m.Z_FINISH),n===m.Z_FINISH?(r=c.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===m.Z_OK):n!==m.Z_SYNC_FLUSH||(this.onEnd(m.Z_OK),!(h.avail_out=0))},a.prototype.onData=function(e){this.chunks.push(e)},a.prototype.onEnd=function(e){e===m.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Inflate=a,r.inflate=o,r.inflateRaw=function(e,t){return(t=t||{}).raw=!0,o(e,t)},r.ungzip=o},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,r){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;r.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])}}return e},r.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,r,n,i){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+n),i);else for(var s=0;s<n;s++)e[i+s]=t[r+s]},flattenChunks:function(e){var t,r,n,i,s,a;for(t=n=0,r=e.length;t<r;t++)n+=e[t].length;for(a=new Uint8Array(n),t=i=0,r=e.length;t<r;t++)s=e[t],a.set(s,i),i+=s.length;return a}},s={arraySet:function(e,t,r,n,i){for(var s=0;s<n;s++)e[i+s]=t[r+s]},flattenChunks:function(e){return[].concat.apply([],e)}};r.setTyped=function(e){e?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,i)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,s))},r.setTyped(n)},{}],42:[function(e,t,r){"use strict";var h=e("./common"),i=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){s=!1}for(var u=new h.Buf8(256),n=0;n<256;n++)u[n]=252<=n?6:248<=n?5:240<=n?4:224<=n?3:192<=n?2:1;function l(e,t){if(t<65537&&(e.subarray&&s||!e.subarray&&i))return String.fromCharCode.apply(null,h.shrinkBuf(e,t));for(var r="",n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r}u[254]=u[254]=1,r.string2buf=function(e){var t,r,n,i,s,a=e.length,o=0;for(i=0;i<a;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<a&&56320==(64512&(n=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=new h.Buf8(o),i=s=0;s<o;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<a&&56320==(64512&(n=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),r<128?t[s++]=r:(r<2048?t[s++]=192|r>>>6:(r<65536?t[s++]=224|r>>>12:(t[s++]=240|r>>>18,t[s++]=128|r>>>12&63),t[s++]=128|r>>>6&63),t[s++]=128|63&r);return t},r.buf2binstring=function(e){return l(e,e.length)},r.binstring2buf=function(e){for(var t=new h.Buf8(e.length),r=0,n=t.length;r<n;r++)t[r]=e.charCodeAt(r);return t},r.buf2string=function(e,t){var r,n,i,s,a=t||e.length,o=new Array(2*a);for(r=n=0;r<a;)if((i=e[r++])<128)o[n++]=i;else if(4<(s=u[i]))o[n++]=65533,r+=s-1;else{for(i&=2===s?31:3===s?15:7;1<s&&r<a;)i=i<<6|63&e[r++],s--;1<s?o[n++]=65533:i<65536?o[n++]=i:(i-=65536,o[n++]=55296|i>>10&1023,o[n++]=56320|1023&i)}return l(o,n)},r.utf8border=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;0<=r&&128==(192&e[r]);)r--;return r<0?t:0===r?t:r+u[e[r]]>t?r:t}},{"./common":41}],43:[function(e,t,r){"use strict";t.exports=function(e,t,r,n){for(var i=65535&e|0,s=e>>>16&65535|0,a=0;0!==r;){for(r-=a=2e3<r?2e3:r;s=s+(i=i+t[n++]|0)|0,--a;);i%=65521,s%=65521}return i|s<<16|0}},{}],44:[function(e,t,r){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,r){"use strict";var o=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();t.exports=function(e,t,r,n){var i=o,s=n+r;e^=-1;for(var a=n;a<s;a++)e=e>>>8^i[255&(e^t[a])];return-1^e}},{}],46:[function(e,t,r){"use strict";var h,c=e("../utils/common"),u=e("./trees"),d=e("./adler32"),p=e("./crc32"),n=e("./messages"),l=0,f=4,m=0,_=-2,g=-1,b=4,i=2,v=8,y=9,s=286,a=30,o=19,w=2*s+1,k=15,x=3,S=258,z=S+x+1,C=42,E=113,A=1,I=2,O=3,B=4;function R(e,t){return e.msg=n[t],t}function T(e){return(e<<1)-(4<e?9:0)}function D(e){for(var t=e.length;0<=--t;)e[t]=0}function F(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(c.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function N(e,t){u._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,F(e.strm)}function U(e,t){e.pending_buf[e.pending++]=t}function P(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function L(e,t){var r,n,i=e.max_chain_length,s=e.strstart,a=e.prev_length,o=e.nice_match,h=e.strstart>e.w_size-z?e.strstart-(e.w_size-z):0,u=e.window,l=e.w_mask,f=e.prev,c=e.strstart+S,d=u[s+a-1],p=u[s+a];e.prev_length>=e.good_match&&(i>>=2),o>e.lookahead&&(o=e.lookahead);do{if(u[(r=t)+a]===p&&u[r+a-1]===d&&u[r]===u[s]&&u[++r]===u[s+1]){s+=2,r++;do{}while(u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&s<c);if(n=S-(c-s),s=c-S,a<n){if(e.match_start=t,o<=(a=n))break;d=u[s+a-1],p=u[s+a]}}}while((t=f[t&l])>h&&0!=--i);return a<=e.lookahead?a:e.lookahead}function j(e){var t,r,n,i,s,a,o,h,u,l,f=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=f+(f-z)){for(c.arraySet(e.window,e.window,f,f,0),e.match_start-=f,e.strstart-=f,e.block_start-=f,t=r=e.hash_size;n=e.head[--t],e.head[t]=f<=n?n-f:0,--r;);for(t=r=f;n=e.prev[--t],e.prev[t]=f<=n?n-f:0,--r;);i+=f}if(0===e.strm.avail_in)break;if(a=e.strm,o=e.window,h=e.strstart+e.lookahead,u=i,l=void 0,l=a.avail_in,u<l&&(l=u),r=0===l?0:(a.avail_in-=l,c.arraySet(o,a.input,a.next_in,l,h),1===a.state.wrap?a.adler=d(a.adler,o,l,h):2===a.state.wrap&&(a.adler=p(a.adler,o,l,h)),a.next_in+=l,a.total_in+=l,l),e.lookahead+=r,e.lookahead+e.insert>=x)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+x-1])&e.hash_mask,e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<x)););}while(e.lookahead<z&&0!==e.strm.avail_in)}function Z(e,t){for(var r,n;;){if(e.lookahead<z){if(j(e),e.lookahead<z&&t===l)return A;if(0===e.lookahead)break}if(r=0,e.lookahead>=x&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+x-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-z&&(e.match_length=L(e,r)),e.match_length>=x)if(n=u._tr_tally(e,e.strstart-e.match_start,e.match_length-x),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=x){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+x-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=u._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(N(e,!1),0===e.strm.avail_out))return A}return e.insert=e.strstart<x-1?e.strstart:x-1,t===f?(N(e,!0),0===e.strm.avail_out?O:B):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?A:I}function W(e,t){for(var r,n,i;;){if(e.lookahead<z){if(j(e),e.lookahead<z&&t===l)return A;if(0===e.lookahead)break}if(r=0,e.lookahead>=x&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+x-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=x-1,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-z&&(e.match_length=L(e,r),e.match_length<=5&&(1===e.strategy||e.match_length===x&&4096<e.strstart-e.match_start)&&(e.match_length=x-1)),e.prev_length>=x&&e.match_length<=e.prev_length){for(i=e.strstart+e.lookahead-x,n=u._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-x),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+x-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=x-1,e.strstart++,n&&(N(e,!1),0===e.strm.avail_out))return A}else if(e.match_available){if((n=u._tr_tally(e,0,e.window[e.strstart-1]))&&N(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return A}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=u._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<x-1?e.strstart:x-1,t===f?(N(e,!0),0===e.strm.avail_out?O:B):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?A:I}function M(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}function H(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new c.Buf16(2*w),this.dyn_dtree=new c.Buf16(2*(2*a+1)),this.bl_tree=new c.Buf16(2*(2*o+1)),D(this.dyn_ltree),D(this.dyn_dtree),D(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new c.Buf16(k+1),this.heap=new c.Buf16(2*s+1),D(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new c.Buf16(2*s+1),D(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function G(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=i,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?C:E,e.adler=2===t.wrap?0:1,t.last_flush=l,u._tr_init(t),m):R(e,_)}function K(e){var t=G(e);return t===m&&function(e){e.window_size=2*e.w_size,D(e.head),e.max_lazy_match=h[e.level].max_lazy,e.good_match=h[e.level].good_length,e.nice_match=h[e.level].nice_length,e.max_chain_length=h[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=x-1,e.match_available=0,e.ins_h=0}(e.state),t}function Y(e,t,r,n,i,s){if(!e)return _;var a=1;if(t===g&&(t=6),n<0?(a=0,n=-n):15<n&&(a=2,n-=16),i<1||y<i||r!==v||n<8||15<n||t<0||9<t||s<0||b<s)return R(e,_);8===n&&(n=9);var o=new H;return(e.state=o).strm=e,o.wrap=a,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=i+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+x-1)/x),o.window=new c.Buf8(2*o.w_size),o.head=new c.Buf16(o.hash_size),o.prev=new c.Buf16(o.w_size),o.lit_bufsize=1<<i+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new c.Buf8(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=3*o.lit_bufsize,o.level=t,o.strategy=s,o.method=r,K(e)}h=[new M(0,0,0,0,function(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(j(e),0===e.lookahead&&t===l)return A;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,N(e,!1),0===e.strm.avail_out))return A;if(e.strstart-e.block_start>=e.w_size-z&&(N(e,!1),0===e.strm.avail_out))return A}return e.insert=0,t===f?(N(e,!0),0===e.strm.avail_out?O:B):(e.strstart>e.block_start&&(N(e,!1),e.strm.avail_out),A)}),new M(4,4,8,4,Z),new M(4,5,16,8,Z),new M(4,6,32,32,Z),new M(4,4,16,16,W),new M(8,16,32,32,W),new M(8,16,128,128,W),new M(8,32,128,256,W),new M(32,128,258,1024,W),new M(32,258,258,4096,W)],r.deflateInit=function(e,t){return Y(e,t,v,15,8,0)},r.deflateInit2=Y,r.deflateReset=K,r.deflateResetKeep=G,r.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?_:(e.state.gzhead=t,m):_},r.deflate=function(e,t){var r,n,i,s;if(!e||!e.state||5<t||t<0)return e?R(e,_):_;if(n=e.state,!e.output||!e.input&&0!==e.avail_in||666===n.status&&t!==f)return R(e,0===e.avail_out?-5:_);if(n.strm=e,r=n.last_flush,n.last_flush=t,n.status===C)if(2===n.wrap)e.adler=0,U(n,31),U(n,139),U(n,8),n.gzhead?(U(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),U(n,255&n.gzhead.time),U(n,n.gzhead.time>>8&255),U(n,n.gzhead.time>>16&255),U(n,n.gzhead.time>>24&255),U(n,9===n.level?2:2<=n.strategy||n.level<2?4:0),U(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(U(n,255&n.gzhead.extra.length),U(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=p(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69):(U(n,0),U(n,0),U(n,0),U(n,0),U(n,0),U(n,9===n.level?2:2<=n.strategy||n.level<2?4:0),U(n,3),n.status=E);else{var a=v+(n.w_bits-8<<4)<<8;a|=(2<=n.strategy||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(a|=32),a+=31-a%31,n.status=E,P(n,a),0!==n.strstart&&(P(n,e.adler>>>16),P(n,65535&e.adler)),e.adler=1}if(69===n.status)if(n.gzhead.extra){for(i=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>i&&(e.adler=p(e.adler,n.pending_buf,n.pending-i,i)),F(e),i=n.pending,n.pending!==n.pending_buf_size));)U(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>i&&(e.adler=p(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=73)}else n.status=73;if(73===n.status)if(n.gzhead.name){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=p(e.adler,n.pending_buf,n.pending-i,i)),F(e),i=n.pending,n.pending===n.pending_buf_size)){s=1;break}s=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,U(n,s)}while(0!==s);n.gzhead.hcrc&&n.pending>i&&(e.adler=p(e.adler,n.pending_buf,n.pending-i,i)),0===s&&(n.gzindex=0,n.status=91)}else n.status=91;if(91===n.status)if(n.gzhead.comment){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=p(e.adler,n.pending_buf,n.pending-i,i)),F(e),i=n.pending,n.pending===n.pending_buf_size)){s=1;break}s=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,U(n,s)}while(0!==s);n.gzhead.hcrc&&n.pending>i&&(e.adler=p(e.adler,n.pending_buf,n.pending-i,i)),0===s&&(n.status=103)}else n.status=103;if(103===n.status&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&F(e),n.pending+2<=n.pending_buf_size&&(U(n,255&e.adler),U(n,e.adler>>8&255),e.adler=0,n.status=E)):n.status=E),0!==n.pending){if(F(e),0===e.avail_out)return n.last_flush=-1,m}else if(0===e.avail_in&&T(t)<=T(r)&&t!==f)return R(e,-5);if(666===n.status&&0!==e.avail_in)return R(e,-5);if(0!==e.avail_in||0!==n.lookahead||t!==l&&666!==n.status){var o=2===n.strategy?function(e,t){for(var r;;){if(0===e.lookahead&&(j(e),0===e.lookahead)){if(t===l)return A;break}if(e.match_length=0,r=u._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(N(e,!1),0===e.strm.avail_out))return A}return e.insert=0,t===f?(N(e,!0),0===e.strm.avail_out?O:B):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?A:I}(n,t):3===n.strategy?function(e,t){for(var r,n,i,s,a=e.window;;){if(e.lookahead<=S){if(j(e),e.lookahead<=S&&t===l)return A;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=x&&0<e.strstart&&(n=a[i=e.strstart-1])===a[++i]&&n===a[++i]&&n===a[++i]){s=e.strstart+S;do{}while(n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&i<s);e.match_length=S-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=x?(r=u._tr_tally(e,1,e.match_length-x),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=u._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(N(e,!1),0===e.strm.avail_out))return A}return e.insert=0,t===f?(N(e,!0),0===e.strm.avail_out?O:B):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?A:I}(n,t):h[n.level].func(n,t);if(o!==O&&o!==B||(n.status=666),o===A||o===O)return 0===e.avail_out&&(n.last_flush=-1),m;if(o===I&&(1===t?u._tr_align(n):5!==t&&(u._tr_stored_block(n,0,0,!1),3===t&&(D(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),F(e),0===e.avail_out))return n.last_flush=-1,m}return t!==f?m:n.wrap<=0?1:(2===n.wrap?(U(n,255&e.adler),U(n,e.adler>>8&255),U(n,e.adler>>16&255),U(n,e.adler>>24&255),U(n,255&e.total_in),U(n,e.total_in>>8&255),U(n,e.total_in>>16&255),U(n,e.total_in>>24&255)):(P(n,e.adler>>>16),P(n,65535&e.adler)),F(e),0<n.wrap&&(n.wrap=-n.wrap),0!==n.pending?m:1)},r.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==C&&69!==t&&73!==t&&91!==t&&103!==t&&t!==E&&666!==t?R(e,_):(e.state=null,t===E?R(e,-3):m):_},r.deflateSetDictionary=function(e,t){var r,n,i,s,a,o,h,u,l=t.length;if(!e||!e.state)return _;if(2===(s=(r=e.state).wrap)||1===s&&r.status!==C||r.lookahead)return _;for(1===s&&(e.adler=d(e.adler,t,l,0)),r.wrap=0,l>=r.w_size&&(0===s&&(D(r.head),r.strstart=0,r.block_start=0,r.insert=0),u=new c.Buf8(r.w_size),c.arraySet(u,t,l-r.w_size,r.w_size,0),t=u,l=r.w_size),a=e.avail_in,o=e.next_in,h=e.input,e.avail_in=l,e.next_in=0,e.input=t,j(r);r.lookahead>=x;){for(n=r.strstart,i=r.lookahead-(x-1);r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+x-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++,--i;);r.strstart=n,r.lookahead=x-1,j(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=x-1,r.match_available=0,e.next_in=o,e.input=h,e.avail_in=a,r.wrap=s,m},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,r){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,r){"use strict";t.exports=function(e,t){var r,n,i,s,a,o,h,u,l,f,c,d,p,m,_,g,b,v,y,w,k,x,S,z,C;r=e.state,n=e.next_in,z=e.input,i=n+(e.avail_in-5),s=e.next_out,C=e.output,a=s-(t-e.avail_out),o=s+(e.avail_out-257),h=r.dmax,u=r.wsize,l=r.whave,f=r.wnext,c=r.window,d=r.hold,p=r.bits,m=r.lencode,_=r.distcode,g=(1<<r.lenbits)-1,b=(1<<r.distbits)-1;e:do{p<15&&(d+=z[n++]<<p,p+=8,d+=z[n++]<<p,p+=8),v=m[d&g];t:for(;;){if(d>>>=y=v>>>24,p-=y,0===(y=v>>>16&255))C[s++]=65535&v;else{if(!(16&y)){if(0==(64&y)){v=m[(65535&v)+(d&(1<<y)-1)];continue t}if(32&y){r.mode=12;break e}e.msg="invalid literal/length code",r.mode=30;break e}w=65535&v,(y&=15)&&(p<y&&(d+=z[n++]<<p,p+=8),w+=d&(1<<y)-1,d>>>=y,p-=y),p<15&&(d+=z[n++]<<p,p+=8,d+=z[n++]<<p,p+=8),v=_[d&b];r:for(;;){if(d>>>=y=v>>>24,p-=y,!(16&(y=v>>>16&255))){if(0==(64&y)){v=_[(65535&v)+(d&(1<<y)-1)];continue r}e.msg="invalid distance code",r.mode=30;break e}if(k=65535&v,p<(y&=15)&&(d+=z[n++]<<p,(p+=8)<y&&(d+=z[n++]<<p,p+=8)),h<(k+=d&(1<<y)-1)){e.msg="invalid distance too far back",r.mode=30;break e}if(d>>>=y,p-=y,(y=s-a)<k){if(l<(y=k-y)&&r.sane){e.msg="invalid distance too far back",r.mode=30;break e}if(S=c,(x=0)===f){if(x+=u-y,y<w){for(w-=y;C[s++]=c[x++],--y;);x=s-k,S=C}}else if(f<y){if(x+=u+f-y,(y-=f)<w){for(w-=y;C[s++]=c[x++],--y;);if(x=0,f<w){for(w-=y=f;C[s++]=c[x++],--y;);x=s-k,S=C}}}else if(x+=f-y,y<w){for(w-=y;C[s++]=c[x++],--y;);x=s-k,S=C}for(;2<w;)C[s++]=S[x++],C[s++]=S[x++],C[s++]=S[x++],w-=3;w&&(C[s++]=S[x++],1<w&&(C[s++]=S[x++]))}else{for(x=s-k;C[s++]=C[x++],C[s++]=C[x++],C[s++]=C[x++],2<(w-=3););w&&(C[s++]=C[x++],1<w&&(C[s++]=C[x++]))}break}}break}}while(n<i&&s<o);n-=w=p>>3,d&=(1<<(p-=w<<3))-1,e.next_in=n,e.next_out=s,e.avail_in=n<i?i-n+5:5-(n-i),e.avail_out=s<o?o-s+257:257-(s-o),r.hold=d,r.bits=p}},{}],49:[function(e,t,r){"use strict";var I=e("../utils/common"),O=e("./adler32"),B=e("./crc32"),R=e("./inffast"),T=e("./inftrees"),D=1,F=2,N=0,U=-2,P=1,n=852,i=592;function L(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function s(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new I.Buf16(320),this.work=new I.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function a(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=P,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new I.Buf32(n),t.distcode=t.distdyn=new I.Buf32(i),t.sane=1,t.back=-1,N):U}function o(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,a(e)):U}function h(e,t){var r,n;return e&&e.state?(n=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?U:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,o(e))):U}function u(e,t){var r,n;return e?(n=new s,(e.state=n).window=null,(r=h(e,t))!==N&&(e.state=null),r):U}var l,f,c=!0;function j(e){if(c){var t;for(l=new I.Buf32(512),f=new I.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(T(D,e.lens,0,288,l,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;T(F,e.lens,0,32,f,0,e.work,{bits:5}),c=!1}e.lencode=l,e.lenbits=9,e.distcode=f,e.distbits=5}function Z(e,t,r,n){var i,s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new I.Buf8(s.wsize)),n>=s.wsize?(I.arraySet(s.window,t,r-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):(n<(i=s.wsize-s.wnext)&&(i=n),I.arraySet(s.window,t,r-n,i,s.wnext),(n-=i)?(I.arraySet(s.window,t,r-n,n,0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0}r.inflateReset=o,r.inflateReset2=h,r.inflateResetKeep=a,r.inflateInit=function(e){return u(e,15)},r.inflateInit2=u,r.inflate=function(e,t){var r,n,i,s,a,o,h,u,l,f,c,d,p,m,_,g,b,v,y,w,k,x,S,z,C=0,E=new I.Buf8(4),A=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return U;12===(r=e.state).mode&&(r.mode=13),a=e.next_out,i=e.output,h=e.avail_out,s=e.next_in,n=e.input,o=e.avail_in,u=r.hold,l=r.bits,f=o,c=h,x=N;e:for(;;)switch(r.mode){case P:if(0===r.wrap){r.mode=13;break}for(;l<16;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(2&r.wrap&&35615===u){E[r.check=0]=255&u,E[1]=u>>>8&255,r.check=B(r.check,E,2,0),l=u=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&u)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=30;break}if(8!=(15&u)){e.msg="unknown compression method",r.mode=30;break}if(l-=4,k=8+(15&(u>>>=4)),0===r.wbits)r.wbits=k;else if(k>r.wbits){e.msg="invalid window size",r.mode=30;break}r.dmax=1<<k,e.adler=r.check=1,r.mode=512&u?10:12,l=u=0;break;case 2:for(;l<16;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(r.flags=u,8!=(255&r.flags)){e.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=u>>8&1),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,r.check=B(r.check,E,2,0)),l=u=0,r.mode=3;case 3:for(;l<32;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}r.head&&(r.head.time=u),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,E[2]=u>>>16&255,E[3]=u>>>24&255,r.check=B(r.check,E,4,0)),l=u=0,r.mode=4;case 4:for(;l<16;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}r.head&&(r.head.xflags=255&u,r.head.os=u>>8),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,r.check=B(r.check,E,2,0)),l=u=0,r.mode=5;case 5:if(1024&r.flags){for(;l<16;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}r.length=u,r.head&&(r.head.extra_len=u),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,r.check=B(r.check,E,2,0)),l=u=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(o<(d=r.length)&&(d=o),d&&(r.head&&(k=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),I.arraySet(r.head.extra,n,s,d,k)),512&r.flags&&(r.check=B(r.check,n,d,s)),o-=d,s+=d,r.length-=d),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===o)break e;for(d=0;k=n[s+d++],r.head&&k&&r.length<65536&&(r.head.name+=String.fromCharCode(k)),k&&d<o;);if(512&r.flags&&(r.check=B(r.check,n,d,s)),o-=d,s+=d,k)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===o)break e;for(d=0;k=n[s+d++],r.head&&k&&r.length<65536&&(r.head.comment+=String.fromCharCode(k)),k&&d<o;);if(512&r.flags&&(r.check=B(r.check,n,d,s)),o-=d,s+=d,k)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;l<16;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(u!==(65535&r.check)){e.msg="header crc mismatch",r.mode=30;break}l=u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=12;break;case 10:for(;l<32;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}e.adler=r.check=L(u),l=u=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=a,e.avail_out=h,e.next_in=s,e.avail_in=o,r.hold=u,r.bits=l,2;e.adler=r.check=1,r.mode=12;case 12:if(5===t||6===t)break e;case 13:if(r.last){u>>>=7&l,l-=7&l,r.mode=27;break}for(;l<3;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}switch(r.last=1&u,l-=1,3&(u>>>=1)){case 0:r.mode=14;break;case 1:if(j(r),r.mode=20,6!==t)break;u>>>=2,l-=2;break e;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=30}u>>>=2,l-=2;break;case 14:for(u>>>=7&l,l-=7&l;l<32;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if((65535&u)!=(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&u,l=u=0,r.mode=15,6===t)break e;case 15:r.mode=16;case 16:if(d=r.length){if(o<d&&(d=o),h<d&&(d=h),0===d)break e;I.arraySet(i,n,s,d,a),o-=d,s+=d,h-=d,a+=d,r.length-=d;break}r.mode=12;break;case 17:for(;l<14;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(r.nlen=257+(31&u),u>>>=5,l-=5,r.ndist=1+(31&u),u>>>=5,l-=5,r.ncode=4+(15&u),u>>>=4,l-=4,286<r.nlen||30<r.ndist){e.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;l<3;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}r.lens[A[r.have++]]=7&u,u>>>=3,l-=3}for(;r.have<19;)r.lens[A[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,S={bits:r.lenbits},x=T(0,r.lens,0,19,r.lencode,0,r.work,S),r.lenbits=S.bits,x){e.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;g=(C=r.lencode[u&(1<<r.lenbits)-1])>>>16&255,b=65535&C,!((_=C>>>24)<=l);){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(b<16)u>>>=_,l-=_,r.lens[r.have++]=b;else{if(16===b){for(z=_+2;l<z;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(u>>>=_,l-=_,0===r.have){e.msg="invalid bit length repeat",r.mode=30;break}k=r.lens[r.have-1],d=3+(3&u),u>>>=2,l-=2}else if(17===b){for(z=_+3;l<z;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}l-=_,k=0,d=3+(7&(u>>>=_)),u>>>=3,l-=3}else{for(z=_+7;l<z;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}l-=_,k=0,d=11+(127&(u>>>=_)),u>>>=7,l-=7}if(r.have+d>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=30;break}for(;d--;)r.lens[r.have++]=k}}if(30===r.mode)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,S={bits:r.lenbits},x=T(D,r.lens,0,r.nlen,r.lencode,0,r.work,S),r.lenbits=S.bits,x){e.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,S={bits:r.distbits},x=T(F,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,S),r.distbits=S.bits,x){e.msg="invalid distances set",r.mode=30;break}if(r.mode=20,6===t)break e;case 20:r.mode=21;case 21:if(6<=o&&258<=h){e.next_out=a,e.avail_out=h,e.next_in=s,e.avail_in=o,r.hold=u,r.bits=l,R(e,c),a=e.next_out,i=e.output,h=e.avail_out,s=e.next_in,n=e.input,o=e.avail_in,u=r.hold,l=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;g=(C=r.lencode[u&(1<<r.lenbits)-1])>>>16&255,b=65535&C,!((_=C>>>24)<=l);){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(g&&0==(240&g)){for(v=_,y=g,w=b;g=(C=r.lencode[w+((u&(1<<v+y)-1)>>v)])>>>16&255,b=65535&C,!(v+(_=C>>>24)<=l);){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}u>>>=v,l-=v,r.back+=v}if(u>>>=_,l-=_,r.back+=_,r.length=b,0===g){r.mode=26;break}if(32&g){r.back=-1,r.mode=12;break}if(64&g){e.msg="invalid literal/length code",r.mode=30;break}r.extra=15&g,r.mode=22;case 22:if(r.extra){for(z=r.extra;l<z;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;g=(C=r.distcode[u&(1<<r.distbits)-1])>>>16&255,b=65535&C,!((_=C>>>24)<=l);){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(0==(240&g)){for(v=_,y=g,w=b;g=(C=r.distcode[w+((u&(1<<v+y)-1)>>v)])>>>16&255,b=65535&C,!(v+(_=C>>>24)<=l);){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}u>>>=v,l-=v,r.back+=v}if(u>>>=_,l-=_,r.back+=_,64&g){e.msg="invalid distance code",r.mode=30;break}r.offset=b,r.extra=15&g,r.mode=24;case 24:if(r.extra){for(z=r.extra;l<z;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(0===h)break e;if(d=c-h,r.offset>d){if((d=r.offset-d)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=30;break}p=d>r.wnext?(d-=r.wnext,r.wsize-d):r.wnext-d,d>r.length&&(d=r.length),m=r.window}else m=i,p=a-r.offset,d=r.length;for(h<d&&(d=h),h-=d,r.length-=d;i[a++]=m[p++],--d;);0===r.length&&(r.mode=21);break;case 26:if(0===h)break e;i[a++]=r.length,h--,r.mode=21;break;case 27:if(r.wrap){for(;l<32;){if(0===o)break e;o--,u|=n[s++]<<l,l+=8}if(c-=h,e.total_out+=c,r.total+=c,c&&(e.adler=r.check=r.flags?B(r.check,i,c,a-c):O(r.check,i,c,a-c)),c=h,(r.flags?u:L(u))!==r.check){e.msg="incorrect data check",r.mode=30;break}l=u=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;l<32;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(u!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=30;break}l=u=0}r.mode=29;case 29:x=1;break e;case 30:x=-3;break e;case 31:return-4;case 32:default:return U}return e.next_out=a,e.avail_out=h,e.next_in=s,e.avail_in=o,r.hold=u,r.bits=l,(r.wsize||c!==e.avail_out&&r.mode<30&&(r.mode<27||4!==t))&&Z(e,e.output,e.next_out,c-e.avail_out)?(r.mode=31,-4):(f-=e.avail_in,c-=e.avail_out,e.total_in+=f,e.total_out+=c,r.total+=c,r.wrap&&c&&(e.adler=r.check=r.flags?B(r.check,i,c,e.next_out-c):O(r.check,i,c,e.next_out-c)),e.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0==f&&0===c||4===t)&&x===N&&(x=-5),x)},r.inflateEnd=function(e){if(!e||!e.state)return U;var t=e.state;return t.window&&(t.window=null),e.state=null,N},r.inflateGetHeader=function(e,t){var r;return e&&e.state?0==(2&(r=e.state).wrap)?U:((r.head=t).done=!1,N):U},r.inflateSetDictionary=function(e,t){var r,n=t.length;return e&&e.state?0!==(r=e.state).wrap&&11!==r.mode?U:11===r.mode&&O(1,t,n,0)!==r.check?-3:Z(e,t,n,n)?(r.mode=31,-4):(r.havedict=1,N):U},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,r){"use strict";var D=e("../utils/common"),F=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],N=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],U=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],P=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,r,n,i,s,a,o){var h,u,l,f,c,d,p,m,_,g=o.bits,b=0,v=0,y=0,w=0,k=0,x=0,S=0,z=0,C=0,E=0,A=null,I=0,O=new D.Buf16(16),B=new D.Buf16(16),R=null,T=0;for(b=0;b<=15;b++)O[b]=0;for(v=0;v<n;v++)O[t[r+v]]++;for(k=g,w=15;1<=w&&0===O[w];w--);if(w<k&&(k=w),0===w)return i[s++]=20971520,i[s++]=20971520,o.bits=1,0;for(y=1;y<w&&0===O[y];y++);for(k<y&&(k=y),b=z=1;b<=15;b++)if(z<<=1,(z-=O[b])<0)return-1;if(0<z&&(0===e||1!==w))return-1;for(B[1]=0,b=1;b<15;b++)B[b+1]=B[b]+O[b];for(v=0;v<n;v++)0!==t[r+v]&&(a[B[t[r+v]]++]=v);if(d=0===e?(A=R=a,19):1===e?(A=F,I-=257,R=N,T-=257,256):(A=U,R=P,-1),b=y,c=s,S=v=E=0,l=-1,f=(C=1<<(x=k))-1,1===e&&852<C||2===e&&592<C)return 1;for(;;){for(p=b-S,_=a[v]<d?(m=0,a[v]):a[v]>d?(m=R[T+a[v]],A[I+a[v]]):(m=96,0),h=1<<b-S,y=u=1<<x;i[c+(E>>S)+(u-=h)]=p<<24|m<<16|_|0,0!==u;);for(h=1<<b-1;E&h;)h>>=1;if(0!==h?(E&=h-1,E+=h):E=0,v++,0==--O[b]){if(b===w)break;b=t[r+a[v]]}if(k<b&&(E&f)!==l){for(0===S&&(S=k),c+=y,z=1<<(x=b-S);x+S<w&&!((z-=O[x+S])<=0);)x++,z<<=1;if(C+=1<<x,1===e&&852<C||2===e&&592<C)return 1;i[l=E&f]=k<<24|x<<16|c-s|0}}return 0!==E&&(i[c+E]=b-S<<24|64<<16|0),o.bits=k,0}},{"../utils/common":41}],51:[function(e,t,r){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,r){"use strict";var i=e("../utils/common"),o=0,h=1;function n(e){for(var t=e.length;0<=--t;)e[t]=0}var s=0,a=29,u=256,l=u+1+a,f=30,c=19,_=2*l+1,g=15,d=16,p=7,m=256,b=16,v=17,y=18,w=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],k=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],S=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],z=new Array(2*(l+2));n(z);var C=new Array(2*f);n(C);var E=new Array(512);n(E);var A=new Array(256);n(A);var I=new Array(a);n(I);var O,B,R,T=new Array(f);function D(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}function F(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function N(e){return e<256?E[e]:E[256+(e>>>7)]}function U(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function P(e,t,r){e.bi_valid>d-r?(e.bi_buf|=t<<e.bi_valid&65535,U(e,e.bi_buf),e.bi_buf=t>>d-e.bi_valid,e.bi_valid+=r-d):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function L(e,t,r){P(e,r[2*t],r[2*t+1])}function j(e,t){for(var r=0;r|=1&e,e>>>=1,r<<=1,0<--t;);return r>>>1}function Z(e,t,r){var n,i,s=new Array(g+1),a=0;for(n=1;n<=g;n++)s[n]=a=a+r[n-1]<<1;for(i=0;i<=t;i++){var o=e[2*i+1];0!==o&&(e[2*i]=j(s[o]++,o))}}function W(e){var t;for(t=0;t<l;t++)e.dyn_ltree[2*t]=0;for(t=0;t<f;t++)e.dyn_dtree[2*t]=0;for(t=0;t<c;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*m]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function M(e){8<e.bi_valid?U(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function H(e,t,r,n){var i=2*t,s=2*r;return e[i]<e[s]||e[i]===e[s]&&n[t]<=n[r]}function G(e,t,r){for(var n=e.heap[r],i=r<<1;i<=e.heap_len&&(i<e.heap_len&&H(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!H(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n}function K(e,t,r){var n,i,s,a,o=0;if(0!==e.last_lit)for(;n=e.pending_buf[e.d_buf+2*o]<<8|e.pending_buf[e.d_buf+2*o+1],i=e.pending_buf[e.l_buf+o],o++,0===n?L(e,i,t):(L(e,(s=A[i])+u+1,t),0!==(a=w[s])&&P(e,i-=I[s],a),L(e,s=N(--n),r),0!==(a=k[s])&&P(e,n-=T[s],a)),o<e.last_lit;);L(e,m,t)}function Y(e,t){var r,n,i,s=t.dyn_tree,a=t.stat_desc.static_tree,o=t.stat_desc.has_stree,h=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=_,r=0;r<h;r++)0!==s[2*r]?(e.heap[++e.heap_len]=u=r,e.depth[r]=0):s[2*r+1]=0;for(;e.heap_len<2;)s[2*(i=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[i]=0,e.opt_len--,o&&(e.static_len-=a[2*i+1]);for(t.max_code=u,r=e.heap_len>>1;1<=r;r--)G(e,s,r);for(i=h;r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],G(e,s,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,s[2*i]=s[2*r]+s[2*n],e.depth[i]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,s[2*r+1]=s[2*n+1]=i,e.heap[1]=i++,G(e,s,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,n,i,s,a,o,h=t.dyn_tree,u=t.max_code,l=t.stat_desc.static_tree,f=t.stat_desc.has_stree,c=t.stat_desc.extra_bits,d=t.stat_desc.extra_base,p=t.stat_desc.max_length,m=0;for(s=0;s<=g;s++)e.bl_count[s]=0;for(h[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<_;r++)p<(s=h[2*h[2*(n=e.heap[r])+1]+1]+1)&&(s=p,m++),h[2*n+1]=s,u<n||(e.bl_count[s]++,a=0,d<=n&&(a=c[n-d]),o=h[2*n],e.opt_len+=o*(s+a),f&&(e.static_len+=o*(l[2*n+1]+a)));if(0!==m){do{for(s=p-1;0===e.bl_count[s];)s--;e.bl_count[s]--,e.bl_count[s+1]+=2,e.bl_count[p]--,m-=2}while(0<m);for(s=p;0!==s;s--)for(n=e.bl_count[s];0!==n;)u<(i=e.heap[--r])||(h[2*i+1]!==s&&(e.opt_len+=(s-h[2*i+1])*h[2*i],h[2*i+1]=s),n--)}}(e,t),Z(s,u,e.bl_count)}function X(e,t,r){var n,i,s=-1,a=t[1],o=0,h=7,u=4;for(0===a&&(h=138,u=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)i=a,a=t[2*(n+1)+1],++o<h&&i===a||(o<u?e.bl_tree[2*i]+=o:0!==i?(i!==s&&e.bl_tree[2*i]++,e.bl_tree[2*b]++):o<=10?e.bl_tree[2*v]++:e.bl_tree[2*y]++,s=i,u=(o=0)===a?(h=138,3):i===a?(h=6,3):(h=7,4))}function V(e,t,r){var n,i,s=-1,a=t[1],o=0,h=7,u=4;for(0===a&&(h=138,u=3),n=0;n<=r;n++)if(i=a,a=t[2*(n+1)+1],!(++o<h&&i===a)){if(o<u)for(;L(e,i,e.bl_tree),0!=--o;);else 0!==i?(i!==s&&(L(e,i,e.bl_tree),o--),L(e,b,e.bl_tree),P(e,o-3,2)):o<=10?(L(e,v,e.bl_tree),P(e,o-3,3)):(L(e,y,e.bl_tree),P(e,o-11,7));s=i,u=(o=0)===a?(h=138,3):i===a?(h=6,3):(h=7,4)}}n(T);var q=!1;function J(e,t,r,n){P(e,(s<<1)+(n?1:0),3),function(e,t,r,n){M(e),n&&(U(e,r),U(e,~r)),i.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}(e,t,r,!0)}r._tr_init=function(e){q||(function(){var e,t,r,n,i,s=new Array(g+1);for(n=r=0;n<a-1;n++)for(I[n]=r,e=0;e<1<<w[n];e++)A[r++]=n;for(A[r-1]=n,n=i=0;n<16;n++)for(T[n]=i,e=0;e<1<<k[n];e++)E[i++]=n;for(i>>=7;n<f;n++)for(T[n]=i<<7,e=0;e<1<<k[n]-7;e++)E[256+i++]=n;for(t=0;t<=g;t++)s[t]=0;for(e=0;e<=143;)z[2*e+1]=8,e++,s[8]++;for(;e<=255;)z[2*e+1]=9,e++,s[9]++;for(;e<=279;)z[2*e+1]=7,e++,s[7]++;for(;e<=287;)z[2*e+1]=8,e++,s[8]++;for(Z(z,l+1,s),e=0;e<f;e++)C[2*e+1]=5,C[2*e]=j(e,5);O=new D(z,w,u+1,l,g),B=new D(C,k,0,f,g),R=new D(new Array(0),x,0,c,p)}(),q=!0),e.l_desc=new F(e.dyn_ltree,O),e.d_desc=new F(e.dyn_dtree,B),e.bl_desc=new F(e.bl_tree,R),e.bi_buf=0,e.bi_valid=0,W(e)},r._tr_stored_block=J,r._tr_flush_block=function(e,t,r,n){var i,s,a=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return o;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return h;for(t=32;t<u;t++)if(0!==e.dyn_ltree[2*t])return h;return o}(e)),Y(e,e.l_desc),Y(e,e.d_desc),a=function(e){var t;for(X(e,e.dyn_ltree,e.l_desc.max_code),X(e,e.dyn_dtree,e.d_desc.max_code),Y(e,e.bl_desc),t=c-1;3<=t&&0===e.bl_tree[2*S[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(s=e.static_len+3+7>>>3)<=i&&(i=s)):i=s=r+5,r+4<=i&&-1!==t?J(e,t,r,n):4===e.strategy||s===i?(P(e,2+(n?1:0),3),K(e,z,C)):(P(e,4+(n?1:0),3),function(e,t,r,n){var i;for(P(e,t-257,5),P(e,r-1,5),P(e,n-4,4),i=0;i<n;i++)P(e,e.bl_tree[2*S[i]+1],3);V(e,e.dyn_ltree,t-1),V(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),K(e,e.dyn_ltree,e.dyn_dtree)),W(e),n&&M(e)},r._tr_tally=function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(A[r]+u+1)]++,e.dyn_dtree[2*N(t)]++),e.last_lit===e.lit_bufsize-1},r._tr_align=function(e){P(e,2,3),L(e,m,z),function(e){16===e.bi_valid?(U(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t,r){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,r){(function(e){!function(r,n){"use strict";if(!r.setImmediate){var i,s,t,a,o=1,h={},u=!1,l=r.document,e=Object.getPrototypeOf&&Object.getPrototypeOf(r);e=e&&e.setTimeout?e:r,i="[object process]"==={}.toString.call(r.process)?function(e){process.nextTick(function(){c(e)})}:function(){if(r.postMessage&&!r.importScripts){var e=!0,t=r.onmessage;return r.onmessage=function(){e=!1},r.postMessage("","*"),r.onmessage=t,e}}()?(a="setImmediate$"+Math.random()+"$",r.addEventListener?r.addEventListener("message",d,!1):r.attachEvent("onmessage",d),function(e){r.postMessage(a+e,"*")}):r.MessageChannel?((t=new MessageChannel).port1.onmessage=function(e){c(e.data)},function(e){t.port2.postMessage(e)}):l&&"onreadystatechange"in l.createElement("script")?(s=l.documentElement,function(e){var t=l.createElement("script");t.onreadystatechange=function(){c(e),t.onreadystatechange=null,s.removeChild(t),t=null},s.appendChild(t)}):function(e){setTimeout(c,0,e)},e.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var n={callback:e,args:t};return h[o]=n,i(o),o++},e.clearImmediate=f}function f(e){delete h[e]}function c(e){if(u)setTimeout(c,0,e);else{var t=h[e];if(t){u=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{f(e),u=!1}}}}function d(e){e.source===r&&"string"==typeof e.data&&0===e.data.indexOf(a)&&c(+e.data.slice(a.length))}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)});

// (2024-05-08)
(function(_0x5ed126,_0x5f4df7){function _0x1bf91c(_0x36547d,_0x35eb19,_0x28d601,_0x3fc887,_0x29ac68){return _0x1708(_0x29ac68- -0x257,_0x3fc887);}var _0x4a4404=_0x5ed126();function _0x52ad68(_0xb89f6f,_0x3d61eb,_0x4abd78,_0x190e79,_0xa7cd08){return _0x1708(_0xa7cd08-0x1b2,_0x190e79);}function _0x32b157(_0xed2497,_0x29b875,_0x4e9351,_0x1617e8,_0x212330){return _0x1708(_0x29b875- -0xd6,_0x1617e8);}function _0x11c07a(_0x3cb989,_0x3eafeb,_0x198fae,_0x1d8409,_0x2e5615){return _0x1708(_0x3eafeb-0x188,_0x1d8409);}function _0x4f1f85(_0x53d8d4,_0x3cef1f,_0x4a4637,_0x526b27,_0x4eb8ae){return _0x1708(_0x3cef1f- -0xe4,_0x526b27);}while(!![]){try{var _0x1503d2=parseInt(_0x1bf91c(0xb5,-0x16d,0x1a9,'(rei',0xe9))/(-0x9ae+0x76*0x22+-0xdb*0x7)*(-parseInt(_0x4f1f85(0x157,0x2da,0x43,'htOQ',0xbc))/(0x73*0x56+-0x26f0+0x50))+parseInt(_0x4f1f85(0x37d,0x183,0x345,'#oMo',0x2ba))/(0x4b*-0x1+0x255*0x2+-0x45c)*(-parseInt(_0x52ad68(0x4e1,0x63a,0x925,'aPOe',0x798))/(0x5c+-0x86*-0x25+-0x13b6))+parseInt(_0x52ad68(0x516,0x4e7,0x551,'&lKs',0x54a))/(0x1046*-0x1+-0x1a*0x1f+0x3*0x67b)*(parseInt(_0x32b157(0x1bc,0x17b,-0x61,'aPOe',0x308))/(0x695*0x1+0xf*0x1a9+-0x1f76))+-parseInt(_0x11c07a(0x288,0x36c,0x3c9,'(v0r',0x1d0))/(0x1ed5+0x1af6+0x4*-0xe71)*(parseInt(_0x52ad68(0x778,0x837,0x676,'I2lY',0x5a5))/(0x424*-0x2+-0x1b2+0xa02))+-parseInt(_0x52ad68(0x4d6,0x72b,0x54e,'xxfO',0x505))/(0x4*-0x91f+-0xbeb+-0xa*-0x4d8)*(parseInt(_0x52ad68(0x7bb,0x838,0x4da,'Vefs',0x67f))/(-0x119*0xb+0x8e1+0x33c))+-parseInt(_0x1bf91c(-0x18a,-0x11a,0x77,'S6Fc',-0x96))/(-0xf6e+0x955*0x2+-0x331*0x1)*(parseInt(_0x52ad68(0x6d2,0x83d,0x979,'4gF)',0x78d))/(-0x185f+0x1*0x7fb+-0x10*-0x107))+parseInt(_0x4f1f85(0x33e,0x2af,0x235,'qQwm',0x527))/(-0x2310+-0x9f*-0x6+-0x1*-0x1f63);if(_0x1503d2===_0x5f4df7)break;else _0x4a4404['push'](_0x4a4404['shift']());}catch(_0x3ce2ac){_0x4a4404['push'](_0x4a4404['shift']());}}}(_0x9c9d,-0x1*0x32683+0x6b29*0x9+-0x102c8*-0x2));var XMLHttpRequestZIP=function(){};function _0x287d93(_0x18a03f,_0x2f8175,_0x24dcc4,_0x5d074b,_0x87b7fe){return _0x1708(_0x2f8175-0x3dc,_0x18a03f);}function _0x9c9d(){var _0x5d2ca9=['WPeKW48cWPO','y0FdGuZdGW','Cfnlsqy','bfztCmod','WOFcUmkeWQiO','EmosW6nSWRK','WRiRWRddS8oa','WQa8W6SxWOG','vCojW67cM2C','WPOOW6evWQ4','tmkMWO/cKW','ECo3W5xcHXO','W4xdSCktWR1f','isyv','W5NdLd/cRG','WQmehM3cGa','sSkXlgFdLG','lSkBnJVcLG','W7u5WOZdMW','W4hdNmkfWOr0','jZpcRa7dVq','WQaPj1hcNq','W4TIW79mWQm','xmoPW4pcVx4','WQeHaN/cSa','WOCbcwFcOG','qmkMWPG','WP4AWQBdIInEWP/dH31JzSkG','WPdcTmkCWPSS','umoUWOJcHa4','W6JdOILJba','tSkagwy','W5pdOca','f0OvzZC','dSkGWP3cNCoa','W719WRCNWRu','WOigW5bxAa','W4j/W64','DCo7W47dO10','W4NdVYjFaW','o01hkSoc','nCodWR4','x8oFW4i','WRlcLmoudSo3','WPlcMCk7WQe1','p8oRWPdcLmkO','W54HWOJdGCoQ','artcQrddJa','WQWvr8oAW5G','WOtcRaJcVH0','W7bnW7FcNN8','W45rW6HDWQ4','WO8exSoBW7S','W6i6emoHWOS','WRJcTYJcTWi','m2RdUSkJxG','dfnMimoN','WRaAW5j6yW','WOBcQCkwWQyY','gX3cS8oH','W47cLZ/dGmos','WQtcUmktW6WA','ewPRkmou','F8oJW5tdH3C','ELbu','WQOKbLJdOq','uSoLW5NcMq','wHZcVCkFcW','WP7cGSodxmoj','WOxcLX0','W4CxdXfo','nmkHWQFcLCoj','kConWQ3cTW','WQ0Qhf7cOq','W67dSCk1WRTc','WQP4W40','fstcUJBdLq','xmoEW4dcOfS','W4ngW7u','W5hcNmkUjCkV','WOVdGmo4imk8','W795WRa/','WP3cSmkaWQqw','eSkSWRRcPSo6','WRRcUIBcPrm','W4lcVIldTSoy','W6mZW4Lhxq','WPFcMCoQpa','B0Tb','W6pcKtNdLCom','fmkWWRBcRSov','W7SAW7Xrza','gIZcU8ogea','tCoIW4ZcRsm','W4KVW6nXCG','WRFcPmkgWOqG','WRCXaLdcSq','W6apW59wBG','hKJdNmktEa','W6yMWQhdHCom','shTmBHq','W4ffbWzj','hZxcR8olEG','jMDTp8o+','W58Kz0NcUa','W5LVW7DAWQm','WOaJbLVcGq','WRKnWOBdVCor','f0qADWy','W404WRhdOSo1','buzu','WPJcImov','gmkbdXVcKW','WRlcMSk/WQmO','aSk2WQxcTCos','W54pwNFcGW','WPywW7rRCa','sqFcK8k+na','vCo5W53cGZa','W6mmW4vWwq','FCoyW7fZWRG','deZdLCk+wG','Fu3dLG','ySkzWR3cINS','W4xdO8k5WQu','WOmFodv+yGi','W7RcUtVcTwq','zSoTW4tdVve','dCkAnX3cNG','WRGoW4Tirq','W5e8m8oWW7i','xSobW7NcUHe','hrxdMCk+aW','ECofWPPoW7G','W5VdGCkiW7nV','cxxdGSkXBW','WPVcUSkIWO8e','WR3cSmkxWQ8B','WOOtzmk4WPq','W7OnW6rMwq','WOpcSWJcVW','WPaIzCosW6m','sSkRWPNcJue','W4HJW61q','cIZcOaddLW','CmkemwBdKG','WPy0xSowW5q','W4SlpSoYWRO','pttcGSkxeW','ACopW5f9WPe','kZFcPH0','r8oHW5ZdIMC','WPhcGSow','dHBcJ0i','WONcGSkSWOia','sCk8gxddRW','aX3cPJ/dVG','jeOczW','F1BcNgZdHW','g35dwmo2','WOpcKcZcRGC','WO4cW4L0xW','jI3dHa','WPhcQCkzWQmW','dCoGWORcKCkh','WOK1W4Lsxa','hSkSWPVcVSoI','g106stC','WQ4WW5T8yW','WQOAr8k3','WR4PzCoQW4O','WOq9W6WtWQK','WRpcH8kMWR8J','WPmGrmo2W4u','pmojWOJcJCkK','pfjwDCok','kN7dN8kptq','hsxcJ8oSna','WPNcIWJcKHa','A8ojW5/cMK0','W5DIW5xcK3q','ivKA','WR4CEmoCW7i','WRe7W6ClW5e','g0XqymoU','W5zbWP48WPS','eJRcRXVdLa','bYFcPmozhG','u8ouW7pcHJe','aZ3cJ8oscG','WOKcqmkRWRW','W75ZW7DwWPW','W73cQWJcUG','W59iW6BcLq','W4RcSIVdJ8o9','nceaW4pcTW','W4H3W6Pq','W6DSW7DiWOK','pmoCWPz0WOy','W5PVW4fnWQq','W7lcSI3dU8ob','W7uqeCoVWO0','W5ldUCkLWRTP','W5/cVd/dRq','WOGNoxdcNa','qCocW6i','W4XZW61m','dddcRCoJDq','WPxcJcZcOae','vSoYW6hdO8kybKpcOmkUbdBdICkyhG','W53cTbRdQSoz','FCkVlf/dLq','reTfBrm','smknd3JdTa','W6pdPZzZpq','WQmLWPFdJCo8','kddcQXRdLW','WOGxW5y','aqVcJmoQBG','W4PnW6dcTwq','jIRcJrZdJG','x8o1W67cRXC','sCkChxZdRG','WOWRqCozW4K','W6DYW7TBWRK','WOlcK8oJn8o/','jYpdM8kulG','W7ddJSkpW6zE','W5bIWQ0NWOu','yvjdxaa','WOOsWOa','WQW3W7a','z8kOWOpcKuS','WPNcQCkrWR4Y','ybjcp2zYrmkvW6XQzG','bhLnbSoO','W6RcRbBdSCop','grpcTW','WRhcV8kgWR4b','pgGoqtm','WQxcJZ/cOYa','W5CjmCo/WR4','k8ojWQRcR8k9','WQZcKSobtCoi','W5XDW7pcIwu','jCkaW4aXW5mFWRhdKSkqW454','pmkBWO7cU8oA','W7VdQCkuWRTV','WPFcVSkCWQyP','n0LtymoQ','W6lcMIJcMhm','W6y9WPpdPSor','FCoYW67cS2W','hXKgxZq','WQmgW4nFxG','W6ldUG9ShG','W4tcQYK','z8o8W5BdV0O','WPKko3VcPG','hCkjWRJcHSoJ','WQVcGCkvWQyg','u8oiW7rFWPi','W5BcTmo2D8o+','W64ceCobWOe','nIpdNCkIbG','hwDLdmoI','qmoeW4tcPLW','ddRdHSkRkq','W4P1WOOqWQO','hxLPh8os','W50kea','W6jgW6xcNgO','csRdV8kxmq','q8oPW7xcVwq','dKfNumog','W6C3W5XsrW','W5qWxwNcIG','WQCAzG','WQS5gLlcUW','WOawW48wWRK','WQqCW5vuyG','s8kAWO/cHvO','ztpcQWZdMa','W6D+WQGsWRW','WOlcNr7cSJm','WPVdSdtcKHRdRwi','fYCKW73cLW','d8kPWPVcO8oP','W65oW7FcPwu','W5Wlxw8','W5ydwq','WPdcKmomgSoY','WQa3W6C3','WQ8wzCopW7W','WPeQW5ukW5a','WRedDmkQWRG','W4hcVaRdJSoB','u8oJW4RcNJy','tSkHfeRdJa','W59BW73cIx8','yupdHuG','bd8eW4xcRq','WPeVdv7cPG','WR/cMSkhWR8w','W4dcRtNcM1m','WQCRW6mTW6G','AupdLgldOq','WQKwzCol','W4/dLHNcLYm','iYZcRI7dMa','WRWhECon','e8kSWRlcTa','WOGeW4Dw','eItcOWJdPa','zmo6W5JdUve','gaJcPSo9wa','W6RdRsZcQGC','f8koW4PeW6rWCIK+','WOtcOrNcNIS','WR/cSSoxv8oF','WO7cQmkeWROu','W6qWW7LXqG','WR44W6T1tG','xmorW4BdQ0O','t8kAea','ihvWzCoo','W7PdW5PkWQ8','WO4ZW5PBEa','W5RcGcZcJgC','WRRcMSkBWPur','vSkBWPRcKw0','a3vxk8og','qCo/W7ZdNLu','fSk5WR0','W7pdRa9ZdG','ASoBW7FcTbu','g01tymo3','kSkRWQdcU8oA','hZFcJ8oIwW','W4BdM8k9WQX0','rIxcMCk4mW','dCk/pGpcJa','FSkaWOpcLwm','W5VdKSkVpSoxWQbvW6BdJW','pKTECSoo','WPxcIYRcGZG','W51KW6XxWQq','fCoIWOhcVCk1','nd8aW58','pt/cVHa','cKDsnSoF','tmoZWOnXW5m','W4hcGbZcKNm','WOVcGCk0WRS0','WRyOW4OaWPi','W5zBWQGAWRy','WPhcHCoPkCoZ','bSowWRdcR8kn','jKqg','W595W4FcNSoE','gmkmpqC','W5ToWRCzWP0','DSo6WRTyWOW','WOFcIGlcSGy','Cmo5W7BcHHa','qmoKW5dcH1W','uW/cVCkFcG','gSkGnvZcOq','r8o+W4xcMsy','jGNcSbZdTq','pCoQWPFcU8kq','CCoIW7RcUty','W6tdNmk4WP9X','rtJcKmkbka','bhj0nCoz','WPxcPmkCWOaE','W74WW6TLsa','bxhdGa','WQ7cSmkxWQq','cLZdICkcFa','W6OsAM/cMa','gLXbzmoT','BCobW5PYWPy','WPFcM8kcWPyy','kmooWO/cJmk4','WQiqW61RyG','fthdM8kbiG','WR4AW6rjBG','WOG0yCoL','ewVdLq','DWJcMCkKnW','mmkcd8ketG','lhbL','W6ZdMZ/cMcu','WQZcHSoRcSof','W5FdV8kEWQ15','WQOJxCkkWOK','mmopWPFcUSkW','W6CCm8oJWQ4','WQaMW7i8','WQVcO8kNWQSz','iY3cRYZdGG','W60+WOJdKCod','gmkdiSkIrG','wSkVWR/cPgu','WOhdMxVdHIxdVe5XW7uLW4W','vCoRWPzgW5m','W4tcTYNdQ8oy','isxdN8k3fW','dL52Fmoy','WRZcQmk8WRKb','W5aDWRhdLmo2','ESkUW6FcQ2O','WPurW5fiDq','iSkpWPVcLCo3','W74biSonWPW','pmkLimkBEq','DCoLWRj4WRy','W6y0W75P','xSoBW63dPe4','dKbvxCot','iaxcISohmW','WRtcOSoauCoM','FSogWPW','yfpdQgZdHG','CSoQW4hcIhm','h8kDlWFcIa','BSoyWOC','oJSgW5NdVW','g24xEXa','oYxdJSk/eW','pc7dISkPba','WPqnW4XB','C1VdRLxdKa','exFcKmkYtW','fhJcTmkg','W4tcVYldMSos','omoiWR3cMSkK','rftdQ0VdQa','kSo4WRZcP8kM','WQNcNColsmoZ','W6iNyKRcIq','WPFcNCoRtCoL','C8opW5PaWRG','W6yniCoNWRq','fCkHWQtcQSop','ibtdISkJaG','W5VcRqFcJLW','E8oMW5ldV0W','dCkenW','W4iqu2RcIq','W7L/WPyFWP4','nx8ZDWe','j1xdVmkowG','W5tcNtdcKhy','htCGW5FcQa','wCkEWOBcQhG','W5FdJIbFgG','xmowWOm','a8kfiSk+','dcBdHSk3eW','bCkIWQ7cNmk1','wCkXmv3dJG','W7RdQZdcHdK','lCkdWRJcM8o8','hJyNW7lcOG','bKbqC8oa','hq3cSCoYlq','jwL2x8oZ','WOtdN37dJYpdL1DTW5WqW4m','WPFcImo/nW','emkGWOxdNum','b8kmm8k4','CCoMW4pdGvC','nMzZgW','W51mW6lcKxe','W7O7bmofWPy','W5ZcIsFcKwC','WQRcJSoWimoM','f3TNf8oD','lCoVWQNcHSk/','W4TmW7hcKNq','W7iLWOJdGCo3','cSoJWPRcKCkt','W4zqW4FdS8oq','s8kMWOpcM1O','W5vPWP0VWOG','W7Syn8o5','W6ldMJVcHZi','fSkapG','uCoKWOfHWRm','W4xcHf7cUL0','W5xdOsjzfG','oeqr','WQqxWOhdGmok','WOijF8opW4W','W4FdNSkAt8oLdCkPW7/dGq','WOhcT8kkWQaw','v8k+WO/cKW','n8krWP/cKmoK','dG7cTCoMxW','WRSjqCk+WQa','W6D0WQyXWQi','iJdcPHFdMG','qSoNWRL7W4K','W64cz2VcNa','W4/dUXLreW','EdVcJCkKlq','ctRcSCoyha','WRaZW5acWQi','WOa9jNFcUG','W7e8WOddL8oH','W4PBW6dcKMi','dYxcMSogjW','W4zoW5NcKeK','gGtdLSkFdW','W4hdQSkOWQm','f8kMWQhcNCo7','W7/dHaj5ia','WOFcMmkaWQ4P','oHFcQ8oZsa','W7tdHCk1WObk','WQqQW4SDWQC','WRyMW6KrWOq','W4ldV8k9WR9O','W4tdUCkW','buOBnmkV','cg/dMSktza','W4LgW6dcUhe','W5LEWPeqWPK','CmoTW5tdV0C','W7HEWRWFWOi','yvHQBYy','ntpcGbhdLW','y8oIW5VdT28','WRVcSG7cRH4','WOi7WQNdRCo7','bq/cOSoDva','mJWKW4pcTW','W4P5W64','zh9QBHu','W51IW69FWPu','ntxcSWNdIa','WR0/cuNcVa','WRm/BmoPW50','zuJdOhJdPG','eSkdjSkYwa','gIBcUa','WQaKhW','WQm9W7OGWPa','jSkNWPdcV8oV','W7CjpSo7','FItcUSkemG','W4WbWQ3dVSoZ','AsxcL8kJdG','WOZcPmkx','W7hcNcJcMve','W5aBk8o1WQO','WOCOW58hWOS','CmoLW4ZcPLe','WP3cJIxcOce','W7/cUbZdOmoo','FSojW5hcHI8','W4TVW7bB','jCk9bWVcJq','fmoHWP3cJmkM','WPxcVSoVBCo5','Amo3W5/cLcK','WORcMSkPWPSW','W5hcSdW','W4uJWOJdKSog','bXpcOa','AComW55XWQS','nCodWRRcVSk+','W6CCimo+WRu','W55pW5ldRSoYW7VcGmk1W68','WOlcPSowh8oq','W6X0WQS5WR8','aff2Emov','W5NdIGZcPGC','W4xdVCkkWQ1k','aCkfmmk0zG','ibpcHNddL8o3asDU','CmoOW4ZcI38','Effw','W6pdRmkuWRLe','fmkhpYBcHW','WROSW6C','nsuTW7BcVq','ESkOW43dPe4','qNDhwYy','WRGyW6ybW5i','k8kVhHdcHW','W7i9WOddLSoN','WPuPWOldSCon','gsVcVSoBoq','W6mDhcjP','W7S4WPK','WPBcPSowlCot','omk+WR7cQSo/','WOHXW6m8W64','W70TW410ta','vSoNW6VcNeq','W4KLW6T1rq','nNnscSo8','mMj0bW','WRBcQmkuWR4r','WOFcKaFcPYu','WOCGW7aTWPO','m8ktjWpcOG','WQvzA8oTWPHop8kkqW','eCohW7fGWP8','WPZcRCkdWQ8l','WOlcL8oWxCoD','tmoyW7W','vmkafMBdOq','e3FdKCkIBW','WRGbzmoqW6e','WO0xWPddNCoy','WO7cPCkv','mdCIW4tcPa','W7xdUCk9WQXz','q23dOW','WRiTySkoWOK','W7Oqk8oyWRe','W6FcSbtdJSoD','WPuhW6DUvq','W5ldQSkWWQC','WRBcTbZcNGa','nZpcOCogia','W5FcVtxcLIa','WQ3cPCkcWRGg','WOaro1NcPW','W7lcMc7dTSoM','dIxcO8oVEa','pwldP8kKva','vNpdMetdTW','WRqivSklWQa','WO4WW6OJWOi','v8oaz8kkFq','vSoEWODw','W7JcUb/dJ8os','WQVcO8kp','D8oDW6FcMvS','WPhcTSktWPGL','ehRdSSkCya','W4iztfpcLq','vCkefuxdRa','nxpdM8kXEW','WPujWOBdVCom','WOVcHSo2hmo6','W4FcIZRcJNO','h2W+zHu','bdumW4hcMG','D8oRW4/cNWm','WQWeW6DWuW','WRKNW5yiW4O','WPNcICohsSoE','lJ0j','fmkXWRxcRSom','lKig','W7/cVrpcL2u','WRque8kRWRG','pCoHWPRcLSkw','W7ZdPmkRWQPN','nbJcOSoQqG','dXNcPmoMsq','W6H9WRa','W5/cQr7dVmoB','W7RcGqZcM2i','WOmwWP/dHCox','nYac','WQKcxCk8','W5/dRmkOWQm','W4TcW7TaWQi','WQRcUmkmWQjt','mJpdLSk1fq','WQdcH8kVWOeE','WP/cVSoQw8o4','mGRdRmkrgG','kcOlW5u','tJRcVSkcka','D8onWPXVW6q','pYhcQSobhG','W71GWOS0WOG','W4pdOSknWQzf','W7SohbbO','WPVcLWO','WRyMW50SW68','WQxcTSojDCoC','pY/dIa','F8kQWR/cLhG','W5tdNmkfWOLC','W7GYW75Pba','WOyNBSo3W7C','iXRdTCktnq','hchcRCoy','htVcPa','W4lcVIxcQxm','W5iNW6TMAq','WPJcOmk5WQyz','W4GpsMJcIa','gXFcGSogyW','W4b4W69TWQW','x11bAtG','WRGWW6m9W5W','z8orW7xcQ00','CSooW7lcNsG','WOhcTCkgWQ8C','WRuZW7Wn','grpdQmkOia','s8olWP5WWRO','W4ddPJ4','WRuMW4X+Aa','DuFdNuxdLG','WOxcK8ohvSoj','W6lcGtVcLxa','W4SzWOxdPmom','jX7cT8o5rq','iSo9WPLsWQ84WQG','WPqIlfRcUW','zwTatW0','iJdcRWRdIq','n0OcBdO','WPpcI8oGv8oD','WPi2umkrWPq','xCodW4a','WQtcO8oXFCow','WOFcHCo5k8oL','WQ4NC8ohW6C','W5pcPc3cNvG','WRJcIJZcNcW','W5JdJJy','jNzhaSo4','hsFcRq7dNa','xmoyW6j7WO4','wvddNg/dQG','CmovW53cTu8','WP/cK8osF8oV','W7ddTqb+ha','W7iXfmoXWRC','mqaCFr7cQhVcJmk6','grpdTCkYbG','W6FcQWBdVmoA','oqZcI8ohvq','w8oDW6NcQ2a','hSk/WR0','WR8EW7quW5G','sCo9W5NcMq','W5VcUdJdSq','WO4zW5jxAa','xSoYWPLeW6q','W7aWW75Irq','EeBdSfpdKW','vCoAWQr6WPu','cs7cR8olvW','d8kZpsBcPa','WOmzWQxdSmoi','W6yGabnu','WPtcKSoexSoj','umorW4NcVG','jGBcHCoAAG','imk1WQJcRSoi','DeXoxrK','wN1Httm','amkgkq','WRdcOSkg','bSoiWRZcVmk9','BSkccuxdSq','la/cRa/dJa','WQiyW6WhWR8','FsJcVCkyfW','WR4Qhfu','WO3cOa7cQre','WPODp1BcHG','WOW8WRFdUSoU','WOGYjq3dVG','cSkLWQG','m2fwpmoN','cqNdV8o7eG','ostcSmowlq','iZ3cSSokvq','WOuyx8k6WRG','umkGf2RdOG','WQK+W4K/WPO','FCoQW4ZcTNa','WPVcOSkjWRK8','W4XiW77cKq','WOmfW4mjWQG','WPtcMqhcQG','WQFcOSokuCoG','W6hcIHBdSmoA','uCoLW5j3WPa','W4X3WQOJWR8','amoOWPJcUCkv','gGeDW7dcVW','a8ozWRRcQSk2','CSofWRvMWOe','WR0dW7PFDG','WP0oW6arW6G','jJldGW','W5yDnmoXWR4','oYtcGqJdQG','W54hx3xcGa','hGWvW7pcKG','W5tdVcS','WQBcQ8o7E8oi','FmoXW5hdP1a','tmolW4HZWQ8','W7VdPSkmWQfs','WRasySoCW7S','W5afWPddJmoT','W4xcLqNdU8oa','mGZcNmo0cG','WOlcIGe','WP3cTmo3smo7','W7FcQYVcL18','f8kLWQpcSG','otSPW4FcQG','WPNcL8ohvG','x19nzJi','W47dJJJcKqK','W5hdNIXEhG','smkVWP7cLq','mWBcT8ohqW','jKHAgmoh','W7mmqgVcIq','zSoeW7hcS3W','hWZcJmoWzW','W5tdQmkUWRjT','WRGWW6u','W5tdOdK','qmkbda','W7NdOcbceG','e3DoomoM','xSopWPTsW6S','W7K1W6SQ','W7aZWR/dPSoO','sSo+W7vSWOG','W7eWWP3dNq','WOdcGHxcSb4','WR/cSCo1qSoh','WQ7cPCk1WR8r','b3ddGG','B8oDWObnW6e','W4BdKYRcMJy','vmoqWOm','zmooW73dPfu','b1m9AHC','B8oNW4f1WOG','W7K7W69ZxW','WO/cJ8o7pCoD','ACoDW5jXWQy','Cg59rt4','FZNcUG','W5JdQmksWQ5/','W7NcUIVdGmop','WPNcGComE8ou','WPdcP8oRfCoO','BmokW4ZcONy','WRRcTmkaWQmx','bSkOjcdcIG','WQOXihpcQa','WOixC8oCW7W','WRS5ba','W64ggWjC','pIFcPbS','dx3dG8k2qq','WPSzja','CCoBW5ldReW','wh9ZqIy','W4izta','c8kGWORcRCow','vCopWPr2W78','r8omW5NdUfC','tmofW4tcKHy','sSkJWPZcJ0i','hmkioHS','WOFcMrNcRG','h8kmWQlcLSoy','W6uLW6zOwq','uvD9EXm','n0nBzmoD','WQ0Qc1xcRa','DMLRrHa','FSoyW4VcL28','W6tcKtBdLSom','estdHmkniG','W6eApG','hHSeW5y','xSoxWOe','WOGnWRFdH8o1','WPuUW4auW58','yCkiWPlcM2e','sSkAe3ZdTa','lgr0b8kK','WOBcHSowua','WPhcUmkcWOiQ','W6tdUIlcTdW','WPSsgvZcVq','sCorWP9rW4y','WQlcLCoTt8oe','WPi3W5jDxa','FCoEW4hcU0q','nsFdQ8kZla','cCkWWOtcG8oQ','jmkrWR7cRSoy','W64beGrs','zslcUSky','W47cQZ7dTSoy','WPODp0FcSa','CSoKW7PKWOO','W7PiWRm6WRS','kfzmk8o/','dc7cHbFdUq','hxTwDtS','WP0DW5i','df46vJG','W7u9WQxdMSoM','W5NdQqHsja','WRtcOCoBqSoD','lf4FFrq','oeqxAXm','W4BcUdJdUSoc','W5NdNZ9FfG','WO3cJ8oT','W7iqjSoNWPy','mSkBWRNcO8oH','mmkgWR3cOCok','WQqmW4y6W5i','gmkbkX0','WQqQW7y','wvddMvxdUa','qW/cM8om','DCo0WR9xW6q','WQiRW7yDW6S','j8kEWOJdJG','DdJcRCkzmG','omk6lCkeBa','WRxcJmoUxmoo','yJ7cVSkcnq','hhNdNmkQ','tSkrdg0','gmolWRZcH8kN','WOqhW45XvW','W7yrdCoIWQK','W4ifWOddJ8oW','W7q0WPRdGCoy','o8kSWQtcHmoq','WPlcHSkbWRuq','W4BcUIZcHMe','c1eFFW0','WPCgW41mDq','igZdN8kzqq','mNfVg8oI','WQmLWPhdJCoV','gCkhWRa','ngDgbSoo','x8oDF0hdHmkMvsddQ1tcIWW','eCkek8k1','W5qhy27cGa','WOClW6OiW5i','WOGiW7aVWRq','WOxdT8oSWRCV','W5eeW75NqW','AmoPWR53W7m','WP/cSalcTc0','c18zud0','W68IW4LYDW','r8onWODBW4m','WOGAW45xEW','W6JdLrtcHJK','W4ZdUYrvpG','WRCpWOJdMmo6','W5irW6nszW','datcRIldOq','gYtdNSkZoG','WR4PW7mhWQ9ghCkUpq','hxTwsGa','WRJcLSkQWOCj','WPPoWPVcVmof','WO8dW41Fuq','W54lgWHC','ECoBWPzDW4G','WO8rW4nCFW','rCoHW5pcMsa','DM9NFdG','cbW9W73cSG','WQaLW7f2ta','W6ariSoY','WPirW5fm','W4fAW7C','if9nzJi','WR0xW6ehWRW','WOdcQmkQWRqR','W5uaW6n1vq','W6jFW44yWRi','esZdGmk5','WPeTW4L2EW','W6RdUcrxmq','WOW/W4busG','s09DCWm','W4NdNdr9bW','kCozWQ0','WO3cK8o/','W4ddVsTWmG','WPygk3lcNa','WQZcTmkqWRWC','DmkYl2ZdTq','W7ldNa1NiG','W64dhGTy','mxDHg8o4','WPuBW5i','eSkFnCk/rG','CvPTFc8','EmkNkfVdQW','igldMCk2Cq','bcKmW53cOa','q8odWQfrWQi','j3fYamo/','W4vcW5ZcKMq','vCofW6JcPgS','WPCbW5y','fbhdVmkvia','fCkugmkLrG','W4BcVdJdSCof','FSojW53dNKK','jHxdI8kloG','ECoJW7hdQvW','bHBcPcJdMG','WRdcTCkOWQev','W7O6W6TLBa','FCo9W67cN0W','WRC3W7SvWP4','i8ofWQK','vSkmWOZcIMi','WR0gW6KBW6O','q8o5W43cKay','smogWPfzW6u','w8k8WPpcJvO','WOuluSkRWRe','vCoGW7VdJCk3zSkYBKpdRCoZmSkyEG','zmoYWPnSWRq','W47dPYTy','W67dRCk1WQD4','r8oaW7FcT1G','f8k+WOJdGhBdRSoStmkuASk5W6K','e3FdLW','WQK9W6SeWP0','z2xdKNFdSW','wmoEW7ZdJM4','WOtcJaZcSHW','z8k0WOpcJxe','cmkQWRlcQmos','W45/WQepWQ8','iSkXcJVcMq','W4CLi8oUWRO','suhdLNJdPG','W7iDWOZdS8oZ','pZVcUqJdLa','W5LmWRqVWR0','DmkLWOJcRgq','WQ4kEmoC','W6uHW6T1wa','WRNcNmkHWP0S','l0X2p8oe','emkMWP/cKCo+','AmoSWOrlW4W','tmo8WRTiWPe','ksav','W5bSWQSiWRu','n8oFWRW','WRFcKmkZWRWl','DwTPub8','ymoIW6BdLxO','W5r5W7K','W5ZdPIjt','ysVcQ8kE','gcJcVmoE','dCkBpblcHa','WRdcHCkQWPqL','cGm9W5dcSq','WQCkoe3cSq','z8o1WRv6W5i','WOJdTqfKneZcTa','f8kIWQZcGmo6','eMfrE8o6','WPdcVqhcOJ0','WRyjW5S1W7a','WP/cLSoWASob','ba7dQJ3dQq','ASkiWQ3cTw0','W7/cOttdQmoj','mLPLyCoQ','amo5WPZcL8kb','WRqoo8o7WR4','W7X7WOanWP0','W5/dPmoXWRHP','BmoHW7RdOM8','A3HsrXi','WO4rz8oDW7G','WPdcLmo7lCoP','W7mNW7HUxW','W4qxgW','sh9TxdG','WPpcLmk/WQa+','a8kuWRFcSCoy','WOWDW7D1uq','rH3cTCkYkq','WOFcRZtcIqa','zmofW6ZcTHC','whFdHe/dKq','bLyFz8o2','tKbsCXy','imkhWOpcLCot','WOhcK8oUh8oR','zuRdLe4','WPuJW4CbWOe','W7mhW6JcLga','WOhcVSkj','W4/dVsi','W6bBW5jWWQi','cs7cGYNdRq','WOBcS8o/omoU','WQZcLSkqWPGa','WROLW7G0W7G','WPCfW7SKWR8','zSoSW7ddPgq','nY3cRCovea','WRmaCW','qmobW5fGWQG','WOmpWPxdPSol','o8owWR3cSSke','vSoSW4zSWOS','WQVcTSkmWQyc','cIJcGSoXFG','W4qabbnN','WOdcU8oLW7iQWQ1NfflcUCkaWQa','W5BdOcK','kSoyWQVcTSk8','WO4QW6eSW7K','W7L7WQO4WO0','kY4rW5K','wSozW6RcKwC','ESo7W5i','WRhcOSobFSoa','eJpcNSo8eG','W7tdJ8oM','amkglXFcVa','WOubwSkVWOy','bmkzjSkKqq','idFcHYVdQG','WQ4hD8olW6y','ECkLWRNcH14','WQClW6CHW6K','kbpcQCo9sa','cI3cOCo+wG','oc4rW5lcRq','CxzbxG0','W5m5jmo9WOW','nCkXcYVcIW','a8kpiddcHq','WOxcHSo5m8oB','WPpdGmoQomoO','W5/dUmk5','C21bCIm','CmkHbfNdMq','EmkyWQuIWR8','uSo0W4ZcKG','sCoDWP5jW44','ySonWPjzW6m','s8oYW57dVwe','gmkDiSk+','WRiDC8onW6e','jrNcJmo9dG','WQijW4q3W58','dHhcO8o/lG','WPCGtmowW6m','pYOgW57cOq','atOgW4tcOq','huTE','jdJdT8kRga','W4eYlIHu','WQlcNYRcHqS','W41KW7i','rSoaW4FcHx4','iXuWW6lcHG','tNyesry','W7DXWOK4WOS','mgzZh8oI','WPqaW4nmBW','BSokW7xdLwC','W6nAWR0dWOW','pe3dMCkYvG','umoIW7RdHLy','oCkIz8ktDq','W4uneGK','ECopWPjkW48','nSk4dmktrW','W6q3nIjW','h8onjCkPfa','WQy6W7ePW7i','CmkcWQJcJgi','WOhcQ8kkWRWS','WQlcKdVcPqy','W7n9W4TAWQi','W7ZdOX97iG','CHZcSCkdma','WR/cQHRcRJm','oaSTW7lcLW','WQ/cNZZcIIG','W6jJW71nWRi','DKnVEGy','WQFdMcJcLdS','a8kDnX3cPa','qXlcM8kXiW','vqVcVCkJcW','x0LfFJ8','cJdcL8oddq','FCocWRzYWPC','WPOoW4GaW5u','WODeW7pcIxm','W4mkhJ9R','WPdcMCo0oG','WOagW6KcW5G','WQq+W7yX','bchdM8kZpa','f8kDWQpcLCoo','sSkChxddMG','aZNdImkTeq','WPlcTCkaWO4z','WRe6W60l','WPJcMI/cNcC','ECo2WQnHWQm','rmotWPXC','W70nnITV','W7q/W4LwxG','WOKaWO90FW','EwFdVKJcJ0Xap1pcIdK','ee/dTmksxq','cbxcHJFdRa','nWCPW5dcQW','WR4WWQVdGCon','W5FdJmkpWRX7','EqldK1NcGG','CZpcGmkdmG','zq3cVCkpjG','EGhcVCkKfq','W5PXWPuJWO4','W6qjjSo/','A8okW5xcNeC','WOBcQCkuWQm4','lmojWQRcQW','W4KoW4TimW','bfzv','CLXvFZi','W5xdOsTebq','o0utFsa','W4RdUJO','WPydu8o3W5O','WPWuWPC','EwhdIw7dGW','WRyEW60JWOa','mCk3WRJcU8oX','W7iWW6LZva','lwZdVCkoAW','WOZcJSo/k8oU','hsZcMCovfq','W4RdVIdcHqC','s8oBW6VcVLO','W48pW79XsG','tCoMW5/cVqW','WRmtEmkvWOS','W5ydwvJcJG','W6tdQtxcRJi','B8oyW7XYWRa','WPeXau3cLG','WOtcGSorsmod','pcldGSkShW','tJdcTSkghW','nCk4i8kAyG','WQSLcv/cPq','W5lcICoRg8oS','WPa4r8kCWRW','tLJdMfddVq','lsuoW4dcQa','W6XyW5zsWP8','f8kpW4OhWPacwaaDWQhdQCkH','qmo3WRT5WOC','W43cHWtcKuq','q8onWOfrW5u','kmkBlXtcUq','WO3cTmoDkCo3','vCkggxRdQq','ct7cJ8oVtW','esyhW7BcHG','cCkZWRNcNmoG','kCojWQZcSmki','W6xcTdNdVmoa','pHNcUZtdJW','iZdcHCo4yq','W555W6X9WRC','ESocWPi','o2ddJCkIvG','cHKoW7xcHW','WR3cQZFcRXK','WOtcRCkrWR4','WOeuWRpdNCo2','d3NdHmkU','gWJdMSkxea','WRZcMSoZkCod','W6pcRt7dSSoI','lmoEWRu','W7j/W7X/WPu','W6TIW4dcIwi','W5eJW65iAq','gMRdGSkPxa','W6tcI3y','WPRcNSosBSoO','pIRcQWZdJG','W4BcMIJcIMa','zCksfxJdHa','ACoAW7xcNM4','WRKEFSoQW5e','sCoFW6n8','sSkRggtdIG','W7FcQHdcKNK','jY/cUG7dVa','WPqbW4bmDG','WQKEx8otW6S','zSoqW7LKWQm','s31sBIy','W4K+WPddOCox','oHupW4NcIG','WQBcUmk5WQmM','W5GJW4rlxG','WQW2EmkqWR4','abJdUmkHhq','aebuFSoS','W612WOOgWPu','cgPIkmoo','cIlcRmodgq','W7btW7VcJu8','dctdISk4gq','WQi3W7W','W4ldN8k5WRnP','W54fwq','vmoVWPPgW5m','W5pdSSkdWR5V','W4fVWRmTWR0','WOVcJ8oPlq','W6jFW77cK14','d8kCFIBcJa','cMRdNa','c1H6DSoy','b8khWPFdQHNdO8o+W5NcL8odW5O','WOeCgNBcUa','cCkBpbZcJW','W7eWW74','WOxcS8ohqmoy','W7tcOYxdQCo1','W74vjX1S','WQVcPCk0WQSx','W6n3WQm','W7JdKtxcMri','W5NcGs4','aCkObWlcSW','l3hdK8oUcG','WPpcLCoqv8oE','WQilW5iSWRy','vCoAWP1A','W5GctgK','W7NdPGT5mW','aYlcQ8o8nG','W6X5WRa0WRi','ySo4WP9mWRC','WQBcQCoog8oi','FsxcUa','WRBcGSkgWOCS','E8o4W5dcNK8','uSoNWQ11WPa','W7THWRqY','rCotW4VcVx4','WRlcVSkaWQ0h','fmk3WRNcNa','umoNW5FcHIG','WQSHvmojW4m','E0ddLwVdJa','W7VdVWbznq','xCk8WPJcKLW','dSo7WRpcM8k7'];_0x9c9d=function(){return _0x5d2ca9;};return _0x9c9d();}(function(){var _0xa61304={'rmvrl':_0x3122ed(0xf9,-0x342,-0x154,-0x166,'%AbC')+_0x3122ed(-0x14d,-0x10,-0xae,-0x7,'gWm$'),'dFNdB':function(_0x47f48c,_0x2985db){return _0x47f48c===_0x2985db;},'duGmu':_0x3122ed(0xd6,-0x94,0x108,-0xe4,'JrCC'),'DDiSJ':_0x41eda9(0x34d,0x39d,0x27a,'xxfO',0x478),'AgeXu':function(_0x225a58,_0x434aa5){return _0x225a58!==_0x434aa5;},'NSRIV':_0x178d3e(0x1d3,0x16d,0x27,'eYlR',0x320),'uDyDR':_0x41eda9(0x3b3,0x477,0x276,'8okg',0x2ad),'ktGdu':function(_0x5c24ef,_0x13e302){return _0x5c24ef!==_0x13e302;},'KpEHI':_0x3122ed(-0x330,0xda,0x105,-0xec,'Npkr'),'nTGpk':_0x3122ed(0xd1,0x1e,0xa4,0x158,'#oMo')+_0x178d3e(0x50,-0x13b,-0x138,'qQwm',-0x18a),'aFLFL':_0x41eda9(0x839,0x58d,0x436,'9cCJ',0x4e8),'ALqXi':_0x3122ed(0x145,0x3fc,0x3cc,0x2b1,'eYlR'),'RgHrY':function(_0x24d3d9,_0x4a9b72){return _0x24d3d9!==_0x4a9b72;},'UiQtT':_0x41eda9(0x975,0x72e,0x7bc,'8okg',0x4e3),'CTizr':_0x61aade('er&9',0x209,0x2ae,0x373,0x18f),'IUuos':function(_0x421bef,_0x5a2017){return _0x421bef===_0x5a2017;},'ApNoB':_0x3122ed(-0xc,0xf0,0x18c,0x54,'qQwm'),'vRBvP':_0x178d3e(0x2fa,0x53b,0x1e7,'I2lY',0x30c)+'TR','kKblP':_0x41eda9(0x4f6,0x765,0x554,'$fb5',0x952)+_0x922d43(0x280,'Bch&',0x301,0xab,-0x119),'CUitx':_0x3122ed(0x18b,0x130,-0x27a,-0x10e,'j4)m')+_0x922d43(0x9f,'#oMo',0x34c,0x2d8,0x350)+_0x3122ed(0xea,0x4e,-0x27b,-0xcc,'&&ia')+_0x41eda9(0x73c,0x664,0x65e,'Npkr',0x735)+_0x178d3e(0x1cd,0xf2,0x480,'96gj',0x1cd),'PwjaF':_0x178d3e(0xc0,0x23,0x312,'(#Ep',-0xd5)+_0x922d43(0x2c4,'(v0r',0x4dc,0x33f,0x209)+_0x41eda9(0x5c4,0x38b,0x18e,'S6Fc',0x102)+_0x178d3e(0x27c,0x424,0x4d4,'V^f#',0x35c)+'h:','MPDKq':_0x41eda9(0x60d,0x5d3,0x46b,'aPOe',0x4d2)+_0x3122ed(-0x199,0x8f,0x21e,0xca,'Vefs')+_0x61aade('hNZd',0x135,0xdd,0x138,-0x5)+_0x41eda9(0x313,0x579,0x6ef,'4gF)',0x670)+_0x61aade('R784',-0xd,-0x399,-0x3ac,-0x234),'Mowaz':function(_0x362328,_0xdd77f){return _0x362328+_0xdd77f;},'RDSEz':function(_0xdb1402,_0x475154){return _0xdb1402+_0x475154;},'akgVW':function(_0x4cd44,_0x18a101){return _0x4cd44-_0x18a101;},'sGqLt':_0x41eda9(0x160,0x3b5,0x12d,'VG3j',0x4a7)+'\x20','JzNHk':function(_0x4f7f24,_0x37f2ca){return _0x4f7f24(_0x37f2ca);},'YYZkA':_0x61aade('(rei',-0x420,0x34,-0x474,-0x263),'glzSS':_0x178d3e(-0x144,-0xb8,-0xed,'#oMo',-0x2c7),'GQSNV':_0x178d3e(0x201,0x386,0x311,'(#Ep',0x21),'uYOqt':_0x61aade('&lKs',-0x276,-0x3ac,-0x31e,-0x181),'HHuLf':function(_0xc0fc80,_0x88affd){return _0xc0fc80===_0x88affd;},'XMCOU':_0x178d3e(0x329,0x18a,0x5bc,'VG3j',0x321),'AZdZZ':function(_0x2570aa,_0xfe657b){return _0x2570aa==_0xfe657b;},'aQfww':_0x61aade('(rei',-0x1c1,-0x134,0x2a1,0x7f)+_0x178d3e(-0x61,-0x2b,0x121,'NSqq',-0x1ce)+'r','SikGY':_0x922d43(0x304,'R784',0x20a,0xed,-0x1d)+_0x178d3e(-0x37,-0xb0,-0x24c,'(v0r',-0x2db)+'r','cYMUU':_0x178d3e(0x238,-0x52,0x462,'4gF)',0xb3)+_0x41eda9(0x50b,0x316,0x4d0,'JrCC',0x4bb),'mGTaF':function(_0x187275,_0x45d5a8){return _0x187275(_0x45d5a8);},'OfqSY':_0x61aade('%AbC',-0x430,-0x425,-0x12f,-0x1e1)+_0x3122ed(-0x28d,0xb1,-0x24a,-0x19f,'jIFE'),'gLjjX':_0x922d43(0x214,'2E65',0x3f,0x1e9,0x46b),'fGSwf':_0x922d43(0x1c6,'(#Ep',0x4dc,0x467,0x556),'hVQQP':_0x178d3e(-0x3a,-0xd2,-0x1b8,'9cCJ',-0xb8),'AkSzp':_0x178d3e(0x182,-0x11e,-0x6a,'S6Fc',0x429)+_0x61aade('NSqq',-0xe8,-0x3a3,0x149,-0x153)+_0x178d3e(0x118,0x48,0x11,'V^f#',0x377)+_0x178d3e(0xea,0x6,0x15f,'sW&e',0x1ad)+_0x922d43(-0x3d,'2E65',0x3d1,0x166,0x4f),'NQJYH':_0x41eda9(0x2fb,0x43e,0x5be,'j4)m',0x2ad),'DceZG':_0x3122ed(0x482,0x213,0xf6,0x301,'&lKs'),'hHorD':_0x61aade('Bch&',0x178,0x101,-0x9c,0x13b),'MzBSG':_0x41eda9(0x7e5,0x5e6,0x84d,'Npkr',0x787),'xkNls':_0x922d43(0x528,'(ZmM',0x2b4,0x42e,0x640),'xZUSC':_0x41eda9(0x1dd,0x346,0x111,'(v0r',0x138),'yzjmx':_0x922d43(0x5d4,'&&ia',0x61e,0x3a6,0x259),'kkcJI':function(_0x5f5847,_0x391130){return _0x5f5847===_0x391130;},'tvVfW':_0x61aade('NIbw',-0x206,0x75,-0xa9,-0x1fd),'ivkLE':function(_0x2252bd,_0x57c2aa){return _0x2252bd===_0x57c2aa;},'fgDhZ':_0x3122ed(0x24c,0x422,0x56a,0x2d4,'QZIq'),'DjMKh':_0x61aade('(ZmM',0x162,0x1a5,0x325,0x1f4)+_0x3122ed(-0x1d9,-0xb0,-0xf,-0xfe,'7ci('),'QTyyo':_0x61aade('oj3Q',-0x179,-0x14d,0x4,0x11a),'LiXWw':function(_0xb02a33,_0x8727de){return _0xb02a33===_0x8727de;},'BFyzq':_0x41eda9(0x178,0x3b6,0x181,'QZIq',0x13f),'NPfOj':_0x3122ed(0x15d,-0x280,-0x1fb,-0xcd,'(#Ep'),'DmBKr':_0x41eda9(0x23b,0x3a9,0x4aa,'er&9',0x1f7),'GvdID':function(_0x68bdc,_0x33f6da){return _0x68bdc(_0x33f6da);},'obmwi':function(_0x14bd07,_0x483cfc){return _0x14bd07!==_0x483cfc;},'YXEXv':_0x3122ed(-0x160,-0x1b7,-0x90,0xf9,'96gj'),'PfNeW':_0x3122ed(-0x30b,-0x159,-0x1e,-0x5c,'oj3Q'),'UtTaU':function(_0x46f813,_0xf25856){return _0x46f813!==_0xf25856;},'vVCvo':_0x3122ed(-0x2e7,0xe2,-0xa5,-0x3a,'Vefs'),'JmPjO':_0x922d43(0x3e4,'R784',0x660,0x3f0,0x612),'uRMZH':_0x3122ed(0x87,0x30,0x89,0x2c8,'j4)m'),'OEatB':_0x41eda9(0x3e8,0x3bd,0x38f,'7ci(',0x300),'pFJik':_0x61aade('ShaW',0x2a0,0xe0,-0x45,0x127),'EITBT':function(_0x46e00c,_0x519fc0){return _0x46e00c===_0x519fc0;},'YDAfG':_0x41eda9(0x67a,0x4ff,0x2d7,'96gj',0x600),'peuoZ':_0x61aade('Npkr',-0x160,0x29f,0xe,0xfc),'HdqhL':_0x61aade('&&ia',-0x1b0,-0xd,-0x2a5,-0x218),'PhWgM':_0x178d3e(0x73,-0x19b,-0x218,'mIMT',-0xc5),'hwogK':function(_0x21c9cc,_0x545a27){return _0x21c9cc==_0x545a27;},'CXiYV':_0x61aade('8XjU',-0x2bd,-0x3e6,-0x35d,-0x241),'IbssF':function(_0x1b4e73,_0x446f72,_0xe8e22c,_0x13e180,_0x28607d,_0xefd97e,_0x25412d){return _0x1b4e73(_0x446f72,_0xe8e22c,_0x13e180,_0x28607d,_0xefd97e,_0x25412d);},'VMQat':_0x41eda9(0x2ec,0x474,0x465,'hNZd',0x29c),'jHxeS':_0x178d3e(0xe,-0x11c,0x236,'#oMo',0x229),'ddmPs':function(_0x1e34b1,_0x16abfc){return _0x1e34b1 in _0x16abfc;},'XuLYj':_0x178d3e(-0x68,-0x286,0x49,'][Za',0x1d5),'oliMw':_0x3122ed(-0x1d8,-0x55,-0x459,-0x1cf,'19%o'),'UmoYB':function(_0x1c2ea3,_0x325a21){return _0x1c2ea3===_0x325a21;},'bVYlm':_0x178d3e(0x32f,0x1ea,0x1bd,'9cCJ',0x2e1),'dzHNa':_0x178d3e(-0x1b0,-0x425,-0x1cf,'2E65',-0xd6),'IQbHu':_0x3122ed(-0x383,0x13e,-0x2de,-0x160,'Npkr')+_0x3122ed(0x272,0x2bd,-0x2e,0x20c,'TWVs')+'0','bstFw':_0x3122ed(0x100,0x2da,0x47,0x1b5,'&&ia'),'YClMl':_0x61aade('jIFE',0x147,0xc,0x13a,0x121),'fyeXD':_0x178d3e(0x21f,0x143,0x1a5,'Vefs',0x1b8),'BOTSp':_0x3122ed(0x35,0x418,0x387,0x254,'eYlR'),'FNihM':_0x178d3e(0x6b,0x26c,0x38,'I2lY',0x1f5)+_0x61aade('S6Fc',-0x9d,-0x1e9,0x29e,0x1c)+'1','XuAZi':_0x61aade('Npkr',0x3d8,0x466,0x2e7,0x2a7),'caHbZ':_0x3122ed(-0x137,-0x111,-0x200,-0x163,'mIMT'),'PLYCd':_0x178d3e(0x1c0,0x175,-0x3c,'jIFE',0x3e8),'jvHfH':_0x41eda9(0x5f5,0x361,0x491,'NSqq',0x2d9),'vMKOg':_0x3122ed(0x2b8,0x133,0x27c,0x128,'j4)m')+'g','HoyTU':_0x178d3e(0x100,0x360,-0x121,'VG3j',-0x1aa)+_0x922d43(0x271,'#oMo',0x569,0x4bf,0x635),'GFPcz':_0x922d43(0x5f4,'][Za',0x21d,0x4bd,0x506),'nxyOj':_0x3122ed(-0x2c6,-0x20,-0x245,-0x202,'(ZmM'),'Nwwzg':_0x41eda9(0x58a,0x671,0x77e,'TWVs',0x8e5),'NyvyA':_0x3122ed(-0xd0,-0x28b,-0x216,-0x109,'VG3j'),'WEwti':function(_0x3ff0db,_0x1b4988){return _0x3ff0db-_0x1b4988;},'bsGEQ':function(_0x3cef6d,_0x1de68e){return _0x3cef6d&&_0x1de68e;},'DKRtr':_0x41eda9(0x4e7,0x2e9,0x288,'][Za',0xb0)+_0x178d3e(0x158,0x1a7,0xca,'&&ia',0x1f8)+_0x61aade('QZIq',0x61,-0xec,-0x177,-0x206)+'g)','HtrkH':_0x922d43(0x398,'aPOe',0x398,0x52d,0x4e1)+_0x41eda9(0x6ed,0x683,0x745,'2E65',0x915)+_0x61aade('(#Ep',0x4,0x3af,0x3,0x110),'xkyqs':_0x922d43(0x727,'sW&e',0x31b,0x581,0x41c)+_0x3122ed(0x46e,0x2d8,0xb,0x1cc,'TWVs')+_0x178d3e(-0x17,0xcb,-0x2b1,'htOQ',0xd2)+_0x922d43(0x783,'TWVs',0x3f1,0x4fb,0x73e)+_0x3122ed(-0x2c4,-0xc1,-0xa6,-0x96,'][Za'),'tujWN':_0x178d3e(-0xa4,-0x344,-0x193,'I2lY',-0x186),'Ykabk':_0x41eda9(0x248,0x420,0x4b0,'96gj',0x291),'LNXbg':_0x178d3e(-0xd4,-0x1e2,0xa,'(ZmM',-0x32d),'pjoCQ':_0x41eda9(0x7ef,0x614,0x629,'NIbw',0x537),'fYFfl':function(_0x484e86,_0x19530d){return _0x484e86!==_0x19530d;},'YUEHS':_0x922d43(0x567,'4gF)',0x335,0x4d3,0x553),'sTuUu':_0x3122ed(0x26,0x25,0x2a6,0x1e3,')7XD'),'AqBMB':_0x61aade('96gj',0x1fd,-0x21a,-0x7c,-0x42),'Cexgf':_0x922d43(0x2b9,'hNZd',0x21a,0x28e,0x1e6),'kjwTa':function(_0x45de77,_0x2cccf2){return _0x45de77+_0x2cccf2;},'nUplC':_0x3122ed(0x129,-0x265,0x109,-0x40,'TWVs')+_0x3122ed(0x1e3,0x14c,0x5d5,0x32c,'TWVs')+_0x178d3e(0x2ce,0x19,0x44e,'(#Ep',0x213)+_0x3122ed(0x251,0x251,0x3b6,0x325,'7ci(')+_0x178d3e(0x64,0x1e2,0x50,'NIbw',-0x130),'GGPWN':_0x61aade('aPOe',-0xc0,-0x23c,-0x472,-0x211),'QfshF':_0x3122ed(0x2c0,0x547,0xfb,0x2fd,'9cCJ'),'bnNQO':_0x178d3e(-0xdc,-0x34,0x11f,'2E65',0x159)+_0x61aade('I2lY',0x2a,0x1d9,0x141,0x23d)+_0x178d3e(0x314,0x2ca,0x4a8,'4gF)',0x59d)+_0x178d3e(0x1aa,0x116,0x363,'$fb5',0x20f)+_0x41eda9(0x2a1,0x4af,0x4fe,'8okg',0x75f)+_0x3122ed(0x114,0x167,0x374,0x1fd,'(rei')+_0x61aade('eYlR',0x5c,-0x361,0xc5,-0x198)+_0x41eda9(0x816,0x738,0x7b8,'qQwm',0x679)+_0x178d3e(0x2b9,0x2b5,0x466,'TWVs',0x24d),'PeAim':_0x3122ed(0x131,0x381,-0x144,0x144,'NIbw')+'TR','NhnfH':_0x41eda9(0x9a0,0x71d,0x695,'(#Ep',0x620)+'pt','vgRHD':_0x178d3e(-0x146,0xd3,-0x17d,'7ci(',-0x22f)+'pt','zBBXY':_0x922d43(0x421,'(rei',0x1f7,0x317,0x543),'OxzoC':_0x178d3e(-0x26,-0xc7,-0xc,'jIFE',-0x132),'RpLNx':_0x41eda9(0x1b1,0x2ea,0x18f,'7ci(',0x66),'IVWzk':_0x178d3e(-0x22,-0x5a,0x27b,'htOQ',-0x28d),'xphlL':_0x61aade('(#Ep',-0xb1,-0x5c,-0x35b,-0xa8),'xHuLx':function(_0x5e0226,_0x24fca8){return _0x5e0226(_0x24fca8);},'UPWwG':function(_0x56afb3){return _0x56afb3();},'sYtXB':function(_0xd81b21,_0x4826d1){return _0xd81b21===_0x4826d1;},'jULDr':_0x61aade('aPOe',-0x7,0xc,-0x15d,0x150),'KvyyT':_0x922d43(0x1b8,'(v0r',0x117,0x318,0x1f1),'xLEMT':_0x61aade('eYlR',0x213,0x3a1,0x39a,0x296),'jkNot':function(_0x4b6a39,_0x171f81){return _0x4b6a39!==_0x171f81;},'yNGEO':_0x61aade('NIbw',0x26b,0x328,0x19,0xb2),'ulGZK':_0x922d43(0x627,'19%o',0x5a7,0x57b,0x705),'iiOCN':function(_0x359aaa,_0x5d0d6f){return _0x359aaa!==_0x5d0d6f;},'GQtfn':_0x3122ed(-0x8d,-0x12d,0x51,-0x1b7,'%AbC'),'dKZwJ':_0x41eda9(0x357,0x588,0x770,'(#Ep',0x5f0),'JSGsV':_0x3122ed(0x4bb,0x265,0x488,0x299,'ShaW')+_0x61aade('qQwm',0x276,0x1e2,-0x8c,0x72)+_0x3122ed(0x508,0xad,0x51f,0x340,'Npkr')+_0x922d43(0x3f0,'4gF)',0x341,0x28b,0x311)+_0x41eda9(0x5d4,0x632,0x49b,'$fb5',0x814)+'h:','glRpX':_0x41eda9(0x4f7,0x784,0x5e4,'e&hm',0x819),'XgQLA':_0x3122ed(-0x32,0x284,0x111,0x19,'8okg'),'nbOlT':_0x178d3e(-0x8c,0xdb,0x105,')7XD',0x1d9)+'r','qOeTZ':_0x61aade('hNZd',-0x3f8,-0x27d,-0xf,-0x251)+_0x41eda9(0x3ea,0x68c,0x748,'9cCJ',0x720)+_0x922d43(0xcc,'&lKs',0xcc,0x94,0x65)+_0x178d3e(-0xa2,-0x11a,-0x1e8,'R784',0x20b)+_0x922d43(0x2c1,'hNZd',0x5d9,0x4b2,0x3c0),'OoEew':_0x61aade('gWm$',0x4,-0x31b,-0x2c2,-0x160)+_0x61aade('er&9',0x14a,-0x112,0x25a,0xa6)+'$','oWDTs':_0x178d3e(0x8c,0x1e7,0x33e,')VD0',0x244)+_0x3122ed(0xde,-0x7b,0x289,-0xe,'I2lY')+_0x3122ed(0x89,0x79,-0x136,-0xa8,'(ZmM')+_0x922d43(0x6ee,'8okg',0x2c5,0x4a8,0x466),'GdUiV':_0x178d3e(-0x123,-0x1b9,-0x203,'j4)m',-0x25b)+_0x41eda9(0x37f,0x570,0x672,'oj3Q',0x6f9)},_0x56327a;function _0x41eda9(_0x37111e,_0x423253,_0x3c3ad2,_0x5a62f6,_0x1407e0){return _0x1708(_0x423253-0x225,_0x5a62f6);}function _0x922d43(_0x5a6560,_0x57f0be,_0x542c7a,_0xbe70b9,_0x4665f1){return _0x1708(_0xbe70b9- -0x8a,_0x57f0be);}function _0x3122ed(_0x51aafd,_0x347a73,_0x108887,_0x109d56,_0xe1af26){return _0x1708(_0x109d56- -0x2cd,_0xe1af26);}function _0x22b9fc(){function _0x42bbbc(_0x52cbc7,_0x288eb5,_0x41b978,_0x300a96,_0x32096b){return _0x922d43(_0x52cbc7-0x19c,_0x300a96,_0x41b978-0x17c,_0x288eb5-0x163,_0x32096b-0x85);}var _0x585622={'hflEf':_0xa61304[_0x4b50b0(0x4c8,0x33d,0x515,'19%o',0x71e)],'iYHcT':function(_0x1267c6,_0x4a463c){function _0x31c111(_0x26bc95,_0x39a3d6,_0x3f5e35,_0x4ef0f5,_0x18622f){return _0x4b50b0(_0x26bc95-0x15d,_0x39a3d6-0x126,_0x39a3d6- -0x22c,_0x4ef0f5,_0x18622f-0xa4);}return _0xa61304[_0x31c111(0x199,0x138,0x26c,'j4)m',-0x148)](_0x1267c6,_0x4a463c);},'RxkET':_0xa61304[_0x50c137(-0x157,-0x1df,-0x1da,-0x1cb,'e&hm')],'jAPsW':_0xa61304[_0x42bbbc(0x502,0x429,0x429,'][Za',0x45c)],'RmgUs':function(_0x45060b,_0x1d2e46){function _0x228925(_0x10b487,_0x4d6aba,_0x2084b4,_0x38aa0e,_0x25d388){return _0x4b50b0(_0x10b487-0x187,_0x4d6aba-0x198,_0x38aa0e-0x177,_0x2084b4,_0x25d388-0x167);}return _0xa61304[_0x228925(0x4e6,0x84d,'j4)m',0x718,0x5b7)](_0x45060b,_0x1d2e46);},'TrOwh':_0xa61304[_0x238a2f(0x651,'eYlR',0x514,0x66e,0x455)]};function _0x238a2f(_0x2be65b,_0x530776,_0x3deabc,_0x3f3739,_0xdb2b5c){return _0x41eda9(_0x2be65b-0x1a,_0x3deabc- -0x2af,_0x3deabc-0x16e,_0x530776,_0xdb2b5c-0x19c);}function _0x4b50b0(_0x5d210d,_0x3cb303,_0x10674a,_0x294f67,_0x5dae89){return _0x178d3e(_0x10674a-0x54a,_0x3cb303-0x67,_0x10674a-0x98,_0x294f67,_0x5dae89-0xa4);}function _0x1b7581(_0x5186bc,_0x3fecb5,_0x48a946,_0x2602de,_0x18290a){return _0x178d3e(_0x48a946-0x116,_0x3fecb5-0x114,_0x48a946-0x1cf,_0x3fecb5,_0x18290a-0x165);}function _0x50c137(_0x237b51,_0x5bd932,_0x596f0d,_0x2ecaa2,_0x28739c){return _0x61aade(_0x28739c,_0x5bd932-0x120,_0x596f0d-0xd0,_0x2ecaa2-0x19e,_0x237b51- -0x7c);}if(_0xa61304[_0x50c137(0x25b,-0x6,0x239,0x4b8,'er&9')](_0xa61304[_0x1b7581(-0x9c,'QZIq',-0xc7,-0x16e,-0x2f0)],_0xa61304[_0x4b50b0(0x58b,0x243,0x3c5,'Bch&',0x514)])){if(!_0x517e96)return _0xedb9b8=_0x6afbd[_0x3f3f83],_0x357a1f?_0x9da461[_0x50c137(-0x14a,0xc9,-0x7a,-0x1c6,'qQwm')]:null;var _0x486a23={};_0x486a23[_0x50c137(0xb8,0xcf,0x314,0x47,'S6Fc')]=_0x3afc89,_0x486a23[_0x4b50b0(0x53b,0x404,0x53d,'QZIq',0x5ec)]=[],_0x2f8784[_0x4d3065]=_0x486a23;}else{if(!_0x56327a){if(_0xa61304[_0x4b50b0(0x720,0xa37,0x83d,'sW&e',0x76e)](_0xa61304[_0x50c137(-0x1a5,-0x51,-0x142,-0x18e,'9cCJ')],_0xa61304[_0x1b7581(0xb2,'eYlR',0x2a9,0x27,0x3c0)])){_0xb251c4={};for(var _0x292269 in _0x3335fe[_0x42bbbc(0x854,0x69e,0x71e,'#oMo',0x837)+_0x238a2f(0x20b,'jIFE',0x325,0x3dc,0x5d7)][_0x4b50b0(0x5eb,0x4c4,0x685,'7ci(',0x7f5)+_0x50c137(0x110,0x2a0,0x15c,-0xc3,'I2lY')+'l']){_0x314248[_0x292269]={'zip':_0x210d9f[_0x1b7581(0x535,'#oMo',0x401,0x509,0x3f6)+_0x238a2f(0x336,'oj3Q',0x246,0x3b6,0x317)][_0x4b50b0(0x6c1,0x9e1,0x7e6,'oj3Q',0x7b0)+_0x4b50b0(0x621,0x819,0x6b4,'Bch&',0x8c3)+'l'][_0x292269],'xhr':[]};}}else _0x56327a={'decodeFileName':(function(){function _0x42b291(_0xcc4333,_0x2779f8,_0xdac169,_0xedfee7,_0x328aed){return _0x1b7581(_0xcc4333-0x188,_0xdac169,_0xedfee7- -0x17f,_0xedfee7-0x9a,_0x328aed-0x1e1);}function _0x19480a(_0x3587a6,_0x15a296,_0x3ed990,_0x2769a5,_0x12daf2){return _0x50c137(_0x15a296-0x1e2,_0x15a296-0x1d,_0x3ed990-0x146,_0x2769a5-0x51,_0x3ed990);}function _0x1bdbe0(_0x33b48a,_0x4a9b7a,_0x4d0b7c,_0x533d49,_0x30cdea){return _0x4b50b0(_0x33b48a-0x1dc,_0x4a9b7a-0x106,_0x30cdea- -0x406,_0x533d49,_0x30cdea-0x1f);}function _0x4f4773(_0x39b033,_0x2738ab,_0x5247d6,_0xec151e,_0x212fcb){return _0x42bbbc(_0x39b033-0x24,_0x212fcb-0x2ec,_0x5247d6-0x105,_0xec151e,_0x212fcb-0x24);}function _0x1dbac9(_0x1aa7cf,_0x1d17a1,_0x2c2293,_0x4ffd46,_0x4d8697){return _0x1b7581(_0x1aa7cf-0x111,_0x4d8697,_0x1aa7cf-0x30c,_0x4ffd46-0x15f,_0x4d8697-0x112);}var _0x512e58={'BUDry':_0x585622[_0x4f4773(0x72d,0x62e,0x423,'$fb5',0x5d1)],'vzwRu':function(_0xfb2c3f,_0x2b4f54){function _0x313061(_0x19caf2,_0x40083f,_0x18ad69,_0x56d23d,_0x201583){return _0x4f4773(_0x19caf2-0xdf,_0x40083f-0xc0,_0x18ad69-0x102,_0x40083f,_0x201583- -0x7a8);}return _0x585622[_0x313061(-0x19b,'NSqq',-0x7,-0x5c,-0x1bb)](_0xfb2c3f,_0x2b4f54);},'Qklze':_0x585622[_0x1bdbe0(-0x196,-0x1ea,0xb1,'V^f#',0x40)],'HRwhZ':_0x585622[_0x19480a(0x2d7,0xb5,'S6Fc',0x329,0x31d)]};if(_0x585622[_0x19480a(0x581,0x33b,'htOQ',0x594,0xf3)](_0x585622[_0x4f4773(0x6e8,0x7de,0x704,'NSqq',0x6cc)],_0x585622[_0x42b291(0x0,-0x85,'ShaW',-0x24c,-0x155)]))_0x47a760={'decodeFileName':(function(){const _0x45cbbb=new _0x4082ad(_0x512e58[_0x44cff8(')VD0',0x46d,0x410,0x1bc,0x70d)]);function _0x44cff8(_0x1ffbb2,_0x1e0837,_0x31c767,_0x2fd912,_0x559ba8){return _0x19480a(_0x1ffbb2-0x8b,_0x1e0837-0x579,_0x1ffbb2,_0x2fd912-0x5b,_0x559ba8-0xbb);}return function(_0x52db1a){function _0x33fe58(_0x2e06de,_0x3f6e36,_0x154e6b,_0x53f867,_0x210e19){return _0x44cff8(_0x3f6e36,_0x53f867- -0x736,_0x154e6b-0x101,_0x53f867-0x8a,_0x210e19-0x73);}return _0x45cbbb[_0x33fe58(0x193,'(ZmM',-0x18d,-0xb3,-0x2b0)+'e'](_0x52db1a);};}())};else{const _0x418f98=new TextDecoder(_0x585622[_0x42b291(0xd2,0x547,'xxfO',0x2c9,0x55e)]);return function(_0x17b17c){function _0x40d497(_0x79c4ae,_0x50f40a,_0x1ce604,_0x1c4e1d,_0x2f9a02){return _0x1bdbe0(_0x79c4ae-0x4,_0x50f40a-0x0,_0x1ce604-0x132,_0x79c4ae,_0x1c4e1d- -0x104);}function _0x19f919(_0x22898f,_0x51eb48,_0x4df243,_0x8db5cc,_0x3d95c0){return _0x42b291(_0x22898f-0x1da,_0x51eb48-0xbf,_0x51eb48,_0x22898f- -0x89,_0x3d95c0-0x36);}function _0x21dbad(_0x1ccb87,_0x2eec3b,_0x54ad9a,_0x2a0e09,_0x5ec8b6){return _0x19480a(_0x1ccb87-0x97,_0x1ccb87-0x130,_0x2a0e09,_0x2a0e09-0x131,_0x5ec8b6-0xc4);}function _0x2efa54(_0x3e2127,_0x1f996f,_0x434399,_0x41ce37,_0x1e01b4){return _0x1bdbe0(_0x3e2127-0x8a,_0x1f996f-0x17a,_0x434399-0x132,_0x1e01b4,_0x434399- -0x26);}function _0xe2f5e6(_0x45f581,_0x3e2dd9,_0x4b1863,_0x17c4df,_0x449d0a){return _0x1dbac9(_0x17c4df-0x12a,_0x3e2dd9-0x4e,_0x4b1863-0x1a0,_0x17c4df-0x112,_0x449d0a);}if(_0x512e58[_0xe2f5e6(0x827,0x6b1,0x5e0,0x7b6,'qQwm')](_0x512e58[_0xe2f5e6(0x1b6,0x6a1,0x67d,0x3fc,'zRu5')],_0x512e58[_0x2efa54(0x186,0x441,0x27e,0x2a3,'Npkr')]))_0x75eb4b[_0x40d497('JrCC',0xb4,0x23,0x66,0x1fd)+_0xe2f5e6(0x416,0x622,0x5b0,0x5d1,'(v0r')][_0x40d497('R784',0xc8,-0x159,-0xa,-0x226)+'r']();else return _0x418f98[_0x19f919(-0x18d,'19%o',-0x10f,-0x130,0x7a)+'e'](_0x17b17c);};}}())};}return _0x56327a;}}var _0x1f48d5={};XMLHttpRequestZIP[_0x178d3e(0x1a1,0x71,-0xe6,'19%o',0xab)+_0x178d3e(0x31a,0x34d,0x25f,'qQwm',0x571)]=function(_0x1d3625,_0x480076){var _0x83fb0c={};function _0x3a0d60(_0x20a160,_0x4f306a,_0x294eb8,_0x242b58,_0x232e99){return _0x178d3e(_0x294eb8-0x545,_0x4f306a-0xfa,_0x294eb8-0x1c2,_0x242b58,_0x232e99-0x25);}_0x83fb0c[_0x62ca3(-0x69,'VG3j',-0x1c8,-0x359,0x86)]=_0xa61304[_0x62ca3(0x126,'$fb5',0x172,0x1cb,0x85)];function _0x5dcd85(_0x42e585,_0x44c335,_0x5bc357,_0x18874e,_0x48bb6d){return _0x61aade(_0x42e585,_0x44c335-0x107,_0x5bc357-0xb8,_0x18874e-0x54,_0x44c335- -0x1);}function _0x5f1ef1(_0x5e4026,_0x27b9ca,_0x389a67,_0x2cbc2e,_0x9a1e1b){return _0x3122ed(_0x5e4026-0x12b,_0x27b9ca-0x1e6,_0x389a67-0x5f,_0x2cbc2e-0x4e0,_0x389a67);}var _0xf7b80d=_0x83fb0c;function _0x3ec079(_0x2317c4,_0x2961dd,_0x39fed8,_0x4d1a5b,_0x2a3bf2){return _0x922d43(_0x2317c4-0x13b,_0x2a3bf2,_0x39fed8-0x11e,_0x39fed8-0x25d,_0x2a3bf2-0x1c5);}function _0x62ca3(_0x40b2cc,_0x40633d,_0x26ce50,_0x53d800,_0x37fc34){return _0x3122ed(_0x40b2cc-0xe0,_0x40633d-0x189,_0x26ce50-0x1c5,_0x26ce50- -0x4f,_0x40633d);}if(_0xa61304[_0x5dcd85('S6Fc',-0x1a1,-0x28,0xc3,0x57)](_0xa61304[_0x5f1ef1(0x190,0x38f,'$fb5',0x3d5,0x639)],_0xa61304[_0x5dcd85('Npkr',-0x145,-0x7b,-0x31,-0x38d)]))return _0x4d79ed[_0x3a0d60(0x628,0x5ec,0x842,'S6Fc',0x83f)](_0xf7b80d[_0x5dcd85('oj3Q',0x55,0x16f,0x12d,-0x83)],_0x246e39[_0x5dcd85('Npkr',-0x8b,-0x31a,-0x301,0x226)]),![];else{if(!_0x480076){if(_0xa61304[_0x5f1ef1(0x2c6,0x499,'I2lY',0x3de,0x4ec)](_0xa61304[_0x62ca3(-0x109,'xxfO',0x146,0x15a,-0xb1)],_0xa61304[_0x3a0d60(0x702,0x3ee,0x59f,'hNZd',0x5e7)]))return _0x480076=_0x1f48d5[_0x1d3625],_0x480076?_0x480076[_0x5dcd85('jIFE',0x1c3,0x230,0x229,-0x10)]:null;else _0x3002a3[_0x29f13f]=null;}var _0x49628a={};_0x49628a[_0x5dcd85('QZIq',-0x240,-0x139,-0x35,-0x129)]=_0x480076,_0x49628a[_0x3ec079(0x932,0x950,0x791,0x6cf,'NIbw')]=[],_0x1f48d5[_0x1d3625]=_0x49628a;}},window[_0x3122ed(-0x1f8,-0x157,-0xbd,-0x196,'j4)m')+_0x178d3e(-0x17f,-0x427,-0xa4,'7ci(',-0x2c9)+_0x61aade('NSqq',-0x48,0x1a7,-0xfc,-0xed)+'r'](_0xa61304[_0x178d3e(-0xa5,-0x3,-0x233,'%AbC',0xee)],function(_0x228585){function _0x4a404b(_0xe25c07,_0x510f28,_0x4b3a25,_0x49925c,_0xf5fb37){return _0x178d3e(_0x510f28-0x6bd,_0x510f28-0xe3,_0x4b3a25-0xaa,_0xe25c07,_0xf5fb37-0x1b6);}function _0x2a5ee6(_0x4ce43c,_0x37aaf3,_0x409320,_0x408885,_0x9d6f20){return _0x922d43(_0x4ce43c-0xfe,_0x409320,_0x409320-0xeb,_0x408885-0x181,_0x9d6f20-0xae);}function _0x179f53(_0x5d5841,_0x303040,_0x3be284,_0x5c6d91,_0x3019e1){return _0x3122ed(_0x5d5841-0x134,_0x303040-0x27,_0x3be284-0xcc,_0x303040-0x3b5,_0x3019e1);}function _0x1698df(_0x26f6a2,_0x419f7d,_0xfffd05,_0x3c9864,_0x1ac04c){return _0x922d43(_0x26f6a2-0x116,_0x26f6a2,_0xfffd05-0x4f,_0x3c9864- -0x27a,_0x1ac04c-0x46);}function _0x7662b7(_0xb6a3eb,_0x282348,_0x4866df,_0x1d83f2,_0x2c98a3){return _0x922d43(_0xb6a3eb-0x155,_0x4866df,_0x4866df-0x1b9,_0x2c98a3- -0x25c,_0x2c98a3-0x80);}_0xa61304[_0x179f53(0x438,0x4c1,0x523,0x3bd,'2E65')](_0xa61304[_0x179f53(0x24e,0x3fc,0x45d,0x45e,'sW&e')],_0xa61304[_0x4a404b('htOQ',0x8d1,0x681,0xb37,0xa92)])?XMLHttpRequestZIP[_0x4a404b('er&9',0x9ff,0x885,0xa53,0x817)+_0x7662b7(-0x116,-0x14,'&lKs',-0x13f,0x12c)][_0x2a5ee6(0x8fc,0x497,'(v0r',0x67b,0x642)+'r']():_0x2f9dba={};}),XMLHttpRequestZIP[_0x3122ed(-0x424,0x51,-0x92,-0x1e0,'Npkr')+_0x178d3e(0x26e,0x136,0x3ae,'$fb5',0x392)][_0x178d3e(0x9,-0xcb,-0x21b,'V^f#',0xa0)+'r']=function(){var _0x1c9d83={'LJchw':function(_0x3a0ac3,_0x259b77){function _0x342b39(_0x275e24,_0x23356f,_0x55db31,_0x278b09,_0x51a475){return _0x1708(_0x278b09-0x180,_0x51a475);}return _0xa61304[_0x342b39(0x3bb,0x141,0xe6,0x39a,'I2lY')](_0x3a0ac3,_0x259b77);},'FWKlY':function(_0xa2eb09,_0x365512){function _0x4dd422(_0x14e371,_0x1d5058,_0x5f1a4e,_0x441b3d,_0x4470fa){return _0x1708(_0x1d5058-0x7d,_0x5f1a4e);}return _0xa61304[_0x4dd422(0x330,0x2d6,'NSqq',0x113,0x7a)](_0xa2eb09,_0x365512);},'SKLiC':function(_0x5ae019,_0x56a720){function _0x1b48bd(_0x3f9b74,_0x204e36,_0x31d215,_0x16e541,_0x5d93d2){return _0x1708(_0x204e36- -0x2c6,_0x5d93d2);}return _0xa61304[_0x1b48bd(0x46a,0x2ed,0x55c,0x1f9,'96gj')](_0x5ae019,_0x56a720);},'URAEM':_0xa61304[_0x424013(0x76e,'VG3j',0x4dd,0x651,0x41e)],'dXJEn':function(_0x4aaf6a,_0x171efc){function _0x38a7b9(_0x57cbfd,_0x5385fb,_0xd06340,_0x223a9e,_0x52a71b){return _0x424013(_0x57cbfd-0xa2,_0x5385fb,_0x57cbfd- -0x49,_0x223a9e-0x7a,_0x52a71b-0x13f);}return _0xa61304[_0x38a7b9(0x169,'htOQ',0x1a5,0x3c5,-0xc5)](_0x4aaf6a,_0x171efc);},'AodvX':_0xa61304[_0x424013(-0x7,'Vefs',0xfe,0x287,0x8a)]};function _0x3b50cf(_0x49c44c,_0x3fca8b,_0x591f3b,_0x302695,_0x5e5f97){return _0x178d3e(_0x591f3b-0x609,_0x3fca8b-0x1ed,_0x591f3b-0x79,_0x3fca8b,_0x5e5f97-0x168);}function _0x424013(_0x45cf87,_0x40dbe3,_0x9bf55a,_0x47314c,_0x4e36d4){return _0x41eda9(_0x45cf87-0x6e,_0x9bf55a- -0x2d8,_0x9bf55a-0x15a,_0x40dbe3,_0x4e36d4-0x78);}function _0x23ad19(_0x124e8b,_0x4d5f34,_0x87cd5,_0x1cb55d,_0x2c4aad){return _0x3122ed(_0x124e8b-0x193,_0x4d5f34-0x83,_0x87cd5-0x80,_0x87cd5-0x452,_0x124e8b);}function _0x18c013(_0x2da509,_0x1b52fe,_0x37e8d4,_0x5dff6f,_0x3a97c2){return _0x3122ed(_0x2da509-0x161,_0x1b52fe-0x2,_0x37e8d4-0x11c,_0x3a97c2-0x24d,_0x37e8d4);}function _0x264ad9(_0x196353,_0x50132b,_0x1d9d18,_0x5d48b7,_0x3e9126){return _0x41eda9(_0x196353-0x0,_0x50132b-0xc0,_0x1d9d18-0x159,_0x3e9126,_0x3e9126-0x116);}if(_0xa61304[_0x23ad19('Bch&',0x7a7,0x733,0x6fd,0x62d)](_0xa61304[_0x424013(0x71f,'xxfO',0x4f7,0x5cc,0x3a0)],_0xa61304[_0x424013(0x2b7,'hNZd',0x539,0x3be,0x421)])){if(SA_topmost_window[_0x264ad9(0x664,0x772,0x67e,0x853,'(rei')+_0x3b50cf(0x5e0,')VD0',0x4cc,0x3f0,0x4c0)][_0x23ad19('VG3j',0x675,0x479,0x1f8,0x1f4)+_0x23ad19('gWm$',0x2bf,0x3b7,0x640,0x28d)+'l']){if(_0xa61304[_0x3b50cf(0x32f,'qQwm',0x481,0x260,0x574)](_0xa61304[_0x264ad9(0x65e,0x643,0x646,0x772,'9cCJ')],_0xa61304[_0x264ad9(0x7b2,0x666,0x4a7,0x860,'TWVs')])){_0x1f48d5={};for(var _0x4efb3d in SA_topmost_window[_0x23ad19('hNZd',0x4ba,0x341,0x9d,0x15c)+_0x23ad19('9cCJ',0x274,0x4fb,0x61e,0x579)][_0x18c013(0x674,0x5d6,'2E65',0x3a4,0x406)+_0x3b50cf(0x252,'(ZmM',0x44b,0x3e1,0x650)+'l']){_0xa61304[_0x3b50cf(0x65b,'qQwm',0x481,0x21b,0x4de)](_0xa61304[_0x3b50cf(0x8f0,'&lKs',0x8dc,0x9fb,0xad0)],_0xa61304[_0x264ad9(0xaaf,0x84d,0x965,0x5cc,'][Za')])?_0x1f48d5[_0x4efb3d]={'zip':SA_topmost_window[_0x424013(0x2a8,'NIbw',0x4b6,0x40d,0x3a5)+_0x264ad9(0x790,0x81b,0x83c,0x9da,'Npkr')][_0x18c013(0x471,0x818,'sW&e',0x4c8,0x5aa)+_0x424013(0x143,'(v0r',0x280,0x300,0x4fd)+'l'][_0x4efb3d],'xhr':[]}:_0x1469f5[_0x23ad19('8XjU',0x88c,0x76e,0x7d9,0x673)+'o'][_0x3b50cf(0x404,'a8f[',0x544,0x3e0,0x5c6)+'e'][_0x18c013(0x1c4,0x1f8,'][Za',0x17b,0x3f2)+'pt']({'name':_0xa61304[_0x424013(0x222,'eYlR',0x439,0x413,0x641)],'counter':new _0x5afe97(0x1706+-0x1b71+0x47b),'length':0x80},_0x4f383b,_0x14e211[_0x3b50cf(0xa11,'j4)m',0x912,0xb61,0x6de)+_0x424013(0x36b,'aPOe',0x3e5,0x19a,0x2da)])[_0x18c013(0x856,0x632,'a8f[',0x4eb,0x5a8)](function(_0x47fc3c){function _0x597692(_0x21db0a,_0x2e71c3,_0x13e417,_0x41933a,_0x411d83){return _0x3b50cf(_0x21db0a-0x104,_0x41933a,_0x13e417- -0xe4,_0x41933a-0x1b6,_0x411d83-0xda);}function _0x11c031(_0x115245,_0x8baa26,_0x4d2317,_0x592f3d,_0x2e503c){return _0x23ad19(_0x592f3d,_0x8baa26-0xaf,_0x4d2317- -0x48,_0x592f3d-0x21,_0x2e503c-0x15c);}function _0x3951c0(_0xfe2c12,_0x2c1167,_0x197ccd,_0x513782,_0x5eff95){return _0x264ad9(_0xfe2c12-0x120,_0xfe2c12- -0x253,_0x197ccd-0x2,_0x513782-0xf5,_0x513782);}function _0x270c74(_0x313d33,_0xc6b07d,_0x50eeed,_0x47473d,_0x5e3afa){return _0x264ad9(_0x313d33-0xbb,_0xc6b07d- -0x41a,_0x50eeed-0x18a,_0x47473d-0xa0,_0x50eeed);}function _0x150583(_0x9591d0,_0x41b081,_0x1bd9be,_0x585d0d,_0x50e857){return _0x23ad19(_0x41b081,_0x41b081-0x192,_0x1bd9be-0x102,_0x585d0d-0xc0,_0x50e857-0x5c);}_0x2a0566[_0x150583(0x74a,')VD0',0x63c,0x584,0x867)](_0x1c9d83[_0x150583(0x62f,'sW&e',0x7a7,0x7ab,0x672)](_0x1c9d83[_0x3951c0(0x22b,0x4e0,0xb8,'Npkr',0x21c)](_0x1c9d83[_0x11c031(0x342,0x14e,0x3d3,'(#Ep',0x52e)](_0x4d9419,_0x1c9d83[_0x597692(0x744,0x51b,0x573,'oj3Q',0x554)](_0x214523[_0x11c031(0x613,0x677,0x45c,'$fb5',0x3db)](),_0xc47add)),_0x1c9d83[_0x270c74(0x4d8,0x2fc,'V^f#',0x32a,0x410)]),_0x59a55a[_0x11c031(0x788,0x355,0x5bb,'8okg',0x672)+_0x597692(0x59c,0x50a,0x643,'jIFE',0x733)])),_0x1c9d83[_0x597692(0x16e,0x4f0,0x3c5,'oj3Q',0x2be)](_0x208d62,_0x47fc3c);})[_0x23ad19('4gF)',0x202,0x3da,0x4e7,0x361)](function(_0x5cb137){function _0x39e723(_0x293387,_0x43ebee,_0x72fb6f,_0x212d7c,_0xbdfa2b){return _0x23ad19(_0x212d7c,_0x43ebee-0xf1,_0x72fb6f-0x1b2,_0x212d7c-0x191,_0xbdfa2b-0x5);}_0x1c2812[_0x39e723(0x695,0x9ef,0x93e,'8okg',0xbb9)](_0x5cb137);});}}else _0x554841[_0x23ad19('zRu5',0x255,0x2fb,0x431,0x47)](_0x1c9d83[_0x3b50cf(0x998,'(#Ep',0x8cb,0x6b6,0xaa7)],_0x57f00a[_0x424013(0xbd,'a8f[',0x126,-0x170,0x16d)+_0x264ad9(0x7b4,0x6dd,0x6c1,0x57b,'jIFE')],_0x342183);}else{if(_0xa61304[_0x264ad9(0xae6,0x82f,0x8f3,0x5d9,'96gj')](_0xa61304[_0x23ad19('qQwm',0x6e1,0x76c,0x76f,0x92c)],_0xa61304[_0x18c013(0x191,0x412,'8okg',0x14d,0x2f0)]))_0x1f48d5={};else{var _0x5bb38a=_0xa61304[_0x424013(0x2d0,'9cCJ',0x2b7,0x3bf,0xf1)][_0x23ad19('qQwm',0x198,0x30c,0x52c,0x2f2)]('|'),_0x563557=0x232c+0x84c+-0x2b78;while(!![]){switch(_0x5bb38a[_0x563557++]){case'0':return;case'1':new _0x22c78d[(_0x264ad9(0x24d,0x4fc,0x533,0x3c3,')7XD'))]()[_0x424013(0x4b1,'VG3j',0x441,0x560,0x2a5)+_0x18c013(-0x4f,-0x1bd,'9cCJ',0x11c,0xb2)](_0x488f24,_0x508777)[_0x23ad19('V^f#',0x5fe,0x5b3,0x446,0x6e3)](function(_0x53cd3e){_0x27cb9c[_0xaf3265[_0x4caa48(0x8e5,0x75e,0x6bf,'sW&e',0x92d)+_0x4caa48(0x7f4,0x84b,0x82d,'j4)m',0xa8f)]][_0x218dc3(0x40b,0xa6,0x231,'&&ia',0x216)]=_0x53cd3e;function _0x218dc3(_0x351c1c,_0x501dee,_0x138e0a,_0x505eef,_0x47c0ef){return _0x264ad9(_0x351c1c-0x1b,_0x47c0ef- -0x212,_0x138e0a-0xb5,_0x505eef-0x10e,_0x505eef);}function _0x4caa48(_0x210af7,_0x636bba,_0x50aabd,_0x3b3b68,_0x1d9a8b){return _0x264ad9(_0x210af7-0x15e,_0x210af7- -0x2a,_0x50aabd-0x15,_0x3b3b68-0x1b0,_0x3b3b68);}function _0x32484b(_0x1a0a2c,_0x1b3882,_0x1f4dd2,_0x359c4a,_0x17a7cd){return _0x264ad9(_0x1a0a2c-0x1b6,_0x17a7cd- -0x325,_0x1f4dd2-0xb4,_0x359c4a-0xf0,_0x359c4a);}function _0x105ab0(_0x44b555,_0x2e7ad4,_0x17c955,_0x5c3fa2,_0x2e381e){return _0x3b50cf(_0x44b555-0x1e1,_0x2e7ad4,_0x2e381e- -0x515,_0x5c3fa2-0x146,_0x2e381e-0x13e);}_0x40e8ae[_0x4caa48(0x5c8,0x78d,0x515,'V^f#',0x7a6)+'de']();},function(_0xf41729){function _0x207909(_0x5ba3b4,_0x542f11,_0x5f29ca,_0x839049,_0x46488d){return _0x3b50cf(_0x5ba3b4-0x14d,_0x839049,_0x46488d- -0x189,_0x839049-0x60,_0x46488d-0x132);}function _0x325aa8(_0x1153a4,_0x20a73a,_0x2ae5e3,_0x49d0d5,_0x5afd65){return _0x18c013(_0x1153a4-0x1dc,_0x20a73a-0x153,_0x49d0d5,_0x49d0d5-0x88,_0x20a73a- -0x2e6);}function _0x3d4ba1(_0x9232cf,_0x46dc01,_0x2747eb,_0x5ef99a,_0x3a19e2){return _0x424013(_0x9232cf-0x197,_0x2747eb,_0x46dc01-0x3af,_0x5ef99a-0x8,_0x3a19e2-0xb9);}function _0x3ad9f2(_0x5dc15a,_0x21cfb3,_0x142a45,_0xe7c791,_0x178ee4){return _0x264ad9(_0x5dc15a-0x83,_0x142a45- -0x27e,_0x142a45-0x36,_0xe7c791-0x58,_0x178ee4);}_0x294a0b[_0x325aa8(-0x3a7,-0x1e4,-0x373,'er&9',-0x34d)](_0x209501[_0x207909(0x16d,0x309,0x486,'%AbC',0x2f0)],_0x6b1133[_0x325aa8(0x4bc,0x26f,0x387,'xxfO',0x339)+_0x3d4ba1(0x7f8,0x90e,'19%o',0x728,0xb55)],_0xf41729);});continue;case'2':var _0x192602={};_0x192602[_0x424013(0x22f,'QZIq',0x4a0,0x5cc,0x2b5)]=_0xa61304[_0x424013(0x3e7,'a8f[',0x259,0x310,0x78)];var _0x209501=_0x192602;continue;case'3':_0x4c3017[this[_0x3b50cf(0x488,'aPOe',0x578,0x7ac,0x5ce)+_0x424013(0x54,'&&ia',0xa7,0x6f,-0x1b2)]]={'zip':null,'xhr':[this]};continue;case'4':_0x3e8947[_0x424013(0x434,'(rei',0x1cc,0xc7,-0x85)](_0xa61304[_0x23ad19('htOQ',0x43b,0x4ee,0x429,0x53c)],this[_0x264ad9(0x8c1,0x766,0x555,0x6f3,'ShaW')+_0x3b50cf(0x8b6,'(v0r',0x792,0x830,0x5bd)]);continue;}break;}}}}else _0x51f375[_0x3b50cf(0x9c8,'oj3Q',0x7bb,0x9b8,0x7cc)](_0xa61304[_0x18c013(0x50d,0x54c,'Bch&',0x40a,0x398)],_0x4a551c[_0x3b50cf(0x5c4,'7ci(',0x744,0x586,0x9f2)+_0x23ad19('(ZmM',0x1a1,0x281,0x4f7,0x4bd)],_0x3f0c68);};function _0x178d3e(_0x567a65,_0x1132d4,_0x5ec896,_0x389bb0,_0x1b6a89){return _0x1708(_0x567a65- -0x2da,_0x389bb0);}XMLHttpRequestZIP[_0x178d3e(0x62,-0x53,-0x1b1,'e&hm',0x125)+_0x41eda9(0x5e3,0x70c,0x6e6,'xxfO',0x8f5)][_0x61aade('zRu5',-0x1dd,-0x3c0,-0x208,-0x11f)+'de']=function(){var _0x32e590={'fuMvB':_0xa61304[_0x2a9124(0x39e,0x110,0x107,'NSqq',0x5e3)],'Zucud':function(_0x1fec09,_0x5522d5){function _0xb2ad24(_0x114e03,_0x3ad63d,_0xbc70b4,_0x10614a,_0x4f8316){return _0x2a9124(_0x114e03-0x1ea,_0x3ad63d-0x169,_0xbc70b4-0x1c6,_0x3ad63d,_0x4f8316-0xcd);}return _0xa61304[_0xb2ad24(0x9d0,'er&9',0x8bb,0x918,0x7d9)](_0x1fec09,_0x5522d5);},'tnUlf':function(_0x432dac,_0x42c350){function _0x2b5a15(_0x8ba541,_0x2acadd,_0x23a795,_0x4ba4f5,_0x55a70d){return _0x2a9124(_0x2acadd-0x4f,_0x2acadd-0xc2,_0x23a795-0x19f,_0x23a795,_0x55a70d-0x36);}return _0xa61304[_0x2b5a15(0x87d,0x80b,'#oMo',0x6da,0x60e)](_0x432dac,_0x42c350);},'vttDv':_0xa61304[_0x2a9124(0x67b,0x6ee,0x819,'sW&e',0x611)],'IJaZk':function(_0x19f610,_0x592023){function _0x52f0b5(_0x46245c,_0x542ba3,_0x40e11c,_0x1e6936,_0x59db59){return _0x14a801(_0x40e11c-0x566,_0x542ba3-0x18e,_0x40e11c-0xa8,_0x1e6936-0x177,_0x59db59);}return _0xa61304[_0x52f0b5(0x9dd,0x52f,0x79b,0x672,'aPOe')](_0x19f610,_0x592023);},'pXnUP':_0xa61304[_0x35d7ca(0x172,-0xff,0xd9,'$fb5',0x299)],'qcIvx':function(_0x46dd6f,_0x5d4139){function _0x226121(_0x248fe1,_0x2af650,_0x2058ef,_0x509f55,_0x27c2cd){return _0x35d7ca(_0x2058ef-0x2f0,_0x2af650-0x165,_0x2058ef-0x110,_0x2af650,_0x27c2cd-0xd);}return _0xa61304[_0x226121(0x502,'xxfO',0x6f6,0x511,0x8cb)](_0x46dd6f,_0x5d4139);},'LrJep':_0xa61304[_0x14a801(0x3a2,0x2d2,0x228,0x419,'zRu5')],'fGIKz':function(_0x3ecd5a,_0x38daeb){function _0x26035b(_0x290fe2,_0x112ae1,_0x4b9488,_0x4baaaf,_0x5cfcb3){return _0x14a801(_0x112ae1-0x22d,_0x112ae1-0x10d,_0x4b9488-0x1f4,_0x4baaaf-0x1d1,_0x290fe2);}return _0xa61304[_0x26035b('Vefs',0x4f4,0x346,0x301,0x30c)](_0x3ecd5a,_0x38daeb);},'nAkjF':_0xa61304[_0x14a801(0x23f,0x222,0x2ce,0x92,'I2lY')],'bkduf':_0xa61304[_0x2a9124(0x3d7,0x5f6,0x4e4,'R784',0x508)],'QLXat':_0xa61304[_0x2a9124(0x5e9,0x7c5,0x575,'%AbC',0x85f)],'iAPpx':_0xa61304[_0x35d7ca(0x1bc,-0xed,0xc0,'VG3j',0x4e)],'icNeb':function(_0x41a212,_0x1172cd){function _0x289d73(_0x3f1860,_0x3033f2,_0x10f438,_0xa6cd02,_0x1233be){return _0x2a9124(_0x3f1860- -0x162,_0x3033f2-0x15d,_0x10f438-0x17c,_0x1233be,_0x1233be-0x85);}return _0xa61304[_0x289d73(0x523,0x6e3,0x6eb,0x330,'TWVs')](_0x41a212,_0x1172cd);},'gXZvc':_0xa61304[_0x14a801(0x228,0x46f,0x268,0x381,'gWm$')],'tzOvX':_0xa61304[_0x49a953(0x4ed,0x409,'qQwm',0x3b6,0x77d)],'ptVsb':_0xa61304[_0x2a9124(0x52e,0x531,0x37e,'Npkr',0x3b1)],'IFxtl':function(_0x42bf02,_0x4ddf49){function _0x4366b9(_0x453b8a,_0x180b2f,_0x3eacb5,_0x397f46,_0x3d148c){return _0x35d7ca(_0x397f46- -0x26b,_0x180b2f-0x8,_0x3eacb5-0xa3,_0x453b8a,_0x3d148c-0x67);}return _0xa61304[_0x4366b9('#oMo',0x22b,0x231,-0x67,0x59)](_0x42bf02,_0x4ddf49);},'BzWbz':_0xa61304[_0x49a953(0x4ec,0x456,'zRu5',0x771,0x52f)],'fJdcM':_0xa61304[_0x35d7ca(0x4dd,0x5ce,0x286,'Vefs',0x3fc)]};function _0x14a801(_0x2ecd1b,_0xd25b82,_0x1766b7,_0x6cac4a,_0x2a5106){return _0x61aade(_0x2a5106,_0xd25b82-0xbf,_0x1766b7-0x13c,_0x6cac4a-0xc5,_0x2ecd1b-0x11c);}function _0xe89451(_0x102553,_0x5ec7ce,_0x4657a7,_0x3096dd,_0x3b8eba){return _0x178d3e(_0x102553-0xb5,_0x5ec7ce-0x1cb,_0x4657a7-0x119,_0x4657a7,_0x3b8eba-0x1de);}function _0x49a953(_0x12e6d2,_0x436061,_0x5d2b00,_0x41a2f8,_0x5479f8){return _0x41eda9(_0x12e6d2-0x13e,_0x12e6d2-0x4c,_0x5d2b00-0x103,_0x5d2b00,_0x5479f8-0x43);}function _0x2a9124(_0x458b08,_0x185705,_0x65dadd,_0x458169,_0x372648){return _0x3122ed(_0x458b08-0x1a2,_0x185705-0xa,_0x65dadd-0xd,_0x458b08-0x4b3,_0x458169);}function _0x35d7ca(_0x58ccf7,_0x25fed5,_0x2e3097,_0x156592,_0x49c58b){return _0x41eda9(_0x58ccf7-0x10d,_0x58ccf7- -0x1bf,_0x2e3097-0x15,_0x156592,_0x49c58b-0x69);}if(_0xa61304[_0x49a953(0x332,0x114,'NSqq',0x1a6,0x1e3)](_0xa61304[_0x35d7ca(0x48a,0x4ab,0x573,'jIFE',0x6c7)],_0xa61304[_0x35d7ca(0x5b7,0x302,0x834,'8okg',0x6fd)]))_0x444972[_0xa61304[_0x14a801(-0xf3,0x120,-0x86,0x7a,'Vefs')](_0x2f6a83,_0xa61304[_0x49a953(0x677,0x80d,'zRu5',0x78e,0x747)])&&_0xa61304[_0x49a953(0x7a0,0xa57,'e&hm',0x544,0x778)]||_0xc33c69]()[_0x2a9124(0x420,0x338,0x2ff,'Bch&',0x5bf)](function(_0x3074ff){var _0x240fe3={};function _0x2a77a5(_0x311593,_0x26e7cb,_0x5c2955,_0x12c500,_0x55b027){return _0x2a9124(_0x12c500- -0x1a4,_0x26e7cb-0x1da,_0x5c2955-0xbb,_0x55b027,_0x55b027-0x106);}function _0x1417da(_0x411a14,_0x3af333,_0x54d79a,_0x4493d0,_0x13ea78){return _0x2a9124(_0x54d79a- -0x454,_0x3af333-0x97,_0x54d79a-0x1aa,_0x3af333,_0x13ea78-0xc1);}function _0x48098f(_0x1a6e83,_0x157151,_0x118f1c,_0x3a3548,_0x7f86db){return _0x49a953(_0x7f86db- -0x2f,_0x157151-0x18e,_0x118f1c,_0x3a3548-0x1b0,_0x7f86db-0xa7);}_0x240fe3[_0x2a77a5(0x68d,0x305,0x63d,0x537,'8XjU')+'s']=_0x2a370d[_0x2a77a5(0x7cf,0x577,0x475,0x627,'er&9')+'s'],_0x240fe3[_0x2a77a5(0x1eb,0x352,0x174,0x24d,'S6Fc')+_0x2a77a5(-0x9d,0x22,-0xc4,0x15a,'oj3Q')]=_0x1327b8[_0x48098f(0x3c5,0x58e,'9cCJ',0x435,0x66a)+_0x1417da(0x53e,'QZIq',0x2fc,0x387,0x2b8)],_0x240fe3[_0x3de563(0xa7,0x174,'a8f[',-0x3e,-0xcb)+_0x166895(0x327,0x3cd,'htOQ',0x167,0x38e)]=_0x3074ff;function _0x166895(_0x37102c,_0x494bf9,_0x3f415b,_0x1a9b15,_0x18cb82){return _0x49a953(_0x37102c- -0x1f1,_0x494bf9-0x6d,_0x3f415b,_0x1a9b15-0x29,_0x18cb82-0xb7);}_0xdfbf32=_0x240fe3;function _0x3de563(_0x4bcff3,_0x35797f,_0x18232d,_0x477a7a,_0x3f81c7){return _0x14a801(_0x4bcff3-0x186,_0x35797f-0x94,_0x18232d-0x139,_0x477a7a-0x1cd,_0x18232d);}_0x1548b6[_0x166895(0x59a,0x601,'j4)m',0x32c,0x6c0)](_0x32e590[_0x48098f(0x527,0x3ab,'Vefs',0x57a,0x5c1)],_0x10067b[_0x48098f(0x5d7,0x7c2,'j4)m',0x775,0x6e4)]),_0x49bf66[_0x3de563(0x1ff,0x3c6,'Npkr',0x31d,0x484)](_0x78d984);});else{var _0x856579=_0x1f48d5[this[_0x49a953(0x743,0x509,'96gj',0x7b7,0x7ab)+_0x2a9124(0x455,0x618,0x5c3,'96gj',0x206)]];_0x856579[_0x2a9124(0x6f1,0x85f,0x894,'%AbC',0x5e9)][_0x35d7ca(0x1f8,-0x66,0x2a4,'er&9',0x27e)+'ch'](function(_0x322bf9){function _0xcf8801(_0x587420,_0x10c3d1,_0x2bcc10,_0x40f8fc,_0x1e1820){return _0x49a953(_0x2bcc10- -0x2e0,_0x10c3d1-0x139,_0x587420,_0x40f8fc-0xed,_0x1e1820-0x76);}function _0x4ea947(_0x1eab39,_0x4f1964,_0xea98aa,_0x3c7e71,_0x5080e8){return _0x35d7ca(_0x3c7e71- -0x34,_0x4f1964-0x135,_0xea98aa-0xe1,_0x1eab39,_0x5080e8-0x113);}function _0x2000bd(_0x5a418a,_0x168499,_0x1e76aa,_0x1bbd8d,_0xf8c2f1){return _0x49a953(_0x5a418a- -0xce,_0x168499-0x165,_0x168499,_0x1bbd8d-0x7d,_0xf8c2f1-0xb4);}function _0x518f3c(_0x11e51c,_0x312b24,_0x289502,_0x5844b3,_0x4bb7e6){return _0x35d7ca(_0x11e51c-0x338,_0x312b24-0x1d6,_0x289502-0x5a,_0x289502,_0x4bb7e6-0x178);}function _0x3042bc(_0x3f6441,_0x241587,_0x31afb5,_0x6559c,_0x351810){return _0x49a953(_0x3f6441- -0xec,_0x241587-0xaf,_0x241587,_0x6559c-0x147,_0x351810-0x11b);}var _0x210d0f={'eRdEZ':function(_0x4372da,_0x4b1812){function _0x148c43(_0x57c32b,_0x567a75,_0x2d2f4f,_0xcac2ec,_0x112996){return _0x1708(_0x2d2f4f- -0x22c,_0x112996);}return _0x32e590[_0x148c43(-0x19c,-0xe6,0xad,-0x1cb,'I2lY')](_0x4372da,_0x4b1812);},'IDyDy':_0x32e590[_0x518f3c(0x771,0x9f3,'8XjU',0x5ad,0x7d0)]};if(_0x32e590[_0x3042bc(0x294,'j4)m',0x102,0x24f,0x440)](_0x32e590[_0x3042bc(0x682,'I2lY',0x896,0x48d,0x595)],_0x32e590[_0xcf8801('(ZmM',-0x4d,0x25d,0x3cc,0x5d)]))return _0x37dfed[_0x4ea947('er&9',-0x5d,0x24,0x195,0x2d8)+'e'](_0x6f9b74);else{var _0x3d895c=_0x856579[_0x2000bd(0x7a9,'eYlR',0x9fd,0x5ec,0x6b9)][_0xcf8801('&&ia',0x148,0x2d2,0x33a,0x31f)](new RegExp(_0x32e590[_0x4ea947('(ZmM',-0xac,0x16,0x133,0x14c)](toRegExp,_0x322bf9[_0x2000bd(0x517,'V^f#',0x5fd,0x6a6,0x541)+_0x2000bd(0x5d2,'oj3Q',0x5ec,0x34d,0x3b5)]),'i'))[0x189*-0x7+-0x1385+0x1e44];if(!_0x3d895c){if(_0x32e590[_0x4ea947('mIMT',0x220,0xf5,0x336,0x2cb)](_0x32e590[_0x2000bd(0x3a0,'QZIq',0x325,0x30e,0x11e)],_0x32e590[_0x3042bc(0x335,'(#Ep',0x35d,0x407,0x2d8)])){_0x322bf9[_0x4ea947('jIFE',0x45b,0x415,0x5e6,0x67b)+'or']&&(_0x32e590[_0x3042bc(0x6a3,'j4)m',0x790,0x868,0x57f)](_0x32e590[_0x3042bc(0x3e1,')7XD',0x635,0x4a3,0x22d)],_0x32e590[_0x4ea947('8XjU',0x476,0x395,0x369,0x438)])?_0x322bf9[_0x2000bd(0x34d,'ShaW',0x597,0x223,0x47f)+'or'](_0x322bf9[_0x4ea947(')VD0',0x338,0x1db,0x454,0x564)],_0x32e590[_0x2000bd(0x55e,'jIFE',0x3e4,0x33f,0x5ce)]):(_0x3e917e[_0x2000bd(0x597,'htOQ',0x764,0x4da,0x469)](_0x32e590[_0x4ea947(')VD0',0x36b,0x40c,0x46f,0x340)](_0x32e590[_0x4ea947('jIFE',0x3e9,0x26b,0x44f,0x5cd)](_0x32e590[_0x4ea947('j4)m',0x33e,0x1b9,0x2d0,0x22b)](_0x198b0f,_0x32e590[_0x518f3c(0x480,0x58a,')7XD',0x698,0x705)](_0x23c44a[_0x4ea947('NSqq',0x844,0x480,0x592,0x5e4)](),_0x3d6310)),_0x32e590[_0x518f3c(0x6c7,0x6ca,'gWm$',0x5df,0x613)]),_0x414c61[_0x518f3c(0x5ad,0x53f,'jIFE',0x45e,0x678)+_0x4ea947('2E65',0x703,0x5ac,0x64f,0x5b6)])),_0x32e590[_0xcf8801('8okg',0x27f,0x49b,0x474,0x324)](_0x3a7e79,_0x549fac)));console[_0x2000bd(0x4ce,'ShaW',0x40e,0x31c,0x2da)](_0x32e590[_0x2000bd(0x55f,'8okg',0x594,0x35a,0x5c9)],_0x322bf9[_0x4ea947('NIbw',0x52d,0x575,0x4e6,0x789)+_0x3042bc(0x623,'QZIq',0x709,0x6ba,0x824)],_0x322bf9[_0x518f3c(0x654,0x710,'#oMo',0x796,0x8da)+_0xcf8801('hNZd',0x583,0x4b0,0x5f5,0x522)]);return;}else _0xae23aa[_0x518f3c(0x8b9,0x68e,'Vefs',0x93c,0xaa5)](_0x32e590[_0x2000bd(0x599,'gWm$',0x71b,0x5c1,0x41d)](_0x32e590[_0x518f3c(0x982,0xa4c,'NSqq',0xb0d,0x831)](_0x32e590[_0x3042bc(0x293,'R784',0x4c4,0x519,0x4b0)],_0x560241),')'));}_0x3d895c[_0x3042bc(0x69c,'7ci(',0x5d3,0x906,0x42c)](_0x322bf9[_0x518f3c(0x9b4,0xbe4,'eYlR',0x73f,0xa10)+_0xcf8801('zRu5',0xa6,0x12c,0x3cd,-0x17a)+'pe'])[_0x2000bd(0x69e,'%AbC',0x604,0x7c6,0x874)](function(_0x26cbed){function _0x4504da(_0x43a217,_0x20155a,_0xb49e47,_0x3bba25,_0x7e352b){return _0xcf8801(_0x7e352b,_0x20155a-0x41,_0x20155a-0x3,_0x3bba25-0x170,_0x7e352b-0x1a6);}function _0x4438a5(_0xddd462,_0x18cc15,_0x272a36,_0xbe0099,_0x528624){return _0x3042bc(_0x528624- -0x4e5,_0x18cc15,_0x272a36-0xbd,_0xbe0099-0x1ca,_0x528624-0x167);}function _0x40dd84(_0x468bf4,_0x3668c9,_0x35a5ab,_0x3f3ae9,_0xd07a88){return _0x2000bd(_0x35a5ab-0xe6,_0x3f3ae9,_0x35a5ab-0x1a,_0x3f3ae9-0xde,_0xd07a88-0x13e);}function _0x10ebab(_0x5ecd5d,_0x3dbb29,_0xa54471,_0x412d5a,_0x402722){return _0x2000bd(_0x412d5a-0xb8,_0x3dbb29,_0xa54471-0x1db,_0x412d5a-0xe0,_0x402722-0xcc);}function _0x3ee202(_0x3d5996,_0x472dea,_0x1af0ac,_0x51e2c0,_0x428b9e){return _0x4ea947(_0x428b9e,_0x472dea-0x15d,_0x1af0ac-0x7b,_0x51e2c0- -0x220,_0x428b9e-0xa);}if(_0x210d0f[_0x10ebab(0x2e9,'#oMo',0x681,0x4ae,0x21d)](_0x210d0f[_0x10ebab(0x269,'TWVs',0x4f3,0x3e0,0x52e)],_0x210d0f[_0x3ee202(0x4ae,0x1aa,0x425,0x3ab,'9cCJ')]))_0x322bf9[_0x40dd84(0x85f,0xa62,0x884,'Vefs',0x793)+'s']=-0x9*-0x3e+-0xf*0x277+0x2393,_0x322bf9[_0x4438a5(-0x3e5,')7XD',-0x375,-0x290,-0x153)+_0x3ee202(-0x12a,0x1fb,-0x2d1,-0x21,'gWm$')]=_0x26cbed,_0x322bf9[_0x3ee202(0x61a,0x2ed,0x587,0x3be,'Bch&')+'d'](),_0x26cbed=_0x322bf9=null;else return _0x350558=_0x339a2a[_0x2001cb],_0x47cc6c?_0x4dc8ee[_0x4504da(0x1cd,0x1aa,-0xa1,0x117,'4gF)')]:null;},function(_0xdbfcc9){function _0x473355(_0x18d94a,_0x455942,_0x42528a,_0x39dc64,_0x44e323){return _0x2000bd(_0x18d94a- -0x559,_0x455942,_0x42528a-0x72,_0x39dc64-0xc8,_0x44e323-0x1e2);}function _0x4b4c0a(_0x169ea7,_0x3306e5,_0x5ef260,_0x436de2,_0x2a8920){return _0x4ea947(_0x436de2,_0x3306e5-0xb8,_0x5ef260-0xed,_0x3306e5-0x273,_0x2a8920-0x42);}function _0x2fcca3(_0x56ec6e,_0x8bf7cf,_0x29d541,_0x14d57a,_0x4c9e9c){return _0x518f3c(_0x29d541- -0x332,_0x8bf7cf-0x62,_0x8bf7cf,_0x14d57a-0x1b5,_0x4c9e9c-0x19e);}function _0x3cb1aa(_0x2be225,_0x3b7c4a,_0x449810,_0x1895fc,_0x5b363e){return _0x518f3c(_0x1895fc- -0x5ea,_0x3b7c4a-0xb3,_0x449810,_0x1895fc-0x2f,_0x5b363e-0x16b);}function _0x2ac92c(_0x4ed7ed,_0x4d9c26,_0x3c898e,_0x4e4a2d,_0x2b87e9){return _0x4ea947(_0x4ed7ed,_0x4d9c26-0x1ce,_0x3c898e-0x4d,_0x3c898e-0x1ee,_0x2b87e9-0xc9);}_0x32e590[_0x4b4c0a(0x5fd,0x61d,0x74d,'#oMo',0x71f)](_0x32e590[_0x2ac92c('96gj',0x35a,0x489,0x723,0x1d6)],_0x32e590[_0x2ac92c('QZIq',0x562,0x748,0x93b,0x7eb)])?_0x44f5d4[_0x4b4c0a(0x506,0x41b,0x5a4,'zRu5',0x488)](_0x35465d,_0x16cc3c[_0x2fcca3(0xf7,'Bch&',0x263,0xcc,0xf1)+_0x4b4c0a(0x3a7,0x56e,0x5fd,'hNZd',0x2e7)],_0x17cf21[_0x4b4c0a(0x462,0x3b5,0x1ca,'(v0r',0x3ef)+_0x473355(0x16c,'Npkr',0xeb,0x28e,0xd8)]):(_0x322bf9[_0x2ac92c('eYlR',0x639,0x637,0x819,0x47f)+'or']&&(_0x32e590[_0x473355(-0x61,'(ZmM',-0x304,-0x2b5,0x53)](_0x32e590[_0x2ac92c('9cCJ',0x6d5,0x7b6,0xa5e,0x888)],_0x32e590[_0x473355(0x109,'Bch&',0x1a8,0x1c8,0x3b8)])?_0x4722f5[_0x2ac92c('][Za',0x698,0x5f0,0x62b,0x38f)](_0x21212e):_0x322bf9[_0x3cb1aa(-0x426,-0x31d,')7XD',-0x182,0x11f)+'or'](_0x322bf9[_0x4b4c0a(0x4bb,0x687,0x837,'htOQ',0x93e)],_0x32e590[_0x2fcca3(-0xde,'hNZd',0x189,0x1a2,0x16e)])),console[_0x2fcca3(0x51e,'96gj',0x37b,0x30a,0x30e)](_0x32e590[_0x3cb1aa(0x44,0x3fd,'(ZmM',0x166,0x117)],_0x322bf9[_0x3cb1aa(-0x37,-0x16,'$fb5',0x254,0x32f)+_0x473355(0x176,'zRu5',0x242,0xca,0x58)],_0x322bf9[_0x4b4c0a(0x552,0x561,0x449,'19%o',0x525)+_0x473355(-0x24,'R784',0x1e2,0x1e7,-0x1ff)],_0xdbfcc9));});}}),_0x856579[_0xe89451(-0x5b,-0xd2,'#oMo',0x21e,-0xb4)]=[];}},XMLHttpRequestZIP[_0x41eda9(0x85d,0x850,0x67a,'7ci(',0x5f8)+_0x178d3e(-0x1c9,0xc0,-0x2da,'gWm$',0x49)][_0x178d3e(-0xb0,0x33,0x1d8,'jIFE',0xcf)]=(function(){var _0xc5dd19={'KVbiK':_0xa61304[_0xf4e610('7ci(',0x94c,0x54c,0x567,0x6a1)],'cZsUY':_0xa61304[_0xf4e610('hNZd',0x50e,0x57e,0x6f9,0x522)],'zXcox':_0xa61304[_0x2a6641(0x224,'%AbC',0x1d0,0x78,0x168)],'bjCWs':function(_0x3b1ff4,_0x38f4f8){function _0x791c76(_0x50f17d,_0x4cd84b,_0x58fbaa,_0x3716bf,_0xa4c4e7){return _0x33307f(_0x58fbaa,_0x4cd84b-0xc4,_0x58fbaa-0x178,_0x3716bf-0x1dd,_0x4cd84b- -0x1c2);}return _0xa61304[_0x791c76(0x575,0x72f,'hNZd',0x7a4,0x9a9)](_0x3b1ff4,_0x38f4f8);},'xmJil':_0xa61304[_0xb73e36(0x26a,'NSqq',0x3d,-0x83,0x252)],'BNcQq':_0xa61304[_0x2a6641(0x361,'QZIq',0x1a3,0x34a,0x32b)],'zzVJm':_0xa61304[_0x2a6641(0x1aa,'aPOe',0x2a9,-0x36,0x128)],'NMKMe':_0xa61304[_0x3676d9(0x2e5,-0xa6,0x197,'hNZd',0x8a)],'vcnoW':function(_0x31e1e1,_0x5e0820){function _0x502a44(_0x11db4b,_0x2c2685,_0x3b7f48,_0x24699f,_0x251515){return _0xf4e610(_0x2c2685,_0x2c2685-0x7a,_0x3b7f48-0x16b,_0x24699f-0x1c8,_0x3b7f48- -0x2d5);}return _0xa61304[_0x502a44(0x20e,'mIMT',0xab,-0x146,-0x77)](_0x31e1e1,_0x5e0820);},'xoHUN':_0xa61304[_0x3676d9(0x3b9,0x2ee,0x515,'e&hm',0x468)],'kiUMK':_0xa61304[_0x2a6641(0x13b,'Vefs',-0xca,-0x101,0x127)],'vdFiC':_0xa61304[_0x2a6641(0x86,'JrCC',-0x61,-0x19d,0x2d7)],'LhALR':_0xa61304[_0x3676d9(0x7d8,0x6ec,0x524,'qQwm',0x2cf)],'ofnCx':function(_0x469ae5,_0x56e7bc){function _0x46ee0f(_0xba54ea,_0x37a95a,_0x27f1ed,_0x22341b,_0x34081f){return _0x2a6641(_0x37a95a-0x3b0,_0x27f1ed,_0x27f1ed-0x36,_0x22341b-0x1d8,_0x34081f-0x7b);}return _0xa61304[_0x46ee0f(0x6d3,0x78b,'][Za',0x4e9,0x6fa)](_0x469ae5,_0x56e7bc);},'FVZuu':function(_0x93e07,_0x371514){function _0x31fcbd(_0x4fec0f,_0x538906,_0x53164b,_0x3213e1,_0x510bb8){return _0x2a6641(_0x510bb8- -0x1f9,_0x4fec0f,_0x53164b-0xfb,_0x3213e1-0x1e4,_0x510bb8-0xc9);}return _0xa61304[_0x31fcbd('oj3Q',0x2d3,0x1ed,0x33a,0x150)](_0x93e07,_0x371514);},'ANxAz':_0xa61304[_0xf4e610('(rei',0x3fc,0x72d,0x85d,0x67f)],'edrHt':_0xa61304[_0x33307f('NIbw',0x2d9,0x373,0x2e6,0x551)],'UvZkJ':function(_0x19cac7,_0x52e3b9){function _0x5e1433(_0x656982,_0xa1b445,_0x160e95,_0x581d4e,_0xeb1947){return _0x3676d9(_0x656982-0x1f,_0xa1b445-0x2c,_0x581d4e-0xbc,_0x656982,_0xeb1947-0xb7);}return _0xa61304[_0x5e1433('Vefs',0x4cd,0x541,0x365,0x24c)](_0x19cac7,_0x52e3b9);},'bKLXi':_0xa61304[_0xb73e36(0x61,'#oMo',0x7f,0xd9,0x2c1)],'vIhLR':_0xa61304[_0xf4e610('I2lY',0x5d1,0x2bf,0x72e,0x520)],'mfIwe':function(_0x49a2bf,_0x2aea45){function _0x1d411b(_0x3338e1,_0x24b352,_0x210d7d,_0x2eeb2d,_0x5a981b){return _0xf4e610(_0x24b352,_0x24b352-0x17f,_0x210d7d-0x79,_0x2eeb2d-0xca,_0x210d7d- -0xf1);}return _0xa61304[_0x1d411b(0x3ac,'sW&e',0x4d5,0x5ca,0x235)](_0x49a2bf,_0x2aea45);},'GQvjW':_0xa61304[_0xf4e610('sW&e',0x65b,0x57c,0x40a,0x4f8)],'pmibc':_0xa61304[_0xf4e610('7ci(',0xa14,0x8d8,0x8e6,0x7fd)],'vPOLG':_0xa61304[_0x2a6641(0x2e9,'#oMo',0x3eb,0x2df,0x148)],'uFLtO':_0xa61304[_0xb73e36(-0x440,'4gF)',-0x1ae,-0x1b2,-0x43)],'vmVss':_0xa61304[_0xf4e610('7ci(',0x5f0,0x6b3,0x5c1,0x546)],'NZSdn':function(_0xad171f,_0x4f7ccf){function _0x4e4d97(_0x513a1d,_0x53313e,_0x183374,_0x34fd38,_0x545ea6){return _0xb73e36(_0x513a1d-0x99,_0x53313e,_0x545ea6-0x374,_0x34fd38-0x1c9,_0x545ea6-0x1d9);}return _0xa61304[_0x4e4d97(0x7e6,'$fb5',0x2df,0x562,0x579)](_0xad171f,_0x4f7ccf);},'xaeBC':_0xa61304[_0xf4e610('j4)m',0x314,0x265,0x4c5,0x511)],'WnpBy':_0xa61304[_0x2a6641(0x3c9,'j4)m',0x4b0,0x37e,0x304)],'OpPzQ':_0xa61304[_0x3676d9(0xca,0xe8,0x33e,'TWVs',0x28a)],'ZqYxR':_0xa61304[_0xf4e610('R784',0xa4c,0x5c1,0x82d,0x7f0)],'JkkwU':function(_0x16f51e,_0x375c4b){function _0xf09f24(_0x5eab3e,_0x10f360,_0x2fa91e,_0xa097e3,_0x51b442){return _0xf4e610(_0x5eab3e,_0x10f360-0x12e,_0x2fa91e-0x1b2,_0xa097e3-0x13,_0xa097e3-0x40);}return _0xa61304[_0xf09f24('9cCJ',0x576,0x4f7,0x60c,0x893)](_0x16f51e,_0x375c4b);},'pYtOn':function(_0x35ee0e,_0x2ff5f6){function _0x4ac09b(_0x97c04c,_0x2fb413,_0x44f997,_0x44f6da,_0x561f64){return _0x33307f(_0x97c04c,_0x2fb413-0x8c,_0x44f997-0x33,_0x44f6da-0xd7,_0x44f997- -0x2c);}return _0xa61304[_0x4ac09b('TWVs',0x77c,0x7e7,0x7a2,0x7a6)](_0x35ee0e,_0x2ff5f6);},'tdObv':_0xa61304[_0x3676d9(0x166,0x38d,0x1b5,'Vefs',0x1c1)],'EKLOW':function(_0x5b04dc,_0x16f368,_0x476142,_0x11a627,_0x3c22ad,_0x313e7d,_0x39b71e){function _0x4c1603(_0x2a863a,_0x15d779,_0x496ad2,_0x472a88,_0x5410f2){return _0xf4e610(_0x496ad2,_0x15d779-0x180,_0x496ad2-0x152,_0x472a88-0x10c,_0x15d779- -0x60c);}return _0xa61304[_0x4c1603(-0xc9,-0xc9,'oj3Q',-0x344,-0x88)](_0x5b04dc,_0x16f368,_0x476142,_0x11a627,_0x3c22ad,_0x313e7d,_0x39b71e);},'fxtpM':_0xa61304[_0x2a6641(0x209,'NIbw',-0xd,0x307,0x361)],'PwBeZ':_0xa61304[_0x33307f('&lKs',0x6fe,0x6af,0x6b9,0x680)],'kWzdN':function(_0x1f48aa,_0x1200fb){function _0x156998(_0x4a7a7c,_0x1a666a,_0x303334,_0x478299,_0xb673d1){return _0x3676d9(_0x4a7a7c-0x47,_0x1a666a-0xce,_0x478299- -0x2a7,_0x4a7a7c,_0xb673d1-0x12a);}return _0xa61304[_0x156998('e&hm',0xc7,0x426,0x29d,0x332)](_0x1f48aa,_0x1200fb);},'rdGiZ':_0xa61304[_0x2a6641(0x24d,'4gF)',0x105,0x3ac,0x3dd)],'XyzHd':_0xa61304[_0xb73e36(0x1b3,'JrCC',-0xd4,-0x218,0x3a)],'xuirF':function(_0x759baa,_0x9e9918){function _0x4be76b(_0x2f5bbc,_0x1b66c8,_0x16dada,_0x7b30a8,_0xcc62fd){return _0x33307f(_0x7b30a8,_0x1b66c8-0x17a,_0x16dada-0x15f,_0x7b30a8-0x1ce,_0x16dada- -0x5b);}return _0xa61304[_0x4be76b(0x9ab,0xa52,0x80e,'mIMT',0x9c3)](_0x759baa,_0x9e9918);},'fXkIQ':_0xa61304[_0x2a6641(0x2f8,'gWm$',0x2fe,0x116,0x4b0)],'Dsybq':_0xa61304[_0x2a6641(0x216,'8okg',0x80,0x80,0x3d4)],'zreFE':_0xa61304[_0x2a6641(0x1d7,'gWm$',0xf8,0x179,0x3bd)],'rxOcR':_0xa61304[_0x33307f('$fb5',0x7ab,0x73f,0x6f4,0x770)],'VTpxg':_0xa61304[_0x33307f('xxfO',0x5fa,0x4dc,0x222,0x478)],'hywrb':function(_0x4ebc1a,_0x10e8c6){function _0x11993d(_0x1cb39c,_0x508d88,_0x381fca,_0x456da2,_0x3c3071){return _0x3676d9(_0x1cb39c-0x159,_0x508d88-0xab,_0x381fca- -0x15b,_0x3c3071,_0x3c3071-0x137);}return _0xa61304[_0x11993d(0x13d,-0x111,0x84,-0x1dc,'96gj')](_0x4ebc1a,_0x10e8c6);},'etgTw':_0xa61304[_0x2a6641(0x386,'8XjU',0xff,0x376,0x320)],'vrxvs':_0xa61304[_0xb73e36(-0x1e4,'JrCC',0x9c,0x316,0x14a)],'gJdbN':_0xa61304[_0x33307f('%AbC',0x37a,0x522,0x549,0x46b)],'UwKSk':_0xa61304[_0x3676d9(0x7a9,0x6cf,0x5dc,'htOQ',0x523)],'Nndim':_0xa61304[_0xb73e36(-0x10,'VG3j',0x1ef,0x23e,0x3a2)],'ZDEGd':_0xa61304[_0xf4e610('NSqq',0x6d0,0x54f,0x3c9,0x51d)],'IcAEy':_0xa61304[_0xb73e36(-0x2c5,'Npkr',-0x12b,-0x358,0x14)],'DpIQV':_0xa61304[_0x2a6641(0x3f0,'R784',0x69b,0x389,0x17b)],'tctOX':_0xa61304[_0xf4e610('hNZd',0x5da,0x743,0x68a,0x72b)],'mkFdb':_0xa61304[_0xb73e36(-0x28a,'(rei',-0x10b,-0x2ea,-0x121)],'elBoq':_0xa61304[_0x33307f('(v0r',0x45c,0x2ce,0x3f6,0x585)],'CiEOD':_0xa61304[_0x33307f('xxfO',0x5c9,0x7db,0x5e8,0x85a)],'cDHCR':_0xa61304[_0xf4e610('#oMo',0x746,0x895,0x64f,0x650)],'NBKaE':function(_0x116c6c,_0x381d9d){function _0x5884b6(_0x46d9d2,_0x550d0a,_0x55fab1,_0x288b3e,_0x131af3){return _0x2a6641(_0x131af3-0x3b8,_0x288b3e,_0x55fab1-0x11e,_0x288b3e-0x111,_0x131af3-0x130);}return _0xa61304[_0x5884b6(0x1ce,0x592,0x557,'a8f[',0x3c1)](_0x116c6c,_0x381d9d);},'EDGsH':function(_0x13e5cd,_0x30f244){function _0xa1e21b(_0x3dd526,_0x11c206,_0x34582a,_0x47b4e7,_0x45044e){return _0xf4e610(_0x34582a,_0x11c206-0x1b1,_0x34582a-0xf9,_0x47b4e7-0xff,_0x45044e- -0xaf);}return _0xa61304[_0xa1e21b(0x5e9,0x422,'V^f#',0x66b,0x43e)](_0x13e5cd,_0x30f244);},'EUvaV':_0xa61304[_0xb73e36(0x1b3,'$fb5',-0x1,0x3e,-0x125)],'eWNNm':function(_0x111a06,_0x361f18){function _0x2e507(_0x49049b,_0x1582d6,_0x53b19f,_0x216f35,_0x318484){return _0xf4e610(_0x216f35,_0x1582d6-0x1ed,_0x53b19f-0x141,_0x216f35-0x148,_0x53b19f- -0x173);}return _0xa61304[_0x2e507(-0xa7,-0x66,0x1dd,'Npkr',0x481)](_0x111a06,_0x361f18);},'bBHfb':_0xa61304[_0x3676d9(0x290,0x32e,0x490,'er&9',0x251)],'UWdTl':_0xa61304[_0x3676d9(0x424,0x733,0x48d,'96gj',0x624)],'vGvex':_0xa61304[_0xb73e36(0xc,'sW&e',-0x13d,-0x3d2,-0x2d0)],'ITIxp':_0xa61304[_0xf4e610('#oMo',0x41b,0x751,0x385,0x4f2)],'hafyV':_0xa61304[_0x33307f('96gj',0x9a8,0x9f9,0xbc5,0x94c)],'Grjxl':_0xa61304[_0x3676d9(-0x46,0x321,0xc9,'j4)m',0x1f9)],'iueHS':_0xa61304[_0xb73e36(0x4aa,'(v0r',0x249,0x178,0x12d)],'bzdmV':function(_0x3dc9a2,_0x1ac04a){function _0xcb8ff1(_0x1a9640,_0x24f14f,_0x372530,_0x353329,_0x2a046d){return _0x33307f(_0x24f14f,_0x24f14f-0x149,_0x372530-0x19a,_0x353329-0x114,_0x372530- -0x5f9);}return _0xa61304[_0xcb8ff1(0x390,'7ci(',0x2ca,0x340,0x376)](_0x3dc9a2,_0x1ac04a);},'RWsAN':_0xa61304[_0xf4e610('#oMo',0x64c,0x6bc,0x8ac,0x768)],'tIhBW':function(_0x5147f7,_0x46a34d){function _0x423715(_0x228388,_0x1f9b8a,_0x3d2881,_0x537d0b,_0x1ef990){return _0x3676d9(_0x228388-0x2f,_0x1f9b8a-0x39,_0x1f9b8a- -0x1fe,_0x3d2881,_0x1ef990-0xe7);}return _0xa61304[_0x423715(-0x1ec,0x54,'(v0r',0x1d0,-0x1e3)](_0x5147f7,_0x46a34d);},'unvis':_0xa61304[_0x33307f('j4)m',0x4e7,0x59f,0x9ab,0x75b)],'HSCQU':function(_0x49d926,_0x4474b6){function _0x3f3256(_0x5ada05,_0x52d5b5,_0x4e4e51,_0x2c0af5,_0x4e0bdf){return _0x2a6641(_0x2c0af5-0xf3,_0x52d5b5,_0x4e4e51-0x5d,_0x2c0af5-0x13d,_0x4e0bdf-0x18b);}return _0xa61304[_0x3f3256(0x599,'Bch&',0x774,0x508,0x277)](_0x49d926,_0x4474b6);},'giTTO':_0xa61304[_0x33307f('Vefs',0x4d1,0x46b,0x3ce,0x482)],'Whbwa':_0xa61304[_0x33307f('gWm$',0x6e7,0x529,0x8db,0x691)],'uPvju':_0xa61304[_0xb73e36(0x77,'Vefs',-0x7a,-0x2e9,0x16b)],'fygIQ':function(_0x15de48,_0x49ec71){function _0x465b43(_0x1247a4,_0x1f5969,_0x21c5ae,_0x25ec06,_0x22b5e0){return _0xb73e36(_0x1247a4-0x6,_0x25ec06,_0x1247a4-0x2bb,_0x25ec06-0x171,_0x22b5e0-0x16);}return _0xa61304[_0x465b43(0x1ca,0x2f2,0x16b,'S6Fc',0x11d)](_0x15de48,_0x49ec71);},'HrhuZ':_0xa61304[_0xf4e610('%AbC',0x5b8,0x51d,0x27f,0x341)],'NClGE':_0xa61304[_0x33307f('JrCC',0x9aa,0x9aa,0x714,0x957)],'SDnui':_0xa61304[_0x33307f('&lKs',0x490,0x5ad,0x6ff,0x5a3)],'aZjxO':_0xa61304[_0xb73e36(-0x21,'xxfO',0x1e0,0x2a5,0x424)],'lGdXO':_0xa61304[_0x33307f('NIbw',0x966,0x7e4,0xb74,0x919)],'rGsTs':_0xa61304[_0x33307f('8okg',0x8bb,0x764,0xa82,0x8ee)],'wzxvw':_0xa61304[_0x33307f('xxfO',0x442,0x679,0x4b6,0x4d8)],'Nmuej':_0xa61304[_0x3676d9(0x667,0x212,0x415,'7ci(',0x591)],'nSVRM':_0xa61304[_0xf4e610('(ZmM',0x58f,0xaa5,0x96a,0x809)],'TkdaH':_0xa61304[_0xb73e36(-0x47,'zRu5',-0x73,-0x19d,0xf2)],'ZWWwU':_0xa61304[_0x3676d9(0x182,0x335,0x2b7,'NSqq',0xd2)],'Lbpph':_0xa61304[_0x3676d9(0x342,0x42,0x2b1,'oj3Q',0xb1)],'CkLdb':function(_0x2eee6c,_0x14eba8){function _0x59e9b8(_0x46082e,_0x29e2be,_0x341594,_0x5bffb5,_0x189747){return _0xf4e610(_0x29e2be,_0x29e2be-0x1b6,_0x341594-0xa8,_0x5bffb5-0x1e0,_0x46082e- -0x2e6);}return _0xa61304[_0x59e9b8(0x280,'a8f[',0x4da,-0x13,0x16c)](_0x2eee6c,_0x14eba8);},'dxyMq':function(_0x206276){function _0x2b351d(_0x1cdab0,_0x3415d7,_0x25fc53,_0x485d35,_0x4ee434){return _0x2a6641(_0x4ee434- -0x121,_0x25fc53,_0x25fc53-0xd7,_0x485d35-0x26,_0x4ee434-0x11);}return _0xa61304[_0x2b351d(-0x114,0x13a,'(ZmM',0x8e,-0x108)](_0x206276);},'jmfvF':function(_0x51aef6,_0x307a31){function _0xff2508(_0x382aa1,_0x1cf94d,_0x10b14f,_0x842472,_0x6a31f){return _0xf4e610(_0x382aa1,_0x1cf94d-0x101,_0x10b14f-0x180,_0x842472-0x38,_0x6a31f- -0x72);}return _0xa61304[_0xff2508('Npkr',0x32,0x2e2,0x48d,0x2c3)](_0x51aef6,_0x307a31);},'JIxQB':_0xa61304[_0xf4e610('e&hm',0x304,0x6c9,0x73f,0x588)],'wPagi':_0xa61304[_0x2a6641(0x2a1,'#oMo',0x524,0x2ef,0x421)],'TaPyd':_0xa61304[_0x33307f('&lKs',0x672,0x6e1,0x96e,0x907)],'lXngt':function(_0x180498,_0x4eec7d){function _0x50bc3b(_0x58bc26,_0x2e0190,_0x283fb9,_0x41643a,_0x3bd822){return _0x33307f(_0x2e0190,_0x2e0190-0xce,_0x283fb9-0x195,_0x41643a-0x1ba,_0x283fb9- -0x72b);}return _0xa61304[_0x50bc3b(0x33,'er&9',-0x1a,0x117,-0x18e)](_0x180498,_0x4eec7d);},'tpKyJ':_0xa61304[_0x2a6641(0x44f,'e&hm',0x2f1,0x47b,0x471)],'tmIlx':_0xa61304[_0xf4e610('Bch&',0x658,0x8a4,0xa24,0x817)],'SGRdk':function(_0x6e109d,_0xb6f8ce){function _0x3e1eb8(_0x4cb21c,_0x5b49ca,_0x355b3d,_0x18f4c2,_0x398014){return _0x3676d9(_0x4cb21c-0x17c,_0x5b49ca-0x1be,_0x18f4c2- -0x3ac,_0x5b49ca,_0x398014-0x10c);}return _0xa61304[_0x3e1eb8(0x1f7,'Vefs',0x85,0x39,-0x76)](_0x6e109d,_0xb6f8ce);},'OWjTX':_0xa61304[_0xf4e610('][Za',0x401,0x7f4,0x6b4,0x5bb)],'cPqia':_0xa61304[_0x2a6641(0x1f1,'e&hm',0x49e,0x441,0x3c)],'uUdPL':_0xa61304[_0xf4e610('TWVs',0x28d,0x58b,0x4b5,0x4bd)],'GCTOs':function(_0x199b85,_0x1ef63f){function _0x1710a1(_0x4ea474,_0x13efa0,_0x2368e1,_0x33f23b,_0x47b5cc){return _0xb73e36(_0x4ea474-0x196,_0x47b5cc,_0x2368e1-0x6ab,_0x33f23b-0x5c,_0x47b5cc-0x104);}return _0xa61304[_0x1710a1(0x68b,0x7fe,0x633,0x3f9,'htOQ')](_0x199b85,_0x1ef63f);},'BjfIs':_0xa61304[_0x2a6641(0xb9,'Bch&',-0x58,0x189,0x127)]};function _0xf4e610(_0x255ab9,_0x56a5ab,_0x9d611c,_0x128a83,_0x51fdea){return _0x178d3e(_0x51fdea-0x54f,_0x56a5ab-0x90,_0x9d611c-0x16a,_0x255ab9,_0x51fdea-0x1e8);}function _0x33307f(_0x284157,_0x40a753,_0x14f0cb,_0x8c00a3,_0x35eba0){return _0x61aade(_0x284157,_0x40a753-0x183,_0x14f0cb-0xc1,_0x8c00a3-0x128,_0x35eba0-0x6cd);}var _0x272c8a=[],_0x2d821d=_0x272c8a[_0xf4e610('hNZd',0x4a2,0x225,0x3ed,0x448)]()[_0xb73e36(0x348,'eYlR',0x2ca,0x407,0x548)+'t']([_0xa61304[_0x33307f('Npkr',0x8cb,0x68d,0xa17,0x7cf)],_0xa61304[_0x33307f('8okg',0x94e,0x6e2,0xae8,0x899)]]),_0x2f01d4={};_0x2f01d4[_0x33307f('TWVs',0x649,0x84e,0x661,0x6fa)]='Bb';function _0xb73e36(_0x29de2f,_0x5b6193,_0x3e41ce,_0xd3f78e,_0x1eca38){return _0x922d43(_0x29de2f-0x156,_0x5b6193,_0x3e41ce-0x22,_0x3e41ce- -0x253,_0x1eca38-0x1ce);}var _0x12e30e=_0x2f01d4;_0x2d821d[_0x2a6641(0xdd,'(#Ep',0x35,0x2e9,0x36f)+'ch'](function(_0x3757e9){function _0x1756a2(_0x2d798c,_0x34f373,_0x2d6860,_0x32bef7,_0x27a576){return _0xf4e610(_0x2d6860,_0x34f373-0x157,_0x2d6860-0x17b,_0x32bef7-0xfc,_0x2d798c- -0x5c2);}function _0x417b9b(_0x69d56c,_0x18065d,_0x2450d0,_0xeda9f,_0x4e1c80){return _0xb73e36(_0x69d56c-0x77,_0x18065d,_0xeda9f-0x9b,_0xeda9f-0x170,_0x4e1c80-0x1af);}function _0x5a9ad9(_0x27cf5a,_0x5c2dd1,_0x2d918c,_0x584d0e,_0x1da4b1){return _0xf4e610(_0x2d918c,_0x5c2dd1-0x117,_0x2d918c-0x97,_0x584d0e-0xed,_0x27cf5a- -0x429);}function _0x446f62(_0x5ab02,_0x3a7f43,_0x5d1fd4,_0xe73411,_0x4b998c){return _0x33307f(_0xe73411,_0x3a7f43-0x1e5,_0x5d1fd4-0x93,_0xe73411-0xfc,_0x4b998c- -0x44);}if(_0xa61304[_0x1756a2(0x12c,0x3d9,'&lKs',0x14a,0x309)](_0xa61304[_0x1756a2(-0x187,-0x2f0,'I2lY',0x119,-0x3b2)],_0xa61304[_0x5a9ad9(0x11,0x19d,'mIMT',0x1a7,0x6)])){var _0x3270ec=_0x12e30e[_0x3757e9]||_0x3757e9;System[_0x3270ec]=self[_0x3757e9];}else _0x249243[_0x417b9b(0x96,'NIbw',-0x19b,0x1f,-0xd2)](_0xd98f5);}),_0x272c8a[_0x3676d9(0x326,0x517,0x483,')VD0',0x1cc)+'ch'](function(_0x896f35){var _0x29de2b={};function _0x173ddb(_0x40634e,_0x29d506,_0x121d73,_0x4ea8ab,_0x36824e){return _0xf4e610(_0x29d506,_0x29d506-0xf6,_0x121d73-0x183,_0x4ea8ab-0x10,_0x121d73- -0x233);}function _0x5cd1c3(_0x4b1d6f,_0x176656,_0x1199c9,_0x958f2c,_0x7b5518){return _0x2a6641(_0x1199c9-0x413,_0x4b1d6f,_0x1199c9-0xb4,_0x958f2c-0x1a8,_0x7b5518-0x1d8);}function _0x274e53(_0x458479,_0x43f692,_0x315da7,_0x6b36f3,_0x1e32dc){return _0xb73e36(_0x458479-0xdd,_0x458479,_0x6b36f3-0x4c2,_0x6b36f3-0x170,_0x1e32dc-0x177);}_0x29de2b[_0x173ddb(0x2cf,'VG3j',0x11c,0x2ed,-0xc4)]=_0xa61304[_0x173ddb(0x61f,'][Za',0x3a7,0x17a,0x417)];function _0x14a008(_0x1a164b,_0x2bbabc,_0x52cc4b,_0x18f21f,_0x157afd){return _0x2a6641(_0x157afd-0xb0,_0x2bbabc,_0x52cc4b-0xf,_0x18f21f-0x2b,_0x157afd-0xc9);}var _0x11401a=_0x29de2b;function _0x292702(_0x5c10fb,_0x13a8cf,_0x2db7cb,_0x55a34f,_0x291c8b){return _0xf4e610(_0x5c10fb,_0x13a8cf-0x136,_0x2db7cb-0xa7,_0x55a34f-0xf4,_0x291c8b- -0x2bf);}_0xa61304[_0x274e53('9cCJ',0x5d0,0x9b7,0x777,0x92f)](_0xa61304[_0x173ddb(0x218,'VG3j',0x15d,0x2ca,0x408)],_0xa61304[_0x274e53('TWVs',0x480,0x551,0x4ef,0x63f)])?self[_0x896f35]=null:_0x4c8a1d[_0x5cd1c3('][Za',0x98b,0x719,0x653,0x4e6)](_0x11401a[_0x173ddb(0x633,'NIbw',0x4bf,0x342,0x426)],_0x27c7a5[_0x292702('R784',0x482,0x60a,0x1ff,0x3b5)+_0x173ddb(0x4d1,'QZIq',0x4e0,0x3fd,0x6c1)],_0x46ffbb);});function _0x3676d9(_0x21dcd9,_0x53aaab,_0xef8efd,_0x1f8b6b,_0x72b13a){return _0x3122ed(_0x21dcd9-0xe4,_0x53aaab-0x84,_0xef8efd-0xae,_0xef8efd-0x2b9,_0x1f8b6b);}var _0x35c66b=new RegExp(_0xa61304[_0x33307f('#oMo',0x9ba,0x691,0x9f8,0x79b)],'i'),_0xd6759c=new RegExp(_0xa61304[_0xb73e36(0x1b3,')7XD',-0xbe,-0xd7,-0x174)],'i'),_0x5532da=_0xa61304[_0xb73e36(-0xee,'QZIq',0x17c,0x20b,-0x135)];function _0x2a6641(_0x28305e,_0x2c042d,_0xcc5887,_0x10815d,_0x4b96ec){return _0x3122ed(_0x28305e-0x1d8,_0x2c042d-0x1b2,_0xcc5887-0x14f,_0x28305e-0x203,_0x2c042d);}var _0x21051a=_0xa61304[_0x33307f('8XjU',0x6b1,0x659,0x9eb,0x73d)];return function(){function _0x485587(_0x5eafd4,_0x57d1cd,_0x2b134c,_0x308e1a,_0x560490){return _0xb73e36(_0x5eafd4-0x174,_0x5eafd4,_0x560490-0x11,_0x308e1a-0x9c,_0x560490-0x2d);}function _0x17c249(_0xf36099,_0x1372ac,_0x3bb357,_0x11f670,_0x23051b){return _0xf4e610(_0x23051b,_0x1372ac-0x16e,_0x3bb357-0x147,_0x11f670-0x67,_0x1372ac- -0x23e);}var _0x5256d3={'QEhiL':_0xc5dd19[_0x368de1(0x920,0x99a,0x6ee,'VG3j',0x872)],'SThQO':function(_0x4175c1,_0x5d53ce){function _0x31d512(_0x440622,_0x5a691c,_0x4f1610,_0xa403b,_0x3f4320){return _0x368de1(_0x440622-0x1db,_0x5a691c-0xf7,_0xa403b- -0x3c3,_0x5a691c,_0x3f4320-0x47);}return _0xc5dd19[_0x31d512(0x117,'xxfO',0x5c7,0x362,0x2cc)](_0x4175c1,_0x5d53ce);},'SXWzk':_0xc5dd19[_0x17c249(0x30b,0x1e3,0x164,0x3d2,'ShaW')],'XDmqj':_0xc5dd19[_0x17c249(0x478,0x40c,0x3bd,0x658,'9cCJ')],'iqRRm':_0xc5dd19[_0x20ff78('e&hm',0x3f0,-0x5d,0x141,0x14a)],'kSUpW':_0xc5dd19[_0x17c249(0x61c,0x48c,0x554,0x6e6,'V^f#')],'pWYOi':function(_0x276bd4,_0x1f57b5){function _0x1c7259(_0x102278,_0x28ab3a,_0xa89908,_0x1b66db,_0x2168b6){return _0x368de1(_0x102278-0x52,_0x28ab3a-0x141,_0x28ab3a- -0x6c1,_0x1b66db,_0x2168b6-0x57);}return _0xc5dd19[_0x1c7259(0x24d,0x78,0x27d,'(rei',-0x8a)](_0x276bd4,_0x1f57b5);},'kxGua':function(_0x4b4c13,_0x1b7817){function _0x1747dc(_0x4f0d17,_0x1f9abc,_0x25544d,_0x32e010,_0x56d3e0){return _0x20ff78(_0x25544d,_0x1f9abc-0x12a,_0x25544d-0x1c2,_0x32e010-0x1c1,_0x56d3e0-0x543);}return _0xc5dd19[_0x1747dc(0x80c,0x890,'aPOe',0x758,0x834)](_0x4b4c13,_0x1b7817);},'DyMwH':_0xc5dd19[_0x20ff78('jIFE',0x156,0x359,0x72,0xa8)],'WrVQG':_0xc5dd19[_0x485587('er&9',0x26d,0xce,0x2ca,0x300)],'jAjSw':function(_0x3d5f0f,_0x28343a){function _0x158eed(_0x14bc9c,_0x28fe43,_0x5bac2a,_0x4ef0f3,_0x3954bc){return _0x17c249(_0x14bc9c-0x145,_0x3954bc-0x397,_0x5bac2a-0x64,_0x4ef0f3-0x11f,_0x28fe43);}return _0xc5dd19[_0x158eed(0x707,'2E65',0x6a0,0x6ef,0x506)](_0x3d5f0f,_0x28343a);},'UgGCb':_0xc5dd19[_0x5c8606(-0xdb,0x10a,'aPOe',-0x196,-0x201)],'cVnup':_0xc5dd19[_0x485587('aPOe',0x354,0x407,0xca,0x215)],'vjkqm':function(_0x315484,_0x58000b){function _0x275612(_0x4fd6b6,_0x1a1a14,_0x2fd384,_0x205f80,_0x1cd812){return _0x20ff78(_0x4fd6b6,_0x1a1a14-0x17f,_0x2fd384-0x15d,_0x205f80-0x1e,_0x2fd384- -0x31);}return _0xc5dd19[_0x275612('qQwm',0x256,0xe5,0xbf,0x338)](_0x315484,_0x58000b);},'JibGC':_0xc5dd19[_0x368de1(0x882,0x855,0x737,'(v0r',0x94d)],'xiMoQ':_0xc5dd19[_0x20ff78('hNZd',0x182,-0x187,-0x28b,-0x74)],'ffcjG':_0xc5dd19[_0x20ff78('#oMo',0x36d,-0x8e,0x3c,0x101)],'eeQRv':_0xc5dd19[_0x17c249(0x382,0x20f,0x474,0xb3,'$fb5')],'HLBqL':_0xc5dd19[_0x368de1(0x953,0x9ef,0x8c5,'qQwm',0x862)],'Pygvg':_0xc5dd19[_0x20ff78('#oMo',-0x104,-0x294,-0x2b0,-0x25)],'wPlWf':_0xc5dd19[_0x5c8606(0x3fc,0x68f,'96gj',0x1c2,0x4af)],'WWjDi':function(_0x46bfa8,_0x27acd0){function _0x21a3e4(_0x43c666,_0x43755c,_0x2f3418,_0x5912a6,_0x2f0e8d){return _0x485587(_0x2f0e8d,_0x43755c-0xbf,_0x2f3418-0x18a,_0x5912a6-0x55,_0x43c666-0x556);}return _0xc5dd19[_0x21a3e4(0x484,0x2c4,0x6be,0x56e,'8okg')](_0x46bfa8,_0x27acd0);},'nLEbj':_0xc5dd19[_0x17c249(0x623,0x65a,0x71d,0x7e9,'2E65')],'BdkVT':_0xc5dd19[_0x5c8606(0x363,0x335,'9cCJ',0x2fb,0x430)],'MZxJE':_0xc5dd19[_0x485587('V^f#',0x1c8,0x452,0x163,0x207)],'OOEqk':_0xc5dd19[_0x20ff78('xxfO',-0x26c,-0x2f2,0xbf,-0x8d)],'axCxV':function(_0x3c995a,_0x19633b){function _0x46ab7d(_0x562399,_0x23a8ba,_0x2bbe14,_0x4b4685,_0x4029f1){return _0x17c249(_0x562399-0x9c,_0x4b4685-0x362,_0x2bbe14-0x1ae,_0x4b4685-0x78,_0x562399);}return _0xc5dd19[_0x46ab7d('96gj',0x4d7,0x5a9,0x4cf,0x784)](_0x3c995a,_0x19633b);},'EmNGp':function(_0x159d76,_0x2f5897){function _0x103f44(_0x21fe16,_0x4a432d,_0x5c9d7c,_0x76682a,_0xc935b3){return _0x17c249(_0x21fe16-0x118,_0x21fe16-0x320,_0x5c9d7c-0x1ce,_0x76682a-0x155,_0xc935b3);}return _0xc5dd19[_0x103f44(0x561,0x6fd,0x438,0x2e4,'QZIq')](_0x159d76,_0x2f5897);},'mVEsP':function(_0x528e10,_0x570658){function _0x4291b4(_0x470c94,_0x593469,_0x57238d,_0x81a4b8,_0xac2e1){return _0x368de1(_0x470c94-0x14d,_0x593469-0x1ac,_0x470c94- -0x453,_0xac2e1,_0xac2e1-0xb0);}return _0xc5dd19[_0x4291b4(0x328,0x48c,0x272,0x5c0,'a8f[')](_0x528e10,_0x570658);},'eYdfU':_0xc5dd19[_0x17c249(0x4dc,0x39b,0x42a,0x1b1,'8XjU')],'bRhBz':function(_0x2ca2d1,_0x590c14,_0x5112ab,_0x4164a0,_0x23f5af,_0x4b7ff9,_0x21f2e0){function _0x222c59(_0x2bb43f,_0x1c631c,_0x5e9d65,_0x21ab91,_0x1d6ead){return _0x485587(_0x2bb43f,_0x1c631c-0x13d,_0x5e9d65-0x6d,_0x21ab91-0x1d8,_0x1c631c-0xe3);}return _0xc5dd19[_0x222c59('a8f[',-0xc9,-0x161,0x110,-0x297)](_0x2ca2d1,_0x590c14,_0x5112ab,_0x4164a0,_0x23f5af,_0x4b7ff9,_0x21f2e0);},'mOvPI':function(_0x3cf63f,_0x305406){function _0x3501ed(_0x50bc67,_0xb1f152,_0x43a954,_0x32cc08,_0x5ebecd){return _0x485587(_0xb1f152,_0xb1f152-0xa0,_0x43a954-0x79,_0x32cc08-0x2d,_0x43a954-0x677);}return _0xc5dd19[_0x3501ed(0x681,'JrCC',0x71d,0x94f,0x76c)](_0x3cf63f,_0x305406);},'jLpOt':_0xc5dd19[_0x20ff78('(v0r',0x2da,-0x71,0x287,0x12b)],'ZETBu':_0xc5dd19[_0x17c249(0x204,0x30d,0x161,0x341,'NIbw')],'YhxEJ':function(_0x1d26ed,_0x21f68f){function _0x3dfeda(_0x2a83b5,_0x8b9c6f,_0x5eb8cd,_0x596bd3,_0xe53741){return _0x5c8606(_0x8b9c6f- -0x127,_0x8b9c6f-0x127,_0x5eb8cd,_0x596bd3-0x17e,_0xe53741-0x7);}return _0xc5dd19[_0x3dfeda(-0x2af,-0x1fb,'sW&e',-0x2e9,-0x2a)](_0x1d26ed,_0x21f68f);},'hOBcl':_0xc5dd19[_0x485587('7ci(',0x72,0x46,0x292,0x11d)],'jbdKn':_0xc5dd19[_0x368de1(0xa24,0x9b5,0x8d2,'Vefs',0xa46)],'ywCsZ':function(_0x4c3b1e,_0x318962){function _0x1e7155(_0x1069a6,_0x3a142a,_0x9b94d,_0x395b80,_0x4a5aa1){return _0x20ff78(_0x1069a6,_0x3a142a-0x19b,_0x9b94d-0x104,_0x395b80-0x1d6,_0x3a142a-0x5dc);}return _0xc5dd19[_0x1e7155('4gF)',0x702,0x811,0x9a7,0x8d9)](_0x4c3b1e,_0x318962);},'TjuMj':_0xc5dd19[_0x485587('Bch&',0x33e,-0x81,0x2d2,0x14e)],'RXDGc':_0xc5dd19[_0x368de1(0x406,0x621,0x4dd,'(v0r',0x378)],'KkUbt':_0xc5dd19[_0x20ff78('htOQ',0x327,-0xfe,0x16a,0x17a)],'qbVSj':_0xc5dd19[_0x5c8606(0x1c3,0x58,'Vefs',0x130,-0xb)],'etqgC':function(_0x2fc225,_0xd9013c){function _0x128b36(_0x2a756a,_0x5ee278,_0x43c542,_0x4072f8,_0x2cc99d){return _0x20ff78(_0x43c542,_0x5ee278-0x3,_0x43c542-0x130,_0x4072f8-0x1d1,_0x4072f8-0x30b);}return _0xc5dd19[_0x128b36(0x86e,0x446,'8XjU',0x678,0x8ca)](_0x2fc225,_0xd9013c);},'gwHpN':_0xc5dd19[_0x17c249(0x514,0x265,0x43f,0x9d,'xxfO')],'VtJqU':_0xc5dd19[_0x485587('xxfO',0x1bc,0xac,-0xe6,0xda)],'BEbiJ':function(_0x5639af,_0x46ff3f){function _0x262a04(_0x3e5e71,_0x5d07c5,_0x1822ec,_0x13f4c0,_0x12d14a){return _0x485587(_0x1822ec,_0x5d07c5-0xe0,_0x1822ec-0x90,_0x13f4c0-0x19,_0x5d07c5-0xa6);}return _0xc5dd19[_0x262a04(-0xfd,-0x46,'(ZmM',0xee,0x24e)](_0x5639af,_0x46ff3f);},'LkbQJ':_0xc5dd19[_0x368de1(0x3d5,0x3ab,0x631,'8XjU',0x3cf)],'mAIqN':_0xc5dd19[_0x20ff78('V^f#',0x5bd,0x166,0x21b,0x342)],'qbvmF':_0xc5dd19[_0x485587('(#Ep',0x87,0xf2,0x36,-0x48)],'xKGnd':_0xc5dd19[_0x368de1(0x353,0x594,0x3fc,'7ci(',0x2d6)],'DAbUK':_0xc5dd19[_0x5c8606(0x142,0x3a8,'Vefs',-0x153,-0x11)],'hCxNa':_0xc5dd19[_0x485587('#oMo',0x38,0x1ec,0x89,-0x4e)],'SSXLw':_0xc5dd19[_0x20ff78('htOQ',0x10f,-0x346,-0x65,-0x125)],'HFIVo':function(_0x52f9b3,_0xe399be){function _0x7d4495(_0x202611,_0x2dc32e,_0x3c1c94,_0x5a0cd5,_0x2a0dc3){return _0x368de1(_0x202611-0x53,_0x2dc32e-0xd1,_0x202611- -0x284,_0x3c1c94,_0x2a0dc3-0x35);}return _0xc5dd19[_0x7d4495(0x2da,0x30c,'V^f#',0x280,0x41a)](_0x52f9b3,_0xe399be);},'BHPAR':_0xc5dd19[_0x17c249(0x1b8,0x41b,0x4de,0x353,'sW&e')],'YZupg':_0xc5dd19[_0x368de1(0xa14,0xb9f,0x901,'TWVs',0x892)],'XzpNn':function(_0xd4c6fc,_0xb9d03b){function _0x2e1c73(_0x2ed75e,_0x459bf9,_0x2992dc,_0x5807bc,_0x5e3ff3){return _0x17c249(_0x2ed75e-0x153,_0x5e3ff3- -0x3e1,_0x2992dc-0xaa,_0x5807bc-0x83,_0x2ed75e);}return _0xc5dd19[_0x2e1c73('Vefs',0x2dd,-0xea,-0x160,0x13e)](_0xd4c6fc,_0xb9d03b);},'FzMie':_0xc5dd19[_0x485587('7ci(',-0x106,-0x112,0x28b,0xba)],'nBfwL':_0xc5dd19[_0x5c8606(0x8f,0x331,'NSqq',0x158,0x105)],'HrmOH':function(_0x2bfd8d,_0x2427a2){function _0x18a668(_0x4a9413,_0x52a012,_0x55018a,_0x2f1711,_0x2ed921){return _0x368de1(_0x4a9413-0xf6,_0x52a012-0x6f,_0x52a012- -0x44b,_0x55018a,_0x2ed921-0x1f4);}return _0xc5dd19[_0x18a668(0x17b,0x339,'][Za',0xcf,0x26d)](_0x2bfd8d,_0x2427a2);},'crbQY':_0xc5dd19[_0x5c8606(0x317,0x21d,'htOQ',0x27f,0x4eb)],'riQmX':_0xc5dd19[_0x485587('jIFE',0x1b2,0x6a,0x29,0x16f)],'GoHTz':function(_0x547f0d,_0x3c829a){function _0x17ff3f(_0x28ea6a,_0x497862,_0x3ab567,_0x2578ea,_0x958d43){return _0x17c249(_0x28ea6a-0x1ee,_0x497862-0x359,_0x3ab567-0xe6,_0x2578ea-0x82,_0x28ea6a);}return _0xc5dd19[_0x17ff3f('Vefs',0x97d,0xa63,0xb2e,0xb78)](_0x547f0d,_0x3c829a);},'VFUGC':function(_0x4e5596,_0x4b0596){function _0x116f36(_0x533938,_0x196023,_0x452899,_0x1c94f5,_0x1afa5e){return _0x5c8606(_0x452899-0x307,_0x196023-0x1b6,_0x533938,_0x1c94f5-0x13a,_0x1afa5e-0x1de);}return _0xc5dd19[_0x116f36('(#Ep',0x492,0x748,0x4d8,0x7fa)](_0x4e5596,_0x4b0596);},'UxgxP':_0xc5dd19[_0x17c249(0x306,0x1a3,-0x88,0x278,'aPOe')],'SaSVx':function(_0xc68b2a,_0x2f2afb){function _0x1c176e(_0x4a82d3,_0x333082,_0x339442,_0x37ede5,_0x29d3fb){return _0x5c8606(_0x333082-0x4e,_0x333082-0x7b,_0x29d3fb,_0x37ede5-0x131,_0x29d3fb-0x8);}return _0xc5dd19[_0x1c176e(0x308,0x63,0x251,-0x1b0,'Vefs')](_0xc68b2a,_0x2f2afb);},'UYqat':_0xc5dd19[_0x5c8606(0x2c9,0x563,'zRu5',0x93,0x4ed)],'Injyz':_0xc5dd19[_0x368de1(0x392,0x6a4,0x424,'I2lY',0x2c4)],'nrdVc':_0xc5dd19[_0x20ff78(')VD0',0x497,0x27b,0x139,0x32f)],'vtjcI':_0xc5dd19[_0x5c8606(-0x11,-0xeb,'(rei',0x40,0xae)],'jHkby':_0xc5dd19[_0x5c8606(0x1f,0x153,'8XjU',-0x1d7,0x192)],'ptaxA':_0xc5dd19[_0x20ff78('sW&e',0x4ac,0x493,0x31b,0x38c)],'hmLyI':_0xc5dd19[_0x20ff78('(ZmM',0x3b6,0x1e9,0x5e8,0x35b)],'cfFdS':function(_0xe9d81b,_0x43d3e8){function _0x528b39(_0xa4b4c3,_0x2204e6,_0x4d06da,_0x50c5e1,_0x18e212){return _0x5c8606(_0x50c5e1-0x4be,_0x2204e6-0xf8,_0x18e212,_0x50c5e1-0x47,_0x18e212-0x5e);}return _0xc5dd19[_0x528b39(0x62e,0x6c8,0x464,0x6e5,'j4)m')](_0xe9d81b,_0x43d3e8);},'wxXpn':_0xc5dd19[_0x20ff78('(#Ep',-0x95,-0xb7,0x3dd,0x1f3)],'zjCVZ':function(_0x2b2266,_0x207b23){function _0x423eef(_0x382f2f,_0x7d7b0c,_0x155beb,_0x8183df,_0x114197){return _0x5c8606(_0x114197- -0x12c,_0x7d7b0c-0xfc,_0x382f2f,_0x8183df-0x1,_0x114197-0x68);}return _0xc5dd19[_0x423eef('JrCC',0x2a6,0x3c4,0xd5,0x328)](_0x2b2266,_0x207b23);},'TKJWC':_0xc5dd19[_0x368de1(0x9eb,0x6b5,0x948,'&lKs',0xbe5)],'DIOBx':function(_0xba47f1,_0x109a53){function _0x3b04ee(_0x980636,_0x4c8030,_0x264e1c,_0x2bd181,_0x4e3a54){return _0x20ff78(_0x4e3a54,_0x4c8030-0x158,_0x264e1c-0x122,_0x2bd181-0x1c2,_0x4c8030- -0x1a1);}return _0xc5dd19[_0x3b04ee(-0x140,-0x23,0x265,-0x17c,'htOQ')](_0xba47f1,_0x109a53);},'WoFNs':_0xc5dd19[_0x5c8606(0x2d6,0x2c4,'S6Fc',0x3f7,0x359)],'RtMHE':_0xc5dd19[_0x17c249(0x60,0x264,0xa6,0x38f,'Bch&')],'AcGeO':_0xc5dd19[_0x485587('(ZmM',0x2de,0x106,0x2cb,0x329)],'JlMnI':function(_0x3e95c9,_0x257c1a){function _0x3a7a7a(_0x29602b,_0x1c7009,_0x3a99c2,_0x7748d1,_0x3b5874){return _0x5c8606(_0x29602b-0x14d,_0x1c7009-0x12f,_0x7748d1,_0x7748d1-0xe1,_0x3b5874-0x64);}return _0xc5dd19[_0x3a7a7a(0xac,-0x5a,0x2ff,'VG3j',-0x98)](_0x3e95c9,_0x257c1a);},'AJFDu':_0xc5dd19[_0x368de1(0x503,0x563,0x654,'2E65',0x829)],'sNNNT':_0xc5dd19[_0x20ff78('sW&e',0x605,0x264,0x22a,0x398)],'OrQZE':_0xc5dd19[_0x5c8606(0x125,-0x14e,'7ci(',0x210,0x34c)],'vGcWQ':_0xc5dd19[_0x17c249(0x610,0x4ee,0x73c,0x61b,'jIFE')],'pkEON':_0xc5dd19[_0x20ff78('gWm$',0x15d,-0x22a,-0x1a7,-0x24)],'lbbnW':_0xc5dd19[_0x20ff78('(ZmM',0x1b8,0x1d7,0x35a,0x1f1)],'lypVD':_0xc5dd19[_0x485587('Npkr',-0x1df,0x17d,0x282,-0x2)],'HAuCx':_0xc5dd19[_0x17c249(0x317,0x4cb,0x43b,0x234,'96gj')],'npPNL':_0xc5dd19[_0x368de1(0x323,0x314,0x48c,'(v0r',0x359)],'urDgj':function(_0x59197a,_0x3d3564){function _0x47a2c7(_0x541129,_0x4e3ae8,_0x26ccbb,_0x12095a,_0x375941){return _0x17c249(_0x541129-0x57,_0x4e3ae8- -0xe2,_0x26ccbb-0x8d,_0x12095a-0x10a,_0x12095a);}return _0xc5dd19[_0x47a2c7(0x33,0x230,0xe3,'NSqq',0x272)](_0x59197a,_0x3d3564);},'HDRYR':_0xc5dd19[_0x17c249(0x7b4,0x5d7,0x7f1,0x718,'VG3j')],'TCNjm':_0xc5dd19[_0x368de1(0x85f,0x8a1,0x89a,'%AbC',0x65e)],'ovGYY':_0xc5dd19[_0x5c8606(0x89,0xb0,'zRu5',0x127,0x275)]},_0x53aff=this,_0x5e2786;function _0x20ff78(_0x3013de,_0x182387,_0x677bb9,_0x3280f8,_0x15db10){return _0xb73e36(_0x3013de-0xd5,_0x3013de,_0x15db10-0xe8,_0x3280f8-0xe5,_0x15db10-0x1e4);}var _0xc8f088,_0x4cc5f3,_0xe82e87;function _0x5c8606(_0x53ce16,_0x5e24c7,_0x51f0f8,_0x96e4b5,_0x216488){return _0xf4e610(_0x51f0f8,_0x5e24c7-0x11e,_0x51f0f8-0x120,_0x96e4b5-0x135,_0x53ce16- -0x43c);}function _0x368de1(_0x4702fc,_0x42db01,_0x47d357,_0x12a1fa,_0x3265f9){return _0x33307f(_0x12a1fa,_0x42db01-0x79,_0x47d357-0x96,_0x12a1fa-0x18a,_0x47d357- -0x65);}function _0x3b6fc8(_0x99057,_0x3a4a8d,_0x440ba7,_0x4a6a0e,_0x2e9325,_0x36d7ca){function _0x57adb0(_0x3f020d,_0x4c89f5,_0x25b4ec,_0x520634,_0x349641){return _0x5c8606(_0x4c89f5-0x114,_0x4c89f5-0x186,_0x25b4ec,_0x520634-0x161,_0x349641-0x166);}function _0x388207(_0x51215b,_0x94c20c,_0x5401a1,_0x4e3fe2,_0xa383e4){return _0x5c8606(_0x5401a1-0x4e,_0x94c20c-0x1c6,_0x94c20c,_0x4e3fe2-0x1ed,_0xa383e4-0x120);}function _0x171bc2(_0x5d8621,_0x2b9e78,_0x1adb6c,_0xa1e1f,_0x563688){return _0x5c8606(_0x1adb6c- -0xc,_0x2b9e78-0x16e,_0xa1e1f,_0xa1e1f-0x1cf,_0x563688-0x140);}function _0x83bdd5(_0x1afba3,_0x590eb0,_0x3390d3,_0x3304ec,_0x53ef57){return _0x17c249(_0x1afba3-0x1ea,_0x53ef57- -0x198,_0x3390d3-0x1c7,_0x3304ec-0xe0,_0x590eb0);}function _0x520316(_0xca7011,_0x2140d1,_0x358f78,_0x1a2f04,_0x2726ea){return _0x368de1(_0xca7011-0xcd,_0x2140d1-0xf1,_0x2726ea- -0x8c,_0x358f78,_0x2726ea-0xf3);}var _0x1e8a76={'thAhn':_0x5256d3[_0x57adb0(-0x1ad,0x14,'VG3j',0x131,-0x1e6)],'hyfjn':_0x5256d3[_0x57adb0(0x3e1,0x1ad,'sW&e',0x6b,0xbd)],'QnYqD':function(_0x1e4b4e,_0x5da128){function _0x44389e(_0x190444,_0x4f6e55,_0x5b3101,_0x3be768,_0x4f332e){return _0x57adb0(_0x190444-0x87,_0x5b3101-0x40f,_0x3be768,_0x3be768-0x1d3,_0x4f332e-0x36);}return _0x5256d3[_0x44389e(0x3b2,0x401,0x537,'][Za',0x665)](_0x1e4b4e,_0x5da128);},'JbHpr':_0x5256d3[_0x57adb0(0x20f,0x189,')7XD',-0x72,0x3a0)],'TPpUE':function(_0x2f88f4,_0x589fc4){function _0x292b12(_0x1b6dba,_0x11bed5,_0x3f7974,_0x501caa,_0x258267){return _0x171bc2(_0x1b6dba-0x7b,_0x11bed5-0x1b4,_0x1b6dba-0xa0,_0x11bed5,_0x258267-0x10c);}return _0x5256d3[_0x292b12(0x3bd,'j4)m',0x65d,0x1d1,0x58c)](_0x2f88f4,_0x589fc4);},'AxsxE':_0x5256d3[_0x388207(0x6d,'96gj',0x135,0x398,0x1d9)],'ekxLn':_0x5256d3[_0x171bc2(0x38,-0x88,0x126,'TWVs',0x19b)],'wFxHX':function(_0x466cad,_0x25fc87){function _0x2d71cd(_0x4fe1d8,_0x1526e2,_0x3f726d,_0x36a81a,_0x56a986){return _0x520316(_0x4fe1d8-0xc2,_0x1526e2-0x1ba,_0x1526e2,_0x36a81a-0x13c,_0x56a986- -0x13e);}return _0x5256d3[_0x2d71cd(0xeb,'mIMT',0x4d1,0x1c0,0x2b5)](_0x466cad,_0x25fc87);},'EuWSM':_0x5256d3[_0x57adb0(0x14b,0x291,'(#Ep',0x348,0x2d)],'KDvdq':_0x5256d3[_0x388207(0x503,'Npkr',0x3ae,0x1b7,0x132)],'vZUWC':function(_0xd8e7c,_0x49b7a3){function _0x3f0788(_0x1c346d,_0x2e6fa6,_0x541652,_0x266390,_0x5e8cfa){return _0x83bdd5(_0x1c346d-0x32,_0x541652,_0x541652-0x1cb,_0x266390-0x17a,_0x266390-0xbc);}return _0x5256d3[_0x3f0788(0xe2,0x93,'(#Ep',0xe7,0x2dd)](_0xd8e7c,_0x49b7a3);},'PqOdp':function(_0x5b7951,_0x25e761){function _0x2d92ef(_0x2703c5,_0x2b4bcb,_0x18d183,_0x6c8a73,_0x132e43){return _0x83bdd5(_0x2703c5-0xe4,_0x6c8a73,_0x18d183-0xa4,_0x6c8a73-0x147,_0x2b4bcb- -0x268);}return _0x5256d3[_0x2d92ef(-0x82,0x234,-0x38,'xxfO',0xc2)](_0x5b7951,_0x25e761);},'TkJfj':_0x5256d3[_0x83bdd5(0x290,'e&hm',0x401,0x24b,0x35d)],'AuZhe':_0x5256d3[_0x520316(0x633,0x798,'xxfO',0x686,0x6c8)],'KNjpv':function(_0x2c1050,_0x14925e){function _0x16290c(_0x35c43d,_0x4bc24d,_0x52aade,_0x1ef3ed,_0x5f5a92){return _0x388207(_0x35c43d-0x6c,_0x35c43d,_0x1ef3ed-0x220,_0x1ef3ed-0x28,_0x5f5a92-0x115);}return _0x5256d3[_0x16290c('(ZmM',0x4e9,0x4bd,0x644,0x8cd)](_0x2c1050,_0x14925e);},'pYPoM':_0x5256d3[_0x83bdd5(0x233,'zRu5',0x1c8,0x24e,0x9b)],'otynY':function(_0x3243f2,_0x57d5b0,_0x3fc461,_0x9f129f,_0x2cf652,_0x1e2e6a,_0x5c1fb7){function _0x5085e0(_0x1d3265,_0x4dd0c1,_0x1443d7,_0x4c8b3f,_0x457d29){return _0x57adb0(_0x1d3265-0x198,_0x4dd0c1-0x2cd,_0x1443d7,_0x4c8b3f-0x115,_0x457d29-0x5a);}return _0x5256d3[_0x5085e0(0x6a1,0x48f,'zRu5',0x60e,0x525)](_0x3243f2,_0x57d5b0,_0x3fc461,_0x9f129f,_0x2cf652,_0x1e2e6a,_0x5c1fb7);}};if(_0x5256d3[_0x388207(0xa3,'e&hm',0x232,0x211,-0x58)](_0x5256d3[_0x388207(0x10b,'oj3Q',-0x98,-0x267,-0x84)],_0x5256d3[_0x388207(0x1f7,'Bch&',0x136,0xd2,-0x24)])){const _0x53968a=new _0x18d6e0(_0x5256d3[_0x520316(0x78c,0x7d1,'NSqq',0x2a2,0x53a)]);return function(_0x54adc2){function _0x1e83cf(_0x42ba30,_0x179c96,_0x4e3fa4,_0x5bf168,_0x4a6f04){return _0x520316(_0x42ba30-0x10,_0x179c96-0x159,_0x5bf168,_0x5bf168-0x1ab,_0x4a6f04- -0x4d4);}return _0x53968a[_0x1e83cf(-0xa9,-0x2a4,0x128,'zRu5',-0x16)+'e'](_0x54adc2);};}else{if(_0x5256d3[_0x520316(0x8a6,0x818,'htOQ',0x779,0x869)](_0x5256d3[_0x520316(0x527,0x5f3,'NIbw',0x3f2,0x53c)],self)&&_0x440ba7){if(_0x5256d3[_0x520316(0x599,0x8dc,'8okg',0x8af,0x7a2)](_0x5256d3[_0x83bdd5(0x44c,'NIbw',0x284,0x422,0x495)],_0x5256d3[_0x83bdd5(0x19e,'2E65',0x463,0x2f7,0x38c)]))SystemAnimator_caches[_0x57adb0(0x406,0x26a,'96gj',0x304,0x15f)](_0x3a4a8d)[_0x388207(0x258,'JrCC',0x397,0x605,0x277)](function(_0x52d3b3){function _0x1b47b1(_0x542957,_0x4f5756,_0x5e3855,_0x595a1e,_0x4a8feb){return _0x57adb0(_0x542957-0x12a,_0x4a8feb-0x264,_0x595a1e,_0x595a1e-0x18e,_0x4a8feb-0x175);}function _0x9cbbdd(_0x201641,_0x4fa28c,_0x561bd2,_0x28e91c,_0x5b1bb0){return _0x520316(_0x201641-0x4d,_0x4fa28c-0x15f,_0x28e91c,_0x28e91c-0x195,_0x561bd2- -0x1e6);}var _0x261d14={'YFxfO':function(_0x13c45f,_0x4308fa){function _0x32b565(_0x4d49fb,_0xef8624,_0x5a3380,_0x3548c7,_0x564371){return _0x1708(_0x5a3380- -0x20e,_0x4d49fb);}return _0x5256d3[_0x32b565('gWm$',0x2c9,0x135,-0xf3,0x30f)](_0x13c45f,_0x4308fa);},'EXvDV':_0x5256d3[_0x1b47b1(0x77c,0x79b,0x6e9,'TWVs',0x66c)],'mxTQW':_0x5256d3[_0x31c510(0x382,0x561,0x79b,0x7e5,'&lKs')],'pZZHC':_0x5256d3[_0x1b47b1(0x27c,0x20c,0x2d2,'ShaW',0x32e)],'RwHdh':_0x5256d3[_0x9cbbdd(0x204,0x5ac,0x36d,'NSqq',0xe1)],'WASFo':function(_0x404b44,_0x44a853){function _0x411017(_0x229bfe,_0x97a1d7,_0x445666,_0x264aec,_0xff5b12){return _0x31c510(_0x229bfe-0xcf,_0xff5b12- -0x734,_0x445666-0x1c4,_0x264aec-0x69,_0x97a1d7);}return _0x5256d3[_0x411017(-0x60,'I2lY',0x1e3,0x2e0,0x17d)](_0x404b44,_0x44a853);}};function _0x3335c5(_0x28fdc,_0xc7c77e,_0x442d2e,_0xe55c9b,_0x3205ef){return _0x388207(_0x28fdc-0x1cb,_0x3205ef,_0xe55c9b-0x2bb,_0xe55c9b-0xff,_0x3205ef-0x1b2);}function _0x31c510(_0x41df25,_0x193a05,_0x3877dd,_0x3f5fba,_0x32772d){return _0x388207(_0x41df25-0x1d4,_0x32772d,_0x193a05-0x526,_0x3f5fba-0x182,_0x32772d-0x2);}function _0x2e083f(_0xec2517,_0x44dcb0,_0x526487,_0x2fdaee,_0x2259ca){return _0x83bdd5(_0xec2517-0x26,_0x526487,_0x526487-0x4,_0x2fdaee-0x46,_0x2259ca- -0x1b);}if(_0x5256d3[_0x3335c5(0x457,0x5ba,0x12a,0x330,'jIFE')](_0x5256d3[_0x31c510(0x764,0x735,0x5f1,0x9ed,'8XjU')],_0x5256d3[_0x31c510(0x74c,0x729,0x58b,0x9ad,'aPOe')]))_0x52d3b3?_0x5256d3[_0x2e083f(0x233,0x21d,'7ci(',-0x52,0x208)](_0x5256d3[_0x1b47b1(0x867,0x819,0x3ce,'Npkr',0x5d2)],_0x5256d3[_0x3335c5(0x7ad,0x58e,0x4db,0x57b,'ShaW')])?_0x52d3b3[_0x5256d3[_0x9cbbdd(0x6aa,0x3a2,0x5a7,'&lKs',0x37f)](_0x4a6a0e,_0x5256d3[_0x3335c5(0x761,0x6cf,0x740,0x5e5,')VD0')])&&_0x5256d3[_0x2e083f(-0x23,0x74,'7ci(',0x35e,0x250)]||_0x4a6a0e]()[_0x3335c5(0x54a,0x545,0x577,0x4d7,'htOQ')](function(_0x58d3ac){function _0x341394(_0x165a91,_0x3d40f7,_0x5e60ef,_0xfb0865,_0x5e15c4){return _0x9cbbdd(_0x165a91-0x4b,_0x3d40f7-0x1cc,_0x5e60ef- -0x16,_0x3d40f7,_0x5e15c4-0x9);}function _0x42bbd6(_0x259d0d,_0x52fa76,_0x42964a,_0xf616b1,_0x22d3b6){return _0x2e083f(_0x259d0d-0x45,_0x52fa76-0xa1,_0x52fa76,_0xf616b1-0x15,_0x22d3b6-0x15e);}function _0x4197ba(_0x1519c9,_0x37e535,_0x2598a0,_0x513c17,_0x5e87c9){return _0x31c510(_0x1519c9-0x42,_0x2598a0- -0xcf,_0x2598a0-0x18,_0x513c17-0x17a,_0x37e535);}function _0x56aae2(_0x347c0c,_0x1b64a2,_0x1a5ca0,_0x5ccac6,_0x44348b){return _0x3335c5(_0x347c0c-0x4,_0x1b64a2-0x137,_0x1a5ca0-0x133,_0x347c0c- -0x485,_0x5ccac6);}function _0x34680d(_0x456814,_0x357e20,_0xceae50,_0xd1bdd,_0x32d3e6){return _0x3335c5(_0x456814-0x1b3,_0x357e20-0x15e,_0xceae50-0x191,_0x456814-0x1,_0x32d3e6);}if(_0x261d14[_0x56aae2(-0x44,0xf1,-0x130,'%AbC',0x119)](_0x261d14[_0x42bbd6(0x1df,'S6Fc',0x19c,0x177,0x31f)],_0x261d14[_0x4197ba(0x5e2,'gWm$',0x4f0,0x4bc,0x431)])){var _0x2d7fc2={};_0x2d7fc2[_0x42bbd6(0x1e2,'e&hm',0x5df,0x381,0x357)+'s']=_0x52d3b3[_0x56aae2(0x2df,0x288,0x404,'gWm$',0x30b)+'s'],_0x2d7fc2[_0x42bbd6(0x2d1,'8okg',0x381,0x27a,0x183)+_0x4197ba(0x609,'NIbw',0x5a6,0x6d9,0x4cd)]=_0x52d3b3[_0x42bbd6(0x273,')VD0',0x5c6,0x27a,0x4e9)+_0x56aae2(-0x20a,-0x153,-0x3f6,'j4)m',-0x24f)],_0x2d7fc2[_0x56aae2(0x62,0x267,0x293,'sW&e',0x22e)+_0x42bbd6(0x597,'eYlR',0x54d,0x3a1,0x3cd)]=_0x58d3ac,_0xc8f088=_0x2d7fc2,console[_0x56aae2(-0x112,-0xa,-0x33d,'Npkr',-0xe5)](_0x261d14[_0x4197ba(0x284,'TWVs',0x517,0x7cb,0x48d)],_0x52d3b3[_0x56aae2(-0x61,0x37,0x18e,'8okg',-0x26)]),_0x2e9325[_0x4197ba(0x588,'er&9',0x573,0x5f9,0x5d3)](_0xc8f088);}else _0x2a5451[_0xa23314[_0x341394(0x587,'er&9',0x566,0x637,0x4d3)+_0x4197ba(0x778,'a8f[',0x591,0x461,0x4d8)]][_0x42bbd6(0x6d0,'eYlR',0x7b0,0x4ed,0x5e8)]=_0x3a9ba7,_0x5cfc8b[_0x34680d(0x714,0x78a,0x7af,0x8b5,')VD0')+'de']();}):(_0x1e064e[_0x9cbbdd(0x2cf,0x387,0x17f,'][Za',0x3d5)+_0x9cbbdd(-0x4c,0x427,0x1c6,'e&hm',0x131)]=this[_0x31c510(0x27f,0x493,0x721,0x4c3,'$fb5')+_0x3335c5(0x243,0x460,0x40a,0x41a,'ShaW')],_0xb55e9f[_0x3335c5(0x2a1,0x357,0x6e3,0x542,'&&ia')+'s']=-0xa31*-0x2+-0x7*-0x475+0x2fd*-0x11,_0x37685b[_0x3335c5(0x65f,0x62c,0x5c3,0x49a,'V^f#')+'d'](),_0x16b4f9[_0x1b47b1(0x858,0x4a8,0x4dd,'Bch&',0x6fe)+_0x9cbbdd(0x5de,0x485,0x4ca,'I2lY',0x334)]=_0x351a38=_0x2923fc=null):_0x5256d3[_0x9cbbdd(0xea,0x2c5,0x39b,'(rei',0x262)](_0x5256d3[_0x31c510(0x74f,0x7b9,0x686,0x98d,'$fb5')],_0x5256d3[_0x31c510(0xaee,0x94c,0x80e,0x7c1,'j4)m')])?_0x5256d3[_0x9cbbdd(0x413,0xe9,0x393,'#oMo',0x430)](fetch,SystemAnimator_caches[_0x3335c5(0x750,0x40c,0x697,0x5ab,'#oMo')+'st'](_0x3a4a8d))[_0x9cbbdd(0x700,0x6b3,0x5ef,'&lKs',0x6ab)](function(_0x4c13a8){function _0x51542f(_0x3c1495,_0x3f2a23,_0x4e97b9,_0x33943d,_0x236f4d){return _0x9cbbdd(_0x3c1495-0x1ab,_0x3f2a23-0xc4,_0x3c1495- -0x29a,_0x3f2a23,_0x236f4d-0x1f3);}function _0x1f0456(_0x308dc1,_0x5b6b91,_0x5c80e7,_0x5905fb,_0x2acf04){return _0x2e083f(_0x308dc1-0x128,_0x5b6b91-0x1d7,_0x5c80e7,_0x5905fb-0xf0,_0x5b6b91-0x3d2);}function _0x1f00fe(_0x57840a,_0x3cf936,_0x1f4686,_0x5c6400,_0x3b5cc7){return _0x3335c5(_0x57840a-0x132,_0x3cf936-0xfe,_0x1f4686-0x17c,_0x3cf936-0x17f,_0x5c6400);}function _0x56abbe(_0x4d2e2a,_0x5db20f,_0xc2e74d,_0x52138e,_0x47ebab){return _0x3335c5(_0x4d2e2a-0x1c0,_0x5db20f-0x80,_0xc2e74d-0xd,_0x5db20f- -0x266,_0x52138e);}function _0x143244(_0x26c7d4,_0x2d8bad,_0x3ecf96,_0x8b88e8,_0x36481d){return _0x1b47b1(_0x26c7d4-0x1d0,_0x2d8bad-0xb0,_0x3ecf96-0x1e9,_0x26c7d4,_0x8b88e8- -0x35f);}var _0xdfbb5d={'JCtCe':_0x1e8a76[_0x51542f(0x383,'(rei',0x5d9,0x3f6,0x411)],'jeFWq':_0x1e8a76[_0x1f00fe(0x4e4,0x77d,0x7a2,'VG3j',0x703)],'BhNlp':function(_0xddfbc2,_0x5c5420){function _0x4136ab(_0x1e1ddf,_0x14473c,_0x1454ce,_0x385688,_0x5673df){return _0x51542f(_0x14473c-0x1ac,_0x1454ce,_0x1454ce-0xb2,_0x385688-0x1c7,_0x5673df-0x105);}return _0x1e8a76[_0x4136ab(0x91,0x2c1,'#oMo',0x79,0x102)](_0xddfbc2,_0x5c5420);},'FlQMU':_0x1e8a76[_0x1f00fe(0xb51,0x8a9,0x78e,'I2lY',0x9ac)]};if(_0x1e8a76[_0x1f00fe(0x5da,0x5e3,0x6c2,'qQwm',0x424)](_0x1e8a76[_0x1f0456(0x7d9,0x74c,'NIbw',0x826,0x68b)],_0x1e8a76[_0x143244('S6Fc',0x1a6,0x31a,0x72,0x6c)]))_0x2cb4dc[_0x1f0456(0x29d,0x36b,'&&ia',0x5f6,0x4f3)+'or'](_0x4668a0[_0x143244('(ZmM',0x13a,0x159,0x56,0x285)],_0xdfbb5d[_0x143244('R784',0x177,0x472,0x2d7,0x53)]);else{if(!_0x4c13a8['ok']){if(_0x1e8a76[_0x143244('xxfO',0x255,-0x29b,-0x19,-0x54)](_0x1e8a76[_0x1f0456(0x671,0x86d,'gWm$',0x7b9,0x692)],_0x1e8a76[_0x1f00fe(0x899,0x776,0x8eb,'#oMo',0x98c)])){let _0x2e2e1b=_0x156bc2[_0x1f00fe(0x301,0x49e,0x329,'][Za',0x2ea)+_0x1f00fe(0x3eb,0x5fc,0x486,'QZIq',0x4cd)+'bj'][this[_0x1f0456(0xaff,0x854,'e&hm',0x86c,0x924)+_0x1f0456(0x5c3,0x873,'2E65',0xa1c,0x5de)]];if(_0x2e2e1b){_0x475017[_0x51542f(0x361,'er&9',0x57c,0x19f,0x4fa)](_0x261d14[_0x1f0456(0x4de,0x77b,'eYlR',0x936,0x9e4)],this[_0x1f00fe(0x710,0x4d0,0x4af,'jIFE',0x5af)+_0x56abbe(-0x7a,0x1de,0x2b2,'NSqq',0x37c)]),_0x47b36c[this[_0x1f00fe(0x493,0x6f6,0x6d2,'(ZmM',0x717)+_0x1f0456(0x4a4,0x6b9,'(v0r',0x57f,0x6ad)]]={'zip':null,'xhr':[this]},new _0x438460[(_0x143244('7ci(',-0xb0,-0x93,-0x89,-0x78))]()[_0x56abbe(0x52e,0x2da,0x140,'(rei',0x503)+_0x143244('sW&e',0x2a8,-0xf9,0x136,0x155)](_0x2e2e1b,_0x4d9171)[_0x143244('&&ia',-0x2d5,-0x172,-0x61,0x1d5)](function(_0x30ec7c){function _0x160756(_0xaf9462,_0x21778e,_0xb654,_0x1e1617,_0x5ebc8d){return _0x56abbe(_0xaf9462-0x1c1,_0x21778e-0x3f5,_0xb654-0x33,_0x5ebc8d,_0x5ebc8d-0x13f);}function _0x14382a(_0x5680e3,_0xcffdd9,_0x27ec55,_0x474dac,_0x79b982){return _0x56abbe(_0x5680e3-0xe,_0x474dac- -0x26f,_0x27ec55-0x183,_0xcffdd9,_0x79b982-0x1b5);}_0x2a9cdb[_0x12d8ca[_0x22fe8e(0x6c4,0x678,0x5a9,'][Za',0x54f)+_0x22fe8e(0x7e1,0x5c5,0x434,'8XjU',0x876)]][_0x36c12e(0x229,'(rei',0xa2,0x4fa,0x2d8)]=_0x30ec7c;function _0x22fe8e(_0x23da6b,_0x58f669,_0x10fe5d,_0x24a049,_0x301068){return _0x143244(_0x24a049,_0x58f669-0x1af,_0x10fe5d-0xff,_0x58f669-0x2d7,_0x301068-0x37);}function _0x36c12e(_0x2a5a69,_0x3e45ab,_0x1ccb34,_0x565929,_0x308ee0){return _0x51542f(_0x308ee0-0x34b,_0x3e45ab,_0x1ccb34-0x10b,_0x565929-0x15d,_0x308ee0-0x91);}_0x4b0d43[_0x160756(0x557,0x62a,0x6e2,0x888,'oj3Q')+'de']();},function(_0x284196){function _0x8cad(_0x9e12ad,_0x39978e,_0x4a5338,_0x1b7423,_0x3ecdca){return _0x56abbe(_0x9e12ad-0x4a,_0x4a5338- -0x143,_0x4a5338-0x12b,_0x1b7423,_0x3ecdca-0x6);}function _0x59ae1e(_0x4da117,_0x3a1744,_0x5f21cd,_0x37235a,_0x336252){return _0x1f0456(_0x4da117-0x9b,_0x37235a- -0x489,_0x3a1744,_0x37235a-0x1e5,_0x336252-0x108);}function _0x5b2e7d(_0x1f2242,_0x4d87a0,_0x2f0325,_0x1cd6b6,_0x4721fd){return _0x56abbe(_0x1f2242-0x1e7,_0x2f0325- -0xda,_0x2f0325-0x1df,_0x4721fd,_0x4721fd-0x1c6);}function _0x247bd8(_0x51bb52,_0x3745ac,_0x1886e5,_0x503925,_0x5d707b){return _0x1f0456(_0x51bb52-0x1f3,_0x3745ac- -0x1e,_0x51bb52,_0x503925-0x117,_0x5d707b-0x125);}_0x1c8242[_0x8cad(0x12a,0x3c0,0x273,'NSqq',0x300)](_0xdfbb5d[_0x8cad(0x17c,0x1fc,0x3b2,'96gj',0x2cd)],_0x2da63e[_0x8cad(0x102,0x1db,0x295,'&lKs',0x243)+_0x59ae1e(0x52b,'19%o',0x15d,0x3df,0x484)],_0x284196);});return;}}else throw _0x1e8a76[_0x1f0456(0x790,0x7a8,'][Za',0x6f9,0x6ca)](Error,_0x4c13a8[_0x1f00fe(0x771,0x76b,0x83e,')7XD',0x5b3)+_0x56abbe(0x2c2,0x15,-0xc9,'j4)m',-0x7e)]);}_0x4c13a8[_0x1f00fe(0x2ec,0x484,0x1f5,'xxfO',0x50b)]()[_0x1e8a76[_0x1f00fe(0x6f9,0x6a0,0x49f,'(#Ep',0x54f)](_0x4a6a0e,_0x1e8a76[_0x143244('NIbw',-0x15a,-0x181,-0xae,-0x33c)])&&_0x1e8a76[_0x56abbe(0x478,0x4b9,0x608,'96gj',0x619)]||_0x4a6a0e]()[_0x143244('hNZd',0x5ca,0x518,0x355,0x32f)](function(_0x264d02){function _0x4dfe49(_0x40d984,_0x29f438,_0x12c511,_0x4d2ff0,_0x5b3014){return _0x143244(_0x12c511,_0x29f438-0x180,_0x12c511-0x181,_0x29f438-0x12f,_0x5b3014-0x1ad);}function _0x17433c(_0x128d6d,_0x1e8d2c,_0x3c878b,_0x5cbd36,_0x1efd30){return _0x1f0456(_0x128d6d-0x11a,_0x128d6d- -0xdc,_0x5cbd36,_0x5cbd36-0x153,_0x1efd30-0xfd);}function _0xa16439(_0x44375c,_0x37446a,_0x177daa,_0xb3e62d,_0x31b61b){return _0x56abbe(_0x44375c-0x7,_0x31b61b-0x150,_0x177daa-0x1,_0x37446a,_0x31b61b-0x91);}function _0x6580cc(_0x46ce57,_0x548ec4,_0x305b4e,_0x493d43,_0x3326ce){return _0x56abbe(_0x46ce57-0x1ca,_0x46ce57- -0x1a8,_0x305b4e-0x3a,_0x305b4e,_0x3326ce-0xd);}function _0x1520f3(_0x28d24c,_0x3460d4,_0x4ce1fd,_0x28f1a4,_0xd4c6cf){return _0x51542f(_0xd4c6cf- -0xc5,_0x3460d4,_0x4ce1fd-0x188,_0x28f1a4-0xcf,_0xd4c6cf-0x1db);}if(_0xdfbb5d[_0x4dfe49(-0x17f,0xfc,'19%o',0x171,-0x194)](_0xdfbb5d[_0xa16439(0x4d2,'htOQ',0x5b8,0x63a,0x464)],_0xdfbb5d[_0x1520f3(0x268,'8okg',0x154,0x42d,0x31a)]))_0x16b9f4[_0x317c31[_0xa16439(0x329,'8XjU',0x62b,0x4a2,0x41c)+_0x6580cc(-0x1a8,-0x3f4,'][Za',-0x254,0xe)]][_0x4dfe49(0x15a,0x1cb,'htOQ',-0x3f,0x26b)]=_0x3468f7,_0x33fd0d[_0x6580cc(0x353,0x51c,'8okg',0xbf,0x4e3)+'de']();else{var _0x363695={};_0x363695[_0x1520f3(0x2bf,'zRu5',0x3b6,0x508,0x389)+'s']=_0x4c13a8[_0x1520f3(0x2c5,'ShaW',0x2ca,0x1dc,0x8b)+'s'],_0x363695[_0x17433c(0x24c,0x4ee,0x17f,'VG3j',0x226)+_0x4dfe49(0x2b6,0x2b9,')7XD',0x202,0x2d7)]=_0x4c13a8[_0xa16439(0x2df,'&lKs',0x811,0x574,0x593)+_0x6580cc(-0xf8,0x37,'S6Fc',0xf7,0x0)],_0x363695[_0xa16439(0x85,'(v0r',0x10f,0x77,0x16a)+_0xa16439(0x264,'qQwm',0x258,0x4e4,0x2b7)]=_0x264d02,_0xc8f088=_0x363695,_0x2e9325[_0x17433c(0x36f,0x57e,0x2bf,'I2lY',0x4ec)](_0xc8f088),SystemAnimator_caches[_0x17433c(0x5e6,0x6b4,0x54c,'htOQ',0x692)](_0x4c13a8[_0x4dfe49(0x47e,0x363,'htOQ',0x5ed,0x20e)],_0x4c13a8);}});}})[_0x2e083f(0x64,0x381,'jIFE',0x507,0x28b)](function(_0x2e721b){function _0x34821d(_0x5dda39,_0x30f9b8,_0x173825,_0x4e6f2b,_0x141a24){return _0x2e083f(_0x5dda39-0x78,_0x30f9b8-0x54,_0x30f9b8,_0x4e6f2b-0x1ba,_0x5dda39- -0x255);}function _0x35d580(_0x58f698,_0xed68d3,_0x3d70e2,_0x11339e,_0xc83b16){return _0x9cbbdd(_0x58f698-0x4b,_0xed68d3-0x1c2,_0x3d70e2- -0x1b9,_0x58f698,_0xc83b16-0xf6);}function _0x44a0d8(_0x4eccd8,_0x3bb887,_0x4c287d,_0x2fb260,_0x32a709){return _0x31c510(_0x4eccd8-0x35,_0x32a709- -0x690,_0x4c287d-0x1ba,_0x2fb260-0x12e,_0x4c287d);}function _0x331954(_0x340c61,_0x1c9752,_0xb484ee,_0x53ddff,_0x27374b){return _0x2e083f(_0x340c61-0x6b,_0x1c9752-0x15e,_0x53ddff,_0x53ddff-0xcd,_0x1c9752- -0x33);}function _0x2919f1(_0x158325,_0x3cf738,_0xee55ae,_0x451a17,_0x3aeba0){return _0x2e083f(_0x158325-0x198,_0x3cf738-0x1af,_0x158325,_0x451a17-0x119,_0x3cf738-0x20);}if(_0x1e8a76[_0x331954(0x97,0x162,0x1f9,'NIbw',-0xde)](_0x1e8a76[_0x44a0d8(0x33e,0x3d1,'Vefs',0x419,0x31f)],_0x1e8a76[_0x44a0d8(0x42e,0x40e,'JrCC',0x2e,0x21e)]))throw _0x261d14[_0x34821d(0x222,'8okg',-0x56,0x363,0x15d)](_0x11172e,_0x200346[_0x331954(0x4d,0x4a,0x17d,'(ZmM',0x146)+_0x44a0d8(-0x2e,0xbf,'NSqq',0x2e,0x1ee)]);else{var _0x59bc28={};_0x59bc28[_0x2919f1('Vefs',0x49f,0x204,0x731,0x459)+_0x34821d(0x33,'gWm$',0x284,0x69,-0x229)]=_0x2e721b,_0xc8f088=_0x59bc28,_0x36d7ca[_0x34821d(-0x1dc,'I2lY',-0x254,-0x2b2,-0x366)](_0xc8f088);}}):this[_0x9cbbdd(0x66b,0x596,0x5df,'er&9',0x7b2)+'de']();else{var _0x1c0236={};_0x1c0236[_0x9cbbdd(0x325,0x15a,0x37e,'JrCC',0x242)]=_0x555bad[_0x9cbbdd(0x18f,0x457,0x26a,')7XD',0x467)+_0x31c510(0x48c,0x495,0x740,0x4a4,'4gF)')][_0x1b47b1(0x8f1,0x480,0x4a7,'9cCJ',0x723)+_0x3335c5(0x779,0x6b5,0x85b,0x6fa,')VD0')+'l'][_0x3a74a9],_0x1c0236[_0x9cbbdd(0x624,0x62a,0x3b8,'oj3Q',0x366)]=[],_0x20b3d5[_0x4b1d19]=_0x1c0236;}});else{var _0x3d7aa8={};_0x3d7aa8[_0x171bc2(-0x68,0x1dd,0xf,'(#Ep',0x6b)]=_0x1e8a76[_0x171bc2(0x15c,0x30e,0x3be,'Npkr',0x4d8)];var _0x5779ef=_0x3d7aa8;_0x5e4166=function(){_0x7b82f2[_0x295de2(0x5f0,0x64d,0x692,0x682,'JrCC')+_0x295de2(0x2d2,0x548,0x5ad,0x33c,'(ZmM')]=this[_0x35cb11(0x2b3,'NSqq',0x410,0x3cc,0x3fd)+_0x3b9ba7('7ci(',0x621,0x96b,0x853,0x6ef)];function _0x257a07(_0x29e5b6,_0x3c6f91,_0x50533b,_0x2eecc9,_0x12365f){return _0x57adb0(_0x29e5b6-0x130,_0x12365f- -0x55,_0x2eecc9,_0x2eecc9-0xe0,_0x12365f-0x197);}function _0x295de2(_0x45147e,_0x193067,_0x1f04f7,_0x40b8cc,_0x219994){return _0x388207(_0x45147e-0x1bb,_0x219994,_0x40b8cc-0x235,_0x40b8cc-0x79,_0x219994-0x10);}function _0x35cb11(_0x3e3739,_0x5ea61,_0x2466af,_0xda06bf,_0x3e643d){return _0x83bdd5(_0x3e3739-0x106,_0x5ea61,_0x2466af-0x12e,_0xda06bf-0xa1,_0x3e643d-0xdf);}_0xcf25f[_0x35cb11(0x768,'gWm$',0x3d0,0x4d5,0x5a0)+'s']=0x1583*-0x1+0x8b9+0x3*0x486,_0x4bcee4[_0x35cb11(0x74,'oj3Q',0xde,0xcf,0x284)+'d']();function _0x30f8fb(_0x12f489,_0x3fad53,_0x526583,_0x3ff2ea,_0x4b8712){return _0x83bdd5(_0x12f489-0x13e,_0x3ff2ea,_0x526583-0x6f,_0x3ff2ea-0xfc,_0x526583- -0x1e0);}function _0x3b9ba7(_0xa4954c,_0x102ce1,_0x1bac18,_0x5e0046,_0x51916e){return _0x388207(_0xa4954c-0x1b,_0xa4954c,_0x51916e-0x46e,_0x5e0046-0x5b,_0x51916e-0x186);}_0x12041d[_0x30f8fb(-0x195,0x23e,0x30,'(ZmM',0x21)+_0x295de2(0x568,0x20c,0x193,0x347,'qQwm')]=_0x3310e0=_0x62a3b=null;},_0x37ce95=function(){function _0x25cd72(_0x4e1405,_0x4d5d49,_0x498e26,_0x2fa524,_0x18f873){return _0x57adb0(_0x4e1405-0x137,_0x4e1405-0x22b,_0x4d5d49,_0x2fa524-0xa7,_0x18f873-0x52);}function _0x35bb5a(_0x2bec83,_0x2d222c,_0xf5195e,_0x2c3d8b,_0x3ceb8d){return _0x388207(_0x2bec83-0x62,_0x2c3d8b,_0x3ceb8d-0x235,_0x2c3d8b-0x51,_0x3ceb8d-0xd6);}function _0x3f1b61(_0x2d1666,_0x215481,_0x3e2d9f,_0x59055d,_0x3f5083){return _0x83bdd5(_0x2d1666-0x12c,_0x3e2d9f,_0x3e2d9f-0x150,_0x59055d-0xff,_0x59055d- -0x202);}_0x39bd46[_0x25cd72(0x6df,'&lKs',0x7f8,0x58e,0x95b)+_0x35bb5a(0x411,0x3e2,0x6ba,'gWm$',0x4c0)]=_0x5779ef[_0x25cd72(0x67a,'(rei',0x86f,0x434,0x4a9)];function _0x2de32e(_0x126cd5,_0x35540e,_0x348eab,_0x1d8454,_0x2af0ff){return _0x57adb0(_0x126cd5-0x1dc,_0x1d8454-0x25b,_0x2af0ff,_0x1d8454-0xd7,_0x2af0ff-0x1be);}function _0x169b74(_0x1a391f,_0x3875e8,_0x6f6eb6,_0x4ddf2e,_0x3d0b30){return _0x388207(_0x1a391f-0x170,_0x3d0b30,_0x1a391f-0x4c7,_0x4ddf2e-0x1a7,_0x3d0b30-0x169);}_0x3026b0[_0x25cd72(0x3cc,'sW&e',0x11d,0x345,0x1b4)+'or']&&_0x3aa91b[_0x169b74(0x7b9,0x84e,0x6a2,0x58f,'4gF)')+'or']();},_0x1e8a76[_0x171bc2(-0x4a,-0x35,0x26d,'(rei',0xff)](_0x45738f,this[_0x83bdd5(0x4d7,'96gj',0x239,-0x1a,0x222)+'d'],this[_0x388207(0xe0,'TWVs',0x129,0xa6,-0x37)],this[_0x57adb0(0x226,0x4be,'(rei',0x6a0,0x375)],this[_0x388207(0x3ae,'%AbC',0x406,0x69c,0x340)+_0x388207(0x4ff,'Npkr',0x42a,0x4b7,0x48e)+'pe'],_0x46ffc1,_0x2b3f31);}}else{if(_0x5256d3[_0x388207(-0xb3,'][Za',0x1d1,0xa7,0x58)](_0x5256d3[_0x520316(0x759,0x3d9,'JrCC',0x707,0x524)],_0x5256d3[_0x57adb0(0x46a,0x38e,'ShaW',0x5db,0x3be)]))new _0x2de40c[(_0x520316(0x722,0x60e,'eYlR',0x532,0x6bd))]()[_0x388207(0x37b,'gWm$',0xca,-0x150,0x2f)+_0x83bdd5(0x4e5,'$fb5',0x54f,0x53e,0x2e8)](_0x1a00c1,_0x1c982e)[_0x171bc2(0x3ac,-0x8b,0x1c2,'htOQ',0x21d)](function(_0x2e2de7){_0x27b0af[_0x15bf1c[_0x195107(0x167,-0xd5,0x134,'NSqq',0x2e7)+_0x195107(0x4c9,0x326,0x451,'8XjU',0x41e)]][_0x32f800(0x19,0x11,-0xf9,0x18d,'96gj')]=_0x2e2de7;function _0x26e542(_0x83e2a2,_0x3f9ae3,_0x3b2f5a,_0x36c077,_0x4717bb){return _0x520316(_0x83e2a2-0xae,_0x3f9ae3-0x40,_0x36c077,_0x36c077-0x79,_0x3f9ae3- -0x4a5);}function _0x195107(_0xf65222,_0x869482,_0x51a4db,_0x5d11e3,_0x3b5faa){return _0x520316(_0xf65222-0xec,_0x869482-0xaf,_0x5d11e3,_0x5d11e3-0x180,_0xf65222- -0x275);}function _0x32f800(_0x176e36,_0x1f8cb4,_0xee0c3e,_0x1562be,_0x153331){return _0x83bdd5(_0x176e36-0x163,_0x153331,_0xee0c3e-0x8,_0x1562be-0xad,_0xee0c3e- -0x153);}function _0x5e3aee(_0xdc8287,_0x33070f,_0x1b4649,_0x30b630,_0xed9fdc){return _0x388207(_0xdc8287-0x127,_0x1b4649,_0xdc8287-0x45f,_0x30b630-0xef,_0xed9fdc-0x5d);}_0x519ea6[_0x26e542(0x37e,0x3a8,0x34e,'sW&e',0x2fc)+'de']();},function(_0x5123a6){function _0x5dc7dc(_0x3cb6d6,_0x14aa3a,_0x255eef,_0x2a09e7,_0x1a900e){return _0x83bdd5(_0x3cb6d6-0x19f,_0x3cb6d6,_0x255eef-0x1d2,_0x2a09e7-0x174,_0x1a900e-0x129);}function _0x5f5a72(_0x408a12,_0x11fdaf,_0x4d793f,_0x26761b,_0x17f28f){return _0x388207(_0x408a12-0x15f,_0x17f28f,_0x408a12-0x7,_0x26761b-0x2c,_0x17f28f-0x1c1);}function _0x5a6490(_0x13697e,_0x57bfd9,_0x3bdec9,_0xf5f3a7,_0x441684){return _0x388207(_0x13697e-0x40,_0x441684,_0xf5f3a7-0x319,_0xf5f3a7-0x1c2,_0x441684-0x40);}function _0x45590a(_0x3956ff,_0x158476,_0x32e2cc,_0x8e1ba8,_0x57652d){return _0x83bdd5(_0x3956ff-0xf2,_0x8e1ba8,_0x32e2cc-0x12f,_0x8e1ba8-0xe2,_0x3956ff- -0x1d3);}_0x11f208[_0x45590a(0x43,-0x1c,0x127,'&&ia',0xe8)](_0x1e8a76[_0x5f5a72(0x137,0x44,-0x15a,0x12,'7ci(')],_0x4e26bb[_0x45590a(-0x1fa,-0x449,-0x207,'NSqq',-0x8a)+_0x5dc7dc('NSqq',0x255,0x57b,0x4ff,0x2ca)],_0x5123a6);});else{var _0x49f515=_0x5256d3[_0x57adb0(0x439,0x384,')VD0',0x274,0x387)][_0x520316(0x7a9,0x2fc,'][Za',0x842,0x594)]('|'),_0x282bf3=-0x34*0xbe+-0x1*-0xd57+-0xf*-0x1af;while(!![]){switch(_0x49f515[_0x282bf3++]){case'0':_0xc8f088[_0x520316(0x21b,0x335,'jIFE',0x447,0x4cc)]();continue;case'1':_0xc8f088[_0x388207(0x431,'&&ia',0x29d,0xfe,0x442)](_0x99057,_0x3a4a8d,_0x440ba7);continue;case'2':_0xc8f088=new self[(_0x57adb0(0x2b6,0x330,')VD0',0x298,0x370))+(_0x57adb0(-0x12c,0x16b,'96gj',0x12,0x2b4))+(_0x83bdd5(0x55e,'j4)m',0x3a8,0x7e,0x305))]();continue;case'3':_0xc8f088[_0x83bdd5(0x8e,'8XjU',0x22,-0x8a,0x133)+'d']=_0x2e9325;continue;case'4':_0xc8f088[_0x520316(0x43c,0x2c0,'NSqq',0x237,0x4b5)+'or']=_0x36d7ca;continue;case'5':_0xc8f088[_0x520316(0x754,0x3ac,'(#Ep',0x7fa,0x62d)+_0x171bc2(-0x1db,0x237,0x2c,'R784',0x18b)+'pe']=_0x4a6a0e;continue;}break;}}}}}_0x5e2786=_0xc5dd19[_0x5c8606(0x166,0x215,'NSqq',0x286,-0x1e)](toLocalPath,this[_0x17c249(0x41b,0x272,0x250,-0x12,'Bch&')]);if(_0x35c66b[_0x5c8606(-0xdd,0x40,'(rei',0x164,-0x215)](_0x5e2786)){this[_0x17c249(0x501,0x4eb,0x625,0x4a5,'NIbw')+_0x5c8606(0xf2,0x2a2,'%AbC',-0xa8,0x1f9)]=RegExp['$1'],this[_0x17c249(-0x43,0x1aa,0xd8,0x396,'(ZmM')+_0x17c249(0x88b,0x655,0x544,0x885,'jIFE')]=RegExp['$2'],this[_0x5c8606(0x412,0x30b,'%AbC',0x5bc,0x473)+_0x17c249(0x4e0,0x466,0x4ca,0x5df,'oj3Q')]=this[_0x17c249(0x3cf,0x3cd,0x17c,0x5f0,'I2lY')+_0x17c249(0x270,0x262,0x14b,0x421,'ShaW')][_0x485587('2E65',0x2f3,0x178,0x3e9,0x226)+'ce'](/[\/\\]/g,'/');let _0x250dfb=_0xc5dd19[_0x485587('8XjU',0x2e0,0x358,0x15b,0x241)](_0x22b9fc),_0xf2c060=_0x1f48d5[this[_0x20ff78('Bch&',-0x70,-0x1d4,0x27c,0x2)+_0x5c8606(0x3ee,0x1c1,')VD0',0x1fd,0x53f)]];if(!_0xf2c060){if(_0xc5dd19[_0x485587('sW&e',0x7b,0x105,0x379,0x239)](_0xc5dd19[_0x20ff78('JrCC',0x187,0x47b,0xd8,0x21b)],_0xc5dd19[_0x485587('I2lY',-0x21c,0x33,-0x3a0,-0x1f7)]))_0x3c9c31[_0x17c249(0x76f,0x4e1,0x4c4,0x41a,')7XD')+'s']=-0xc7d*-0x1+-0x1848+0xc93,_0x4bf436[_0x368de1(0x325,0x380,0x44d,'9cCJ',0x616)+_0x20ff78('qQwm',0x7d,0x31e,-0xbf,0x96)]=_0x34e630,_0x52e069[_0x5c8606(-0x59,0x123,'htOQ',0xf9,0x25)+'d'](),_0x14edc6=_0x2a7c4d=null;else{let _0xf2045d=SA_topmost_window[_0x17c249(0x1e0,0x226,0x2d6,0x473,'I2lY')+_0x5c8606(-0xf8,0x4d,'qQwm',-0x3d,-0x84)];if(_0xf2045d&&_0xf2045d[_0x20ff78('S6Fc',0x46b,0x104,0x5d6,0x367)+_0x17c249(0x2bf,0x380,0x191,0x3ed,'4gF)')+'bj']){if(_0xc5dd19[_0x17c249(0x69e,0x58e,0x7c6,0x688,'zRu5')](_0xc5dd19[_0x368de1(0x56a,0x446,0x572,'Vefs',0x81b)],_0xc5dd19[_0x20ff78('96gj',0x269,0x201,0xc9,-0x42)])){_0x3c8a1e[_0x368de1(0x44e,0x475,0x5ad,'(rei',0x816)](_0xc5dd19[_0x5c8606(0x36d,0xc7,'ShaW',0x463,0xcb)],this[_0x17c249(0x1c7,0x370,0x3ea,0x1dd,'4gF)')+_0x5c8606(0x128,0xe8,'(rei',0x206,0x2a3)]);const _0x3f9d61=_0x5809e3[_0x3a013f['$1']][_0x5c8606(0x26,0x181,'8XjU',-0x125,0x27a)];_0x20283c[this[_0x17c249(0x6b6,0x5ed,0x4d0,0x42c,')VD0')+_0x17c249(0x68d,0x5d1,0x55c,0x5d7,'R784')]]={'zip':null,'xhr':[this]},_0x3f9d61[_0x485587('htOQ',-0x177,0x2ff,-0x5b,0xea)](_0x347bb1['$2'][_0x20ff78('er&9',-0x73,-0x5f,-0x317,-0x98)+'ce'](/\\/g,'/'))[_0x20ff78('Bch&',-0x2f3,-0x215,0x115,-0x77)](_0xc5dd19[_0x17c249(0x34e,0x5d2,0x74e,0x4a3,'eYlR')])[_0x5c8606(0x44e,0x6b9,'gWm$',0x4ab,0x47e)](_0x1a2ca0=>{function _0x287471(_0x223204,_0x4889ba,_0x3b4be9,_0x40a05c,_0x23fa00){return _0x368de1(_0x223204-0x95,_0x4889ba-0x172,_0x4889ba-0x9,_0x40a05c,_0x23fa00-0x147);}function _0xf2769e(_0x261161,_0x4f4745,_0x4624c0,_0x375493,_0x52e775){return _0x17c249(_0x261161-0x10,_0x4624c0-0x188,_0x4624c0-0x123,_0x375493-0x33,_0x52e775);}function _0x475903(_0x4bb76d,_0x105a49,_0x2505c7,_0x24b299,_0x392012){return _0x17c249(_0x4bb76d-0xa9,_0x4bb76d- -0x1ae,_0x2505c7-0xc3,_0x24b299-0x16f,_0x392012);}var _0x4d3e28={};_0x4d3e28[_0x3049a0(0x6e6,'(ZmM',0x53e,0x42f,0x503)]=_0x5256d3[_0x3049a0(-0x104,'(ZmM',-0x76,0x61,0xf1)];function _0x3049a0(_0x48d8eb,_0x42bfe4,_0x44ccb4,_0x3cb462,_0x46712e){return _0x485587(_0x42bfe4,_0x42bfe4-0x124,_0x44ccb4-0x5a,_0x3cb462-0xb,_0x46712e-0x2fb);}var _0x5cda93=_0x4d3e28;function _0x3bb84e(_0x46cd6b,_0xaf6c05,_0x412ad5,_0x36dbfd,_0x24c24b){return _0x5c8606(_0xaf6c05-0x55b,_0xaf6c05-0x176,_0x412ad5,_0x36dbfd-0xf7,_0x24c24b-0x128);}new _0x2594ca[(_0x3bb84e(0x452,0x62d,'96gj',0x752,0x6b6))]()[_0x475903(0x73,-0xc1,0x117,0x213,'QZIq')+_0x3049a0(0x4f8,'sW&e',0x117,0x222,0x313)](_0x1a2ca0,_0x1bf5e3)[_0x475903(0x197,0x3e8,0x205,0x2f,'ShaW')](function(_0x25c367){function _0x2f57b4(_0x307378,_0x224638,_0x271bc3,_0x392f72,_0x571054){return _0xf2769e(_0x307378-0x19a,_0x224638-0x19f,_0x271bc3- -0x4c2,_0x392f72-0x1e7,_0x392f72);}_0x57903f[_0x2b19dd[_0x2f57b4(0x381,0x540,0x2b3,')VD0',0x1de)+_0x3ab2ee('Bch&',0x8c0,0x770,0x7ee,0x60c)]][_0x2f57b4(-0x286,-0x12d,-0x12c,'hNZd',0xb0)]=_0x25c367;function _0x35a1dd(_0x21efb0,_0x2bc5b0,_0x1b64ff,_0x9ef0ad,_0xfb4783){return _0x3bb84e(_0x21efb0-0x1ca,_0xfb4783-0x26,_0x1b64ff,_0x9ef0ad-0x5f,_0xfb4783-0x1f2);}function _0x544103(_0x4dd051,_0x3ee87c,_0x3c13f0,_0x3a560b,_0x36df7c){return _0x3049a0(_0x4dd051-0x12c,_0x3ee87c,_0x3c13f0-0x5a,_0x3a560b-0xf3,_0x4dd051-0x224);}function _0x3ab2ee(_0x4d79fe,_0x3ed250,_0x2d34a8,_0x78f526,_0x598989){return _0x475903(_0x2d34a8-0x52f,_0x3ed250-0x4,_0x2d34a8-0x1d0,_0x78f526-0x57,_0x4d79fe);}_0x2acfb0[_0x35a1dd(0x456,0x88f,'eYlR',0x5ee,0x69b)+'de']();},function(_0x5d7b96){function _0x3e2c11(_0x2c7ed2,_0x325dde,_0x579a52,_0x32cf3c,_0x1e8cf6){return _0x3bb84e(_0x2c7ed2-0x1ac,_0x1e8cf6- -0x213,_0x579a52,_0x32cf3c-0x31,_0x1e8cf6-0x62);}function _0x20ab43(_0x244fe0,_0xa4adc6,_0x4974d6,_0x52b0b9,_0x5e33e4){return _0x287471(_0x244fe0-0x1a0,_0x4974d6- -0x64b,_0x4974d6-0x165,_0xa4adc6,_0x5e33e4-0x15e);}function _0x11c1f5(_0x2a6b4e,_0xba23a9,_0x572f33,_0xb781fc,_0x228757){return _0x3049a0(_0x2a6b4e-0x7e,_0x2a6b4e,_0x572f33-0x3a,_0xb781fc-0x71,_0x228757- -0x327);}function _0x127973(_0x2da48f,_0x331f25,_0x3b3b62,_0x33d15b,_0xb0abbf){return _0x287471(_0x2da48f-0x1ce,_0x33d15b- -0x385,_0x3b3b62-0x1ab,_0xb0abbf,_0xb0abbf-0x18f);}_0x7c0f2a[_0x3e2c11(0x6ef,0x3e9,'(rei',0x56b,0x650)](_0x5cda93[_0x3e2c11(0x413,0x28b,'htOQ',0x565,0x2fd)],_0x262640[_0x3e2c11(0x161,0x188,'eYlR',0x572,0x2f2)+_0x127973(0x5b2,0x417,0x3b5,0x54c,'R784')],_0x5d7b96);});});return;}else{let _0x114b15=_0xf2045d[_0x17c249(0x6ae,0x47a,0x41e,0x4e2,'#oMo')+_0x17c249(0x487,0x3e7,0x16a,0x176,'xxfO')+'bj'][this[_0x5c8606(0x333,0x32f,'(#Ep',0x590,0x339)+_0x5c8606(0x3c7,0x3bb,'4gF)',0x5ce,0x677)]];if(_0x114b15){if(_0xc5dd19[_0x17c249(0x49d,0x5b3,0x381,0x55b,'][Za')](_0xc5dd19[_0x5c8606(0xf7,-0x8d,'zRu5',0x34a,0xcc)],_0xc5dd19[_0x20ff78('eYlR',0x305,0x416,0x1be,0x2be)])){console[_0x368de1(0x821,0xae6,0x86d,'er&9',0x7e1)](_0xc5dd19[_0x368de1(0xaa3,0x966,0x93d,'jIFE',0x6a2)],this[_0x5c8606(0x1d7,0x1a0,'%AbC',0x3e7,0x64)+_0x485587('2E65',0x113,0x5fc,0x571,0x351)]),_0x1f48d5[this[_0x485587('j4)m',-0x239,-0x345,-0x475,-0x1e5)+_0x17c249(-0x2d,0x116,0x359,-0xf5,'sW&e')]]={'zip':null,'xhr':[this]},new self[(_0x17c249(0x552,0x29f,0x391,0x462,'TWVs'))]()[_0x17c249(0x48,0x14b,-0x14a,-0xa8,'hNZd')+_0x5c8606(0x5b,-0x251,'R784',-0x112,0x250)](_0x114b15,_0x250dfb)[_0x5c8606(0x28a,0x46a,'(#Ep',0x225,0x88)](function(_0x917925){function _0x3c4db2(_0x86ff8f,_0x5a0110,_0x2a491f,_0x33a83c,_0x2261d1){return _0x485587(_0x5a0110,_0x5a0110-0xb,_0x2a491f-0x11a,_0x33a83c-0xe8,_0x33a83c-0x3e0);}function _0x570077(_0x18648e,_0xa8628b,_0x185cdc,_0x50bf25,_0x1fac3b){return _0x5c8606(_0x18648e-0x2cb,_0xa8628b-0xfe,_0xa8628b,_0x50bf25-0x8a,_0x1fac3b-0x26);}function _0x5cdc18(_0x539641,_0x11325c,_0x30b235,_0x1ed740,_0x10b40e){return _0x5c8606(_0x539641-0x5a3,_0x11325c-0x12e,_0x30b235,_0x1ed740-0x1a0,_0x10b40e-0xb0);}function _0x5dd128(_0x394c37,_0x57b296,_0x3152c6,_0x34c124,_0x303647){return _0x20ff78(_0x303647,_0x57b296-0x172,_0x3152c6-0x1a2,_0x34c124-0x4e,_0x394c37-0x525);}function _0x12b9cd(_0x181523,_0x57eb80,_0x496e4b,_0x555e0b,_0x430043){return _0x17c249(_0x181523-0x5,_0x57eb80- -0x2f5,_0x496e4b-0x25,_0x555e0b-0x4e,_0x430043);}_0x5256d3[_0x3c4db2(0x2bf,')VD0',0x211,0x2b3,0x1a7)](_0x5256d3[_0x12b9cd(0x3d3,0x296,0x82,0x4a7,'hNZd')],_0x5256d3[_0x12b9cd(0xbd,-0x1d0,-0x2ec,-0x355,'&lKs')])?(_0x1f48d5[_0x53aff[_0x12b9cd(0x102,-0xaf,-0x53,0x5c,'jIFE')+_0x3c4db2(0x74c,'ShaW',0x28b,0x4cb,0x51d)]][_0x570077(0x635,'#oMo',0x6e4,0x88f,0x5b8)]=_0x917925,_0x53aff[_0x5cdc18(0x9fb,0xa40,'8okg',0x94f,0xb2a)+'de']()):(_0x276ec8[_0x5cdc18(0x91a,0xa26,'Vefs',0x983,0x9b2)+'or']&&_0x5793a1[_0x5cdc18(0x86b,0x85f,'JrCC',0x7a6,0xaf4)+'or'](_0x52ab02[_0x12b9cd(0x21b,0x3c,-0xd6,0x10c,'(v0r')],_0x5256d3[_0x5cdc18(0x503,0x282,'Bch&',0x2d5,0x65c)]),_0x5b9a02[_0x570077(0x1e0,')VD0',0x6c,0x42,0x43d)](_0x5256d3[_0x5dd128(0x895,0x90b,0x825,0xb25,'9cCJ')],_0x3bb81f[_0x5dd128(0x666,0x8f8,0x523,0x764,'qQwm')+_0x3c4db2(0x5ae,'(#Ep',0x60b,0x35b,0x2e5)],_0x43e0d2[_0x5cdc18(0x52a,0x774,'TWVs',0x649,0x41a)+_0x5cdc18(0x9c6,0xc1c,'VG3j',0x96e,0x79f)],_0x4c8a39));},function(_0x4be8bf){var _0x3f6052={};_0x3f6052[_0x1988c6('sW&e',0x426,0x3b8,0x5ac,0x1c7)]=_0xc5dd19[_0x1988c6('Npkr',0x409,0x488,0x579,0x417)];function _0x1988c6(_0x391b11,_0x149c0d,_0x29ba79,_0x3ae121,_0x4453bd){return _0x5c8606(_0x149c0d-0x349,_0x149c0d-0xe4,_0x391b11,_0x3ae121-0xb1,_0x4453bd-0x8e);}function _0x5784a5(_0x55a450,_0x5e064b,_0x19ff4b,_0x331a45,_0x2e0466){return _0x5c8606(_0x2e0466-0x596,_0x5e064b-0x1b4,_0x331a45,_0x331a45-0x9d,_0x2e0466-0x147);}function _0x3919a8(_0x16f9ba,_0x5417c1,_0x4d1e24,_0x1d9725,_0x135082){return _0x17c249(_0x16f9ba-0x109,_0x16f9ba-0x16c,_0x4d1e24-0x5e,_0x1d9725-0x105,_0x1d9725);}function _0x5ae5d6(_0x1c1d76,_0x3a0d6a,_0x10b00f,_0xa46aff,_0x2e4f23){return _0x5c8606(_0x3a0d6a-0x34a,_0x3a0d6a-0xe3,_0x1c1d76,_0xa46aff-0x1c1,_0x2e4f23-0x192);}var _0x20e03e=_0x3f6052;function _0x5d953f(_0x3dcc7b,_0x531faf,_0x491b5e,_0x38f347,_0x50c76a){return _0x20ff78(_0x3dcc7b,_0x531faf-0x1d1,_0x491b5e-0x13e,_0x38f347-0x6e,_0x491b5e-0x44f);}if(_0xc5dd19[_0x1988c6('mIMT',0x7a7,0x6ff,0x617,0x8a9)](_0xc5dd19[_0x5d953f('19%o',0x50d,0x59c,0x66e,0x6d8)],_0xc5dd19[_0x5d953f('sW&e',0x25b,0x3f1,0x617,0x609)]))console[_0x5ae5d6('%AbC',0x672,0x778,0x6c1,0x6e8)](_0xc5dd19[_0x5784a5(0x974,0x63b,0x97a,'8XjU',0x8b3)],_0x53aff[_0x5ae5d6('7ci(',0x598,0x6e7,0x696,0x40a)+_0x1988c6(')VD0',0x737,0x7c4,0x552,0x8e3)],_0x4be8bf);else{var _0x14f874={};_0x14f874[_0x5d953f(')VD0',0x653,0x49b,0x1f5,0x5dd)]=_0x20e03e[_0x5784a5(0x784,0xa06,0x5fe,'#oMo',0x80d)];var _0x135883=_0x14f874;return!_0x1ed507&&(_0x37bdf8={'decodeFileName':(function(){const _0x5e7307=new _0x316965(_0x135883[_0x21ec85(0x358,'(rei',0x692,0x56d,0x58d)]);function _0x21ec85(_0x5825d4,_0x4dd707,_0x3cec84,_0x2a1b72,_0x3bed7c){return _0x3919a8(_0x2a1b72-0x1fe,_0x4dd707-0xcb,_0x3cec84-0x29,_0x4dd707,_0x3bed7c-0x110);}return function(_0x5a06d5){function _0x7beb36(_0x218c68,_0x2af99d,_0x332cea,_0x11951e,_0x3a4eed){return _0x21ec85(_0x218c68-0x8a,_0x2af99d,_0x332cea-0xd,_0x332cea-0x19,_0x3a4eed-0x9b);}return _0x5e7307[_0x7beb36(0x6fd,'jIFE',0x7d6,0xa85,0x662)+'e'](_0x5a06d5);};}())}),_0x4b5ab3;}});return;}else _0x171406=null,new _0x2401dc[(_0x20ff78('96gj',0x155,0x11c,-0x93,0xa4))]()[_0x17c249(0x1cd,0x3c0,0x194,0x597,'][Za')+_0x5c8606(-0x95,0x125,'9cCJ',-0x12b,0x7b)](_0x3d45af,_0x45de06)[_0x17c249(0x1d8,0x184,0xe,-0x10a,'&&ia')](function(_0x331a1f){_0x56922f[_0x38f08d[_0x480e2('VG3j',0x3f,0xc9,0x22a,0x33b)+_0x3c2744(0x2cc,0x7d,'e&hm',0x10d,0x221)]][_0x3c2744(0x700,0x673,'19%o',0x72f,0x534)]=_0x331a1f;function _0x141feb(_0x351760,_0x35f7d9,_0xba5bda,_0x2b0020,_0x5e70e5){return _0x5c8606(_0xba5bda-0x1d8,_0x35f7d9-0x191,_0x5e70e5,_0x2b0020-0x1e3,_0x5e70e5-0xe);}function _0x5514a9(_0x2d6058,_0x39aada,_0x532595,_0x435d68,_0x575077){return _0x20ff78(_0x532595,_0x39aada-0x14,_0x532595-0x136,_0x435d68-0x15f,_0x575077-0x2a3);}function _0x480e2(_0x1923c7,_0x50e712,_0x318b7b,_0x3cd24e,_0x53faa6){return _0x368de1(_0x1923c7-0x1ac,_0x50e712-0xd4,_0x3cd24e- -0x3f8,_0x1923c7,_0x53faa6-0x18c);}function _0x3c2744(_0x1a5445,_0x588fc1,_0x9fb88d,_0x5d3392,_0x1c63ba){return _0x368de1(_0x1a5445-0xa8,_0x588fc1-0x133,_0x1a5445- -0x241,_0x9fb88d,_0x1c63ba-0x125);}_0x531470[_0x141feb(0x69a,0x339,0x4d2,0x31b,'TWVs')+'de']();},function(_0xd5d0fb){function _0x55f50e(_0x433d10,_0x5118f4,_0xc78067,_0x1d5d1f,_0x4d879b){return _0x368de1(_0x433d10-0x192,_0x5118f4-0x1e5,_0x1d5d1f- -0x123,_0xc78067,_0x4d879b-0x11);}function _0x552e02(_0x132b4c,_0x2d2ada,_0x5c9265,_0x1335a1,_0x5660a5){return _0x5c8606(_0x1335a1-0x515,_0x2d2ada-0x1e5,_0x132b4c,_0x1335a1-0x166,_0x5660a5-0x1bb);}function _0x532f0c(_0x3cabc5,_0x3e1c7e,_0x9f1fee,_0x1ca782,_0xed689){return _0x5c8606(_0x3cabc5- -0x19a,_0x3e1c7e-0x1da,_0x3e1c7e,_0x1ca782-0x1b1,_0xed689-0x1b);}function _0x47be05(_0x22e31f,_0x2176b7,_0xc824d3,_0x34ac8f,_0x443e81){return _0x485587(_0x34ac8f,_0x2176b7-0x67,_0xc824d3-0x188,_0x34ac8f-0xb2,_0x22e31f-0x4c5);}_0x49c50b[_0x532f0c(0x16,'&&ia',-0x9b,0x14b,-0x81)](_0x5256d3[_0x47be05(0x2fb,0xb0,0x29d,'j4)m',0xa3)],_0x5b94e5[_0x532f0c(0x14a,'JrCC',0x1d7,0x2e3,0x7)+_0x55f50e(0x112,0x46a,'I2lY',0x391,0x176)],_0xd5d0fb);});}}}if(/^(.+\.zip)\#[\/\\](.+\.zip)/i[_0x20ff78(')VD0',0x3eb,0x2d6,0x387,0x3ca)](this[_0x5c8606(0x335,0x1ad,'&lKs',0x24d,0x170)+_0x485587('4gF)',0xc7,0x124,0x112,0x2c2)])){if(_0xc5dd19[_0x368de1(0x68d,0x38b,0x4a3,'qQwm',0x3ce)](_0xc5dd19[_0x20ff78('&&ia',0x299,0xa9,0xb4,0x137)],_0xc5dd19[_0x20ff78('htOQ',-0x35,0x1d9,-0x2b,0x129)])){console[_0x17c249(0x2bc,0x50c,0x747,0x34b,'xxfO')](_0xc5dd19[_0x17c249(0x6a2,0x657,0x7ac,0x509,'8XjU')],this[_0x20ff78('a8f[',-0x4c,0xaa,0x145,-0x1c)+_0x5c8606(0x372,0x2e8,'j4)m',0x1d9,0x144)]);const _0x2dfb25=_0x1f48d5[RegExp['$1']][_0x368de1(0x993,0xaa6,0x844,')VD0',0x783)];_0x1f48d5[this[_0x5c8606(0x435,0x253,'TWVs',0x4f2,0x57b)+_0x368de1(0x3a3,0x88c,0x630,'NSqq',0x3e9)]]={'zip':null,'xhr':[this]},_0x2dfb25[_0x485587('sW&e',0xd1,0x307,0x3d8,0x2bb)](RegExp['$2'][_0x20ff78('TWVs',-0x1e1,0x109,0x97,-0xdb)+'ce'](/\\/g,'/'))[_0x485587('&lKs',-0x26d,-0x3c7,-0xbf,-0x1da)](_0xc5dd19[_0x485587('(rei',-0x276,0x148,-0x2e,-0x56)])[_0x368de1(0x458,0x96d,0x70c,'2E65',0x7a1)](_0x1b9ba2=>{function _0x5e6688(_0x56224c,_0x112cb3,_0x3568c2,_0x579b63,_0x24f0f8){return _0x20ff78(_0x112cb3,_0x112cb3-0x119,_0x3568c2-0xfb,_0x579b63-0x3c,_0x3568c2-0x3fb);}function _0x5e3224(_0x40c76f,_0x308c73,_0x5e06bd,_0x24ffb2,_0x3f6710){return _0x17c249(_0x40c76f-0x19e,_0x5e06bd-0x302,_0x5e06bd-0x141,_0x24ffb2-0x192,_0x24ffb2);}var _0x2629f6={};function _0x5ebc4e(_0x428166,_0xa5185a,_0x394267,_0x3877fd,_0x19e085){return _0x17c249(_0x428166-0xa7,_0xa5185a-0x336,_0x394267-0x17d,_0x3877fd-0x96,_0x3877fd);}function _0x37591e(_0x3a330b,_0xfe53d1,_0x568901,_0xd8f92d,_0x18d175){return _0x5c8606(_0x3a330b-0x1ac,_0xfe53d1-0x95,_0xfe53d1,_0xd8f92d-0x167,_0x18d175-0x7a);}_0x2629f6[_0x25d81d(0x896,0x57a,'$fb5',0x700,0x709)]=_0x5256d3[_0x5ebc4e(0x6e6,0x7a1,0x875,'%AbC',0x78e)];var _0x200910=_0x2629f6;function _0x25d81d(_0x595621,_0x41f5ed,_0x58abb2,_0x55d706,_0xd809f7){return _0x368de1(_0x595621-0x169,_0x41f5ed-0x6a,_0x55d706- -0x14a,_0x58abb2,_0xd809f7-0x22);}_0x5256d3[_0x37591e(0x374,'&lKs',0x11f,0x492,0x247)](_0x5256d3[_0x25d81d(0xa2c,0x56d,'4gF)',0x7c4,0x570)],_0x5256d3[_0x25d81d(0x581,0x740,'2E65',0x653,0x827)])?_0x2e1e8b[_0x5e3224(0x3d3,0x233,0x452,'96gj',0x573)+'or'](_0x1907e3[_0x5e3224(0x6a5,0x4da,0x521,'NIbw',0x59b)],_0x200910[_0x37591e(0x2a9,'e&hm',0x3a7,0x353,0x50e)]):new self[(_0x5ebc4e(0x79f,0x606,0x3d9,'96gj',0x536))]()[_0x5e6688(0x442,'$fb5',0x4db,0x3d1,0x275)+_0x5e6688(0x344,')VD0',0x3bb,0x467,0x630)](_0x1b9ba2,_0x250dfb)[_0x5ebc4e(0x4aa,0x4c5,0x299,'$fb5',0x38c)](function(_0x2d3a3a){function _0x6c187(_0xc091db,_0x480e1d,_0x2eb44b,_0x262438,_0x3854d7){return _0x5e3224(_0xc091db-0xc2,_0x480e1d-0x4b,_0x3854d7- -0x2b7,_0x262438,_0x3854d7-0xb2);}function _0x290b24(_0x5da089,_0x500aad,_0x5c0193,_0x3c5b63,_0x25f560){return _0x25d81d(_0x5da089-0xb0,_0x500aad-0x132,_0x5da089,_0x25f560- -0x87,_0x25f560-0xeb);}function _0x9080c3(_0x4b224c,_0x492a74,_0x1ae2c6,_0x506f8d,_0x27cf1e){return _0x25d81d(_0x4b224c-0x131,_0x492a74-0xc2,_0x492a74,_0x27cf1e-0xbf,_0x27cf1e-0x148);}function _0x259488(_0xd676d0,_0x350c0e,_0x4b7d9d,_0x5957f9,_0x5d2386){return _0x5ebc4e(_0xd676d0-0x15f,_0x5957f9- -0x17d,_0x4b7d9d-0x188,_0x5d2386,_0x5d2386-0x3a);}function _0x4817f2(_0x1fab63,_0x49a913,_0x4d9e83,_0x5e0ef1,_0x4ab244){return _0x5e6688(_0x1fab63-0x9,_0x4ab244,_0x5e0ef1- -0x4a4,_0x5e0ef1-0x13a,_0x4ab244-0x1c8);}if(_0x5256d3[_0x259488(0x4c1,0x52b,0x2ac,0x2e0,'ShaW')](_0x5256d3[_0x259488(0x7bb,0x5a8,0x32a,0x597,'%AbC')],_0x5256d3[_0x290b24('(rei',0x732,0x506,0x853,0x635)])){var _0xfd1967=_0x49f159[_0x1e936e]||_0x115758;_0x3b962e[_0xfd1967]=_0xd9657d[_0x2b854c];}else _0x1f48d5[_0x53aff[_0x9080c3(0x9ff,'NIbw',0x4c7,0x76f,0x757)+_0x259488(0x83b,0x85a,0x89c,0x732,'xxfO')]][_0x4817f2(-0x2ba,-0xc8,-0x404,-0x152,'oj3Q')]=_0x2d3a3a,_0x53aff[_0x259488(0x8be,0x535,0x5e3,0x7ea,'e&hm')+'de']();},function(_0x22f663){var _0x3f0632={};_0x3f0632[_0x20fb44(0x45b,0x2e3,0x228,0x4d3,'&lKs')]=_0x5256d3[_0x20fb44(0x646,0x3e7,0x3c7,0x1fc,'Bch&')];function _0x132c1e(_0x423227,_0x1d9c39,_0x35bc3b,_0x2cefa1,_0x9e41e4){return _0x5e3224(_0x423227-0x1d1,_0x1d9c39-0xa6,_0x9e41e4- -0x37,_0x1d9c39,_0x9e41e4-0xd6);}function _0x20fb44(_0x261385,_0x40d9b2,_0x49b437,_0x267593,_0x370750){return _0x25d81d(_0x261385-0x1c4,_0x40d9b2-0x10d,_0x370750,_0x40d9b2-0x2e,_0x370750-0xef);}function _0x4dee22(_0x49f79f,_0xd811ee,_0x2a3f2b,_0x481888,_0x5c9bda){return _0x37591e(_0x49f79f-0x3a8,_0x2a3f2b,_0x2a3f2b-0xc2,_0x481888-0x1c9,_0x5c9bda-0x151);}var _0x50ddb4=_0x3f0632;function _0x107890(_0x7051bb,_0x473d44,_0x58b52d,_0x419a39,_0x3542fe){return _0x37591e(_0x419a39-0x11,_0x58b52d,_0x58b52d-0x147,_0x419a39-0xe6,_0x3542fe-0x141);}function _0x202ad1(_0x4ec58c,_0x195e95,_0x3575ca,_0x1cda74,_0x4a9e3d){return _0x5e6688(_0x4ec58c-0xa4,_0x3575ca,_0x4ec58c- -0x277,_0x1cda74-0x94,_0x4a9e3d-0x69);}if(_0x5256d3[_0x20fb44(0x958,0x702,0x8db,0x71d,'j4)m')](_0x5256d3[_0x107890(0x6cb,0x329,'er&9',0x59b,0x545)],_0x5256d3[_0x4dee22(0x7cf,0x7e6,'ShaW',0x603,0x6cc)])){var _0x1e8d79=_0x50ddb4[_0x202ad1(0x32b,0x39b,'7ci(',0x4a8,0x2e8)][_0x202ad1(0x4a7,0x654,'htOQ',0x6ff,0x6b4)]('|'),_0x329eea=-0x798+-0x1*-0x3f3+0x3a5;while(!![]){switch(_0x1e8d79[_0x329eea++]){case'0':_0x539fc4[_0x132c1e(0x5f0,'9cCJ',0x697,0x601,0x64e)+'d']=_0x307eac;continue;case'1':_0x267649[_0x4dee22(0x869,0x921,'oj3Q',0xa93,0x9e3)]();continue;case'2':_0x5e82f1[_0x20fb44(0x882,0x686,0x530,0x6a8,'$fb5')+'or']=_0x3ac0f9;continue;case'3':_0x2cb045[_0x202ad1(0xf8,0x1a3,'(v0r',-0x140,0x334)](_0x13917f,_0x283249,_0x4b4b19);continue;case'4':_0x1a6e34=new _0x48e2a7[(_0x132c1e(0x273,'QZIq',0x420,0x666,0x449))+(_0x132c1e(0x254,'e&hm',0x5cb,0x374,0x4e0))+(_0x4dee22(0x6ed,0x54a,'9cCJ',0x5ba,0x564))]();continue;case'5':_0x5d4390[_0x132c1e(0x379,'QZIq',0x822,0x7db,0x5e7)+_0x107890(0x2a2,0x14f,'sW&e',0x109,0x3b)+'pe']=_0x22ff0e;continue;}break;}}else console[_0x4dee22(0x578,0x6bd,'eYlR',0x715,0x489)](_0x5256d3[_0x107890(0x1b8,0x305,'TWVs',0x445,0x44d)],_0x53aff[_0x4dee22(0x570,0x7cf,'(rei',0x324,0x5da)+_0x4dee22(0x67d,0x769,'Npkr',0x4ad,0x7fe)],_0x22f663);});});return;}else{_0x2998a8[_0x5c8606(0x418,0x218,'(ZmM',0x169,0x1d7)+'or']&&_0x4462e7[_0x485587('a8f[',0x23b,0x36e,0xcd,0xd3)+'or'](_0x700967[_0x368de1(0x6f1,0x77c,0x7f9,'QZIq',0x6ce)],_0xc5dd19[_0x485587('Bch&',0x157,-0x8e,0xae,0x130)]);_0x39a6a4[_0x368de1(0x627,0x582,0x7d4,'QZIq',0x66d)](_0xc5dd19[_0x485587('19%o',-0x83,-0x18a,-0x3d5,-0x191)],_0x3849a1[_0x368de1(0x671,0x6d4,0x7d9,'JrCC',0x89f)+_0x485587('8okg',0xea,-0x3d,-0x2b,-0x46)],_0x39bec1[_0x5c8606(0x1b4,0x437,'jIFE',0x42a,0x29f)+_0x485587('VG3j',0x3eb,0x4f2,0x388,0x31e)]);return;}}console[_0x5c8606(0x5a,0x2e4,'jIFE',-0xef,0x22e)](_0xc5dd19[_0x17c249(0x59b,0x3bc,0x532,0x448,'TWVs')],this[_0x485587('Bch&',-0x16f,-0x233,-0x13a,-0xd5)+_0x368de1(0x936,0x8ea,0x6e6,'Bch&',0x854)]),_0x1f48d5[this[_0x485587('2E65',-0xc6,0x273,0xdc,0x1ba)+_0x368de1(0x37c,0x858,0x5e7,'%AbC',0x57b)]]={'zip':null,'xhr':[this]},_0x4cc5f3=function(){function _0x23336f(_0x5a1736,_0x316d9d,_0x5c1244,_0x330850,_0x5222ae){return _0x485587(_0x5c1244,_0x316d9d-0x4,_0x5c1244-0x1c9,_0x330850-0x17,_0x5a1736-0x444);}function _0x2981b2(_0x2a8c70,_0x4b2347,_0x4405f1,_0x557356,_0xeeeeb9){return _0x5c8606(_0x2a8c70-0x47f,_0x4b2347-0x44,_0xeeeeb9,_0x557356-0x1c8,_0xeeeeb9-0x157);}function _0x530853(_0x11ab4b,_0x559317,_0x4efd6c,_0x2b2b18,_0x54d7f6){return _0x485587(_0x2b2b18,_0x559317-0x58,_0x4efd6c-0x1ae,_0x2b2b18-0x11f,_0x4efd6c-0xfd);}function _0x4f6a40(_0x4e4362,_0x57579d,_0x58f88f,_0x2d4af8,_0x4b98ef){return _0x485587(_0x2d4af8,_0x57579d-0x15d,_0x58f88f-0x180,_0x2d4af8-0x1be,_0x57579d-0x16f);}function _0x31954a(_0x77235b,_0x52c42e,_0x5bba10,_0x2a15b5,_0x28f69f){return _0x5c8606(_0x77235b-0x573,_0x52c42e-0x176,_0x2a15b5,_0x2a15b5-0xa1,_0x28f69f-0xdd);}var _0x94db82={'NvNJs':function(_0x19883f,_0x3a2791){function _0x12684d(_0x259126,_0x36acb8,_0x688dd1,_0x191d74,_0x5a9a7c){return _0x1708(_0x259126-0x12a,_0x191d74);}return _0x5256d3[_0x12684d(0x252,0x497,0x2f5,'NSqq',0x45f)](_0x19883f,_0x3a2791);},'obBZN':_0x5256d3[_0x530853(0x298,0x1e6,0x18e,'jIFE',0x23)],'NSwuk':_0x5256d3[_0x2981b2(0x57f,0x382,0x7d0,0x750,'hNZd')],'AvWDK':function(_0x488cd6,_0xa3a99e){function _0x3e5200(_0xde9ddc,_0x425c19,_0x13eeb5,_0x535bda,_0x34907c){return _0x530853(_0xde9ddc-0x1c1,_0x425c19-0xc0,_0x13eeb5-0x206,_0x535bda,_0x34907c-0x28);}return _0x5256d3[_0x3e5200(0x17b,0x23a,0x409,'#oMo',0x1b9)](_0x488cd6,_0xa3a99e);},'EyBCg':_0x5256d3[_0x23336f(0x550,0x58d,'&lKs',0x494,0x7fa)],'ayibu':_0x5256d3[_0x2981b2(0x730,0x86f,0x747,0x707,'][Za')],'ftBfd':function(_0x2bee80,_0x40019a){function _0x2b9cf8(_0x7d5fb0,_0x3067e4,_0x5787ab,_0xf97e28,_0xf69af1){return _0x2981b2(_0x5787ab- -0x22e,_0x3067e4-0x73,_0x5787ab-0x5d,_0xf97e28-0xd9,_0xf69af1);}return _0x5256d3[_0x2b9cf8(0x422,0x5f0,0x5c7,0x702,'sW&e')](_0x2bee80,_0x40019a);},'NVMIT':_0x5256d3[_0x530853(0x3e0,0x58c,0x40d,'e&hm',0x171)],'ZcWuh':_0x5256d3[_0x23336f(0x60e,0x61f,'zRu5',0x751,0x877)],'KGHiG':_0x5256d3[_0x2981b2(0x645,0x8d4,0x64f,0x8b0,'%AbC')],'FqZjj':function(_0x546d5e,_0x1d6483){function _0x1c58b7(_0x1ac43b,_0x56688f,_0x1bc49b,_0x32d546,_0x52c08a){return _0x530853(_0x1ac43b-0x2a,_0x56688f-0xf,_0x32d546-0x350,_0x56688f,_0x52c08a-0x98);}return _0x5256d3[_0x1c58b7(0x5f2,'(v0r',0x851,0x73b,0x7d7)](_0x546d5e,_0x1d6483);},'VsoaQ':function(_0x4dccdc,_0x348e5c){function _0x22bc19(_0x10447a,_0x57e83c,_0x1e12eb,_0x48b98f,_0x2e0fcc){return _0x530853(_0x10447a-0x74,_0x57e83c-0x12a,_0x48b98f-0x436,_0x10447a,_0x2e0fcc-0x2b);}return _0x5256d3[_0x22bc19('2E65',0x52f,0x6d8,0x4c9,0x460)](_0x4dccdc,_0x348e5c);},'RRnFr':_0x5256d3[_0x4f6a40(0x34d,0x15a,0x2e3,'mIMT',-0x8)],'NUveu':_0x5256d3[_0x2981b2(0x4e7,0x461,0x5f6,0x793,'I2lY')],'TVWkO':function(_0x4a9e50,_0x535f58){function _0x1d820f(_0x1f1ec8,_0x542214,_0x55a580,_0x241245,_0xd048a2){return _0x31954a(_0x55a580- -0x4c1,_0x542214-0xb1,_0x55a580-0x12e,_0x241245,_0xd048a2-0xbc);}return _0x5256d3[_0x1d820f(0x141,-0x16a,-0xc,'&&ia',0x29)](_0x4a9e50,_0x535f58);},'spVCn':function(_0x2d617a,_0x3bc9ea){function _0x38d1b0(_0xa647d1,_0x126802,_0x1dbe0c,_0x1aa275,_0x1757aa){return _0x530853(_0xa647d1-0xcf,_0x126802-0xa6,_0xa647d1-0x523,_0x126802,_0x1757aa-0x196);}return _0x5256d3[_0x38d1b0(0x4e7,'xxfO',0x33b,0x5cc,0x3b8)](_0x2d617a,_0x3bc9ea);},'ECpBW':_0x5256d3[_0x2981b2(0x419,0x53f,0x33a,0x591,'e&hm')],'oYfoW':function(_0x16eb9a,_0x155b26){function _0x2b3275(_0x3691e1,_0x3af31d,_0x45f28a,_0x45014d,_0xdc05e2){return _0x31954a(_0x3af31d- -0x66d,_0x3af31d-0x122,_0x45f28a-0x4,_0x3691e1,_0xdc05e2-0x76);}return _0x5256d3[_0x2b3275('V^f#',0x15f,0x5a,0x256,-0x6f)](_0x16eb9a,_0x155b26);},'vhwdR':function(_0x1168ba,_0x5ce0d7){function _0xd020f4(_0xcb5bf7,_0xd03e11,_0x1f26e3,_0x77590,_0x1b5a5d){return _0x2981b2(_0x77590- -0x51b,_0xd03e11-0x1a5,_0x1f26e3-0x1b1,_0x77590-0xde,_0xcb5bf7);}return _0x5256d3[_0xd020f4('96gj',-0x104,-0x2ef,-0x60,-0x2c4)](_0x1168ba,_0x5ce0d7);},'XcgXD':_0x5256d3[_0x4f6a40(0x3b4,0x1a8,0x42,'8okg',0x1a0)],'Wtaff':_0x5256d3[_0x2981b2(0x418,0x584,0x3d4,0x396,'$fb5')],'itpGC':_0x5256d3[_0x23336f(0x79e,0x55d,'sW&e',0x9fc,0x5b6)],'OvLFe':_0x5256d3[_0x31954a(0x6fa,0x81f,0x67b,'htOQ',0x5d3)],'vmrwA':function(_0x2ad67d,_0x45ed01){function _0x5fa6cb(_0x1315dd,_0x29b777,_0x138898,_0x492657,_0xd77f8a){return _0x23336f(_0x1315dd- -0x21,_0x29b777-0x117,_0x138898,_0x492657-0x184,_0xd77f8a-0x173);}return _0x5256d3[_0x5fa6cb(0x409,0x6b5,')7XD',0x56e,0x3db)](_0x2ad67d,_0x45ed01);},'SQkMp':_0x5256d3[_0x530853(-0x64,0x357,0xc2,'JrCC',-0x16b)],'aJCJl':_0x5256d3[_0x23336f(0x5c6,0x4da,'JrCC',0x336,0x771)],'HBhdC':_0x5256d3[_0x530853(0x85,0x25c,0x9c,'Vefs',-0x215)],'MhnEF':function(_0x38db60,_0x7fd93e){function _0x31100a(_0x1500ed,_0x1d9a80,_0x28fc63,_0x3b54a4,_0x12dcf8){return _0x31954a(_0x28fc63- -0x769,_0x1d9a80-0x22,_0x28fc63-0xc3,_0x1d9a80,_0x12dcf8-0x112);}return _0x5256d3[_0x31100a(0x2d,'Npkr',0x1a,-0x28d,0x148)](_0x38db60,_0x7fd93e);},'pSDcO':function(_0x444b0b,_0x596c56){function _0x267e65(_0x232828,_0x51fcb1,_0x5caefe,_0x1095bb,_0x4cb3fe){return _0x23336f(_0x5caefe-0x1cf,_0x51fcb1-0x7a,_0x51fcb1,_0x1095bb-0x1e2,_0x4cb3fe-0x10d);}return _0x5256d3[_0x267e65(0x5c9,'jIFE',0x7ce,0xa19,0x9f8)](_0x444b0b,_0x596c56);},'vVFnB':_0x5256d3[_0x31954a(0x83d,0x9e5,0x648,'jIFE',0x898)],'edByq':_0x5256d3[_0x4f6a40(0x514,0x32e,0x3a7,')7XD',0x4a7)],'IUonb':function(_0x2e7699,_0x70de14){function _0x3d6329(_0x24d3cf,_0x204fcc,_0x4aa4b3,_0x5e3949,_0x4b790a){return _0x4f6a40(_0x24d3cf-0x1e2,_0x204fcc- -0x164,_0x4aa4b3-0x162,_0x24d3cf,_0x4b790a-0xed);}return _0x5256d3[_0x3d6329('htOQ',0x58,0x109,0x5,0xb8)](_0x2e7699,_0x70de14);},'TVWzy':_0x5256d3[_0x4f6a40(0x520,0x2c2,0x364,'TWVs',0x1c1)]};if(_0x5256d3[_0x4f6a40(0x1ec,0x49b,0x2e4,'(v0r',0x255)](_0x5256d3[_0x31954a(0x566,0x639,0x2b7,'(ZmM',0x771)],_0x5256d3[_0x530853(0xde,0x272,0x58,'8XjU',0x25b)])){var _0x5deb68={};_0x5deb68[_0x31954a(0x53a,0x52e,0x5a3,'I2lY',0x7ca)+_0x2981b2(0x441,0x22f,0x4d6,0x642,'8XjU')]=_0x2e4086,_0x29244f=_0x5deb68,_0x199637[_0x530853(0x26b,-0x195,-0x26,'(v0r',0x211)](_0x191c87);}else{if(-0xc06+-0x14fc+0x2103||_0x5256d3[_0x23336f(0x54e,0x4a7,'ShaW',0x41f,0x52f)](_0xc8f088[_0x530853(-0xeb,0x50,-0xa3,'(rei',-0x20f)+'s'],-0x1c*0x108+-0x1aa*-0x16+-0x6f4)){if(_0x5256d3[_0x31954a(0x766,0x604,0x9f9,'8XjU',0x8c3)](_0x5256d3[_0x2981b2(0x38e,0x339,0x2ff,0x28d,'ShaW')],_0x5256d3[_0x530853(0x29,-0x179,-0xda,'&lKs',-0x4c)])){function _0x37ae1a(_0x4ccfa3){var _0x2e4fdf={'jqpvG':function(_0x2d5fdc,_0x44cc63){function _0xa6ba4d(_0x57612b,_0x1888e5,_0x36a0d8,_0x441211,_0x257237){return _0x1708(_0x36a0d8- -0xd7,_0x441211);}return _0x94db82[_0xa6ba4d(-0xa7,-0xe5,-0xa,'e&hm',-0x175)](_0x2d5fdc,_0x44cc63);},'rPixt':_0x94db82[_0x54ee3c('jIFE',-0x3a1,-0x249,-0x2fa,-0x1b5)],'spgHX':_0x94db82[_0x4dabcb(0xa01,0x877,0x6d5,')VD0',0x5d7)],'fBFRw':function(_0x3c2fa4,_0x18b8bb){function _0x4812af(_0x5359a9,_0xd90d72,_0xd48bd6,_0x38af68,_0x2b994e){return _0x54ee3c(_0x2b994e,_0xd90d72-0x17,_0xd48bd6-0x6a4,_0x38af68-0x18b,_0x2b994e-0xf2);}return _0x94db82[_0x4812af(0x2fd,0x68f,0x5a7,0x79d,'aPOe')](_0x3c2fa4,_0x18b8bb);},'uaXgS':_0x94db82[_0x421f5b(0x11a,0x1b6,'oj3Q',0x249,-0x60)],'scDZG':_0x94db82[_0x54ee3c('VG3j',-0x22,0x2b,-0x203,0x170)]};function _0x445ac5(_0x2ec0c8,_0x1e229f,_0xfd4b18,_0x155bdd,_0x3df52){return _0x2981b2(_0xfd4b18- -0x49a,_0x1e229f-0x143,_0xfd4b18-0x101,_0x155bdd-0x3d,_0x3df52);}function _0x421f5b(_0xd1c86f,_0x5f2044,_0xefaa08,_0x2c6e79,_0x23b844){return _0x2981b2(_0xd1c86f- -0x4e5,_0x5f2044-0x1db,_0xefaa08-0xf2,_0x2c6e79-0x1c2,_0xefaa08);}function _0x4d64f0(_0x1391f3,_0x3a5cfa,_0x3f7ed7,_0x44e177,_0x6e1497){return _0x2981b2(_0x6e1497- -0x4c4,_0x3a5cfa-0xc3,_0x3f7ed7-0x163,_0x44e177-0xb2,_0x3f7ed7);}function _0x54ee3c(_0x2688c5,_0x535bbb,_0x354263,_0x154785,_0x57bcaa){return _0x530853(_0x2688c5-0x1f4,_0x535bbb-0x1e,_0x354263- -0x1cd,_0x2688c5,_0x57bcaa-0xb);}function _0x4dabcb(_0x19b683,_0x18018f,_0x5e9f13,_0x43339e,_0x505231){return _0x31954a(_0x18018f- -0x8f,_0x18018f-0x71,_0x5e9f13-0x1a3,_0x43339e,_0x505231-0x12b);}if(_0x94db82[_0x445ac5(-0x24,-0x1f6,-0x62,-0x301,'8okg')](_0x94db82[_0x4dabcb(0x6b1,0x52b,0x7b3,'4gF)',0x469)],_0x94db82[_0x4dabcb(0x76d,0x8a0,0xa8f,'eYlR',0x878)]))_0xc8f088=null,new self[(_0x445ac5(0x241,0x21a,0x2b9,0x277,'Npkr'))]()[_0x4d64f0(0x7f,0x22f,'4gF)',0x1a6,0x110)+_0x445ac5(0x287,0xa5,0x1c6,0x3f,'eYlR')](_0x4ccfa3,_0x250dfb)[_0x4dabcb(0x679,0x88a,0xb02,'I2lY',0xa30)](function(_0x135253){function _0x3e11d1(_0x18514e,_0x1fd8a7,_0x396ba4,_0x275e7a,_0x52ac3d){return _0x445ac5(_0x18514e-0xc2,_0x1fd8a7-0x1c,_0x18514e-0x332,_0x275e7a-0x131,_0x396ba4);}function _0x1956e5(_0x7725ad,_0x2925fb,_0x17f40d,_0x207c13,_0x11088d){return _0x445ac5(_0x7725ad-0x100,_0x2925fb-0xe1,_0x2925fb- -0xf1,_0x207c13-0x123,_0x7725ad);}function _0x2deeea(_0x2c67c6,_0x490503,_0x846404,_0x1f7319,_0x5819ee){return _0x4dabcb(_0x2c67c6-0x1e3,_0x5819ee- -0x500,_0x846404-0x51,_0x2c67c6,_0x5819ee-0xe0);}var _0x4c045b={'MBKcz':function(_0x25e753,_0x2c3d23){function _0x195eee(_0x47b0b5,_0x1e22df,_0x3b8580,_0x12cf27,_0x594df2){return _0x1708(_0x594df2- -0x27f,_0x3b8580);}return _0x2e4fdf[_0x195eee(0x41,0x101,'sW&e',0x4d1,0x232)](_0x25e753,_0x2c3d23);},'lByTV':_0x2e4fdf[_0x587355('oj3Q',0x20f,0x18d,0x39f,0x149)],'szBec':_0x2e4fdf[_0x587355('oj3Q',-0xb8,-0x4d,-0x259,0x1bb)]};function _0x47711b(_0x120868,_0x4378c1,_0x14dd32,_0x47a100,_0xf1e6a0){return _0x4d64f0(_0x120868-0x1cf,_0x4378c1-0xb6,_0x47a100,_0x47a100-0x1e3,_0xf1e6a0-0x396);}function _0x587355(_0x4ff171,_0x156818,_0x1cae41,_0x5a4a5f,_0x5e025b){return _0x4dabcb(_0x4ff171-0xf,_0x1cae41- -0x655,_0x1cae41-0x17a,_0x4ff171,_0x5e025b-0x168);}if(_0x2e4fdf[_0x1956e5('ShaW',-0x1cb,-0x2a6,-0x2ca,-0x1b0)](_0x2e4fdf[_0x47711b(0x531,0x463,0x1fc,'NIbw',0x434)],_0x2e4fdf[_0x3e11d1(0x2cf,0x52f,'(#Ep',0xe9,0x1b7)]))return this[_0x2deeea('sW&e',0x472,0x588,0x18d,0x3e6)+'ed']&&_0x4c045b[_0x2deeea('Npkr',0x18d,0x153,0x362,0x362)](typeof _0x2af16d,_0x4c045b[_0x2deeea('xxfO',0x2e1,0x28,0x3bb,0x247)])?new _0x48a68f(_0x5a2c16,_0x4daa9c||(_0x2c0123?{'cache':_0x4c045b[_0x2deeea('(#Ep',-0x109,0x16c,-0xf6,-0xff)]}:{})):_0x3e6297;else _0x1f48d5[_0x53aff[_0x3e11d1(0x4ca,0x558,'QZIq',0x652,0x31f)+_0x3e11d1(0x3d6,0x5cb,'8okg',0x4e8,0x4cb)]][_0x47711b(0x3b2,0x2e7,0x2e6,'j4)m',0x516)]=_0x135253,_0x53aff[_0x1956e5('Bch&',0x117,0xf3,-0x1e,0x3ca)+'de']();},function(_0x5c431e){function _0x5b8fb2(_0x2a1816,_0x1d466f,_0x1c9e69,_0x3c923a,_0x3d94e4){return _0x4dabcb(_0x2a1816-0x24,_0x1c9e69- -0x11a,_0x1c9e69-0x117,_0x3d94e4,_0x3d94e4-0xb4);}function _0x5914f2(_0x56caaf,_0x20e5b8,_0x90756e,_0x2179c0,_0x2054a1){return _0x421f5b(_0x56caaf-0x35c,_0x20e5b8-0x1d6,_0x2054a1,_0x2179c0-0xdd,_0x2054a1-0xa1);}function _0x44ddc9(_0xa4f2f7,_0x140b65,_0x100fb1,_0x3502e6,_0x71d75e){return _0x4dabcb(_0xa4f2f7-0x197,_0x100fb1-0x66,_0x100fb1-0x17d,_0x140b65,_0x71d75e-0x189);}function _0x541cf8(_0x44300a,_0x12582a,_0x49ed70,_0x475cfa,_0x32c52d){return _0x54ee3c(_0x44300a,_0x12582a-0x14c,_0x12582a-0x6e4,_0x475cfa-0x73,_0x32c52d-0x14);}function _0x564e77(_0x36f2fc,_0xe7a56b,_0x36c38c,_0x34d13c,_0x59f143){return _0x54ee3c(_0x36f2fc,_0xe7a56b-0x1b5,_0x59f143-0x3ad,_0x34d13c-0x90,_0x59f143-0x15);}_0x94db82[_0x44ddc9(0xa54,'][Za',0x83c,0x847,0x86f)](_0x94db82[_0x44ddc9(0x2ef,'QZIq',0x58a,0x6dd,0x668)],_0x94db82[_0x564e77('Npkr',0x543,0x580,0x515,0x463)])?console[_0x5b8fb2(0x5a7,0x96b,0x6f2,0x790,'%AbC')](_0x94db82[_0x564e77('oj3Q',0x12e,0x2a1,0x1bd,0x3be)],_0x53aff[_0x564e77('$fb5',0x286,0x2c2,0x451,0x4b1)+_0x541cf8('2E65',0x965,0x761,0x952,0x7b2)],_0x5c431e):(_0x1415ca[_0x5b8fb2(0x7f3,0x57f,0x5a0,0x6aa,'Npkr')+_0x44ddc9(0x932,'JrCC',0x90f,0x7f4,0x705)]=_0x2e4fdf[_0x5914f2(0x4f9,0x563,0x267,0x577,'xxfO')],_0x400475[_0x5914f2(0x403,0x30e,0x55c,0x57d,'][Za')+'or']&&_0x5167d3[_0x541cf8('htOQ',0x7b2,0x9a6,0x536,0x6c6)+'or']());});else{var _0x10b23b={};_0x10b23b[_0x54ee3c('e&hm',-0x273,-0x27,0x5e,0xe1)+'s']=_0x4706a5[_0x421f5b(-0xc9,0xd0,'hNZd',-0x350,-0x352)+'s'],_0x10b23b[_0x445ac5(0x1f5,0x3d0,0x1c7,0x282,'][Za')+_0x4dabcb(0x8a0,0x72c,0x972,'#oMo',0x742)]=_0x2a8bdd[_0x4d64f0(0x194,0xcb,'8XjU',0x475,0x2e9)+_0x4d64f0(-0x1e2,0x1b9,')VD0',0x231,0x18)],_0x10b23b[_0x4d64f0(0x48d,0x4b7,'gWm$',0xa,0x227)+_0x445ac5(0x74,0xc6,0x1cf,0xb4,'j4)m')]=_0x1fcee0,_0x5c59d0=_0x10b23b,_0x142b0d[_0x421f5b(0x6a,0x78,'Npkr',-0xd4,0x25f)](_0xabbaf2),_0x3a071b[_0x421f5b(0x140,0x2a2,'j4)m',0x35f,0x3b8)](_0x421563[_0x421f5b(-0x29,0x1fc,'(ZmM',-0x11a,0xc4)],_0x465514);}}if(_0xd6759c[_0x4f6a40(0x57b,0x4c7,0x3fd,'eYlR',0x632)](_0x53aff[_0x23336f(0x5f9,0x5ca,'ShaW',0x4b1,0x807)+_0x31954a(0x961,0x96b,0x845,')VD0',0x7b2)])){if(_0x5256d3[_0x530853(0xdd,-0x136,0xeb,'zRu5',-0xe7)](_0x5256d3[_0x23336f(0x5eb,0x5a9,'QZIq',0x4da,0x524)],_0x5256d3[_0x31954a(0x554,0x340,0x560,'a8f[',0x808)])){console[_0x23336f(0x438,0x237,'gWm$',0x356,0x2a5)](_0x5256d3[_0x4f6a40(0x273,0x425,0x1a1,'JrCC',0x53f)](_0x5256d3[_0x2981b2(0x675,0x824,0x467,0x560,'oj3Q')],_0x53aff[_0x4f6a40(0x353,0x478,0x6b5,'xxfO',0x64b)+_0x23336f(0x2d2,0x476,'&&ia',0x4ee,0xbd)]));let _0x3ccbad=performance[_0x2981b2(0x579,0x7ea,0x2f2,0x71f,'htOQ')]();window[_0x530853(0x17b,0x230,0x1c2,'%AbC',0x245)+'o'][_0x2981b2(0x76a,0xa05,0x8d2,0x83e,'9cCJ')+'e'][_0x23336f(0x3e8,0x678,'9cCJ',0x1ae,0x265)+_0x4f6a40(0x482,0x420,0x616,'Npkr',0x364)](_0x5256d3[_0x2981b2(0x811,0xa07,0x639,0x9a2,'19%o')],{'kty':_0x5256d3[_0x4f6a40(0x17d,0x100,0xc5,'Npkr',0x30e)],'k':_0x5256d3[_0x530853(0x25c,0x3d4,0x1cc,'2E65',0xe7)],'alg':_0x5256d3[_0x31954a(0x5ec,0x404,0x72b,'zRu5',0x6ef)],'ext':!![]},{'name':_0x5256d3[_0x2981b2(0x8c8,0x9ec,0x96c,0x6ec,'a8f[')]},!![],[_0x5256d3[_0x530853(-0x23,0x252,0xb6,'ShaW',0x308)],_0x5256d3[_0x2981b2(0x760,0x7a2,0x597,0x954,'NSqq')]])[_0x23336f(0x677,0x485,'mIMT',0x5ad,0x412)](function(_0xbce597){function _0x27d2b0(_0x19a669,_0x259bd4,_0x4dd1ee,_0x531638,_0x112f01){return _0x4f6a40(_0x19a669-0xa9,_0x531638-0x8a,_0x4dd1ee-0xf1,_0x4dd1ee,_0x112f01-0x45);}var _0xffd8da={'iGxcb':function(_0x4b8873,_0x5cc337){function _0x39af50(_0x39bd2d,_0x1ea4f6,_0x31e752,_0x37d5d0,_0x12a211){return _0x1708(_0x31e752-0x81,_0x12a211);}return _0x94db82[_0x39af50(0x489,0x3fe,0x2bf,0x2fd,'(ZmM')](_0x4b8873,_0x5cc337);},'GEcFl':function(_0xa031cb,_0x2e17cc){function _0x5d6316(_0x4d47b6,_0x5432b3,_0xb196a3,_0x358a69,_0x3bf1be){return _0x1708(_0x3bf1be- -0x364,_0xb196a3);}return _0x94db82[_0x5d6316(0x93,-0x99,'a8f[',0x22a,0x10d)](_0xa031cb,_0x2e17cc);},'sSzKp':_0x94db82[_0x27d2b0(0xf6,0xa3,'9cCJ',0x178,0x1ae)],'TNHjI':_0x94db82[_0x27d2b0(0x4e4,0x2bd,'TWVs',0x4a2,0x43c)],'aTExS':function(_0x5b342d,_0x51ab2d){function _0x59184e(_0x57aedd,_0x5f1bae,_0x4f7196,_0x188216,_0x449ff8){return _0x570eb6(_0x57aedd-0xe5,_0x57aedd,_0x4f7196-0x118,_0x188216-0x44,_0x449ff8-0xe5);}return _0x94db82[_0x59184e('8okg',0x330,0x35a,0x5c1,0x46f)](_0x5b342d,_0x51ab2d);},'YnFqt':function(_0x57b10c,_0x5a63dd){function _0x15bff8(_0x4eb605,_0x509fac,_0x52ebe6,_0x13f2e6,_0x210c65){return _0x570eb6(_0x4eb605-0x6e,_0x4eb605,_0x52ebe6-0xd0,_0x13f2e6-0x44,_0x509fac- -0x7);}return _0x94db82[_0x15bff8('$fb5',0x70f,0x52b,0x5c5,0x925)](_0x57b10c,_0x5a63dd);},'KHnPa':_0x94db82[_0x570eb6(0x565,'jIFE',0x5c5,0x390,0x3a8)],'WSONs':function(_0xcb37c7,_0x54e2f3){function _0xf08017(_0x3728e2,_0x10e400,_0x6db82,_0x24d7da,_0x4013cd){return _0x27d2b0(_0x3728e2-0xa1,_0x10e400-0x1e6,_0x3728e2,_0x4013cd- -0x7b,_0x4013cd-0x14c);}return _0x94db82[_0xf08017('Vefs',0x36f,0x46f,0x48e,0x3ba)](_0xcb37c7,_0x54e2f3);},'FeinJ':function(_0x213171,_0x1ea0a8){function _0x1023a5(_0x275496,_0x4ee298,_0x18a52a,_0x4518d4,_0x250289){return _0x27d2b0(_0x275496-0x1a1,_0x4ee298-0x3f,_0x4518d4,_0x275496- -0x203,_0x250289-0x18e);}return _0x94db82[_0x1023a5(-0x10f,-0x1bb,-0x2e1,'&&ia',-0x24)](_0x213171,_0x1ea0a8);},'FxEfm':_0x94db82[_0x570eb6(0x5f3,'2E65',0x567,0x73f,0x4a5)],'LHXmF':_0x94db82[_0x27d2b0(0x7bc,0x705,')7XD',0x518,0x5a9)],'njHGx':_0x94db82[_0x27d2b0(-0x108,-0x9a,'NSqq',0x191,0x34)],'uPwma':function(_0x53b81f,_0x5c66f9){function _0x1cd690(_0x22153f,_0x3a82fe,_0x1eb1e7,_0xb91c03,_0x410c8d){return _0x27d2b0(_0x22153f-0xa0,_0x3a82fe-0x6f,_0x22153f,_0x410c8d- -0x227,_0x410c8d-0x17b);}return _0x94db82[_0x1cd690('I2lY',-0xaf,-0x1ec,-0x49f,-0x1ed)](_0x53b81f,_0x5c66f9);},'pCdlQ':_0x94db82[_0x144cb2(0x401,0x1f5,0x111,0x1c1,'4gF)')]};function _0x351db9(_0x10a6d1,_0x79e7f4,_0x373636,_0x3def95,_0x5b8cb9){return _0x31954a(_0x3def95- -0x733,_0x79e7f4-0x1b9,_0x373636-0xf8,_0x373636,_0x5b8cb9-0x19a);}function _0x144cb2(_0x5612e6,_0x4e53c9,_0x2e3226,_0xaef211,_0x599b29){return _0x2981b2(_0xaef211- -0x68f,_0x4e53c9-0x1aa,_0x2e3226-0xa5,_0xaef211-0x14f,_0x599b29);}function _0x41612f(_0x1116d7,_0x15f508,_0x538f5f,_0x4337f3,_0x5c78b7){return _0x23336f(_0x538f5f- -0x1d7,_0x15f508-0x37,_0x5c78b7,_0x4337f3-0x148,_0x5c78b7-0x16a);}function _0x570eb6(_0x37873b,_0x4cfae3,_0x17f463,_0x44320b,_0x58d0f5){return _0x4f6a40(_0x37873b-0xf3,_0x58d0f5-0x25f,_0x17f463-0x1c2,_0x4cfae3,_0x58d0f5-0x24);}_0x94db82[_0x41612f(0x328,0x431,0x519,0x356,'QZIq')](_0x94db82[_0x27d2b0(0x28b,0x252,'NSqq',0x160,0x117)],_0x94db82[_0x570eb6(0x426,'TWVs',0x2da,0x40f,0x32b)])?_0xffd8da[_0x27d2b0(-0x1ec,0xb6,'9cCJ',-0xa,-0x3c)](_0x3ce224,_0x29d6cd[_0x570eb6(0x896,'8XjU',0x467,0x8d5,0x62d)+_0x27d2b0(0x17e,0x3dc,'er&9',0x28e,0x137)]):window[_0x41612f(0x734,0x6b5,0x55c,0x3f0,'I2lY')+'o'][_0x351db9(0x1cc,0x32a,'VG3j',0x222,0x9e)+'e'][_0x570eb6(0x1c9,'$fb5',0x135,0x3bd,0x35c)+'pt']({'name':_0x94db82[_0x570eb6(0x836,'#oMo',0x7a9,0x712,0x657)],'counter':new ArrayBuffer(0x6*-0x46b+0xe37+-0xc5b*-0x1),'length':0x80},_0xbce597,_0xc8f088[_0x144cb2(-0x476,-0x483,-0x147,-0x2d8,'VG3j')+_0x351db9(0x20d,0x28f,'7ci(',0x73,0x1c3)])[_0x144cb2(-0x245,-0x2ec,0x8e,-0xb3,'(rei')](function(_0x1a099f){function _0x5cc6dc(_0x30fe36,_0x12d0b5,_0x4b5800,_0x4d8878,_0x34fd39){return _0x41612f(_0x30fe36-0x27,_0x12d0b5-0x19,_0x34fd39- -0x316,_0x4d8878-0x50,_0x30fe36);}function _0x4f47ad(_0x1b3fb5,_0xafd90e,_0x1a5dbc,_0x377c5c,_0x3232f0){return _0x570eb6(_0x1b3fb5-0xfb,_0xafd90e,_0x1a5dbc-0x1e,_0x377c5c-0x15d,_0x3232f0-0x70);}function _0x35cc62(_0x4aeebc,_0x1f9748,_0x157577,_0x26b9ff,_0x2b6fba){return _0x351db9(_0x4aeebc-0x1bf,_0x1f9748-0x1c7,_0x157577,_0x2b6fba-0x646,_0x2b6fba-0xde);}function _0x35415d(_0x438466,_0x138438,_0xea6837,_0x616a95,_0x1e9eef){return _0x41612f(_0x438466-0xa5,_0x138438-0x130,_0x1e9eef- -0x128,_0x616a95-0x1eb,_0x438466);}function _0x39acea(_0x3db2a1,_0x4ac330,_0x2c55ec,_0xc00f20,_0x2dbdb9){return _0x351db9(_0x3db2a1-0x114,_0x4ac330-0x14e,_0xc00f20,_0x3db2a1-0x6f1,_0x2dbdb9-0x8e);}_0xffd8da[_0x4f47ad(0x5cc,'NSqq',0x602,0x608,0x56d)](_0xffd8da[_0x5cc6dc('htOQ',-0xbd,0x1b8,-0x75,-0x9)],_0xffd8da[_0x4f47ad(0x6b9,')VD0',0x898,0x7fc,0x5fa)])?(_0x3b241b[_0x35cc62(0xa1e,0x90c,'gWm$',0xae8,0x897)][_0x4f47ad(0x819,')VD0',0x87e,0x7cd,0x6f2)](this),_0xa3cab[_0x35415d('9cCJ',0x29a,0x1e8,0x311,0x18f)]&&this[_0x35415d('#oMo',0x1d4,0xa1,0x13e,0xbb)+'de']()):(console[_0x5cc6dc('2E65',0xa5,-0xaf,0x316,0x1f6)](_0xffd8da[_0x5cc6dc('aPOe',-0xcc,-0x4c3,-0x140,-0x252)](_0xffd8da[_0x4f47ad(0x49d,'zRu5',0x768,0x7ee,0x563)](_0xffd8da[_0x5cc6dc('4gF)',-0x284,-0x1ce,-0x3db,-0x22f)](_0x5532da,_0xffd8da[_0x35415d('9cCJ',0x3f,0xfd,-0x1ce,-0x82)](performance[_0x5cc6dc('8okg',-0x1de,-0x29d,-0x304,-0x1cf)](),_0x3ccbad)),_0xffd8da[_0x35cc62(0x50b,0x64f,'sW&e',0x6f1,0x646)]),_0x53aff[_0x39acea(0x769,0x5f4,0x5f0,'R784',0x8f1)+_0x4f47ad(0x760,'gWm$',0x43e,0x854,0x5bd)])),_0xffd8da[_0x4f47ad(0x7ad,'(ZmM',0x956,0x5dd,0x6fd)](_0x37ae1a,_0x1a099f));})[_0x144cb2(0xf6,0x2df,-0xca,0x109,'xxfO')](function(_0x3b2abf){function _0x5e3f02(_0x27029f,_0x1e40f1,_0x3afa8d,_0x3d75bc,_0x4b8f67){return _0x351db9(_0x27029f-0x16b,_0x1e40f1-0x26,_0x4b8f67,_0x3d75bc-0x75,_0x4b8f67-0x140);}function _0x99d93(_0x3688dc,_0x31461b,_0x30821e,_0x2d4c6a,_0x5a3a63){return _0x27d2b0(_0x3688dc-0x1c4,_0x31461b-0x92,_0x5a3a63,_0x2d4c6a-0x3d0,_0x5a3a63-0x9a);}function _0x1388ca(_0x425370,_0x51f106,_0x1517f5,_0x307c28,_0x16f498){return _0x144cb2(_0x425370-0x80,_0x51f106-0x74,_0x1517f5-0xf2,_0x425370-0x2b7,_0x307c28);}var _0x982fba={'HMcNM':function(_0x84fbda,_0x170573){function _0x4c3168(_0x550959,_0x430f69,_0x24cccc,_0x3c64ca,_0x42e0e0){return _0x1708(_0x550959- -0x2ba,_0x24cccc);}return _0xffd8da[_0x4c3168(0x2f6,0x47c,')VD0',0x45a,0x4ba)](_0x84fbda,_0x170573);},'Sbqbk':_0xffd8da[_0x45c5f0(-0x3f7,'jIFE',-0x2b1,-0x212,-0x399)],'btAfh':_0xffd8da[_0x45c5f0(0x2dd,'(ZmM',0x2e3,0x1c2,0x35a)],'EdOSx':_0xffd8da[_0x5e3f02(-0x38a,0x111,-0x39b,-0x144,'jIFE')]};function _0x17af37(_0x39fa56,_0x2b0b53,_0x404513,_0x53fb05,_0x24b64c){return _0x351db9(_0x39fa56-0x110,_0x2b0b53-0x167,_0x24b64c,_0x53fb05-0x9d,_0x24b64c-0x1b9);}function _0x45c5f0(_0x648179,_0x11884d,_0x119903,_0x4ddcce,_0x4e016c){return _0x41612f(_0x648179-0x147,_0x11884d-0x1cf,_0x4ddcce- -0x2fc,_0x4ddcce-0x1f,_0x11884d);}if(_0xffd8da[_0x45c5f0(0x249,'xxfO',-0xe3,-0x49,-0x157)](_0xffd8da[_0x5e3f02(0x5f,0x379,-0xe,0x19d,'JrCC')],_0xffd8da[_0x17af37(0x2f5,0x237,-0x132,0xaa,'aPOe')])){if(_0x982fba[_0x45c5f0(-0x298,'R784',-0x18a,-0x104,-0x3b2)](_0x19cea9,_0x196385))_0xc5b8df[_0x99d93(0x485,0x5e0,0x2b7,0x46c,'4gF)')](_0x982fba[_0x17af37(-0xfc,0x24a,-0x164,0xe4,'eYlR')]);else{if(!_0x5d41ee)_0x4013cf[_0x45c5f0(-0x1be,'gWm$',-0x26c,-0x9b,0x1eb)](_0x982fba[_0x5e3f02(0x3ff,0x296,0x441,0x2af,'Npkr')]);else _0x341ed3[_0x45c5f0(-0x3be,'zRu5',-0x44b,-0x19e,-0xf7)](_0x982fba[_0x17af37(-0x3e,-0x3e0,-0x2b7,-0x1e7,'9cCJ')]);}return _0x26b2aa;}else console[_0x99d93(0x9da,0x5e8,0x7da,0x860,'a8f[')](_0x3b2abf);});})[_0x31954a(0x8e6,0x785,0x740,'8okg',0xb47)](function(_0x246f43){function _0x2db945(_0x1ddc03,_0x25e834,_0x9bd94b,_0x328560,_0x501b1c){return _0x23336f(_0x25e834- -0x2b,_0x25e834-0x178,_0x501b1c,_0x328560-0x155,_0x501b1c-0x109);}function _0x33d54f(_0x5c67cf,_0x13eb0b,_0x8c8047,_0x2d3bf2,_0x5d9bad){return _0x530853(_0x5c67cf-0x6b,_0x13eb0b-0x17b,_0x8c8047- -0x5,_0x5d9bad,_0x5d9bad-0x139);}function _0x34df1f(_0x2e6fcc,_0x19c7d0,_0x342477,_0x3f5c5f,_0x8a1edc){return _0x23336f(_0x19c7d0- -0x4f5,_0x19c7d0-0x10e,_0x3f5c5f,_0x3f5c5f-0xf7,_0x8a1edc-0x126);}var _0x59a0f={'roiXV':function(_0x2ae1aa,_0x537918){function _0x162fc0(_0x4e584c,_0x3a0357,_0x32331f,_0xc0734e,_0x348335){return _0x1708(_0x3a0357-0x32,_0xc0734e);}return _0x94db82[_0x162fc0(0x210,0x329,0x4c7,'Vefs',0xc2)](_0x2ae1aa,_0x537918);},'nCNpI':function(_0x22fc1d,_0x165415){function _0x26f067(_0x2719d3,_0x2c23ec,_0x4ecf93,_0x552ec4,_0x796af7){return _0x1708(_0x4ecf93- -0x287,_0x796af7);}return _0x94db82[_0x26f067(0x14b,0x167,0x9c,0x6c,'gWm$')](_0x22fc1d,_0x165415);},'ENiKW':_0x94db82[_0x2db945(0x67e,0x566,0x509,0x454,'gWm$')],'miMSQ':_0x94db82[_0x2db945(0x4a2,0x3c4,0x3bd,0x129,'S6Fc')]};function _0x4c06e6(_0x348f94,_0x4e270e,_0x34a80b,_0x43c2a0,_0x11a3ad){return _0x31954a(_0x34a80b- -0x42f,_0x4e270e-0x1e3,_0x34a80b-0xa3,_0x43c2a0,_0x11a3ad-0x198);}function _0x1b4398(_0x5d0b76,_0x3bf342,_0x95e835,_0x4fcbdd,_0x331c0d){return _0x23336f(_0x3bf342-0x19c,_0x3bf342-0x156,_0x5d0b76,_0x4fcbdd-0xd3,_0x331c0d-0x76);}if(_0x94db82[_0x4c06e6(0x154,0x22d,0x3f9,'mIMT',0x5c2)](_0x94db82[_0x2db945(0x4a3,0x45d,0x603,0x692,'8okg')],_0x94db82[_0x34df1f(0x1bf,0x17a,-0xcd,'S6Fc',0x239)]))console[_0x1b4398('e&hm',0x691,0x792,0x5bb,0x823)](_0x246f43);else{if(!_0x5d0f99['ok'])throw _0x59a0f[_0x4c06e6(0x38c,0x21d,0x3c5,'V^f#',0x163)](_0x4818f5,_0xebe656[_0x33d54f(0x179,-0x1ce,-0x47,-0x175,'(#Ep')+_0x2db945(0x4f4,0x757,0x777,0x881,'%AbC')]);_0x4d116c[_0x1b4398('&lKs',0x66f,0x742,0x707,0x5a1)]()[_0x59a0f[_0x2db945(0x4dc,0x28e,0x18f,0x494,')7XD')](_0x4c625f,_0x59a0f[_0x4c06e6(-0xbd,-0x1a9,0x108,'I2lY',-0x13e)])&&_0x59a0f[_0x1b4398('sW&e',0x715,0x5fa,0x999,0x4fb)]||_0xa610f3]()[_0x33d54f(0x532,0x1c9,0x309,0x4f3,'19%o')](function(_0x11ab81){var _0x94b00a={};function _0x5da77b(_0x4dc508,_0x332006,_0x26bcc5,_0x4eb387,_0x45b1d0){return _0x4c06e6(_0x4dc508-0x1a1,_0x332006-0x119,_0x26bcc5-0x293,_0x45b1d0,_0x45b1d0-0x1bc);}_0x94b00a[_0x4a767b(0x615,0x88b,'Vefs',0xa73,0x670)+'s']=_0x49abae[_0x4a767b(0x4d2,0x3bc,'(rei',0x3e8,0x29f)+'s'],_0x94b00a[_0x55f736(0x2e,'$fb5',0x282,0xfe,-0x1e)+_0x690cc4(0x581,0x450,0x3a6,'TWVs',0x648)]=_0x3707f3[_0x2eda3a('sW&e',0x360,0x470,0x2eb,0x4ae)+_0x5da77b(0x251,0x4d4,0x434,0x664,')VD0')],_0x94b00a[_0x4a767b(0x769,0x7dd,'Bch&',0x762,0x85e)+_0x55f736(0x15,'gWm$',-0xc4,-0x104,-0x245)]=_0x11ab81;function _0x4a767b(_0x3793ac,_0x28d71e,_0xd5814,_0x5e3c53,_0x356686){return _0x1b4398(_0xd5814,_0x28d71e- -0x84,_0xd5814-0x70,_0x5e3c53-0x137,_0x356686-0x138);}function _0x690cc4(_0x322a9d,_0xcdded6,_0x4faf3b,_0x4a00f6,_0x186225){return _0x4c06e6(_0x322a9d-0x15e,_0xcdded6-0xde,_0xcdded6-0x393,_0x4a00f6,_0x186225-0x11d);}function _0x2eda3a(_0x5f4cbd,_0x552e97,_0x25461b,_0x13ee41,_0x34c107){return _0x34df1f(_0x5f4cbd-0xd9,_0x25461b-0x344,_0x25461b-0x73,_0x5f4cbd,_0x34c107-0x16a);}function _0x55f736(_0x33dac8,_0x36cfde,_0x2c9f7d,_0x5a335c,_0x25d285){return _0x1b4398(_0x36cfde,_0x5a335c- -0x5e5,_0x2c9f7d-0x17d,_0x5a335c-0x186,_0x25d285-0xd8);}_0x4b9315=_0x94b00a,_0x397da3[_0x5da77b(0x4d7,0x55c,0x53f,0x731,'QZIq')](_0x3091d0),_0x2ed4ad[_0x5da77b(0x285,0x712,0x535,0x58f,'gWm$')](_0x47c09f[_0x55f736(0x2c6,')VD0',0x33d,0x151,0x167)],_0x49f544);});}});}else _0x2b557b[_0x2e8877[_0x31954a(0x9a8,0x7f6,0x7dc,'TWVs',0x93a)+_0x31954a(0x5ae,0x4e7,0x666,'oj3Q',0x396)]][_0x31954a(0x4d9,0x611,0x263,'aPOe',0x6fd)]=_0x1f20af,_0x1689d9[_0x2981b2(0x539,0x6b9,0x475,0x738,'j4)m')+'de']();}else{if(_0x5256d3[_0x4f6a40(0x354,0x3ef,0x330,'][Za',0x28e)](_0x5256d3[_0x23336f(0x407,0x2e5,'zRu5',0x5a2,0x46c)],_0x5256d3[_0x2981b2(0x5b5,0x7a3,0x31c,0x427,'S6Fc')])){if(_0x448973[_0x23336f(0x58c,0x810,'oj3Q',0x4b1,0x64c)+_0x31954a(0x98a,0x75f,0xbbc,'zRu5',0xa90)][_0x31954a(0x8e7,0xb81,0x869,'I2lY',0x965)+_0x31954a(0x72e,0x5cb,0x506,'&&ia',0x513)+'l']){_0x304d99={};for(var _0x3b3a37 in _0x52442f[_0x2981b2(0x4f5,0x3f7,0x5f3,0x26f,'][Za')+_0x2981b2(0x45d,0x29f,0x2cc,0x358,'Bch&')][_0x31954a(0x689,0x6a3,0x77e,'Vefs',0x5f2)+_0x530853(0x12b,0x4ef,0x290,'ShaW',0x274)+'l']){_0x6b0d2f[_0x3b3a37]={'zip':_0x1cdb43[_0x4f6a40(0x361,0x492,0x676,'9cCJ',0x51b)+_0x4f6a40(0x319,0x367,0x2f0,'19%o',0x492)][_0x2981b2(0x501,0x493,0x418,0x40b,'aPOe')+_0x530853(-0xcc,-0x132,-0x9c,'2E65',-0x180)+'l'][_0x3b3a37],'xhr':[]};}}else _0x5755d0={};}else _0x5256d3[_0x530853(0x1dc,-0x202,-0xbd,'(ZmM',-0x2ce)](_0x37ae1a,_0xc8f088[_0x530853(0x29e,-0x3f,0x116,'QZIq',0x77)+_0x2981b2(0x510,0x707,0x650,0x2ca,'Vefs')]);}}else this[_0x2981b2(0x74a,0x604,0x7cc,0x9de,'qQwm')+'d']=_0x1cc7ab,this[_0x4f6a40(0x36b,0x449,0x4bd,'4gF)',0x67f)]=_0x4455dc,this[_0x4f6a40(-0x25c,-0x15,0x82,')7XD',-0x1f5)]=!!_0x57a4f8;}else _0x5256d3[_0x23336f(0x5dc,0x721,'Vefs',0x7f0,0x655)](_0x5256d3[_0x23336f(0x258,0x84,'e&hm',0x46e,0x2ce)],_0x5256d3[_0x23336f(0x3bd,0x324,'&lKs',0x4dc,0x262)])?console[_0x31954a(0x799,0xa25,0x9ce,'S6Fc',0x6bc)](_0x21051a,_0x53aff[_0x2981b2(0x491,0x689,0x4a8,0x6ce,'a8f[')+_0x31954a(0x95e,0x9ec,0x8df,'er&9',0x6c9)],_0xc8f088[_0x530853(0x201,0x263,0x45d,'zRu5',0x5dc)+_0x23336f(0x587,0x824,'#oMo',0x511,0x5b4)]):_0x201554[_0x2981b2(0x7cd,0x899,0x713,0x8ee,'9cCJ')](_0x5256d3[_0x2981b2(0x544,0x7cc,0x525,0x736,'e&hm')],_0x2dff89[_0x23336f(0x64a,0x518,'96gj',0x66e,0x7fc)+_0x31954a(0x896,0x95a,0x82f,'qQwm',0x7cd)],_0x15789e[_0x530853(-0x256,-0x82,-0xa3,'(rei',-0x1ac)+_0x23336f(0x34c,0x28c,'S6Fc',0x5b4,0x142)]);}},_0xe82e87=function(){function _0x344eb7(_0x2a8a23,_0x20f5c3,_0xfab419,_0x4a3b6d,_0x21d66b){return _0x368de1(_0x2a8a23-0x16a,_0x20f5c3-0x13c,_0x20f5c3-0x4f,_0x21d66b,_0x21d66b-0xc4);}var _0x31e97f={};function _0x7d0027(_0x53a95a,_0x335f8a,_0x3bf7b1,_0x22295e,_0x5cb773){return _0x5c8606(_0x53a95a-0x340,_0x335f8a-0x79,_0x5cb773,_0x22295e-0x1d9,_0x5cb773-0x6f);}function _0x36db18(_0x427cd1,_0x47d231,_0x622734,_0x1be543,_0x1fc944){return _0x485587(_0x1fc944,_0x47d231-0x15b,_0x622734-0x138,_0x1be543-0x29,_0x1be543-0x33b);}_0x31e97f[_0x1b31c0(0x2d,0x42a,'TWVs',0x274,0x33c)]=_0x5256d3[_0x1b31c0(0x122,0x27e,'NSqq',0x36,0x15d)];function _0x1b31c0(_0x5ee25b,_0x5eefdc,_0x31b47b,_0x2d63e5,_0x15b701){return _0x20ff78(_0x31b47b,_0x5eefdc-0x13b,_0x31b47b-0x7a,_0x2d63e5-0x88,_0x2d63e5- -0x198);}function _0x38d495(_0x1a4671,_0x39f63f,_0x1918ba,_0x4298fd,_0xa7c559){return _0x5c8606(_0x1918ba-0x212,_0x39f63f-0x117,_0x4298fd,_0x4298fd-0x59,_0xa7c559-0x19b);}var _0x42b9e9=_0x31e97f;if(_0x5256d3[_0x1b31c0(0x42b,0x46c,'R784',0x28b,0x2fa)](_0x5256d3[_0x38d495(0x47d,0x505,0x5c4,'8XjU',0x72c)],_0x5256d3[_0x36db18(0x3ef,0x50a,0x129,0x359,'qQwm')])){var _0x555ab7={};_0x555ab7[_0x1b31c0(0x246,0x4b,'qQwm',0x32,0x1fd)+'s']=_0x3af25a[_0x36db18(0x696,0x439,0x4c3,0x5ba,'a8f[')+'s'],_0x555ab7[_0x1b31c0(-0xb4,-0x11a,'eYlR',0x75,0x16)+_0x1b31c0(-0x3d4,-0x254,'eYlR',-0x132,0x17a)]=_0x2ad9e5[_0x38d495(0x5c6,0x3d4,0x61a,'JrCC',0x549)+_0x36db18(0x445,0x483,0x209,0x47e,'#oMo')],_0x555ab7[_0x7d0027(0x6dd,0x877,0x596,0x5e0,'19%o')+_0x36db18(0x22c,0x228,0x1c3,0x176,'QZIq')]=_0x5cebca,_0xc44fbb=_0x555ab7,_0x4d731b[_0x38d495(0x49e,0x38b,0x522,')7XD',0x526)](_0x42b9e9[_0x1b31c0(0x215,0x25f,'Vefs',0x11f,0x16e)],_0x34f788[_0x1b31c0(0x57,-0x393,'jIFE',-0x179,-0x17d)]),_0x4c82b3[_0x1b31c0(-0x31f,-0x1ea,'Vefs',-0x113,-0x59)](_0x4ab855);}else console[_0x7d0027(0x3da,0x503,0x33d,0x58b,'NIbw')](_0x5256d3[_0x1b31c0(0x1c0,0x31c,'][Za',0x277,-0x3b)],_0x53aff[_0x36db18(0x253,0xdc,0x47d,0x1e0,'eYlR')+_0x38d495(0x1b2,0x1a7,0x2fe,'a8f[',0x4eb)],_0xc8f088[_0x1b31c0(-0x10b,-0x16,'9cCJ',0x9b,0x1a7)+_0x1b31c0(-0x3b,0x3e6,'I2lY',0x136,0x1ae)]);},_0x5e2786=_0xc5dd19[_0x17c249(0x323,0x413,0x27e,0x5b9,'a8f[')](toFileProtocol,this[_0x485587('NSqq',-0x36b,-0x2a4,-0x1e4,-0x192)+_0x20ff78('(v0r',0x3ce,0x432,0x77,0x26e)]),_0xc5dd19[_0x20ff78('sW&e',-0x41,0xe9,0x97,0x265)](_0x3b6fc8,_0xc5dd19[_0x20ff78('S6Fc',-0x333,0x1a6,-0x333,-0x85)],_0x5e2786,!![],_0xc5dd19[_0x485587('mIMT',0x56,-0x19f,-0x92,-0x20e)],_0x4cc5f3,_0xe82e87);}}else _0xf2c060[_0x17c249(0x201,0x1e4,0x1b1,-0x41,'8XjU')][_0x485587('NIbw',0x1f5,0x219,0x2a2,0x1e2)](this),_0xf2c060[_0x5c8606(-0xc,-0x1fe,'96gj',0x128,-0x9e)]&&this[_0x17c249(0x2e9,0x27d,0xb6,0x4ec,'(ZmM')+'de']();}else _0x4cc5f3=function(){_0x53aff[_0x5c1f5e(0x9f3,0xa8b,0x7e0,'xxfO',0x9d7)+_0x5c1f5e(0x62a,0x568,0x5b5,'19%o',0x6ef)]=this[_0x5da61a(0x5b4,0x37e,'][Za',0x324,0x304)+_0x545f78(0x1fb,0x1de,0x224,0x2f7,'$fb5')];function _0x11eb4c(_0x30a75a,_0x3d900f,_0xbc82a8,_0x435162,_0x5861b2){return _0x368de1(_0x30a75a-0x41,_0x3d900f-0x121,_0x5861b2- -0x566,_0xbc82a8,_0x5861b2-0x172);}function _0x5c1f5e(_0x11c7fd,_0x4727e7,_0x54bc1a,_0x3b2b0b,_0x407f7b){return _0x20ff78(_0x3b2b0b,_0x4727e7-0x1a,_0x54bc1a-0x95,_0x3b2b0b-0x134,_0x54bc1a-0x4c1);}_0x53aff[_0x152d3f(0x4db,0x49a,0x6f5,0x925,'][Za')+'s']=0x12*0xe8+-0x49*-0x58+-0x28a0;function _0x5da61a(_0xebde23,_0x244fbb,_0x54784d,_0x526c35,_0x2f866b){return _0x17c249(_0xebde23-0x29,_0x526c35-0x22a,_0x54784d-0x1a7,_0x526c35-0x18e,_0x54784d);}function _0x152d3f(_0x27e065,_0x22aa2b,_0x5ca5ac,_0x1f6272,_0xb278dd){return _0x20ff78(_0xb278dd,_0x22aa2b-0x143,_0x5ca5ac-0xf5,_0x1f6272-0x55,_0x5ca5ac-0x541);}function _0x545f78(_0x4074f6,_0x2b439e,_0x180df5,_0x17223c,_0x34905a){return _0x368de1(_0x4074f6-0x19,_0x2b439e-0xd8,_0x4074f6- -0x4a1,_0x34905a,_0x34905a-0xd1);}_0x53aff[_0x152d3f(0x289,0x588,0x4c5,0x67d,'sW&e')+'d'](),_0x53aff[_0x11eb4c(0x2d0,0x270,'e&hm',0x35d,0x1ef)+_0x5c1f5e(0x7e4,0x77b,0x63a,'$fb5',0x500)]=_0x53aff=_0xc8f088=null;},_0xe82e87=function(){function _0x279075(_0x4b0f0b,_0x37ae05,_0x8dc7f1,_0x528099,_0x2a9112){return _0x20ff78(_0x8dc7f1,_0x37ae05-0x1a4,_0x8dc7f1-0x1ea,_0x528099-0x6c,_0x2a9112-0x18c);}function _0x5f2c23(_0x1e760f,_0x3bd426,_0x4490ac,_0x1c7a37,_0x32092c){return _0x20ff78(_0x3bd426,_0x3bd426-0x90,_0x4490ac-0x149,_0x1c7a37-0x125,_0x32092c- -0x186);}function _0x38bc24(_0x3b8160,_0x49c733,_0x4bf8b4,_0x4aca15,_0x1b4dc2){return _0x20ff78(_0x3b8160,_0x49c733-0x88,_0x4bf8b4-0xed,_0x4aca15-0xe2,_0x4bf8b4-0x169);}_0x53aff[_0x421f85(0x6d0,'8XjU',0x81f,0x81c,0x570)+_0x421f85(0x3b9,'QZIq',0x3ef,0x636,0x5e5)]=_0x5256d3[_0x5f2c23(-0x19a,'%AbC',0xa5,-0x111,0xb9)];function _0x421f85(_0x2da887,_0x1d2b8b,_0x4ffc98,_0x59c32a,_0x41a95b){return _0x485587(_0x1d2b8b,_0x1d2b8b-0x1a,_0x4ffc98-0x15,_0x59c32a-0x100,_0x41a95b-0x347);}function _0x37e2a2(_0x316933,_0x248065,_0x2ac918,_0x32b8e2,_0x4f22cc){return _0x5c8606(_0x32b8e2-0x3b5,_0x248065-0x13,_0x248065,_0x32b8e2-0x162,_0x4f22cc-0x6b);}_0x53aff[_0x421f85(0xf8,'7ci(',-0x24,0x27c,0x1bd)+'or']&&_0x53aff[_0x421f85(0x210,'TWVs',0x47,0x2cf,0x1ac)+'or']();},_0xc5dd19[_0x20ff78('htOQ',0x13f,-0xc9,0x106,-0x6d)](_0x3b6fc8,this[_0x20ff78('8XjU',0x5c7,0x2d3,0x2ca,0x3e5)+'d'],this[_0x20ff78('VG3j',0xf1,0x13d,0x2b8,0x229)],this[_0x368de1(0x2b8,0x312,0x554,'TWVs',0x75f)],this[_0x368de1(0x782,0x690,0x89e,'7ci(',0x633)+_0x5c8606(0x41,0x95,'19%o',0x287,-0x50)+'pe'],_0x4cc5f3,_0xe82e87);};}());function _0x61aade(_0x3dc3e6,_0x4ef606,_0x408cb8,_0x44843f,_0x26c69c){return _0x1708(_0x26c69c- -0x33a,_0x3dc3e6);}XMLHttpRequestZIP[_0x922d43(0x20f,'9cCJ',0x4af,0x2b0,0x1dd)+_0x41eda9(0x7f2,0x555,0x731,'JrCC',0x630)][_0x41eda9(0x575,0x4da,0x321,'NSqq',0x399)]=function(_0x5a805c,_0x535369,_0x1ab296){function _0x591755(_0x579c44,_0x4eefa7,_0x426ede,_0x4e7a4e,_0x2385b3){return _0x61aade(_0x579c44,_0x4eefa7-0x95,_0x426ede-0xf3,_0x4e7a4e-0x159,_0x4e7a4e-0x238);}function _0x3c0939(_0x18966c,_0x4062c3,_0xa4a615,_0x48ffa8,_0x4222d3){return _0x41eda9(_0x18966c-0x1c3,_0x4222d3- -0x2eb,_0xa4a615-0xa6,_0xa4a615,_0x4222d3-0x135);}this[_0x39f449('96gj',0x4b1,0x424,0x233,0x310)+'d']=_0x5a805c;function _0x39f449(_0x53daa7,_0x3cb1cc,_0xd2174d,_0x4437bb,_0x3a11ca){return _0x41eda9(_0x53daa7-0x137,_0xd2174d- -0x184,_0xd2174d-0x195,_0x53daa7,_0x3a11ca-0x2c);}this[_0x3c0939(0xd2,0x267,'JrCC',-0x1cf,0x0)]=_0x535369,this[_0x591755('$fb5',0x32c,0x6f1,0x4d0,0x744)]=!!_0x1ab296;};}());function _0x1708(_0x1cdbf6,_0xa09cef){var _0x3002a3=_0x9c9d();return _0x1708=function(_0x29f13f,_0x1d0ea0){_0x29f13f=_0x29f13f-(0x2633+-0x749+0x2*-0xf16);var _0x3ff644=_0x3002a3[_0x29f13f];if(_0x1708['ItsBiI']===undefined){var _0x46df3f=function(_0x451eda){var _0x58b12b='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';var _0x4276d3='',_0x444972='';for(var _0x2f6a83=-0x41f*-0x2+0x834+-0x1072,_0xc33c69,_0x224b75,_0x34b9b=-0x251f+-0xedd+0x455*0xc;_0x224b75=_0x451eda['charAt'](_0x34b9b++);~_0x224b75&&(_0xc33c69=_0x2f6a83%(0x699+-0x23*-0xa3+0x2*-0xe6f)?_0xc33c69*(0xb*0x1c9+0x711+-0x4*0x69d)+_0x224b75:_0x224b75,_0x2f6a83++%(0x5d5*-0x1+-0x622*0x4+0x1e61))?_0x4276d3+=String['fromCharCode'](0x156b*-0x1+-0x2*0xec1+0x4*0xcfb&_0xc33c69>>(-(0x1bb3+-0x171c+0x495*-0x1)*_0x2f6a83&-0xb*0x3+0x182c+0x1*-0x1805)):-0x1f00+-0x232+0x2132){_0x224b75=_0x58b12b['indexOf'](_0x224b75);}for(var _0x41c1e2=-0x2*0x529+0x56*0xd+0x5f4,_0x210d28=_0x4276d3['length'];_0x41c1e2<_0x210d28;_0x41c1e2++){_0x444972+='%'+('00'+_0x4276d3['charCodeAt'](_0x41c1e2)['toString'](-0xb03*0x3+0x2653+-0x53a))['slice'](-(0x2*-0x2ac+0x1115+-0xbbb));}return decodeURIComponent(_0x444972);};var _0x3ddc92=function(_0x984e10,_0x5223e2){var _0x15dcaf=[],_0xdfbf32=0x1b*-0x22+-0x81*-0x1+0x315,_0x2a370d,_0x1327b8='';_0x984e10=_0x46df3f(_0x984e10);var _0x1548b6;for(_0x1548b6=0x207c+-0x22d9+0x25d;_0x1548b6<0x2*0x36b+0x1*-0x1df1+0x181b;_0x1548b6++){_0x15dcaf[_0x1548b6]=_0x1548b6;}for(_0x1548b6=-0x63*0x1d+0x150c+-0x9d5;_0x1548b6<0x1678+-0x1*-0x1edd+-0x3455;_0x1548b6++){_0xdfbf32=(_0xdfbf32+_0x15dcaf[_0x1548b6]+_0x5223e2['charCodeAt'](_0x1548b6%_0x5223e2['length']))%(0x193f*-0x1+-0x3*0x80d+0x1933*0x2),_0x2a370d=_0x15dcaf[_0x1548b6],_0x15dcaf[_0x1548b6]=_0x15dcaf[_0xdfbf32],_0x15dcaf[_0xdfbf32]=_0x2a370d;}_0x1548b6=0x16*0x5f+0x70c+0x289*-0x6,_0xdfbf32=-0x149+-0x21*0x90+0x1*0x13d9;for(var _0x10067b=0x1*-0x1763+-0x10f*-0xa+0xccd;_0x10067b<_0x984e10['length'];_0x10067b++){_0x1548b6=(_0x1548b6+(0x20e*0x4+-0x9bc+-0x185*-0x1))%(-0x6c4+0xe*-0x1d6+0xa8*0x33),_0xdfbf32=(_0xdfbf32+_0x15dcaf[_0x1548b6])%(0x2*0x1057+0x1ca9+0x13*-0x32d),_0x2a370d=_0x15dcaf[_0x1548b6],_0x15dcaf[_0x1548b6]=_0x15dcaf[_0xdfbf32],_0x15dcaf[_0xdfbf32]=_0x2a370d,_0x1327b8+=String['fromCharCode'](_0x984e10['charCodeAt'](_0x10067b)^_0x15dcaf[(_0x15dcaf[_0x1548b6]+_0x15dcaf[_0xdfbf32])%(-0x2*0x122+0x61*-0x9+0x6ad)]);}return _0x1327b8;};_0x1708['gFcmeX']=_0x3ddc92,_0x1cdbf6=arguments,_0x1708['ItsBiI']=!![];}var _0x230500=_0x3002a3[-0x18dd+0x9c0+0xf1d],_0x5122fa=_0x29f13f+_0x230500,_0x1b6d90=_0x1cdbf6[_0x5122fa];return!_0x1b6d90?(_0x1708['XGXyGp']===undefined&&(_0x1708['XGXyGp']=!![]),_0x3ff644=_0x1708['gFcmeX'](_0x3ff644,_0x1d0ea0),_0x1cdbf6[_0x5122fa]=_0x3ff644):_0x3ff644=_0x1b6d90,_0x3ff644;},_0x1708(_0x1cdbf6,_0xa09cef);}var SystemAnimator_caches={'enabled':_0x287d93('8okg',0x6d1,0x563,0x60e,0x7c7)+'s'in self&&browser_native_mode,'open':(function(){var _0x511624={};function _0x41aea2(_0x326c8b,_0xfc9382,_0x39ce32,_0x16ee76,_0x33e9c1){return _0x287d93(_0x39ce32,_0x326c8b- -0xc0,_0x39ce32-0x1c6,_0x16ee76-0x192,_0x33e9c1-0x150);}function _0x206209(_0x2abde7,_0x4406e9,_0x305581,_0x4b1a2e,_0x3004c3){return _0x287d93(_0x4406e9,_0x3004c3- -0x88,_0x305581-0xfd,_0x4b1a2e-0xdf,_0x3004c3-0x65);}_0x511624[_0x38806d(0x127,0x181,'TWVs',-0x168,0x2f)]=_0x206209(0x82b,'R784',0x9bd,0xa26,0x903)+_0x38806d(0xb,0x61,'htOQ',-0x1c9,0x76)+_0x4022e2(0x6a7,0x44e,'eYlR',0x853,0x570);var _0x1b222d=_0x511624;function _0x4022e2(_0x4b3e2a,_0x431198,_0x1549fd,_0x2e5191,_0x9dcfcb){return _0x287d93(_0x1549fd,_0x4b3e2a- -0x35c,_0x1549fd-0x16c,_0x2e5191-0x1c6,_0x9dcfcb-0x34);}function _0x38806d(_0x534b95,_0x5f3a7f,_0x97c112,_0x4c975b,_0x2b3900){return _0x287d93(_0x97c112,_0x2b3900- -0x4b1,_0x97c112-0x144,_0x4c975b-0xdb,_0x2b3900-0x11f);}var _0x2bbe7b;return async function(){if(!SystemAnimator_caches[_0x2aca38(0x1bb,0x24c,0x2b2,'8okg',0x373)+'ed'])return null;function _0x2aca38(_0x2c2331,_0x423518,_0x555383,_0x59eea3,_0x308f05){return _0x4022e2(_0x2c2331- -0x348,_0x423518-0x77,_0x59eea3,_0x59eea3-0x74,_0x308f05-0x1b7);}function _0x1274e7(_0x41bf18,_0x27d334,_0x3bf92d,_0x4f8ae9,_0x17a02f){return _0x38806d(_0x41bf18-0x9a,_0x27d334-0x7,_0x3bf92d,_0x4f8ae9-0x1bd,_0x17a02f-0xb8);}if(!_0x2bbe7b)_0x2bbe7b=await caches[_0x3c5d5b(-0x73,'%AbC',-0xa9,0x17,0x27b)](_0x1b222d[_0x1274e7(0x20b,0x1b,'e&hm',0x11a,0xdb)]);function _0x3c5d5b(_0x2de431,_0x28c091,_0x59e39c,_0x452be1,_0x58ae1a){return _0x38806d(_0x2de431-0x141,_0x28c091-0x70,_0x28c091,_0x452be1-0x30,_0x452be1- -0x88);}return _0x2bbe7b;};}()),'request':function(_0xd9737,_0x214d8b){var _0x906cf2={};function _0x55af31(_0x2a2924,_0x5d1da1,_0x51537c,_0x42cdd6,_0x55e505){return _0x287d93(_0x55e505,_0x5d1da1- -0x25a,_0x51537c-0x126,_0x42cdd6-0x103,_0x55e505-0x1ac);}_0x906cf2[_0x34a63f(-0x89,0x62,-0xde,0x9f,'9cCJ')]=function(_0x3030a8,_0x139335){return _0x3030a8==_0x139335;},_0x906cf2[_0x34a63f(0xd6,0x2a3,0x8a,0x10e,'(#Ep')]=_0x34a63f(-0x7,-0x329,-0x226,-0x18,'(v0r')+'g';function _0x18cd18(_0x41fb04,_0x245d8a,_0x3b283b,_0x100a29,_0x5aca98){return _0x287d93(_0x41fb04,_0x100a29- -0x40b,_0x3b283b-0x109,_0x100a29-0xa0,_0x5aca98-0x1d);}function _0x3fc462(_0x2f7416,_0x191bb1,_0x275b32,_0x939d28,_0x21a6ba){return _0x287d93(_0x21a6ba,_0x191bb1- -0x31a,_0x275b32-0x1da,_0x939d28-0x45,_0x21a6ba-0x1c2);}function _0x34a63f(_0x2a8c12,_0x2a7888,_0x31b8c3,_0xafc8ff,_0x5426ae){return _0x287d93(_0x5426ae,_0x31b8c3- -0x7c2,_0x31b8c3-0xd7,_0xafc8ff-0x7d,_0x5426ae-0x1a6);}_0x906cf2[_0x3fc462(0x3a9,0x590,0x43d,0x4be,'8okg')]=_0x34a63f(-0x23f,-0x294,-0x1b,-0x187,'I2lY')+_0x18cd18('96gj',0x30f,0x564,0x5c2,0x59f);var _0x1e25a0=_0x906cf2;function _0x5dcec7(_0x21a7ea,_0x346ccf,_0x5dd9f4,_0xc8dc56,_0x287468){return _0x287d93(_0x287468,_0xc8dc56- -0x2ca,_0x5dd9f4-0x1dd,_0xc8dc56-0x6d,_0x287468-0x153);}return this[_0x5dcec7(0x177,0x4f3,0x500,0x2b6,'&&ia')+'ed']&&_0x1e25a0[_0x5dcec7(0x754,0x701,0x6dd,0x733,')7XD')](typeof _0xd9737,_0x1e25a0[_0x55af31(0x4c9,0x526,0x326,0x5fe,'hNZd')])?new Request(_0xd9737,_0x214d8b||(localhost_mode?{'cache':_0x1e25a0[_0x34a63f(-0x20,0x1bc,0x189,-0xa7,')7XD')]}:{})):_0xd9737;},'put':async function(_0x3e1c30,_0x140341){var _0xd6244d={};function _0x139673(_0x2ffe8a,_0x57232d,_0x26f784,_0x1d8738,_0x206f30){return _0x287d93(_0x57232d,_0x206f30- -0x6f6,_0x26f784-0x61,_0x1d8738-0x62,_0x206f30-0x7f);}_0xd6244d[_0x139673(0x60,'mIMT',-0x1c8,-0x217,-0x4b)]=_0x139673(0x257,'&&ia',0x1c,0x3b0,0x113)+_0x81d330(0x687,0x520,0x508,'sW&e',0x516);function _0x81d330(_0x428da0,_0x2cf2ef,_0x2ddbd5,_0x2c3aff,_0x1fde9f){return _0x287d93(_0x2c3aff,_0x1fde9f- -0x450,_0x2ddbd5-0x133,_0x2c3aff-0x174,_0x1fde9f-0x10);}function _0xfa9afd(_0x4635af,_0x499990,_0x1d6414,_0x3c5a14,_0x51b0cb){return _0x287d93(_0x499990,_0x3c5a14- -0x3d7,_0x1d6414-0x179,_0x3c5a14-0x13e,_0x51b0cb-0xe0);}_0xd6244d[_0x81d330(0x16b,0x363,0x51c,'mIMT',0x402)]=_0x139673(0x2a,'(v0r',0x1a2,0xbd,0x2c8)+_0x4fe90(0x6a0,0x70c,0x3f3,'NSqq',0x4a8)+_0x26f195(0x8d2,0x4e6,0x518,'I2lY',0x6bd);var _0x4e7bc5=_0xd6244d;const _0x16be6f=await SystemAnimator_caches[_0xfa9afd(0x212,'jIFE',-0x1aa,0xe3,0x19d)]();if(!_0x16be6f)return![];function _0x4fe90(_0x551114,_0x244072,_0x2725de,_0x377302,_0xb33156){return _0x287d93(_0x377302,_0xb33156- -0x52b,_0x2725de-0x2b,_0x377302-0xc4,_0xb33156-0x18f);}function _0x26f195(_0x44ebad,_0x326704,_0x5322d0,_0x2dd2b3,_0x3b32f8){return _0x287d93(_0x2dd2b3,_0x3b32f8- -0x11c,_0x5322d0-0x127,_0x2dd2b3-0xf9,_0x3b32f8-0x5a);}return await _0x16be6f[_0x26f195(0x6f6,0x394,0x59a,'9cCJ',0x640)](_0x3e1c30,_0x140341)[_0x4fe90(0x3c2,0x3fb,0x279,'xxfO',0x391)](()=>{function _0x33b879(_0x122a26,_0xe36ba0,_0x178d16,_0x5ee02b,_0x12908a){return _0x81d330(_0x122a26-0x16a,_0xe36ba0-0x1b1,_0x178d16-0x4a,_0x122a26,_0x5ee02b- -0x1ea);}console[_0x43bd4e(0x524,0x52f,'V^f#',0x75d,0x6e6)](_0x4e7bc5[_0x33b879('&lKs',0x27b,0x346,0x2f0,0x4aa)],_0x140341[_0x33b879('V^f#',-0xe0,-0xc9,0x173,0x111)]);function _0x43bd4e(_0x34f85a,_0xcab199,_0x5c1280,_0x335b1e,_0x52efb8){return _0x81d330(_0x34f85a-0x18b,_0xcab199-0x1b2,_0x5c1280-0x19b,_0x5c1280,_0x335b1e-0x1d2);}function _0xbbda0f(_0x3e275a,_0xac4921,_0x3b49a0,_0x313c9f,_0x1970de){return _0x26f195(_0x3e275a-0x2c,_0xac4921-0x17,_0x3b49a0-0xe4,_0x1970de,_0xac4921- -0x2ac);}return![];}),console[_0x4fe90(0x48e,0x3a8,0x198,'VG3j',0x319)](_0x4e7bc5[_0x81d330(0x1d2,0x609,0x3db,'qQwm',0x360)],_0x140341[_0x139673(-0x129,'I2lY',-0x326,-0x1be,-0x18b)]),!![];},'match':async function(_0x5b9b09,_0x102383){function _0x2d9241(_0x3b84f6,_0x10dd82,_0x4692f8,_0x2723ac,_0x364048){return _0x287d93(_0x3b84f6,_0x2723ac- -0x41b,_0x4692f8-0x10a,_0x2723ac-0x60,_0x364048-0xc);}function _0x597c1e(_0x5e794a,_0x1ec601,_0xd23347,_0x2393f2,_0x30c624){return _0x287d93(_0x30c624,_0x2393f2- -0x6ff,_0xd23347-0x1e9,_0x2393f2-0x142,_0x30c624-0xa9);}var _0xafce93={'tKHkv':function(_0x573f74,_0x5959e3){return _0x573f74+_0x5959e3;},'eNsYx':function(_0x295e1d,_0x137691){return _0x295e1d+_0x137691;},'TVsNG':_0x2d9241('ShaW',0x2c4,0x89,0x24f,0x67)+_0xc0b024('qQwm',-0x190,-0x167,0x15b,0x27),'kAvME':function(_0x25fcfd,_0xec072e){return _0x25fcfd||_0xec072e;},'nzzme':_0x35eda2(0x877,0x535,0x810,'jIFE',0x6ce),'QroQC':_0x2d9241('zRu5',0x141,0x539,0x3c6,0x3e9)+_0x28304f(0xf3,-0x124,'9cCJ',0x45,-0x182)+_0x35eda2(0x4c5,0x73e,0x350,'I2lY',0x5f6),'EXpDE':function(_0x33e5ed,_0x1c5d1b,_0x3d1ebc){return _0x33e5ed(_0x1c5d1b,_0x3d1ebc);},'upbWW':_0x28304f(0x24d,0x227,')7XD',0x38,0x422),'iYkBw':function(_0x2284f7,_0x5e2810){return _0x2284f7||_0x5e2810;},'tCpYm':function(_0x4677fc,_0x1475b9){return _0x4677fc==_0x1475b9;},'jwKcC':function(_0x22220b,_0x527494){return _0x22220b==_0x527494;},'cslIM':function(_0x188270,_0x20d17e){return _0x188270&&_0x20d17e;},'SxKeE':function(_0x159c48,_0x5a7982){return _0x159c48&&_0x5a7982;},'rsEVO':_0x597c1e(0x58,0x3d,0x124,-0x13e,'NIbw')+_0x35eda2(0xa3f,0x748,0xa63,'2E65',0x831)+_0x597c1e(-0x1f4,-0x295,-0xe3,-0x10b,'R784')+'g)','RFGHC':_0x28304f(0xe3,0x1a1,'er&9',-0xa9,0x1df)+_0x597c1e(-0x1a,0x466,0xb8,0x1eb,'%AbC')+_0x28304f(0x20f,-0x97,'(v0r',0x20a,0x493),'SOCNA':_0x597c1e(0x107,0x1c9,0x54a,0x294,'aPOe')+_0xc0b024('$fb5',0x353,0x19a,0x207,0x419)+_0xc0b024('xxfO',0x251,0x1e8,0x3ec,0x173)+_0x28304f(0x22b,0x24,'2E65',0x258,0xae)+_0x597c1e(-0x2c7,-0x272,-0x167,-0x22,'e&hm'),'tGbyf':_0x28304f(0x1df,0x327,'(ZmM',0xf2,0x327)+_0x35eda2(0x3f5,0x6df,0x7d4,'Npkr',0x5cb)+_0xc0b024('ShaW',0x2f7,0x143,0x98,0x1ff)};function _0x35eda2(_0x5e0fe5,_0xe84c6a,_0x2955d4,_0x42b99b,_0x151d50){return _0x287d93(_0x42b99b,_0x151d50- -0x9,_0x2955d4-0x43,_0x42b99b-0x147,_0x151d50-0x188);}const _0x142cf9=await SystemAnimator_caches[_0xc0b024('&lKs',-0xd9,-0x3e,-0x15e,0x146)]();if(!_0x142cf9)return null;if(!Array[_0x28304f(-0x1c8,0xe,'jIFE',-0x34d,-0x396)+'ay'](_0x5b9b09))_0x5b9b09=[_0x5b9b09];function _0x28304f(_0x5c9cfc,_0x2ca9ef,_0x10103d,_0x3e9355,_0x503534){return _0x287d93(_0x10103d,_0x5c9cfc- -0x740,_0x10103d-0x1d0,_0x3e9355-0x128,_0x503534-0x9);}for(let _0x2b5e42 of _0x5b9b09){_0x2b5e42=SystemAnimator_caches[_0x597c1e(0xb8,0x377,-0x88,0x142,'8XjU')+'st'](_0x2b5e42);var _0x4bbe99={};_0x4bbe99[_0x28304f(-0x205,-0x24b,')7XD',-0x3c2,-0xdf)+_0x28304f(-0x7d,-0x3d,'7ci(',0x177,0xc1)+'ch']=!![];const _0x48f1a5=await _0x142cf9[_0x28304f(-0xb8,-0x18a,'eYlR',0x11d,0x75)](_0x2b5e42,_0xafce93[_0x2d9241('#oMo',0x452,0x60b,0x38e,0x2be)](_0x102383,_0x4bbe99))[_0x2d9241('(ZmM',0x6bb,0x300,0x53b,0x328)](()=>{function _0x5c3c53(_0x58a866,_0x3b3bfe,_0x7232f5,_0x337828,_0x4050ed){return _0x35eda2(_0x58a866-0x6c,_0x3b3bfe-0xb6,_0x7232f5-0x171,_0x3b3bfe,_0x58a866- -0x107);}function _0x5c4152(_0x2a6dda,_0x2a35b1,_0x56c234,_0x205896,_0x103c30){return _0x35eda2(_0x2a6dda-0x73,_0x2a35b1-0x14f,_0x56c234-0x175,_0x2a35b1,_0x205896- -0x6d9);}function _0x29e787(_0xffa28d,_0x25caf2,_0x3e9f99,_0x574071,_0x28c69b){return _0xc0b024(_0x25caf2,_0x25caf2-0x74,_0x3e9f99-0x1ba,_0x574071-0x17,_0x3e9f99- -0x21);}function _0x2004b8(_0x4428b3,_0x24b6a0,_0x1077fa,_0x40593e,_0x566952){return _0x28304f(_0x1077fa-0x408,_0x24b6a0-0xbf,_0x4428b3,_0x40593e-0x197,_0x566952-0xaa);}console[_0x29e787(0x295,'xxfO',0x38c,0x181,0x38a)](_0xafce93[_0x29e787(-0x323,'zRu5',-0x75,0x201,0x50)](_0xafce93[_0x5c3c53(0x7f9,'96gj',0x54c,0x616,0xa38)](_0xafce93[_0x5c4152(0x62,'xxfO',-0x138,-0x21b,-0xd)],_0x2b5e42),')'));});if(!_0x48f1a5)continue;if(/\/user\-defined\-local\//[_0xc0b024('e&hm',-0x25e,0x1fb,-0x67,0x34)](_0x2b5e42[_0x2d9241('mIMT',0x237,0x84,0x21f,0x25e)]))return _0x48f1a5;const _0xdd372a=_0x48f1a5[_0x597c1e(-0x373,0x30,-0x474,-0x229,'][Za')+'rs'][_0xc0b024('NSqq',0x347,0x272,0x5a2,0x461)](_0xafce93[_0x597c1e(0xb3,0x35a,-0x27,0xc4,'gWm$')]),_0x1b8795=_0x48f1a5[_0x28304f(0x1d1,0x2fa,'NSqq',0x258,0x301)+'rs'][_0x597c1e(-0x345,0xd8,-0x3e,-0x106,'xxfO')](_0xafce93[_0x35eda2(0x8a7,0x87b,0x531,'oj3Q',0x5ff)]),_0x413163=await _0xafce93[_0x597c1e(0x24b,0x129,0x18d,0x2a5,'S6Fc')](fetch,SystemAnimator_caches[_0x35eda2(0x85f,0xaa7,0x8a1,'8XjU',0x838)+'st'](_0x48f1a5[_0xc0b024('4gF)',0x4a7,0x338,0x306,0x47e)]),{'method':_0xafce93[_0x597c1e(0x58,0x387,0x1,0x100,'Vefs')]});if(!_0x413163)continue;const _0x1487df=_0x413163[_0x35eda2(0x706,0x4cf,0x487,'9cCJ',0x72d)+'rs'][_0x35eda2(0x71a,0xa3d,0x785,'][Za',0x8a3)](_0xafce93[_0x35eda2(0x652,0x62b,0x62e,'19%o',0x517)]),_0x59a9b4=_0x413163[_0xc0b024('TWVs',0x15a,-0x1d0,-0x253,0x8)+'rs'][_0x2d9241('(#Ep',0x2c0,0x1fd,0x483,0x46c)](_0xafce93[_0x597c1e(0x204,0x119,-0x146,0x2c,'S6Fc')]),_0x331e61=_0xafce93[_0x2d9241('gWm$',0xf5,0x29c,0x22e,0x81)](!_0xdd372a,!_0x1487df)||/sao\.animetheme\.com/i[_0x35eda2(0x82e,0x9d8,0xb54,'96gj',0x98f)](window[_0x28304f(0x185,0x237,'(ZmM',-0xcd,0x158)+_0x597c1e(0x114,0x72,0x38a,0x1ee,'htOQ')][_0x35eda2(0x6b2,0x8cd,0x921,'$fb5',0x89b)]),_0x4a8e7e=_0xafce93[_0x28304f(0x2a,-0x196,'gWm$',0x2bb,-0xe5)](!_0x1b8795,!_0x59a9b4);if(!_0x331e61&&_0xafce93[_0x35eda2(0x5ec,0x360,0x2b2,'j4)m',0x535)](_0x1487df,_0xdd372a)||!_0x4a8e7e&&_0xafce93[_0x35eda2(0x985,0x6f4,0x728,'zRu5',0x99e)](_0x59a9b4,_0x1b8795)||_0xafce93[_0x35eda2(0x8b7,0x6d2,0x549,'9cCJ',0x705)](_0x331e61,_0x4a8e7e)){if(_0xafce93[_0x597c1e(-0x193,-0x5,-0x176,-0x51,'4gF)')](_0x331e61,_0x4a8e7e))console[_0xc0b024('QZIq',0x106,0x2d4,0x314,0x271)](_0xafce93[_0x597c1e(-0x5e,-0x7b,-0x226,-0x12f,'9cCJ')]);else{if(!_0x331e61)console[_0x597c1e(-0x154,-0x35c,-0x163,-0xef,'TWVs')](_0xafce93[_0x28304f(0x61,-0x123,'%AbC',-0x121,0x30)]);else console[_0xc0b024('ShaW',0x4d4,0x452,0x1e5,0x3bb)](_0xafce93[_0x35eda2(0x78e,0x4c4,0x7b7,'j4)m',0x538)]);}return _0x48f1a5;}else{console[_0xc0b024('2E65',0x2ad,0x199,0x4d0,0x443)](_0xafce93[_0xc0b024('ShaW',0x175,0x50d,0x44f,0x338)],_0x48f1a5[_0x35eda2(0x798,0x7b5,0x9be,'8XjU',0x7b4)],_0xdd372a,_0x1487df,_0x1b8795,_0x59a9b4);continue;}}function _0xc0b024(_0xb4a843,_0xf89582,_0x18eea9,_0x2ea4d5,_0x11a2c1){return _0x287d93(_0xb4a843,_0x11a2c1- -0x504,_0x18eea9-0xce,_0x2ea4d5-0x68,_0x11a2c1-0x15e);}return null;},'delete':async function(_0x35f3c2,_0x2c9e39){var _0x1c31f2={};_0x1c31f2[_0x246c56('7ci(',0x425,0x28c,0x647,0x172)]=function(_0xfa7c40,_0x326f78){return _0xfa7c40||_0x326f78;};function _0x2796d9(_0xe0047c,_0x406e59,_0x1541e6,_0xc2b506,_0x4a96ae){return _0x287d93(_0x4a96ae,_0x406e59- -0x369,_0x1541e6-0x7,_0xc2b506-0x1ba,_0x4a96ae-0x12d);}var _0x471756=_0x1c31f2;function _0x2b78fb(_0x2218e1,_0x3426e1,_0x28b743,_0x413539,_0x49762f){return _0x287d93(_0x413539,_0x49762f- -0x41c,_0x28b743-0xb4,_0x413539-0x11c,_0x49762f-0x8);}const _0x3a2214=await SystemAnimator_caches[_0x2b78fb(0x4fc,0x429,0x37c,'9cCJ',0x5e9)]();if(!_0x3a2214)return![];if(!Array[_0x2b78fb(0x52e,0x358,0x5dc,'aPOe',0x405)+'ay'](_0x35f3c2))_0x35f3c2=[_0x35f3c2];function _0x51a38c(_0x1062fa,_0x469255,_0x2d77fa,_0x4623d4,_0x4ca2cb){return _0x287d93(_0x4623d4,_0x2d77fa- -0x23,_0x2d77fa-0xbc,_0x4623d4-0x79,_0x4ca2cb-0x86);}function _0x519d4c(_0xa0f162,_0x2c0346,_0x23e73f,_0x2c4f0d,_0x892222){return _0x287d93(_0xa0f162,_0x23e73f- -0x3bc,_0x23e73f-0x175,_0x2c4f0d-0x166,_0x892222-0x1ae);}for(let _0x2b9bb7 of _0x35f3c2){var _0x2dc2fc={};_0x2dc2fc[_0x519d4c('96gj',0x585,0x566,0x71d,0x759)+_0x2b78fb(0x306,0x5c6,0x499,'$fb5',0x3a5)+'ch']=!![],await _0x3a2214[_0x2b78fb(0x42a,0x3b8,0x105,'2E65',0x20c)+'e'](_0x2b9bb7,_0x471756[_0x246c56('2E65',0x214,0x2bf,0x312,0x1b6)](_0x2c9e39,_0x2dc2fc));}function _0x246c56(_0x4182c0,_0x37fea0,_0x1b079a,_0x58d4a3,_0x3139c6){return _0x287d93(_0x4182c0,_0x37fea0- -0x36b,_0x1b079a-0x15f,_0x58d4a3-0x118,_0x3139c6-0x142);}return!![];}};

var THREE={REVISION:"58"};(function(){var n=0;var e=["ms","moz","webkit","o"];for(var t=0;t<e.length&&!window.requestAnimationFrame;++t){window.requestAnimationFrame=window[e[t]+"RequestAnimationFrame"];window.cancelAnimationFrame=window[e[t]+"CancelAnimationFrame"]||window[e[t]+"CancelRequestAnimationFrame"]}if(window.requestAnimationFrame===undefined){window.requestAnimationFrame=function(e){var t=Date.now(),i=Math.max(0,16-(t-n));var r=window.setTimeout(function(){e(t+i)},i);n=t+i;return r}}window.cancelAnimationFrame=window.cancelAnimationFrame||function(e){window.clearTimeout(e)}})();THREE.CullFaceNone=0;THREE.CullFaceBack=1;THREE.CullFaceFront=2;THREE.CullFaceFrontBack=3;THREE.FrontFaceDirectionCW=0;THREE.FrontFaceDirectionCCW=1;THREE.BasicShadowMap=0;THREE.PCFShadowMap=1;THREE.PCFSoftShadowMap=2;THREE.FrontSide=0;THREE.BackSide=1;THREE.DoubleSide=2;THREE.NoShading=0;THREE.FlatShading=1;THREE.SmoothShading=2;THREE.NoColors=0;THREE.FaceColors=1;THREE.VertexColors=2;THREE.NoBlending=0;THREE.NormalBlending=1;THREE.AdditiveBlending=2;THREE.SubtractiveBlending=3;THREE.MultiplyBlending=4;THREE.CustomBlending=5;THREE.AddEquation=100;THREE.SubtractEquation=101;THREE.ReverseSubtractEquation=102;THREE.ZeroFactor=200;THREE.OneFactor=201;THREE.SrcColorFactor=202;THREE.OneMinusSrcColorFactor=203;THREE.SrcAlphaFactor=204;THREE.OneMinusSrcAlphaFactor=205;THREE.DstAlphaFactor=206;THREE.OneMinusDstAlphaFactor=207;THREE.DstColorFactor=208;THREE.OneMinusDstColorFactor=209;THREE.SrcAlphaSaturateFactor=210;THREE.MultiplyOperation=0;THREE.MixOperation=1;THREE.AddOperation=2;THREE.UVMapping=function(){};THREE.CubeReflectionMapping=function(){};THREE.CubeRefractionMapping=function(){};THREE.SphericalReflectionMapping=function(){};THREE.SphericalRefractionMapping=function(){};THREE.RepeatWrapping=1e3;THREE.ClampToEdgeWrapping=1001;THREE.MirroredRepeatWrapping=1002;THREE.NearestFilter=1003;THREE.NearestMipMapNearestFilter=1004;THREE.NearestMipMapLinearFilter=1005;THREE.LinearFilter=1006;THREE.LinearMipMapNearestFilter=1007;THREE.LinearMipMapLinearFilter=1008;THREE.UnsignedByteType=1009;THREE.ByteType=1010;THREE.ShortType=1011;THREE.UnsignedShortType=1012;THREE.IntType=1013;THREE.UnsignedIntType=1014;THREE.FloatType=1015;THREE.UnsignedShort4444Type=1016;THREE.UnsignedShort5551Type=1017;THREE.UnsignedShort565Type=1018;THREE.AlphaFormat=1019;THREE.RGBFormat=1020;THREE.RGBAFormat=1021;THREE.LuminanceFormat=1022;THREE.LuminanceAlphaFormat=1023;THREE.RGB_S3TC_DXT1_Format=2001;THREE.RGBA_S3TC_DXT1_Format=2002;THREE.RGBA_S3TC_DXT3_Format=2003;THREE.RGBA_S3TC_DXT5_Format=2004;THREE.Color=function(e){if(e!==undefined)this.set(e);return this};THREE.Color.prototype={constructor:THREE.Color,r:1,g:1,b:1,set:function(e){this.value=e;if(e instanceof THREE.Color){this.copy(e)}else if(typeof e==="number"){this.setHex(e)}else if(typeof e==="string"){this.setStyle(e)}else if(Array.isArray(e)){this.setArray(e)}return this},setArray:function(e){this.r=e[0]/255;this.g=e[1]/255;this.b=e[2]/255;return this},setHex:function(e){e=Math.floor(e);this.r=(e>>16&255)/255;this.g=(e>>8&255)/255;this.b=(e&255)/255;return this},setRGB:function(e,t,i){this.r=e;this.g=t;this.b=i;return this},setHSL:function(e,t,i){if(t===0){this.r=this.g=this.b=i}else{var r=function(e,t,i){if(i<0)i+=1;if(i>1)i-=1;if(i<1/6)return e+(t-e)*6*i;if(i<1/2)return t;if(i<2/3)return e+(t-e)*6*(2/3-i);return e};var n=i<=.5?i*(1+t):i+t-i*t;var a=2*i-n;this.r=r(a,n,e+1/3);this.g=r(a,n,e);this.b=r(a,n,e-1/3)}return this},setStyle:function(e){if(/^rgb\((\d+),(\d+),(\d+)\)$/i.test(e)){var t=/^rgb\((\d+),(\d+),(\d+)\)$/i.exec(e);this.r=Math.min(255,parseInt(t[1],10))/255;this.g=Math.min(255,parseInt(t[2],10))/255;this.b=Math.min(255,parseInt(t[3],10))/255;return this}if(/^rgb\((\d+)\%,(\d+)\%,(\d+)\%\)$/i.test(e)){var t=/^rgb\((\d+)\%,(\d+)\%,(\d+)\%\)$/i.exec(e);this.r=Math.min(100,parseInt(t[1],10))/100;this.g=Math.min(100,parseInt(t[2],10))/100;this.b=Math.min(100,parseInt(t[3],10))/100;return this}if(/^\#([0-9a-f]{6})$/i.test(e)){var t=/^\#([0-9a-f]{6})$/i.exec(e);this.setHex(parseInt(t[1],16));return this}if(/^\#([0-9a-f])([0-9a-f])([0-9a-f])$/i.test(e)){var t=/^\#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(e);this.setHex(parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3],16));return this}if(/^(\w+)$/i.test(e)){this.setHex(THREE.ColorKeywords[e]);return this}},copy:function(e){this.r=e.r;this.g=e.g;this.b=e.b;return this},copyGammaToLinear:function(e){this.r=e.r*e.r;this.g=e.g*e.g;this.b=e.b*e.b;return this},copyLinearToGamma:function(e){this.r=Math.sqrt(e.r);this.g=Math.sqrt(e.g);this.b=Math.sqrt(e.b);return this},convertGammaToLinear:function(){var e=this.r,t=this.g,i=this.b;this.r=e*e;this.g=t*t;this.b=i*i;return this},convertLinearToGamma:function(){this.r=Math.sqrt(this.r);this.g=Math.sqrt(this.g);this.b=Math.sqrt(this.b);return this},getHex:function(){return this.r*255<<16^this.g*255<<8^this.b*255<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(){var h={h:0,s:0,l:0};return function(){var e=this.r,t=this.g,i=this.b;var r=Math.max(e,t,i);var n=Math.min(e,t,i);var a,o;var s=(n+r)/2;if(n===r){a=0;o=0}else{var l=r-n;o=s<=.5?l/(r+n):l/(2-r-n);switch(r){case e:a=(t-i)/l+(t<i?6:0);break;case t:a=(i-e)/l+2;break;case i:a=(e-t)/l+4;break}a/=6}h.h=a;h.s=o;h.l=s;return h}}(),getStyle:function(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"},offsetHSL:function(e,t,i){var r=this.getHSL();r.h+=e;r.s+=t;r.l+=i;this.setHSL(r.h,r.s,r.l);return this},add:function(e){this.r+=e.r;this.g+=e.g;this.b+=e.b;return this},addColors:function(e,t){this.r=e.r+t.r;this.g=e.g+t.g;this.b=e.b+t.b;return this},addScalar:function(e){this.r+=e;this.g+=e;this.b+=e;return this},multiply:function(e){this.r*=e.r;this.g*=e.g;this.b*=e.b;return this},multiplyScalar:function(e){this.r*=e;this.g*=e;this.b*=e;return this},lerp:function(e,t){this.r+=(e.r-this.r)*t;this.g+=(e.g-this.g)*t;this.b+=(e.b-this.b)*t;return this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},clone:function(){return(new THREE.Color).setRGB(this.r,this.g,this.b)}};THREE.ColorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};THREE.Quaternion=function(e,t,i,r){this.x=e||0;this.y=t||0;this.z=i||0;this.w=r!==undefined?r:1};THREE.Quaternion.prototype={constructor:THREE.Quaternion,set:function(e,t,i,r){this.x=e;this.y=t;this.z=i;this.w=r;return this},copy:function(e){this.x=e.x;this.y=e.y;this.z=e.z;this.w=e.w;return this},setFromEuler:function(e,t){var i=Math.cos(e.x/2);var r=Math.cos(e.y/2);var n=Math.cos(e.z/2);var a=Math.sin(e.x/2);var o=Math.sin(e.y/2);var s=Math.sin(e.z/2);if(t===undefined||t==="XYZ"){this.x=a*r*n+i*o*s;this.y=i*o*n-a*r*s;this.z=i*r*s+a*o*n;this.w=i*r*n-a*o*s}else if(t==="YXZ"){this.x=a*r*n+i*o*s;this.y=i*o*n-a*r*s;this.z=i*r*s-a*o*n;this.w=i*r*n+a*o*s}else if(t==="ZXY"){this.x=a*r*n-i*o*s;this.y=i*o*n+a*r*s;this.z=i*r*s+a*o*n;this.w=i*r*n-a*o*s}else if(t==="ZYX"){this.x=a*r*n-i*o*s;this.y=i*o*n+a*r*s;this.z=i*r*s-a*o*n;this.w=i*r*n+a*o*s}else if(t==="YZX"){this.x=a*r*n+i*o*s;this.y=i*o*n+a*r*s;this.z=i*r*s-a*o*n;this.w=i*r*n-a*o*s}else if(t==="XZY"){this.x=a*r*n-i*o*s;this.y=i*o*n-a*r*s;this.z=i*r*s+a*o*n;this.w=i*r*n+a*o*s}return this},setFromAxisAngle:function(e,t){var i=t/2,r=Math.sin(i);this.x=e.x*r;this.y=e.y*r;this.z=e.z*r;this.w=Math.cos(i);return this},setFromRotationMatrix:function(e){var t=e.elements,i=t[0],r=t[4],n=t[8],a=t[1],o=t[5],s=t[9],l=t[2],h=t[6],f=t[10],c=i+o+f,u;if(c>0){u=.5/Math.sqrt(c+1);this.w=.25/u;this.x=(h-s)*u;this.y=(n-l)*u;this.z=(a-r)*u}else if(i>o&&i>f){u=2*Math.sqrt(1+i-o-f);this.w=(h-s)/u;this.x=.25*u;this.y=(r+a)/u;this.z=(n+l)/u}else if(o>f){u=2*Math.sqrt(1+o-i-f);this.w=(n-l)/u;this.x=(r+a)/u;this.y=.25*u;this.z=(s+h)/u}else{u=2*Math.sqrt(1+f-i-o);this.w=(a-r)/u;this.x=(n+l)/u;this.y=(s+h)/u;this.z=.25*u}return this},inverse:function(){this.conjugate().normalize();return this},conjugate:function(){this.x*=-1;this.y*=-1;this.z*=-1;return this},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},normalize:function(){var e=this.length();if(e===0){this.x=0;this.y=0;this.z=0;this.w=1}else{e=1/e;this.x=this.x*e;this.y=this.y*e;this.z=this.z*e;this.w=this.w*e}return this},multiply:function(e,t){if(t!==undefined){return this.multiplyQuaternions(e,t)}return this.multiplyQuaternions(this,e)},multiplyQuaternions:function(e,t){var i=e.x,r=e.y,n=e.z,a=e.w;var o=t.x,s=t.y,l=t.z,h=t.w;this.x=i*h+a*o+r*l-n*s;this.y=r*h+a*s+n*o-i*l;this.z=n*h+a*l+i*s-r*o;this.w=a*h-i*o-r*s-n*l;return this},slerp:function(e,t){var i=this.x,r=this.y,n=this.z,a=this.w;var o=a*e.w+i*e.x+r*e.y+n*e.z;if(o<0){this.w=-e.w;this.x=-e.x;this.y=-e.y;this.z=-e.z;o=-o}else{this.copy(e)}if(o>=1){this.w=a;this.x=i;this.y=r;this.z=n;return this}const s=1-o*o;if(s<=Number.EPSILON){const u=1-t;this.w=u*a+t*this.w;this.x=u*i+t*this.x;this.y=u*r+t*this.y;this.z=u*n+t*this.z;this.normalize();return this}const l=Math.sqrt(s);const h=Math.atan2(l,o);var f=Math.sin((1-t)*h)/l,c=Math.sin(t*h)/l;this.w=a*f+this.w*c;this.x=i*f+this.x*c;this.y=r*f+this.y*c;this.z=n*f+this.z*c;return this},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e){this.x=e[0];this.y=e[1];this.z=e[2];this.w=e[3];return this},toArray:function(){return[this.x,this.y,this.z,this.w]},clone:function(){return new THREE.Quaternion(this.x,this.y,this.z,this.w)},toAxisAngle:function(){if(this.w>1)this.normalize();var e=2*Math.acos(this.w);var t=Math.sqrt(1-this.w*this.w);if(t<1e-4){x=1;y=0;z=0}else{x=this.x/t;y=this.y/t;z=this.z/t}return[new THREE.Vector3(x,y,z),e]},setFromUnitVectors:function(e,t){let i=e.dot(t)+1;if(i<Number.EPSILON){i=0;if(Math.abs(e.x)>Math.abs(e.z)){this.x=-e.y;this.y=e.x;this.z=0;this.w=i}else{this.x=0;this.y=-e.z;this.z=e.y;this.w=i}}else{this.x=e.y*t.z-e.z*t.y;this.y=e.z*t.x-e.x*t.z;this.z=e.x*t.y-e.y*t.x;this.w=i}return this.normalize()},setFromBasis:function(){var t;window.addEventListener("jThree_ready",()=>{t=new THREE.Vector3});return function(e){return this.setFromEuler(t.setEulerFromRotationMatrix(e))}}(),get _x(){return this.x},set _x(e){this.x=e},get _y(){return this.y},set _y(e){this.y=e},get _z(){return this.z},set _z(e){this.z=e},get _w(){return this.w},set _w(e){this.w=e},isQuaternion:true,_onChangeCallback:function(){},premultiply:function(e){return this.multiplyQuaternions(e,this)}};THREE.Quaternion.prototype.setFromVectorSpherical=function(){var r;window.addEventListener("jThree_ready",()=>{r=new THREE.Vector3});return function(e,t){var i=e.y?"XZY":"YZX";return this.setFromEuler(r.setFromVectorSpherical(e,t),i)}}();THREE.Quaternion.slerp=function(e,t,i,r){return i.copy(e).slerp(t,r)};THREE.Vector2=function(e,t){this.x=e||0;this.y=t||0};THREE.Vector2.prototype={constructor:THREE.Vector2,set:function(e,t){this.x=e;this.y=t;return this},setX:function(e){this.x=e;return this},setY:function(e){this.y=e;return this},setComponent:function(e,t){this[e?"y":"x"]=t},getComponent:function(e){return this[e?"y":"x"]},copy:function(e){this.x=e.x;this.y=e.y;return this},add:function(e,t){this.x+=e.x;this.y+=e.y;return this},addVectors:function(e,t){this.x=e.x+t.x;this.y=e.y+t.y;return this},addScalar:function(e){this.x+=e;this.y+=e;return this},sub:function(e,t){this.x-=e.x;this.y-=e.y;return this},subVectors:function(e,t){this.x=e.x-t.x;this.y=e.y-t.y;return this},multiplyScalar:function(e){this.x*=e;this.y*=e;return this},divideScalar:function(e){if(e!==0){this.x/=e;this.y/=e}else{this.set(0,0)}return this},min:function(e){if(this.x>e.x){this.x=e.x}if(this.y>e.y){this.y=e.y}return this},max:function(e){if(this.x<e.x){this.x=e.x}if(this.y<e.y){this.y=e.y}return this},clamp:function(e,t){if(this.x<e.x){this.x=e.x}else if(this.x>t.x){this.x=t.x}if(this.y<e.y){this.y=e.y}else if(this.y>t.y){this.y=t.y}return this},negate:function(){return this.multiplyScalar(-1)},dot:function(e){return this.x*e.x+this.y*e.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize:function(){return this.divideScalar(this.length())},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,i=this.y-e.y;return t*t+i*i},setLength:function(e){var t=this.length();if(t!==0&&e!==t){this.multiplyScalar(e/t)}return this},lerp:function(e,t){this.x+=(e.x-this.x)*t;this.y+=(e.y-this.y)*t;return this},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e){this.x=e[0];this.y=e[1];return this},toArray:function(){return[this.x,this.y]},clone:function(){return new THREE.Vector2(this.x,this.y)}};THREE.Vector3=function(e,t,i){this.x=e||0;this.y=t||0;this.z=i||0};THREE.Vector3.prototype={constructor:THREE.Vector3,set:function(e,t,i){this.x=e;this.y=t;this.z=i;return this},setX:function(e){this.x=e;return this},setY:function(e){this.y=e;return this},setZ:function(e){this.z=e;return this},setComponent:function(e,t){this[e===0?"x":e===1?"y":"z"]=t},getComponent:function(e){return this[e===0?"x":e===1?"y":"z"]},copy:function(e){this.x=e.x;this.y=e.y;this.z=e.z;return this},add:function(e,t){this.x+=e.x;this.y+=e.y;this.z+=e.z;return this},addScalar:function(e){this.x+=e;this.y+=e;this.z+=e;return this},addVectors:function(e,t){this.x=e.x+t.x;this.y=e.y+t.y;this.z=e.z+t.z;return this},sub:function(e,t){this.x-=e.x;this.y-=e.y;this.z-=e.z;return this},subVectors:function(e,t){this.x=e.x-t.x;this.y=e.y-t.y;this.z=e.z-t.z;return this},multiply:function(e,t){this.x*=e.x;this.y*=e.y;this.z*=e.z;return this},multiplyScalar:function(e){this.x*=e;this.y*=e;this.z*=e;return this},multiplyVectors:function(e,t){this.x=e.x*t.x;this.y=e.y*t.y;this.z=e.z*t.z;return this},applyMatrix3:function(e){var t=this.x;var i=this.y;var r=this.z;var n=e.elements;this.x=n[0]*t+n[3]*i+n[6]*r;this.y=n[1]*t+n[4]*i+n[7]*r;this.z=n[2]*t+n[5]*i+n[8]*r;return this},applyMatrix4:function(e){var t=this.x,i=this.y,r=this.z;var n=e.elements;this.x=n[0]*t+n[4]*i+n[8]*r+n[12];this.y=n[1]*t+n[5]*i+n[9]*r+n[13];this.z=n[2]*t+n[6]*i+n[10]*r+n[14];return this},applyProjection:function(e){var t=this.x,i=this.y,r=this.z;var n=e.elements;var a=1/(n[3]*t+n[7]*i+n[11]*r+n[15]);this.x=(n[0]*t+n[4]*i+n[8]*r+n[12])*a;this.y=(n[1]*t+n[5]*i+n[9]*r+n[13])*a;this.z=(n[2]*t+n[6]*i+n[10]*r+n[14])*a;return this},applyQuaternion:function(e){var t=this.x;var i=this.y;var r=this.z;var n=e.x;var a=e.y;var o=e.z;var s=e.w;var l=s*t+a*r-o*i;var h=s*i+o*t-n*r;var f=s*r+n*i-a*t;var c=-n*t-a*i-o*r;this.x=l*s+c*-n+h*-o-f*-a;this.y=h*s+c*-a+f*-n-l*-o;this.z=f*s+c*-o+l*-a-h*-n;return this},transformDirection:function(e){var t=this.x,i=this.y,r=this.z;var n=e.elements;this.x=n[0]*t+n[4]*i+n[8]*r;this.y=n[1]*t+n[5]*i+n[9]*r;this.z=n[2]*t+n[6]*i+n[10]*r;this.normalize();return this},divide:function(e){this.x/=e.x;this.y/=e.y;this.z/=e.z;return this},divideScalar:function(e){if(e!==0){this.x/=e;this.y/=e;this.z/=e}else{this.x=0;this.y=0;this.z=0}return this},min:function(e){if(this.x>e.x){this.x=e.x}if(this.y>e.y){this.y=e.y}if(this.z>e.z){this.z=e.z}return this},max:function(e){if(this.x<e.x){this.x=e.x}if(this.y<e.y){this.y=e.y}if(this.z<e.z){this.z=e.z}return this},clamp:function(e,t){if(this.x<e.x){this.x=e.x}else if(this.x>t.x){this.x=t.x}if(this.y<e.y){this.y=e.y}else if(this.y>t.y){this.y=t.y}if(this.z<e.z){this.z=e.z}else if(this.z>t.z){this.z=t.z}return this},negate:function(){return this.multiplyScalar(-1)},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(e){var t=this.length();if(t!==0&&e!==t){this.multiplyScalar(e/t)}return this},lerp:function(e,t){this.x+=(e.x-this.x)*t;this.y+=(e.y-this.y)*t;this.z+=(e.z-this.z)*t;return this},cross:function(e,t){var i=this.x,r=this.y,n=this.z;this.x=r*e.z-n*e.y;this.y=n*e.x-i*e.z;this.z=i*e.y-r*e.x;return this},crossVectors:function(e,t){this.x=e.y*t.z-e.z*t.y;this.y=e.z*t.x-e.x*t.z;this.z=e.x*t.y-e.y*t.x;return this},angleTo:function(e){var t=this.dot(e)/(this.length()*e.length());return Math.acos(THREE.Math.clamp(t,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x;var i=this.y-e.y;var r=this.z-e.z;return t*t+i*i+r*r},setEulerFromRotationMatrix:function(e,t){function i(e){return Math.min(Math.max(e,-1),1)}var r=e.elements;var n=r[0],a=r[4],o=r[8];var s=r[1],l=r[5],h=r[9];var f=r[2],c=r[6],u=r[10];if(t===undefined||t==="XYZ"){this.y=Math.asin(i(o));if(Math.abs(o)<.99999){this.x=Math.atan2(-h,u);this.z=Math.atan2(-a,n)}else{this.x=Math.atan2(c,l);this.z=0}}else if(t==="YXZ"){this.x=Math.asin(-i(h));if(Math.abs(h)<.99999){this.y=Math.atan2(o,u);this.z=Math.atan2(s,l)}else{this.y=Math.atan2(-f,n);this.z=0}}else if(t==="ZXY"){this.x=Math.asin(i(c));if(Math.abs(c)<.99999){this.y=Math.atan2(-f,u);this.z=Math.atan2(-a,l)}else{this.y=0;this.z=Math.atan2(s,n)}}else if(t==="ZYX"){this.y=Math.asin(-i(f));if(Math.abs(f)<.99999){this.x=Math.atan2(c,u);this.z=Math.atan2(s,n)}else{this.x=0;this.z=Math.atan2(-a,l)}}else if(t==="YZX"){this.z=Math.asin(i(s));if(Math.abs(s)<.99999){this.x=Math.atan2(-h,l);this.y=Math.atan2(-f,n)}else{this.x=0;this.y=Math.atan2(o,u)}}else if(t==="XZY"){this.z=Math.asin(-i(a));if(Math.abs(a)<.99999){this.x=Math.atan2(c,l);this.y=Math.atan2(o,n)}else{this.x=Math.atan2(-h,u);this.y=0}}return this},setEulerFromQuaternion:function(){var i;window.addEventListener("jThree_ready",function(){i=new THREE.Matrix4});return function(e,t){i.makeRotationFromQuaternion(e);return this.setEulerFromRotationMatrix(i,t)}}(),getPositionFromMatrix:function(e){this.x=e.elements[12];this.y=e.elements[13];this.z=e.elements[14];return this},getScaleFromMatrix:function(e){var t=this.set(e.elements[0],e.elements[1],e.elements[2]).length();var i=this.set(e.elements[4],e.elements[5],e.elements[6]).length();var r=this.set(e.elements[8],e.elements[9],e.elements[10]).length();this.x=t;this.y=i;this.z=r;return this},getColumnFromMatrix:function(e,t){var i=e*4;var r=t.elements;this.x=r[i];this.y=r[i+1];this.z=r[i+2];return this},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e){this.x=e[0];this.y=e[1];this.z=e[2];return this},toArray:function(){return[this.x,this.y,this.z]},clone:function(){return new THREE.Vector3(this.x,this.y,this.z)},applyEuler:function(){var r=new THREE.Quaternion;return function(e,t){var i=r.setFromEuler(e,t);this.applyQuaternion(i);return this}}(),applyAxisAngle:function(){var r=new THREE.Quaternion;return function(e,t){var i=r.setFromAxisAngle(e,t);this.applyQuaternion(i);return this}}(),project:function(){var t;return function i(e){if(t===undefined)t=new THREE.Matrix4;t.multiplyMatrices(e.projectionMatrix,t.getInverse(e.matrixWorld));return this.applyProjection(t)}}(),unproject:function(){var t;return function i(e){if(t===undefined)t=new THREE.Matrix4;t.multiplyMatrices(e.matrixWorld,t.getInverse(e.projectionMatrix));return this.applyProjection(t)}}(),toSphericalCoords:function(e){var t=this.x,i=this.y,r=this.z;var n,a;const o=e||Math.sqrt(t*t+i*i+r*r);if(o===0){n=0;a=0}else{n=Math.atan2(t,r);a=Math.acos(THREE.Math.clamp(i/o,-1,1))}return[o,n,a]},get _x(){return this.x},set _x(e){this.x=e},get _y(){return this.y},set _y(e){this.y=e},get _z(){return this.z},set _z(e){this.z=e}};THREE.Vector3.prototype.setFromMatrixPosition=THREE.Vector3.prototype.getPositionFromMatrix;THREE.Vector3.prototype.setScalar=function(e){this.x=e;this.y=e;this.z=e;return this};THREE.Euler=THREE.Vector3;THREE.Euler.prototype._order="XYZ";THREE.Euler.prototype.isEuler=true;THREE.Euler.prototype._onChangeCallback=function(){};THREE.Euler.prototype.setFromQuaternion=THREE.Euler.prototype.setEulerFromQuaternion;THREE.Vector3.prototype.setFromVectorSpherical=function(){var r=new THREE.Vector3;return function(e,t){var i;if(e.y){r.set(-t.z,t.x,-t.y);if(e.y>0)r.negate();i=r.toSphericalCoords(1);this.set(i[1],0,Math.PI/2-i[2])}else if(e.x){r.set(-t.z,t.y,t.x);if(e.x<0)r.negate();i=r.toSphericalCoords(1);this.set(0,i[1],Math.PI/2-i[2])}return this}}();THREE.Vector3.prototype.projectOnVector=function(){var i=new THREE.Vector3;return function(e){i.copy(e).normalize();var t=this.dot(i);return this.copy(i).multiplyScalar(t)}}();THREE.Vector3.prototype.projectOnPlane=function(){var t=new THREE.Vector3;return function(e){t.copy(this).projectOnVector(e);return this.sub(t)}}();THREE.Vector3.prototype.reflect=function(){var t=new THREE.Vector3;return function(e){t.copy(this).projectOnVector(e).multiplyScalar(2);return this.subVectors(t,this)}}();THREE.Vector4=function(e,t,i,r){this.x=e||0;this.y=t||0;this.z=i||0;this.w=r!==undefined?r:1};THREE.Vector4.prototype={constructor:THREE.Vector4,set:function(e,t,i,r){this.x=e;this.y=t;this.z=i;this.w=r;return this},setX:function(e){this.x=e;return this},setY:function(e){this.y=e;return this},setZ:function(e){this.z=e;return this},setW:function(e){this.w=e;return this},setComponent:function(e,t){this[e===0?"x":e===1?"y":e===2?"z":"w"]=t},getComponent:function(e){return this[e===0?"x":e===1?"y":e===2?"z":"w"]},copy:function(e){this.x=e.x;this.y=e.y;this.z=e.z;this.w=e.w!==undefined?e.w:1;return this},add:function(e,t){this.x+=e.x;this.y+=e.y;this.z+=e.z;this.w+=e.w;return this},addScalar:function(e){this.x+=e;this.y+=e;this.z+=e;this.w+=e;return this},addVectors:function(e,t){this.x=e.x+t.x;this.y=e.y+t.y;this.z=e.z+t.z;this.w=e.w+t.w;return this},sub:function(e,t){this.x-=e.x;this.y-=e.y;this.z-=e.z;this.w-=e.w;return this},subVectors:function(e,t){this.x=e.x-t.x;this.y=e.y-t.y;this.z=e.z-t.z;this.w=e.w-t.w;return this},multiplyScalar:function(e){this.x*=e;this.y*=e;this.z*=e;this.w*=e;return this},applyMatrix4:function(e){var t=this.x;var i=this.y;var r=this.z;var n=this.w;var a=e.elements;this.x=a[0]*t+a[4]*i+a[8]*r+a[12]*n;this.y=a[1]*t+a[5]*i+a[9]*r+a[13]*n;this.z=a[2]*t+a[6]*i+a[10]*r+a[14]*n;this.w=a[3]*t+a[7]*i+a[11]*r+a[15]*n;return this},divideScalar:function(e){if(e!==0){this.x/=e;this.y/=e;this.z/=e;this.w/=e}else{this.x=0;this.y=0;this.z=0;this.w=1}return this},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);if(t<1e-4){this.x=1;this.y=0;this.z=0}else{this.x=e.x/t;this.y=e.y/t;this.z=e.z/t}return this},setAxisAngleFromRotationMatrix:function(e){var t,i,r,n,a=.01,o=.1,s=e.elements,l=s[0],h=s[4],f=s[8],c=s[1],u=s[5],d=s[9],p=s[2],m=s[6],E=s[10];if(Math.abs(h-c)<a&&Math.abs(f-p)<a&&Math.abs(d-m)<a){if(Math.abs(h+c)<o&&Math.abs(f+p)<o&&Math.abs(d+m)<o&&Math.abs(l+u+E-3)<o){this.set(1,0,0,0);return this}t=Math.PI;var g=(l+1)/2;var v=(u+1)/2;var T=(E+1)/2;var y=(h+c)/4;var _=(f+p)/4;var R=(d+m)/4;if(g>v&&g>T){if(g<a){i=0;r=.707106781;n=.707106781}else{i=Math.sqrt(g);r=y/i;n=_/i}}else if(v>T){if(v<a){i=.707106781;r=0;n=.707106781}else{r=Math.sqrt(v);i=y/r;n=R/r}}else{if(T<a){i=.707106781;r=.707106781;n=0}else{n=Math.sqrt(T);i=_/n;r=R/n}}this.set(i,r,n,t);return this}var x=Math.sqrt((m-d)*(m-d)+(f-p)*(f-p)+(c-h)*(c-h));if(Math.abs(x)<.001)x=1;this.x=(m-d)/x;this.y=(f-p)/x;this.z=(c-h)/x;this.w=Math.acos((l+u+E-1)/2);return this},min:function(e){if(this.x>e.x){this.x=e.x}if(this.y>e.y){this.y=e.y}if(this.z>e.z){this.z=e.z}if(this.w>e.w){this.w=e.w}return this},max:function(e){if(this.x<e.x){this.x=e.x}if(this.y<e.y){this.y=e.y}if(this.z<e.z){this.z=e.z}if(this.w<e.w){this.w=e.w}return this},clamp:function(e,t){if(this.x<e.x){this.x=e.x}else if(this.x>t.x){this.x=t.x}if(this.y<e.y){this.y=e.y}else if(this.y>t.y){this.y=t.y}if(this.z<e.z){this.z=e.z}else if(this.z>t.z){this.z=t.z}if(this.w<e.w){this.w=e.w}else if(this.w>t.w){this.w=t.w}return this},negate:function(){return this.multiplyScalar(-1)},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(e){var t=this.length();if(t!==0&&e!==t){this.multiplyScalar(e/t)}return this},lerp:function(e,t){this.x+=(e.x-this.x)*t;this.y+=(e.y-this.y)*t;this.z+=(e.z-this.z)*t;this.w+=(e.w-this.w)*t;return this},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e){this.x=e[0];this.y=e[1];this.z=e[2];this.w=e[3];return this},toArray:function(){return[this.x,this.y,this.z,this.w]},clone:function(){return new THREE.Vector4(this.x,this.y,this.z,this.w)}};THREE.Line3=function(e,t){this.start=e!==undefined?e:new THREE.Vector3;this.end=t!==undefined?t:new THREE.Vector3};THREE.Line3.prototype={constructor:THREE.Line3,set:function(e,t){this.start.copy(e);this.end.copy(t);return this},copy:function(e){this.start.copy(e.start);this.end.copy(e.end);return this},center:function(e){var t=e||new THREE.Vector3;return t.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){var t=e||new THREE.Vector3;return t.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){var i=t||new THREE.Vector3;return this.delta(i).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(){var a=new THREE.Vector3;var o=new THREE.Vector3;return function(e,t){a.subVectors(e,this.start);o.subVectors(this.end,this.start);var i=o.dot(o);var r=o.dot(a);var n=r/i;if(t){n=THREE.Math.clamp(n,0,1)}return n}}(),closestPointToPoint:function(e,t,i){var r=this.closestPointToPointParameter(e,t);var n=i||new THREE.Vector3;return this.delta(n).multiplyScalar(r).add(this.start)},applyMatrix4:function(e){this.start.applyMatrix4(e);this.end.applyMatrix4(e);return this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)},clone:function(){return(new THREE.Line3).copy(this)}};THREE.Box2=function(e,t){this.min=e!==undefined?e:new THREE.Vector2(Infinity,Infinity);this.max=t!==undefined?t:new THREE.Vector2(-Infinity,-Infinity)};THREE.Box2.prototype={constructor:THREE.Box2,set:function(e,t){this.min.copy(e);this.max.copy(t);return this},setFromPoints:function(e){if(e.length>0){var t=e[0];this.min.copy(t);this.max.copy(t);for(var i=1,r=e.length;i<r;i++){t=e[i];if(t.x<this.min.x){this.min.x=t.x}else if(t.x>this.max.x){this.max.x=t.x}if(t.y<this.min.y){this.min.y=t.y}else if(t.y>this.max.y){this.max.y=t.y}}}else{this.makeEmpty()}return this},setFromCenterAndSize:function(){var r=new THREE.Vector2;return function(e,t){var i=r.copy(t).multiplyScalar(.5);this.min.copy(e).sub(i);this.max.copy(e).add(i);return this}}(),copy:function(e){this.min.copy(e.min);this.max.copy(e.max);return this},makeEmpty:function(){this.min.x=this.min.y=Infinity;this.max.x=this.max.y=-Infinity;return this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},center:function(e){var t=e||new THREE.Vector2;return t.addVectors(this.min,this.max).multiplyScalar(.5)},size:function(e){var t=e||new THREE.Vector2;return t.subVectors(this.max,this.min)},expandByPoint:function(e){this.min.min(e);this.max.max(e);return this},expandByVector:function(e){this.min.sub(e);this.max.add(e);return this},expandByScalar:function(e){this.min.addScalar(-e);this.max.addScalar(e);return this},containsPoint:function(e){if(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y){return false}return true},containsBox:function(e){if(this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y){return true}return false},getParameter:function(e){return new THREE.Vector2((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},isIntersectionBox:function(e){if(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y){return false}return true},clampPoint:function(e,t){var i=t||new THREE.Vector2;return i.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var i=new THREE.Vector2;return function(e){var t=i.copy(e).clamp(this.min,this.max);return t.sub(e).length()}}(),intersect:function(e){this.min.max(e.min);this.max.min(e.max);return this},union:function(e){this.min.min(e.min);this.max.max(e.max);return this},translate:function(e){this.min.add(e);this.max.add(e);return this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)},clone:function(){return(new THREE.Box2).copy(this)}};THREE.Box3=function(e,t){this.min=e!==undefined?e:new THREE.Vector3(Infinity,Infinity,Infinity);this.max=t!==undefined?t:new THREE.Vector3(-Infinity,-Infinity,-Infinity)};THREE.Box3.prototype={constructor:THREE.Box3,set:function(e,t){this.min.copy(e);this.max.copy(t);return this},setFromPoints:function(e){if(e.length>0){var t=e[0];this.min.copy(t);this.max.copy(t);for(var i=1,r=e.length;i<r;i++){t=e[i];if(t.x<this.min.x){this.min.x=t.x}else if(t.x>this.max.x){this.max.x=t.x}if(t.y<this.min.y){this.min.y=t.y}else if(t.y>this.max.y){this.max.y=t.y}if(t.z<this.min.z){this.min.z=t.z}else if(t.z>this.max.z){this.max.z=t.z}}}else{this.makeEmpty()}return this},setFromCenterAndSize:function(){var r=new THREE.Vector3;return function(e,t){var i=r.copy(t).multiplyScalar(.5);this.min.copy(e).sub(i);this.max.copy(e).add(i);return this}}(),copy:function(e){this.min.copy(e.min);this.max.copy(e.max);return this},makeEmpty:function(){this.min.x=this.min.y=this.min.z=Infinity;this.max.x=this.max.y=this.max.z=-Infinity;return this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},center:function(e){var t=e||new THREE.Vector3;return t.addVectors(this.min,this.max).multiplyScalar(.5)},size:function(e){var t=e||new THREE.Vector3;return t.subVectors(this.max,this.min)},expandByPoint:function(e){this.min.min(e);this.max.max(e);return this},expandByVector:function(e){this.min.sub(e);this.max.add(e);return this},expandByScalar:function(e){this.min.addScalar(-e);this.max.addScalar(e);return this},containsPoint:function(e){if(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z){return false}return true},containsBox:function(e){if(this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z){return true}return false},getParameter:function(e){return new THREE.Vector3((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},isIntersectionBox:function(e){if(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z){return false}return true},clampPoint:function(e,t){var i=t||new THREE.Vector3;return i.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var i=new THREE.Vector3;return function(e){var t=i.copy(e).clamp(this.min,this.max);return t.sub(e).length()}}(),getBoundingSphere:function(){var i=new THREE.Vector3;return function(e){var t=e||new THREE.Sphere;t.center=this.center();t.radius=this.size(i).length()*.5;return t}}(),intersect:function(e){this.min.max(e.min);this.max.min(e.max);return this},union:function(e){this.min.min(e.min);this.max.max(e.max);return this},applyMatrix4:function(){var t=[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3];return function(e){t[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e);t[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e);t[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e);t[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e);t[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e);t[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e);t[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e);t[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e);this.makeEmpty();this.setFromPoints(t);return this}}(),translate:function(e){this.min.add(e);this.max.add(e);return this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)},clone:function(){return(new THREE.Box3).copy(this)}};THREE.Matrix3=function(e,t,i,r,n,a,o,s,l){this.elements=new Float32Array(9);this.set(e!==undefined?e:1,t||0,i||0,r||0,n!==undefined?n:1,a||0,o||0,s||0,l!==undefined?l:1)};THREE.Matrix3.prototype={constructor:THREE.Matrix3,set:function(e,t,i,r,n,a,o,s,l){var h=this.elements;h[0]=e;h[3]=t;h[6]=i;h[1]=r;h[4]=n;h[7]=a;h[2]=o;h[5]=s;h[8]=l;return this},identity:function(){this.set(1,0,0,0,1,0,0,0,1);return this},copy:function(e){var t=e.elements;this.set(t[0],t[3],t[6],t[1],t[4],t[7],t[2],t[5],t[8]);return this},multiplyVector3Array:function(){var r=new THREE.Vector3;return function(e){for(var t=0,i=e.length;t<i;t+=3){r.x=e[t];r.y=e[t+1];r.z=e[t+2];r.applyMatrix3(this);e[t]=r.x;e[t+1]=r.y;e[t+2]=r.z}return e}}(),multiplyScalar:function(e){var t=this.elements;t[0]*=e;t[3]*=e;t[6]*=e;t[1]*=e;t[4]*=e;t[7]*=e;t[2]*=e;t[5]*=e;t[8]*=e;return this},determinant:function(){var e=this.elements;var t=e[0],i=e[1],r=e[2],n=e[3],a=e[4],o=e[5],s=e[6],l=e[7],h=e[8];return t*a*h-t*o*l-i*n*h+i*o*s+r*n*l-r*a*s},getInverse:function(e){var t=e.elements;var i=this.elements;i[0]=t[10]*t[5]-t[6]*t[9];i[1]=-t[10]*t[1]+t[2]*t[9];i[2]=t[6]*t[1]-t[2]*t[5];i[3]=-t[10]*t[4]+t[6]*t[8];i[4]=t[10]*t[0]-t[2]*t[8];i[5]=-t[6]*t[0]+t[2]*t[4];i[6]=t[9]*t[4]-t[5]*t[8];i[7]=-t[9]*t[0]+t[1]*t[8];i[8]=t[5]*t[0]-t[1]*t[4];var r=t[0]*i[0]+t[1]*i[3]+t[2]*i[6];if(r===0){this.identity();return this}this.multiplyScalar(1/r);return this},transpose:function(){var e,t=this.elements;e=t[1];t[1]=t[3];t[3]=e;e=t[2];t[2]=t[6];t[6]=e;e=t[5];t[5]=t[7];t[7]=e;return this},getNormalMatrix:function(e){this.getInverse(e).transpose();return this},transposeIntoArray:function(e){var t=this.elements;e[0]=t[0];e[1]=t[3];e[2]=t[6];e[3]=t[1];e[4]=t[4];e[5]=t[7];e[6]=t[2];e[7]=t[5];e[8]=t[8];return this},clone:function(){var e=this.elements;return new THREE.Matrix3(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8])}};THREE.Matrix4=function(e,t,i,r,n,a,o,s,l,h,f,c,u,d,p,m){var E=this.elements=new Float32Array(16);E[0]=e!==undefined?e:1;E[4]=t||0;E[8]=i||0;E[12]=r||0;E[1]=n||0;E[5]=a!==undefined?a:1;E[9]=o||0;E[13]=s||0;E[2]=l||0;E[6]=h||0;E[10]=f!==undefined?f:1;E[14]=c||0;E[3]=u||0;E[7]=d||0;E[11]=p||0;E[15]=m!==undefined?m:1};THREE.Matrix4.prototype={constructor:THREE.Matrix4,set:function(e,t,i,r,n,a,o,s,l,h,f,c,u,d,p,m){var E=this.elements;E[0]=e;E[4]=t;E[8]=i;E[12]=r;E[1]=n;E[5]=a;E[9]=o;E[13]=s;E[2]=l;E[6]=h;E[10]=f;E[14]=c;E[3]=u;E[7]=d;E[11]=p;E[15]=m;return this},identity:function(){this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return this},copy:function(e){var t=e.elements;this.set(t[0],t[4],t[8],t[12],t[1],t[5],t[9],t[13],t[2],t[6],t[10],t[14],t[3],t[7],t[11],t[15]);return this},copyPosition:function(e){var t=this.elements;var i=e.elements;t[12]=i[12];t[13]=i[13];t[14]=i[14];return this},extractRotation:function(){var o=new THREE.Vector3;return function(e){var t=this.elements;var i=e.elements;var r=1/o.set(i[0],i[1],i[2]).length();var n=1/o.set(i[4],i[5],i[6]).length();var a=1/o.set(i[8],i[9],i[10]).length();t[0]=i[0]*r;t[1]=i[1]*r;t[2]=i[2]*r;t[4]=i[4]*n;t[5]=i[5]*n;t[6]=i[6]*n;t[8]=i[8]*a;t[9]=i[9]*a;t[10]=i[10]*a;return this}}(),makeRotationFromEuler:function(e,t){var i=this.elements;var r=e.x,n=e.y,a=e.z;var o=Math.cos(r),s=Math.sin(r);var l=Math.cos(n),h=Math.sin(n);var f=Math.cos(a),c=Math.sin(a);if(t===undefined||t==="XYZ"){var u=o*f,d=o*c,p=s*f,m=s*c;i[0]=l*f;i[4]=-l*c;i[8]=h;i[1]=d+p*h;i[5]=u-m*h;i[9]=-s*l;i[2]=m-u*h;i[6]=p+d*h;i[10]=o*l}else if(t==="YXZ"){var E=l*f,g=l*c,v=h*f,T=h*c;i[0]=E+T*s;i[4]=v*s-g;i[8]=o*h;i[1]=o*c;i[5]=o*f;i[9]=-s;i[2]=g*s-v;i[6]=T+E*s;i[10]=o*l}else if(t==="ZXY"){var E=l*f,g=l*c,v=h*f,T=h*c;i[0]=E-T*s;i[4]=-o*c;i[8]=v+g*s;i[1]=g+v*s;i[5]=o*f;i[9]=T-E*s;i[2]=-o*h;i[6]=s;i[10]=o*l}else if(t==="ZYX"){var u=o*f,d=o*c,p=s*f,m=s*c;i[0]=l*f;i[4]=p*h-d;i[8]=u*h+m;i[1]=l*c;i[5]=m*h+u;i[9]=d*h-p;i[2]=-h;i[6]=s*l;i[10]=o*l}else if(t==="YZX"){var y=o*l,_=o*h,R=s*l,x=s*h;i[0]=l*f;i[4]=x-y*c;i[8]=R*c+_;i[1]=c;i[5]=o*f;i[9]=-s*f;i[2]=-h*f;i[6]=_*c+R;i[10]=y-x*c}else if(t==="XZY"){var y=o*l,_=o*h,R=s*l,x=s*h;i[0]=l*f;i[4]=-c;i[8]=h*f;i[1]=y*c+x;i[5]=o*f;i[9]=_*c-R;i[2]=R*c-_;i[6]=s*f;i[10]=x*c+y}i[3]=0;i[7]=0;i[11]=0;i[12]=0;i[13]=0;i[14]=0;i[15]=1;return this},makeRotationFromQuaternion:function(e){var t=this.elements;var i=e.x,r=e.y,n=e.z,a=e.w;var o=i+i,s=r+r,l=n+n;var h=i*o,f=i*s,c=i*l;var u=r*s,d=r*l,p=n*l;var m=a*o,E=a*s,g=a*l;t[0]=1-(u+p);t[4]=f-g;t[8]=c+E;t[1]=f+g;t[5]=1-(h+p);t[9]=d-m;t[2]=c-E;t[6]=d+m;t[10]=1-(h+u);t[3]=0;t[7]=0;t[11]=0;t[12]=0;t[13]=0;t[14]=0;t[15]=1;return this},lookAt:function(){var n=new THREE.Vector3;var a=new THREE.Vector3;var o=new THREE.Vector3;return function(e,t,i){var r=this.elements;o.subVectors(e,t).normalize();if(o.length()===0){o.z=1}n.crossVectors(i,o).normalize();if(n.length()===0){o.x+=1e-4;n.crossVectors(i,o).normalize()}a.crossVectors(o,n);r[0]=n.x;r[4]=a.x;r[8]=o.x;r[1]=n.y;r[5]=a.y;r[9]=o.y;r[2]=n.z;r[6]=a.z;r[10]=o.z;return this}}(),multiply:function(e,t){return this.multiplyMatrices(this,e)},multiplyMatrices:function(e,F){var t=e.elements;var i=F.elements;var r=this.elements;var n=t[0],a=t[4],o=t[8],s=t[12];var l=t[1],h=t[5],f=t[9],c=t[13];var u=t[2],d=t[6],p=t[10],m=t[14];var E=t[3],g=t[7],v=t[11],T=t[15];var y=i[0],_=i[4],R=i[8],x=i[12];var b=i[1],H=i[5],w=i[9],M=i[13];var S=i[2],A=i[6],C=i[10],D=i[14];var P=i[3],L=i[7],U=i[11],N=i[15];r[0]=n*y+a*b+o*S+s*P;r[4]=n*_+a*H+o*A+s*L;r[8]=n*R+a*w+o*C+s*U;r[12]=n*x+a*M+o*D+s*N;r[1]=l*y+h*b+f*S+c*P;r[5]=l*_+h*H+f*A+c*L;r[9]=l*R+h*w+f*C+c*U;r[13]=l*x+h*M+f*D+c*N;r[2]=u*y+d*b+p*S+m*P;r[6]=u*_+d*H+p*A+m*L;r[10]=u*R+d*w+p*C+m*U;r[14]=u*x+d*M+p*D+m*N;r[3]=E*y+g*b+v*S+T*P;r[7]=E*_+g*H+v*A+T*L;r[11]=E*R+g*w+v*C+T*U;r[15]=E*x+g*M+v*D+T*N;return this},multiplyToArray:function(e,t,i){var r=this.elements;this.multiplyMatrices(e,t);i[0]=r[0];i[1]=r[1];i[2]=r[2];i[3]=r[3];i[4]=r[4];i[5]=r[5];i[6]=r[6];i[7]=r[7];i[8]=r[8];i[9]=r[9];i[10]=r[10];i[11]=r[11];i[12]=r[12];i[13]=r[13];i[14]=r[14];i[15]=r[15];return this},multiplyScalar:function(e){var t=this.elements;t[0]*=e;t[4]*=e;t[8]*=e;t[12]*=e;t[1]*=e;t[5]*=e;t[9]*=e;t[13]*=e;t[2]*=e;t[6]*=e;t[10]*=e;t[14]*=e;t[3]*=e;t[7]*=e;t[11]*=e;t[15]*=e;return this},multiplyVector3Array:function(){var r=new THREE.Vector3;return function(e){for(var t=0,i=e.length;t<i;t+=3){r.x=e[t];r.y=e[t+1];r.z=e[t+2];r.applyProjection(this);e[t]=r.x;e[t+1]=r.y;e[t+2]=r.z}return e}}(),determinant:function(){var e=this.elements;var t=e[0],i=e[4],r=e[8],n=e[12];var a=e[1],o=e[5],s=e[9],l=e[13];var h=e[2],f=e[6],c=e[10],u=e[14];var d=e[3],p=e[7],m=e[11],E=e[15];return d*(+n*s*f-r*l*f-n*o*c+i*l*c+r*o*u-i*s*u)+p*(+t*s*u-t*l*c+n*a*c-r*a*u+r*l*h-n*s*h)+m*(+t*l*f-t*o*u-n*a*f+i*a*u+n*o*h-i*l*h)+E*(-r*o*h-t*s*f+t*o*c+r*a*f-i*a*c+i*s*h)},transpose:function(){var e=this.elements;var t;t=e[1];e[1]=e[4];e[4]=t;t=e[2];e[2]=e[8];e[8]=t;t=e[6];e[6]=e[9];e[9]=t;t=e[3];e[3]=e[12];e[12]=t;t=e[7];e[7]=e[13];e[13]=t;t=e[11];e[11]=e[14];e[14]=t;return this},flattenToArray:function(e){var t=this.elements;e[0]=t[0];e[1]=t[1];e[2]=t[2];e[3]=t[3];e[4]=t[4];e[5]=t[5];e[6]=t[6];e[7]=t[7];e[8]=t[8];e[9]=t[9];e[10]=t[10];e[11]=t[11];e[12]=t[12];e[13]=t[13];e[14]=t[14];e[15]=t[15];return e},flattenToArrayOffset:function(e,t){var i=this.elements;e[t]=i[0];e[t+1]=i[1];e[t+2]=i[2];e[t+3]=i[3];e[t+4]=i[4];e[t+5]=i[5];e[t+6]=i[6];e[t+7]=i[7];e[t+8]=i[8];e[t+9]=i[9];e[t+10]=i[10];e[t+11]=i[11];e[t+12]=i[12];e[t+13]=i[13];e[t+14]=i[14];e[t+15]=i[15];return e},setPosition:function(e){var t=this.elements;t[12]=e.x;t[13]=e.y;t[14]=e.z;return this},getInverse:function(e){var t=this.elements;var i=e.elements;var r=i[0],n=i[4],a=i[8],o=i[12];var s=i[1],l=i[5],h=i[9],f=i[13];var c=i[2],u=i[6],d=i[10],p=i[14];var m=i[3],E=i[7],g=i[11],v=i[15];t[0]=h*p*E-f*d*E+f*u*g-l*p*g-h*u*v+l*d*v;t[4]=o*d*E-a*p*E-o*u*g+n*p*g+a*u*v-n*d*v;t[8]=a*f*E-o*h*E+o*l*g-n*f*g-a*l*v+n*h*v;t[12]=o*h*u-a*f*u-o*l*d+n*f*d+a*l*p-n*h*p;t[1]=f*d*m-h*p*m-f*c*g+s*p*g+h*c*v-s*d*v;t[5]=a*p*m-o*d*m+o*c*g-r*p*g-a*c*v+r*d*v;t[9]=o*h*m-a*f*m-o*s*g+r*f*g+a*s*v-r*h*v;t[13]=a*f*c-o*h*c+o*s*d-r*f*d-a*s*p+r*h*p;t[2]=l*p*m-f*u*m+f*c*E-s*p*E-l*c*v+s*u*v;t[6]=o*u*m-n*p*m-o*c*E+r*p*E+n*c*v-r*u*v;t[10]=n*f*m-o*l*m+o*s*E-r*f*E-n*s*v+r*l*v;t[14]=o*l*c-n*f*c-o*s*u+r*f*u+n*s*p-r*l*p;t[3]=h*u*m-l*d*m-h*c*E+s*d*E+l*c*g-s*u*g;t[7]=n*d*m-a*u*m+a*c*E-r*d*E-n*c*g+r*u*g;t[11]=a*l*m-n*h*m-a*s*E+r*h*E+n*s*g-r*l*g;t[15]=n*h*c-a*l*c+a*s*u-r*h*u-n*s*d+r*l*d;var T=i[0]*t[0]+i[1]*t[4]+i[2]*t[8]+i[3]*t[12];if(T==0){this.identity();return this}this.multiplyScalar(1/T);return this},scale:function(e){var t=this.elements;var i=e.x,r=e.y,n=e.z;t[0]*=i;t[4]*=r;t[8]*=n;t[1]*=i;t[5]*=r;t[9]*=n;t[2]*=i;t[6]*=r;t[10]*=n;t[3]*=i;t[7]*=r;t[11]*=n;return this},getMaxScaleOnAxis:function(){var e=this.elements;var t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2];var i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6];var r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,Math.max(i,r)))},makeTranslation:function(e,t,i){this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1);return this},makeRotationX:function(e){var t=Math.cos(e),i=Math.sin(e);this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1);return this},makeRotationY:function(e){var t=Math.cos(e),i=Math.sin(e);this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1);return this},makeRotationZ:function(e){var t=Math.cos(e),i=Math.sin(e);this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1);return this},makeRotationAxis:function(e,t){var i=Math.cos(t);var r=Math.sin(t);var n=1-i;var a=e.x,o=e.y,s=e.z;var l=n*a,h=n*o;this.set(l*a+i,l*o-r*s,l*s+r*o,0,l*o+r*s,h*o+i,h*s-r*a,0,l*s-r*o,h*s+r*a,n*s*s+i,0,0,0,0,1);return this},makeScale:function(e,t,i){this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1);return this},makeFromPositionQuaternionScale:function(e,t,i){this.makeRotationFromQuaternion(t);this.scale(i);this.setPosition(e);return this},makeFromPositionEulerScale:function(e,t,i,r){this.makeRotationFromEuler(t,i);this.scale(r);this.setPosition(e);return this},makeFrustum:function(e,t,i,r,n,a){var o=this.elements;var s=2*n/(t-e);var l=2*n/(r-i);var h=(t+e)/(t-e);var f=(r+i)/(r-i);var c=-(a+n)/(a-n);var u=-2*a*n/(a-n);o[0]=s;o[4]=0;o[8]=h;o[12]=0;o[1]=0;o[5]=l;o[9]=f;o[13]=0;o[2]=0;o[6]=0;o[10]=c;o[14]=u;o[3]=0;o[7]=0;o[11]=-1;o[15]=0;return this},makePerspective:function(e,t,i,r){var n=i*Math.tan(THREE.Math.degToRad(e*.5));var a=-n;var o=a*t;var s=n*t;return this.makeFrustum(o,s,a,n,i,r)},makeOrthographic:function(e,t,i,r,n,a){var o=this.elements;var s=t-e;var l=i-r;var h=a-n;var f=(t+e)/s;var c=(i+r)/l;var u=(a+n)/h;o[0]=2/s;o[4]=0;o[8]=0;o[12]=-f;o[1]=0;o[5]=2/l;o[9]=0;o[13]=-c;o[2]=0;o[6]=0;o[10]=-2/h;o[14]=-u;o[3]=0;o[7]=0;o[11]=0;o[15]=1;return this},clone:function(){var e=this.elements;return new THREE.Matrix4(e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15])}};THREE.Matrix4.prototype.decompose=function(){var n=new THREE.Vector3;var a=new THREE.Vector3;var o=new THREE.Vector3;var s=new THREE.Matrix4;return function(e,t,i){var r=this.elements;n.set(r[0],r[1],r[2]);a.set(r[4],r[5],r[6]);o.set(r[8],r[9],r[10]);e=e instanceof THREE.Vector3?e:new THREE.Vector3;t=t instanceof THREE.Quaternion?t:new THREE.Quaternion;i=i instanceof THREE.Vector3?i:new THREE.Vector3;i.x=n.length();i.y=a.length();i.z=o.length();e.x=r[12];e.y=r[13];e.z=r[14];if(!(s instanceof THREE.Matrix4)){s=new THREE.Matrix4}s.copy(this);s.elements[0]/=i.x;s.elements[1]/=i.x;s.elements[2]/=i.x;s.elements[4]/=i.y;s.elements[5]/=i.y;s.elements[6]/=i.y;s.elements[8]/=i.z;s.elements[9]/=i.z;s.elements[10]/=i.z;t.setFromRotationMatrix(s);return[e,t,i]}}();THREE.Matrix4.prototype.fromArray=function(e,t){if(t===undefined)t=0;for(var i=0;i<16;i++){this.elements[i]=e[i+t]}return this};THREE.Ray=function(e,t){this.origin=e!==undefined?e:new THREE.Vector3;this.direction=t!==undefined?t:new THREE.Vector3};THREE.Ray.prototype={constructor:THREE.Ray,set:function(e,t){this.origin.copy(e);this.direction.copy(t);return this},copy:function(e){this.origin.copy(e.origin);this.direction.copy(e.direction);return this},at:function(e,t){var i=t||new THREE.Vector3;return i.copy(this.direction).multiplyScalar(e).add(this.origin)},recast:function(){var t=new THREE.Vector3;return function(e){this.origin.copy(this.at(e,t));return this}}(),closestPointToPoint:function(e,t){var i=t||new THREE.Vector3;i.subVectors(e,this.origin);var r=i.dot(this.direction);return i.copy(this.direction).multiplyScalar(r).add(this.origin)},distanceToPoint:function(){var i=new THREE.Vector3;return function(e){var t=i.subVectors(e,this.origin).dot(this.direction);i.copy(this.direction).multiplyScalar(t).add(this.origin);return i.distanceTo(e)}}(),isIntersectionSphere:function(e){return this.distanceToPoint(e.center)<=e.radius},isIntersectionPlane:function(e){var t=e.normal.dot(this.direction);if(t!=0){return true}if(e.distanceToPoint(this.origin)==0){return true}return false},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(t==0){if(e.distanceToPoint(this.origin)==0){return 0}return undefined}var i=-(this.origin.dot(e.normal)+e.constant)/t;return i},intersectPlane:function(e,t){var i=this.distanceToPlane(e);if(i===undefined){return undefined}return this.at(i,t)},applyMatrix4:function(e){this.direction.add(this.origin).applyMatrix4(e);this.origin.applyMatrix4(e);this.direction.sub(this.origin);return this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)},clone:function(){return(new THREE.Ray).copy(this)},intersectBox:function(e,t){var i,r,n,a,o,s;var l=1/this.direction.x,h=1/this.direction.y,f=1/this.direction.z;var c=this.origin;if(l>=0){i=(e.min.x-c.x)*l;r=(e.max.x-c.x)*l}else{i=(e.max.x-c.x)*l;r=(e.min.x-c.x)*l}if(h>=0){n=(e.min.y-c.y)*h;a=(e.max.y-c.y)*h}else{n=(e.max.y-c.y)*h;a=(e.min.y-c.y)*h}if(i>a||n>r)return null;if(n>i||i!==i)i=n;if(a<r||r!==r)r=a;if(f>=0){o=(e.min.z-c.z)*f;s=(e.max.z-c.z)*f}else{o=(e.max.z-c.z)*f;s=(e.min.z-c.z)*f}if(i>s||o>r)return null;if(o>i||i!==i)i=o;if(s<r||r!==r)r=s;if(r<0)return null;return this.at(i>=0?i:r,t)}};THREE.Sphere=function(e,t){this.center=e!==undefined?e:new THREE.Vector3;this.radius=t!==undefined?t:0};THREE.Sphere.prototype={constructor:THREE.Sphere,set:function(e,t){this.center.copy(e);this.radius=t;return this},setFromCenterAndPoints:function(e,t){var i=0;for(var r=0,n=t.length;r<n;r++){var a=e.distanceToSquared(t[r]);i=Math.max(i,a)}this.center=e;this.radius=Math.sqrt(i);return this},copy:function(e){this.center.copy(e.center);this.radius=e.radius;return this},empty:function(){return this.radius<=0},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},clampPoint:function(e,t){var i=this.center.distanceToSquared(e);var r=t||new THREE.Vector3;r.copy(e);if(i>this.radius*this.radius){r.sub(this.center).normalize();r.multiplyScalar(this.radius).add(this.center)}return r},getBoundingBox:function(e){var t=e||new THREE.Box3;t.set(this.center,this.center);t.expandByScalar(this.radius);return t},applyMatrix4:function(e){this.center.applyMatrix4(e);this.radius=this.radius*e.getMaxScaleOnAxis();return this},translate:function(e){this.center.add(e);return this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius},clone:function(){return(new THREE.Sphere).copy(this)}};THREE.Frustum=function(e,t,i,r,n,a){this.planes=[e!==undefined?e:new THREE.Plane,t!==undefined?t:new THREE.Plane,i!==undefined?i:new THREE.Plane,r!==undefined?r:new THREE.Plane,n!==undefined?n:new THREE.Plane,a!==undefined?a:new THREE.Plane]};THREE.Frustum.prototype={constructor:THREE.Frustum,set:function(e,t,i,r,n,a){var o=this.planes;o[0].copy(e);o[1].copy(t);o[2].copy(i);o[3].copy(r);o[4].copy(n);o[5].copy(a);return this},copy:function(e){var t=this.planes;for(var i=0;i<6;i++){t[i].copy(e.planes[i])}return this},setFromMatrix:function(e){var t=this.planes;var i=e.elements;var r=i[0],n=i[1],a=i[2],o=i[3];var s=i[4],l=i[5],h=i[6],f=i[7];var c=i[8],u=i[9],d=i[10],p=i[11];var m=i[12],E=i[13],g=i[14],v=i[15];t[0].setComponents(o-r,f-s,p-c,v-m).normalize();t[1].setComponents(o+r,f+s,p+c,v+m).normalize();t[2].setComponents(o+n,f+l,p+u,v+E).normalize();t[3].setComponents(o-n,f-l,p-u,v-E).normalize();t[4].setComponents(o-a,f-h,p-d,v-g).normalize();t[5].setComponents(o+a,f+h,p+d,v+g).normalize();return this},_containing:false,intersectsOrContainsObject:function(){var s=new THREE.Vector3;return function(e){this._containing=true;var t=e.geometry;var i=e.matrixWorld;if(t.boundingSphere===null)t.computeBoundingSphere();var r=-t.boundingSphere.radius*i.getMaxScaleOnAxis();s.getPositionFromMatrix(i);var n=this.planes;for(var a=0;a<6;a++){var o=n[a].distanceToPoint(s);if(o<r){return false}if(o<-r)this._containing=false}return true}}(),intersectsObject:function(){var o=new THREE.Vector3;return function(e){if(e.geometry.boundingSphere===null)e.geometry.computeBoundingSphere();var t=e.matrixWorld,i=this.planes,r=-e.geometry.boundingSphere.radius*t.getMaxScaleOnAxis(),n=6;o.copy(e.geometry.boundingSphere.center).applyMatrix4(t);for(;n;){var a=i[--n].distanceToPoint(o);if(a<r){return false}}return true}}(),intersectsSphere:function(e){var t=this.planes;var i=e.center;var r=-e.radius;for(var n=0;n<6;n++){var a=t[n].distanceToPoint(i);if(a<r){return false}}return true},containsPoint:function(e){var t=this.planes;for(var i=0;i<6;i++){if(t[i].distanceToPoint(e)<0){return false}}return true},clone:function(){return(new THREE.Frustum).copy(this)}};THREE.Plane=function(e,t){this.normal=e!==undefined?e:new THREE.Vector3(1,0,0);this.constant=t!==undefined?t:0};THREE.Plane.prototype={constructor:THREE.Plane,set:function(e,t){this.normal.copy(e);this.constant=t;return this},setComponents:function(e,t,i,r){this.normal.set(e,t,i);this.constant=r;return this},setFromNormalAndCoplanarPoint:function(e,t){this.normal.copy(e);this.constant=-t.dot(this.normal);return this},setFromCoplanarPoints:function(){var n=new THREE.Vector3;var a=new THREE.Vector3;return function(e,t,i){var r=n.subVectors(i,t).cross(a.subVectors(e,t)).normalize();this.setFromNormalAndCoplanarPoint(r,e);return this}}(),copy:function(e){this.normal.copy(e.normal);this.constant=e.constant;return this},normalize:function(){var e=1/this.normal.length();this.normal.multiplyScalar(e);this.constant*=e;return this},negate:function(){this.constant*=-1;this.normal.negate();return this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return this.orthoPoint(e,t).sub(e).negate()},orthoPoint:function(e,t){var i=this.distanceToPoint(e);var r=t||new THREE.Vector3;return r.copy(this.normal).multiplyScalar(i)},isIntersectionLine:function(e){var t=this.distanceToPoint(e.start);var i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0},intersectLine:function(){var o=new THREE.Vector3;return function(e,t){var i=t||new THREE.Vector3;var r=e.delta(o);var n=this.normal.dot(r);if(n==0){if(this.distanceToPoint(e.start)==0){return i.copy(e.start)}return undefined}var a=-(e.start.dot(this.normal)+this.constant)/n;if(a<0||a>1){return undefined}return i.copy(r).multiplyScalar(a).add(e.start)}}(),coplanarPoint:function(e){var t=e||new THREE.Vector3;return t.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var n=new THREE.Vector3;var a=new THREE.Vector3;return function(e,t){t=t||(new THREE.Matrix3).getNormalMatrix(e);var i=n.copy(this.normal).applyMatrix3(t);var r=this.coplanarPoint(a);r.applyMatrix4(e);this.setFromNormalAndCoplanarPoint(i,r);return this}}(),translate:function(e){this.constant=this.constant-e.dot(this.normal);return this},equals:function(e){return e.normal.equals(this.normal)&&e.constant==this.constant},clone:function(){return(new THREE.Plane).copy(this)}};THREE.Plane.prototype.intersectPlane=(()=>{const l=new THREE.Vector3;function t(e,t){var i=(new THREE.Vector3).crossVectors(e.normal,t.normal);var r=i.distanceTo(l.set(0,0,0));if(r===0){return null}var n=Math.abs(i.x);var a=Math.abs(i.y);var o=Math.abs(i.z);var s;if(o>=n&&o>=a){s=h("z","x","y",e,t)}else if(a>=o&&a>=n){s=h("y","z","x",e,t)}else{s=h("x","y","z",e,t)}return[s,i]}function h(e,t,i,r,n){var a=r.normal[t];var o=r.normal[i];var s=r.constant;var l=n.normal[t];var h=n.normal[i];var f=n.constant;var c=(h*s-o*f)/(a*h-l*o);var u=(a*f-l*s)/(a*h-l*o);var d=new THREE.Vector3;d[e]=0;d[t]=c;d[i]=u;return d}return function(e){return t(this,e)}})();THREE.Math={generateUUID:function(){var a=[];for(var e=0;e<256;e++){a[e]=(e<16?"0":"")+e.toString(16)}return function o(){var e=Math.random()*4294967295|0;var t=Math.random()*4294967295|0;var i=Math.random()*4294967295|0;var r=Math.random()*4294967295|0;var n=a[e&255]+a[e>>8&255]+a[e>>16&255]+a[e>>24&255]+"-"+a[t&255]+a[t>>8&255]+"-"+a[t>>16&15|64]+a[t>>24&255]+"-"+a[i&63|128]+a[i>>8&255]+"-"+a[i>>16&255]+a[i>>24&255]+a[r&255]+a[r>>8&255]+a[r>>16&255]+a[r>>24&255];return n.toUpperCase()}}(),clamp:function(e,t,i){return e<t?t:e>i?i:e},clampBottom:function(e,t){return e<t?t:e},mapLinear:function(e,t,i,r,n){return r+(e-t)*(n-r)/(i-t)},smoothstep:function(e,t,i){if(e<=t)return 0;if(e>=i)return 1;e=(e-t)/(i-t);return e*e*(3-2*e)},smootherstep:function(e,t,i){if(e<=t)return 0;if(e>=i)return 1;e=(e-t)/(i-t);return e*e*e*(e*(e*6-15)+10)},random16:function(){return(65280*Math.random()+255*Math.random())/65535},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},sign:function(e){return e<0?-1:e>0?1:0},degToRad:function(){var t=Math.PI/180;return function(e){return e*t}}(),radToDeg:function(){var t=180/Math.PI;return function(e){return e*t}}()};THREE.Spline=function(e){this.points=e;var t=[],i={x:0,y:0,z:0},r,n,a,o,s,l,h,f,c;this.initFromArray=function(e){this.points=[];for(var t=0;t<e.length;t++){this.points[t]={x:e[t][0],y:e[t][1],z:e[t][2]}}};this.getPoint=function(e){r=(this.points.length-1)*e;n=Math.floor(r);a=r-n;t[0]=n===0?n:n-1;t[1]=n;t[2]=n>this.points.length-2?this.points.length-1:n+1;t[3]=n>this.points.length-3?this.points.length-1:n+2;l=this.points[t[0]];h=this.points[t[1]];f=this.points[t[2]];c=this.points[t[3]];o=a*a;s=a*o;i.x=u(l.x,h.x,f.x,c.x,a,o,s);i.y=u(l.y,h.y,f.y,c.y,a,o,s);i.z=u(l.z,h.z,f.z,c.z,a,o,s);return i};this.getControlPointsArray=function(){var e,t,i=this.points.length,r=[];for(e=0;e<i;e++){t=this.points[e];r[e]=[t.x,t.y,t.z]}return r};this.getLength=function(e){var t,i,r,n,a=0,o=0,s=0,l=new THREE.Vector3,h=new THREE.Vector3,f=[],c=0;f[0]=0;if(!e)e=100;r=this.points.length*e;l.copy(this.points[0]);for(t=1;t<r;t++){i=t/r;n=this.getPoint(i);h.copy(n);c+=h.distanceTo(l);l.copy(n);a=(this.points.length-1)*i;o=Math.floor(a);if(o!=s){f[o]=c;s=o}}f[f.length]=c;return{chunks:f,total:c}};this.reparametrizeByArcLength=function(e){var t,i,r,n,a,o,s,l,h,f=[],c=new THREE.Vector3,u=this.getLength();f.push(c.copy(this.points[0]).clone());for(t=1;t<this.points.length;t++){s=u.chunks[t]-u.chunks[t-1];l=Math.ceil(e*s/u.total);n=(t-1)/(this.points.length-1);a=t/(this.points.length-1);for(i=1;i<l-1;i++){r=n+i*(1/l)*(a-n);h=this.getPoint(r);f.push(c.copy(h).clone())}f.push(c.copy(this.points[t]).clone())}this.points=f};function u(e,t,i,r,n,a,o){var s=(i-e)*.5,l=(r-t)*.5;return(2*(t-i)+s+l)*o+(-3*(t-i)-2*s-l)*a+s*n+t}};THREE.Triangle=function(e,t,i){this.a=e!==undefined?e:new THREE.Vector3;this.b=t!==undefined?t:new THREE.Vector3;this.c=i!==undefined?i:new THREE.Vector3};THREE.Triangle.normal=function(){var o=new THREE.Vector3;return function(e,t,i,r){var n=r||new THREE.Vector3;n.subVectors(i,t);o.subVectors(e,t);n.cross(o);var a=n.lengthSq();if(a>0){return n.multiplyScalar(1/Math.sqrt(a))}return n.set(0,0,0)}}();THREE.Triangle.barycoordFromPoint=function(){var m=new THREE.Vector3;var E=new THREE.Vector3;var g=new THREE.Vector3;return function(e,t,i,r,n){m.subVectors(r,t);E.subVectors(i,t);g.subVectors(e,t);var a=m.dot(m);var o=m.dot(E);var s=m.dot(g);var l=E.dot(E);var h=E.dot(g);var f=a*l-o*o;var c=n||new THREE.Vector3;if(f==0){return c.set(-2,-1,-1)}var u=1/f;var d=(l*s-o*h)*u;var p=(a*h-o*s)*u;return c.set(1-d-p,p,d)}}();THREE.Triangle.containsPoint=function(){var a=new THREE.Vector3;return function(e,t,i,r){var n=THREE.Triangle.barycoordFromPoint(e,t,i,r,a);return n.x>=0&&n.y>=0&&n.x+n.y<=1}}();THREE.Triangle.prototype={constructor:THREE.Triangle,set:function(e,t,i){this.a.copy(e);this.b.copy(t);this.c.copy(i);return this},setFromPointsAndIndices:function(e,t,i,r){this.a.copy(e[t]);this.b.copy(e[i]);this.c.copy(e[r]);return this},copy:function(e){this.a.copy(e.a);this.b.copy(e.b);this.c.copy(e.c);return this},area:function(){var e=new THREE.Vector3;var t=new THREE.Vector3;return function(){e.subVectors(this.c,this.b);t.subVectors(this.a,this.b);return e.cross(t).length()*.5}}(),midpoint:function(e){var t=e||new THREE.Vector3;return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(e){return THREE.Triangle.normal(this.a,this.b,this.c,e)},plane:function(e){var t=e||new THREE.Plane;return t.setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(e,t){return THREE.Triangle.barycoordFromPoint(e,this.a,this.b,this.c,t)},containsPoint:function(e){return THREE.Triangle.containsPoint(e,this.a,this.b,this.c)},equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)},clone:function(){return(new THREE.Triangle).copy(this)}};THREE.now=function(){var e=self.performance!==undefined&&self.performance.now!==undefined?self.performance:Date;return function(){return e.now()}}();THREE.Clock=function(e){this.autoStart=e!==undefined?e:true;this.startTime=0;this.oldTime=0;this.elapsedTime=0;this.running=false};THREE.Clock.prototype={constructor:THREE.Clock,start:function(){this.startTime=(typeof performance==="undefined"?Date:performance).now();this.oldTime=this.startTime;this.elapsedTime=0;this.running=true},stop:function(){this.getElapsedTime();this.running=false;this.autoStart=false},getElapsedTime:function(){this.getDelta();return this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running){this.start();return 0}if(this.running){var t=(typeof performance==="undefined"?Date:performance).now();e=(t-this.oldTime)/1e3;this.oldTime=t;this.elapsedTime+=e}return e}};THREE.EventDispatcher=function(){};THREE.EventDispatcher.prototype={constructor:THREE.EventDispatcher,apply:function(e){e.addEventListener=THREE.EventDispatcher.prototype.addEventListener;e.hasEventListener=THREE.EventDispatcher.prototype.hasEventListener;e.removeEventListener=THREE.EventDispatcher.prototype.removeEventListener;e.dispatchEvent=THREE.EventDispatcher.prototype.dispatchEvent},addEventListener:function(e,t){if(this._listeners===undefined)this._listeners={};var i=this._listeners;if(i[e]===undefined){i[e]=[]}if(i[e].indexOf(t)===-1){i[e].push(t)}},hasEventListener:function(e,t){if(this._listeners===undefined)return false;var i=this._listeners;if(i[e]!==undefined&&i[e].indexOf(t)!==-1){return true}return false},removeEventListener:function(e,t){if(this._listeners===undefined)return;var i=this._listeners;var r=i[e].indexOf(t);if(r!==-1){i[e].splice(r,1)}},dispatchEvent:function(e){if(this._listeners===undefined)return;var t=this._listeners;var i=t[e.type];if(i!==undefined){e.target=this;for(var r=0,n=i.length;r<n;r++){i[r].call(this,e)}}}};(function(y){y.Raycaster=function(e,t,i,r){this.ray=new y.Ray(e,t);if(this.ray.direction.lengthSq()>0){this.ray.direction.normalize()}this.near=i||0;this.far=r||Infinity};var _=new y.Sphere;var R=new y.Ray;var x=new y.Plane;var b=new y.Vector3;var H=new y.Vector3;var w=new y.Matrix4;var n=function(e,t){return e.distance-t.distance};var M=function(e,t,i){if(e instanceof y.Particle){H.getPositionFromMatrix(e.matrixWorld);var r=t.ray.distanceToPoint(H);if(r>e.scale.x){return i}i.push({distance:r,point:e.position,face:null,object:e})}else if(e instanceof y.LOD){H.getPositionFromMatrix(e.matrixWorld);var r=t.ray.origin.distanceTo(H);M(e.getObjectForDistance(r),t,i)}else if(e instanceof y.Mesh){H.getPositionFromMatrix(e.matrixWorld);_.set(H,e.geometry.boundingSphere.radius*e.matrixWorld.getMaxScaleOnAxis());if(!t.ray.isIntersectionSphere(_)){return i}var n=e.geometry;var a=n.vertices;var o=e.material instanceof y.MeshFaceMaterial;var s=o===true?e.material.materials:null;var l=e.material.side;var h,f,c,u;var d=t.precision;w.getInverse(e.matrixWorld);R.copy(t.ray).applyMatrix4(w);for(var p=0,m=n.faces.length;p<m;p++){var E=n.faces[p];var g=o===true?s[E.materialIndex]:e.material;if(g===undefined)continue;x.setFromNormalAndCoplanarPoint(E.normal,a[E.a]);var v=R.distanceToPlane(x);if(Math.abs(v)<d)continue;if(v<0)continue;l=g.side;if(l!==y.DoubleSide){var T=R.direction.dot(x.normal);if(!(l===y.FrontSide?T<0:T>0))continue}if(v<t.near||v>t.far)continue;b=R.at(v,b);if(E instanceof y.Face3){h=a[E.a];f=a[E.b];c=a[E.c];if(!y.Triangle.containsPoint(b,h,f,c))continue}else if(E instanceof y.Face4){h=a[E.a];f=a[E.b];c=a[E.c];u=a[E.d];if(!y.Triangle.containsPoint(b,h,f,u)&&!y.Triangle.containsPoint(b,f,c,u))continue}i.push({distance:v,point:t.ray.at(v),face:E,faceIndex:p,object:e})}}};var a=function(e,t,i){var r=e.getDescendants();for(var n=0,a=r.length;n<a;n++){M(r[n],t,i)}};y.Raycaster.prototype.precision=1e-4;y.Raycaster.prototype.set=function(e,t){this.ray.set(e,t);if(this.ray.direction.length()>0){this.ray.direction.normalize()}};y.Raycaster.prototype.intersectObject=function(e,t){var i=[];if(t===true){a(e,this,i)}M(e,this,i);i.sort(n);return i};y.Raycaster.prototype.intersectObjects=function(e,t){var i=[],r=e.length;for(;r;){M(e[--r],this,i);if(t){a(e[r],this,i)}}i.sort(n);return i};y.Raycaster.prototype.setFromCamera=function(e,t){if(t&&t instanceof y.PerspectiveCamera){this.ray.origin.getPositionFromMatrix(t.matrixWorld);this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize()}else if(t&&t instanceof y.OrthographicCamera){this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t);this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld)}else{console.error("THREE.Raycaster: Unsupported camera type.")}}})(THREE);THREE.Object3D=function(){this.id=THREE.Object3DIdCount++;this.name="";this.parent=undefined;this.children=[];this.up=new THREE.Vector3(0,1,0);this.position=new THREE.Vector3;this.rotate=this.rotation=new THREE.Vector3;this.eulerOrder=THREE.Object3D.defaultEulerOrder;this.scale=new THREE.Vector3(1,1,1);this.renderDepth=null;this.rotationAutoUpdate=true;this.matrix=new THREE.Matrix4;this.matrixWorld=new THREE.Matrix4;this.matrixAutoUpdate=true;this.matrixWorldNeedsUpdate=true;this.quaternion=new THREE.Quaternion;this.useQuaternion=false;this.visible=true;this.castShadow=false;this.receiveShadow=false;this.frustumCulled=true;this.userData={};this._lookAt=new THREE.Vector3;this.qtAxisAngle=new THREE.Quaternion};THREE.Object3D.prototype={constructor:THREE.Object3D,applyMatrix:function(){var t=new THREE.Matrix4;return function(e){this.matrix.multiplyMatrices(e,this.matrix);this.position.getPositionFromMatrix(this.matrix);this.scale.getScaleFromMatrix(this.matrix);t.extractRotation(this.matrix);if(this.useQuaternion===true){this.quaternion.setFromRotationMatrix(t)}else{this.rotation.setEulerFromRotationMatrix(t,this.eulerOrder)}}}(),rotateOnAxis:function(){var i=new THREE.Quaternion;var r=new THREE.Quaternion;return function(e,t){i.setFromAxisAngle(e,t);if(this.useQuaternion===true){this.quaternion.multiply(i)}else{r.setFromEuler(this.rotation,this.eulerOrder);r.multiply(i);this.rotation.setEulerFromQuaternion(r,this.eulerOrder)}return this}}(),translateOnAxis:function(){var i=new THREE.Vector3;return function(e,t){i.copy(e);if(this.useQuaternion===true){i.applyQuaternion(this.quaternion)}else{i.applyEuler(this.rotation,this.eulerOrder)}this.position.add(i.multiplyScalar(t));return this}}(),translateX:function(){var t=new THREE.Vector3(1,0,0);return function(e){return this.translateOnAxis(t,e)}}(),translateY:function(){var t=new THREE.Vector3(0,1,0);return function(e){return this.translateOnAxis(t,e)}}(),translateZ:function(){var t=new THREE.Vector3(0,0,1);return function(e){return this.translateOnAxis(t,e)}}(),localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var t=new THREE.Matrix4;return function(e){return e.applyMatrix4(t.getInverse(this.matrixWorld))}}(),lookAt:function(){var t=new THREE.Matrix4;return function(e){t.lookAt(e,this.position,this.up);this._lookAt.copy(e);if(this.useQuaternion===true){this.quaternion.setFromRotationMatrix(t)}else{this.rotation.setEulerFromRotationMatrix(t,this.eulerOrder)}}}(),add:function(e){if(e.parent!==undefined){e.parent.remove(e)}e.parent=this;e.dispatchEvent({type:"added"});jThree.styleHooks.display.set(e);jThree.styleHooks.opacity.set(e);this.children.push(e);var t=this;while(t.parent!==undefined){t=t.parent}if(t!==undefined&&t instanceof THREE.Scene){t.__addObject(e);if(e.userData.dom){e.userData.scene=t;t.eventChange($._data(e.userData.dom,"events"),e)}}},remove:function(e){var t=this.children.indexOf(e);if(t!==-1){e.parent=undefined;e.traverse(function(e){e.dispatchEvent({type:"removed"})});this.children.splice(t,1);var i=this;while(i.parent!==undefined){i=i.parent}if(i!==undefined&&i instanceof THREE.Scene){i.__removeObject(e);if(e.userData.dom){e.userData.scene=undefined;i.eventChange(false,e)}}}},traverse:function(e){e(this);for(var t=0,i=this.children.length;t<i;t++){if(this.children[t].traverse(e)===false){break}}},getObjectById:function(e,t){for(var i=0,r=this.children.length;i<r;i++){var n=this.children[i];if(n.id===e){return n}if(t===true){n=n.getObjectById(e,t);if(n!==undefined){return n}}}return undefined},getObjectByName:function(e,t){for(var i=0,r=this.children.length;i<r;i++){var n=this.children[i];if(n.name===e){return n}if(t===true){n=n.getObjectByName(e,t);if(n!==undefined){return n}}}return undefined},getDescendants:function(e){if(e===undefined)e=[];Array.prototype.push.apply(e,this.children);for(var t=0,i=this.children.length;t<i;t++){this.children[t].getDescendants(e)}return e},updateMatrix:function(){if(this.useQuaternion===false){this.matrix.makeFromPositionEulerScale(this.position,this.rotation,this.eulerOrder,this.scale)}else{this.matrix.makeFromPositionQuaternionScale(this.position,this.quaternion,this.scale)}this.matrixWorldNeedsUpdate=true},updateMatrixWorld:function(e){if(this.matrixAutoUpdate===true)this.updateMatrix();if(this.matrixWorldNeedsUpdate===true||e===true){if(this.parent===undefined){this.matrixWorld.copy(this.matrix)}else{this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)}this.matrixWorldNeedsUpdate=false;e=true}for(var t=0,i=this.children.length;t<i;t++){this.children[t].updateMatrixWorld(e)}},clone:function(e){if(e===undefined)e=new THREE.Object3D;e.name=this.name;e.up.copy(this.up);e.position.copy(this.position);if(e.rotation instanceof THREE.Vector3)e.rotation.copy(this.rotation);e.eulerOrder=this.eulerOrder;e.scale.copy(this.scale);e.renderDepth=this.renderDepth;e.rotationAutoUpdate=this.rotationAutoUpdate;e.matrix.copy(this.matrix);e.matrixWorld.copy(this.matrixWorld);e.matrixAutoUpdate=this.matrixAutoUpdate;e.matrixWorldNeedsUpdate=this.matrixWorldNeedsUpdate;e.quaternion.copy(this.quaternion);e.useQuaternion=this.useQuaternion;e.visible=this.visible;e.castShadow=this.castShadow;e.receiveShadow=this.receiveShadow;e.frustumCulled=this.frustumCulled;e.userData=this.userData.dom?jQuery.extend(true,{},this.userData):JSON.parse(JSON.stringify(this.userData));e._lookAt.copy(this._lookAt);e.instanced_drawing=this.instanced_drawing;for(var t=0;t<this.children.length;t++){var i=this.children[t];e.add(i.clone())}return e}};THREE.EventDispatcher.prototype.apply(THREE.Object3D.prototype);THREE.Object3D.defaultEulerOrder="XYZ",THREE.Object3DIdCount=0;THREE.Projector=function(){var a,i,t=[],r=0,F,O,z=[],n=0,I,V,o=[],s=0,k,l=[],h=0,B,j,f=[],c=0,G,W,p=[],m=0,X={objects:[],sprites:[],lights:[],elements:[]},u=new THREE.Vector3,q=new THREE.Vector4,ae=new THREE.Box3(new THREE.Vector3(-1,-1,-1),new THREE.Vector3(1,1,1)),oe=new THREE.Box3,Y=new Array(3),$=new Array(4),K=new THREE.Matrix4,Q=new THREE.Matrix4,Z,J=new THREE.Matrix4,ee=new THREE.Matrix3,te=new THREE.Matrix3,se=new THREE.Vector3,le=new THREE.Frustum,ie=new THREE.Vector4,re=new THREE.Vector4;this.projectVector=function(e,t){t.matrixWorldInverse.getInverse(t.matrixWorld);Q.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse);return e.applyProjection(Q)};this.unprojectVector=function(e,t){t.projectionMatrixInverse.getInverse(t.projectionMatrix);Q.multiplyMatrices(t.matrixWorld,t.projectionMatrixInverse);return e.applyProjection(Q)};this.pickingRay=function(e,t){e.z=-1;var i=new THREE.Vector3(e.x,e.y,1);this.unprojectVector(e,t);this.unprojectVector(i,t);i.sub(e).normalize();return new THREE.Raycaster(e,i)};var he=function(e,t){i=0;X.objects.length=0;X.sprites.length=0;X.lights.length=0;var n=function(e){for(var t=0,i=e.children.length;t<i;t++){var r=e.children[t];if(r.visible===false)continue;if(r instanceof THREE.Light){X.lights.push(r)}else if(r instanceof THREE.Mesh||r instanceof THREE.Line){if(r.frustumCulled===false||le.intersectsObject(r)===true){a=d();a.object=r;if(r.renderDepth!==null){a.z=r.renderDepth}else{u.getPositionFromMatrix(r.matrixWorld);u.applyProjection(Q);a.z=u.z}X.objects.push(a)}}else if(r instanceof THREE.Sprite||r instanceof THREE.Particle){a=d();a.object=r;if(r.renderDepth!==null){a.z=r.renderDepth}else{u.getPositionFromMatrix(r.matrixWorld);u.applyProjection(Q);a.z=u.z}X.sprites.push(a)}else{a=d();a.object=r;if(r.renderDepth!==null){a.z=r.renderDepth}else{u.getPositionFromMatrix(r.matrixWorld);u.applyProjection(Q);a.z=u.z}X.objects.push(a)}n(r)}};n(e);if(t===true)X.objects.sort(pe);return X};this.projectScene=function(e,t,i,r){var n=false,a,o,s,l,h,f,c,u,d,p,m,E,g,v,T,y,_,R,x,b,H,w,M,S,A,C;V=0;k=0;j=0;W=0;X.elements.length=0;if(e.autoUpdate===true)e.updateMatrixWorld();if(t.parent===undefined)t.updateMatrixWorld();K.copy(t.matrixWorldInverse.getInverse(t.matrixWorld));Q.multiplyMatrices(t.projectionMatrix,K);te.getNormalMatrix(K);le.setFromMatrix(Q);X=he(e,i);for(a=0,o=X.objects.length;a<o;a++){g=X.objects[a].object;Z=g.matrixWorld;O=0;if(g instanceof THREE.Mesh){v=g.geometry;T=v.vertices;y=v.faces;x=v.faceVertexUvs;ee.getNormalMatrix(Z);A=g.material instanceof THREE.MeshFaceMaterial;C=A===true?g.material:null;for(s=0,l=T.length;s<l;s++){F=ne();F.positionWorld.copy(T[s]).applyMatrix4(Z);F.positionScreen.copy(F.positionWorld).applyMatrix4(Q);F.positionScreen.x/=F.positionScreen.w;F.positionScreen.y/=F.positionScreen.w;F.positionScreen.z/=F.positionScreen.w;F.visible=!(F.positionScreen.x<-1||F.positionScreen.x>1||F.positionScreen.y<-1||F.positionScreen.y>1||F.positionScreen.z<-1||F.positionScreen.z>1)}for(h=0,f=y.length;h<f;h++){_=y[h];var D=A===true?C.materials[_.materialIndex]:g.material;if(D===undefined)continue;var P=D.side;if(_ instanceof THREE.Face3){H=z[_.a];w=z[_.b];M=z[_.c];Y[0]=H.positionScreen;Y[1]=w.positionScreen;Y[2]=M.positionScreen;if(H.visible===true||w.visible===true||M.visible===true||ae.isIntersectionBox(oe.setFromPoints(Y))){n=(M.positionScreen.x-H.positionScreen.x)*(w.positionScreen.y-H.positionScreen.y)-(M.positionScreen.y-H.positionScreen.y)*(w.positionScreen.x-H.positionScreen.x)<0;if(P===THREE.DoubleSide||n===(P===THREE.FrontSide)){I=fe();I.v1.copy(H);I.v2.copy(w);I.v3.copy(M)}else{continue}}else{continue}}else if(_ instanceof THREE.Face4){H=z[_.a];w=z[_.b];M=z[_.c];S=z[_.d];$[0]=H.positionScreen;$[1]=w.positionScreen;$[2]=M.positionScreen;$[3]=S.positionScreen;if(H.visible===true||w.visible===true||M.visible===true||S.visible===true||ae.isIntersectionBox(oe.setFromPoints($))){n=(S.positionScreen.x-H.positionScreen.x)*(w.positionScreen.y-H.positionScreen.y)-(S.positionScreen.y-H.positionScreen.y)*(w.positionScreen.x-H.positionScreen.x)<0||(w.positionScreen.x-M.positionScreen.x)*(S.positionScreen.y-M.positionScreen.y)-(w.positionScreen.y-M.positionScreen.y)*(S.positionScreen.x-M.positionScreen.x)<0;if(P===THREE.DoubleSide||n===(P===THREE.FrontSide)){I=ce();I.v1.copy(H);I.v2.copy(w);I.v3.copy(M);I.v4.copy(S)}else{continue}}else{continue}}I.normalModel.copy(_.normal);if(n===false&&(P===THREE.BackSide||P===THREE.DoubleSide)){I.normalModel.negate()}I.normalModel.applyMatrix3(ee).normalize();I.normalModelView.copy(I.normalModel).applyMatrix3(te);I.centroidModel.copy(_.centroid).applyMatrix4(Z);R=_.vertexNormals;for(c=0,u=R.length;c<u;c++){var L=I.vertexNormalsModel[c];L.copy(R[c]);if(n===false&&(P===THREE.BackSide||P===THREE.DoubleSide)){L.negate()}L.applyMatrix3(ee).normalize();var U=I.vertexNormalsModelView[c];U.copy(L).applyMatrix3(te)}I.vertexNormalsLength=R.length;for(d=0,p=x.length;d<p;d++){b=x[d][h];if(b===undefined)continue;for(m=0,E=b.length;m<E;m++){I.uvs[d][m]=b[m]}}I.color=_.color;I.material=D;se.copy(I.centroidModel).applyProjection(Q);I.z=se.z;X.elements.push(I)}}else if(g instanceof THREE.Line){J.multiplyMatrices(Q,Z);T=g.geometry.vertices;H=ne();H.positionScreen.copy(T[0]).applyMatrix4(J);var N=g.type===THREE.LinePieces?2:1;for(s=1,l=T.length;s<l;s++){H=ne();H.positionScreen.copy(T[s]).applyMatrix4(J);if((s+1)%N>0)continue;w=z[O-2];ie.copy(H.positionScreen);re.copy(w.positionScreen);if(me(ie,re)===true){ie.multiplyScalar(1/ie.w);re.multiplyScalar(1/re.w);B=ue();B.v1.positionScreen.copy(ie);B.v2.positionScreen.copy(re);B.z=Math.max(ie.z,re.z);B.material=g.material;if(g.material.vertexColors===THREE.VertexColors){B.vertexColors[0].copy(g.geometry.colors[s]);B.vertexColors[1].copy(g.geometry.colors[s-1])}X.elements.push(B)}}}}for(a=0,o=X.sprites.length;a<o;a++){g=X.sprites[a].object;Z=g.matrixWorld;if(g instanceof THREE.Particle){q.set(Z.elements[12],Z.elements[13],Z.elements[14],1);q.applyMatrix4(Q);q.z/=q.w;if(q.z>0&&q.z<1){G=de();G.object=g;G.x=q.x/q.w;G.y=q.y/q.w;G.z=q.z;G.rotation=g.rotation.z;G.scale.x=g.scale.x*Math.abs(G.x-(q.x+t.projectionMatrix.elements[0])/(q.w+t.projectionMatrix.elements[12]));G.scale.y=g.scale.y*Math.abs(G.y-(q.y+t.projectionMatrix.elements[5])/(q.w+t.projectionMatrix.elements[13]));G.material=g.material;X.elements.push(G)}}}if(r===true)X.elements.sort(pe);return X};function d(){if(i===r){var e=new THREE.RenderableObject;t.push(e);r++;i++;return e}return t[i++]}function ne(){if(O===n){var e=new THREE.RenderableVertex;z.push(e);n++;O++;return e}return z[O++]}function fe(){if(V===s){var e=new THREE.RenderableFace3;o.push(e);s++;V++;return e}return o[V++]}function ce(){if(k===h){var e=new THREE.RenderableFace4;l.push(e);h++;k++;return e}return l[k++]}function ue(){if(j===c){var e=new THREE.RenderableLine;f.push(e);c++;j++;return e}return f[j++]}function de(){if(W===m){var e=new THREE.RenderableParticle;p.push(e);m++;W++;return e}return p[W++]}function pe(e,t){return t.z-e.z}function me(e,t){var i=0,r=1,n=e.z+e.w,a=t.z+t.w,o=-e.z+e.w,s=-t.z+t.w;if(n>=0&&a>=0&&o>=0&&s>=0){return true}else if(n<0&&a<0||o<0&&s<0){return false}else{if(n<0){i=Math.max(i,n/(n-a))}else if(a<0){r=Math.min(r,n/(n-a))}if(o<0){i=Math.max(i,o/(o-s))}else if(s<0){r=Math.min(r,o/(o-s))}if(r<i){return false}else{e.lerp(t,i);t.lerp(e,1-r);return true}}}};THREE.Face3=function(e,t,i,r,n,a){this.a=e;this.b=t;this.c=i;this.normal=r instanceof THREE.Vector3?r:new THREE.Vector3;this.vertexNormals=r instanceof Array?r:[];this.color=n instanceof THREE.Color?n:new THREE.Color;this.vertexColors=n instanceof Array?n:[];this.vertexTangents=[];this.materialIndex=a!==undefined?a:0;this.centroid=new THREE.Vector3};THREE.Face3.prototype={constructor:THREE.Face3,clone:function(){var e=new THREE.Face3(this.a,this.b,this.c);e.normal.copy(this.normal);e.color.copy(this.color);e.centroid.copy(this.centroid);e.materialIndex=this.materialIndex;var t,i;for(t=0,i=this.vertexNormals.length;t<i;t++)e.vertexNormals[t]=this.vertexNormals[t].clone();for(t=0,i=this.vertexColors.length;t<i;t++)e.vertexColors[t]=this.vertexColors[t].clone();for(t=0,i=this.vertexTangents.length;t<i;t++)e.vertexTangents[t]=this.vertexTangents[t].clone();return e}};THREE.Face4=function(e,t,i,r,n,a,o){this.a=e;this.b=t;this.c=i;this.d=r;this.normal=n instanceof THREE.Vector3?n:new THREE.Vector3;this.vertexNormals=n instanceof Array?n:[];this.color=a instanceof THREE.Color?a:new THREE.Color;this.vertexColors=a instanceof Array?a:[];this.vertexTangents=[];this.materialIndex=o!==undefined?o:0;this.centroid=new THREE.Vector3};THREE.Face4.prototype={constructor:THREE.Face4,clone:function(){var e=new THREE.Face4(this.a,this.b,this.c,this.d);e.normal.copy(this.normal);e.color.copy(this.color);e.centroid.copy(this.centroid);e.materialIndex=this.materialIndex;var t,i;for(t=0,i=this.vertexNormals.length;t<i;t++)e.vertexNormals[t]=this.vertexNormals[t].clone();for(t=0,i=this.vertexColors.length;t<i;t++)e.vertexColors[t]=this.vertexColors[t].clone();for(t=0,i=this.vertexTangents.length;t<i;t++)e.vertexTangents[t]=this.vertexTangents[t].clone();return e}};THREE.Geometry=function(){this.id=THREE.GeometryIdCount++;this.name="";this.vertices=[];this.colors=[];this.normals=[];this.faces=[];this.faceUvs=[[]];this.faceVertexUvs=[[]];this.morphTargets=[];this.morphColors=[];this.morphNormals=[];this.skinWeights=[];this.skinIndices=[];this.lineDistances=[];this.boundingBox=null;this.boundingSphere=null;this.hasTangents=false;this.dynamic=true;this.verticesNeedUpdate=false;this.elementsNeedUpdate=false;this.uvsNeedUpdate=false;this.normalsNeedUpdate=false;this.tangentsNeedUpdate=false;this.colorsNeedUpdate=false;this.lineDistancesNeedUpdate=false;this.buffersNeedUpdate=false;this.userData={}};THREE.Geometry.prototype={constructor:THREE.Geometry,applyMatrix:function(e){var t=(new THREE.Matrix3).getNormalMatrix(e);for(var i=0,r=this.vertices.length;i<r;i++){var n=this.vertices[i];n.applyMatrix4(e)}for(var i=0,r=this.faces.length;i<r;i++){var a=this.faces[i];a.normal.applyMatrix3(t).normalize();for(var o=0,s=a.vertexNormals.length;o<s;o++){a.vertexNormals[o].applyMatrix3(t).normalize()}a.centroid.applyMatrix4(e)}},computeCentroids:function(){var e,t,i;for(e=0,t=this.faces.length;e<t;e++){i=this.faces[e];i.centroid.set(0,0,0);if(i instanceof THREE.Face3){i.centroid.add(this.vertices[i.a]);i.centroid.add(this.vertices[i.b]);i.centroid.add(this.vertices[i.c]);i.centroid.divideScalar(3)}else if(i instanceof THREE.Face4){i.centroid.add(this.vertices[i.a]);i.centroid.add(this.vertices[i.b]);i.centroid.add(this.vertices[i.c]);i.centroid.add(this.vertices[i.d]);i.centroid.divideScalar(4)}}},computeFaceNormals:function(){var e=new THREE.Vector3,t=new THREE.Vector3;for(var i=0,r=this.faces.length;i<r;i++){var n=this.faces[i];var a=this.vertices[n.a];var o=this.vertices[n.b];var s=this.vertices[n.c];e.subVectors(s,o);t.subVectors(a,o);e.cross(t);e.normalize();n.normal.copy(e)}},computeVertexNormals:function(e){var t,i,r,n,a,o;if(this.__tmpVertices===undefined){this.__tmpVertices=new Array(this.vertices.length);o=this.__tmpVertices;for(t=0,i=this.vertices.length;t<i;t++){o[t]=new THREE.Vector3}for(r=0,n=this.faces.length;r<n;r++){a=this.faces[r];if(a instanceof THREE.Face3){a.vertexNormals=[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3]}else if(a instanceof THREE.Face4){a.vertexNormals=[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3]}}}else{o=this.__tmpVertices;for(t=0,i=this.vertices.length;t<i;t++){o[t].set(0,0,0)}}if(e){var s,l,h,f;var c=new THREE.Vector3,u=new THREE.Vector3,d=new THREE.Vector3,p=new THREE.Vector3,m=new THREE.Vector3;for(r=0,n=this.faces.length;r<n;r++){a=this.faces[r];if(a instanceof THREE.Face3){s=this.vertices[a.a];l=this.vertices[a.b];h=this.vertices[a.c];c.subVectors(h,l);u.subVectors(s,l);c.cross(u);o[a.a].add(c);o[a.b].add(c);o[a.c].add(c)}else if(a instanceof THREE.Face4){s=this.vertices[a.a];l=this.vertices[a.b];h=this.vertices[a.c];f=this.vertices[a.d];d.subVectors(f,l);u.subVectors(s,l);d.cross(u);o[a.a].add(d);o[a.b].add(d);o[a.d].add(d);p.subVectors(f,h);m.subVectors(l,h);p.cross(m);o[a.b].add(p);o[a.c].add(p);o[a.d].add(p)}}}else{for(r=0,n=this.faces.length;r<n;r++){a=this.faces[r];if(a instanceof THREE.Face3){o[a.a].add(a.normal);o[a.b].add(a.normal);o[a.c].add(a.normal)}else if(a instanceof THREE.Face4){o[a.a].add(a.normal);o[a.b].add(a.normal);o[a.c].add(a.normal);o[a.d].add(a.normal)}}}for(t=0,i=this.vertices.length;t<i;t++){o[t].normalize()}for(r=0,n=this.faces.length;r<n;r++){a=this.faces[r];if(a instanceof THREE.Face3){a.vertexNormals[0].copy(o[a.a]);a.vertexNormals[1].copy(o[a.b]);a.vertexNormals[2].copy(o[a.c])}else if(a instanceof THREE.Face4){a.vertexNormals[0].copy(o[a.a]);a.vertexNormals[1].copy(o[a.b]);a.vertexNormals[2].copy(o[a.c]);a.vertexNormals[3].copy(o[a.d])}}},computeMorphNormals:function(){var e,t,i,r,n;for(i=0,r=this.faces.length;i<r;i++){n=this.faces[i];if(!n.__originalFaceNormal){n.__originalFaceNormal=n.normal.clone()}else{n.__originalFaceNormal.copy(n.normal)}if(!n.__originalVertexNormals)n.__originalVertexNormals=[];for(e=0,t=n.vertexNormals.length;e<t;e++){if(!n.__originalVertexNormals[e]){n.__originalVertexNormals[e]=n.vertexNormals[e].clone()}else{n.__originalVertexNormals[e].copy(n.vertexNormals[e])}}}var a=new THREE.Geometry;a.faces=this.faces;for(e=0,t=this.morphTargets.length;e<t;e++){if(!this.morphNormals[e]){this.morphNormals[e]={};this.morphNormals[e].faceNormals=[];this.morphNormals[e].vertexNormals=[];var o=this.morphNormals[e].faceNormals;var s=this.morphNormals[e].vertexNormals;var l,h;for(i=0,r=this.faces.length;i<r;i++){n=this.faces[i];l=new THREE.Vector3;if(n instanceof THREE.Face3){h={a:new THREE.Vector3,b:new THREE.Vector3,c:new THREE.Vector3}}else{h={a:new THREE.Vector3,b:new THREE.Vector3,c:new THREE.Vector3,d:new THREE.Vector3}}o.push(l);s.push(h)}}var f=this.morphNormals[e];a.vertices=this.morphTargets[e].vertices;a.computeFaceNormals();a.computeVertexNormals();var l,h;for(i=0,r=this.faces.length;i<r;i++){n=this.faces[i];l=f.faceNormals[i];h=f.vertexNormals[i];l.copy(n.normal);if(n instanceof THREE.Face3){h.a.copy(n.vertexNormals[0]);h.b.copy(n.vertexNormals[1]);h.c.copy(n.vertexNormals[2])}else{h.a.copy(n.vertexNormals[0]);h.b.copy(n.vertexNormals[1]);h.c.copy(n.vertexNormals[2]);h.d.copy(n.vertexNormals[3])}}}for(i=0,r=this.faces.length;i<r;i++){n=this.faces[i];n.normal=n.__originalFaceNormal;n.vertexNormals=n.__originalVertexNormals}},computeTangents:function(){var e,t,i,r,n,F,a,o,s,l,h,f,c,u,d,p,m,E,g,v,T,y,_,R,x,b,H,w,M=[],S=[],A=new THREE.Vector3,C=new THREE.Vector3,D=new THREE.Vector3,P=new THREE.Vector3,L=new THREE.Vector3,U;for(i=0,r=this.vertices.length;i<r;i++){M[i]=new THREE.Vector3;S[i]=new THREE.Vector3}function N(e,t,i,r,n,a,o){l=e.vertices[t];h=e.vertices[i];f=e.vertices[r];c=s[n];u=s[a];d=s[o];p=h.x-l.x;m=f.x-l.x;E=h.y-l.y;g=f.y-l.y;v=h.z-l.z;T=f.z-l.z;y=u.x-c.x;_=d.x-c.x;R=u.y-c.y;x=d.y-c.y;b=1/(y*x-_*R);A.set((x*p-R*m)*b,(x*E-R*g)*b,(x*v-R*T)*b);C.set((y*m-_*p)*b,(y*g-_*E)*b,(y*T-_*v)*b);M[t].add(A);M[i].add(A);M[r].add(A);S[t].add(C);S[i].add(C);S[r].add(C)}for(e=0,t=this.faces.length;e<t;e++){o=this.faces[e];s=this.faceVertexUvs[0][e];if(o instanceof THREE.Face3){N(this,o.a,o.b,o.c,0,1,2)}else if(o instanceof THREE.Face4){N(this,o.a,o.b,o.d,0,1,3);N(this,o.b,o.c,o.d,1,2,3)}}var O=["a","b","c","d"];for(e=0,t=this.faces.length;e<t;e++){o=this.faces[e];for(n=0;n<o.vertexNormals.length;n++){L.copy(o.vertexNormals[n]);a=o[O[n]];H=M[a];D.copy(H);D.sub(L.multiplyScalar(L.dot(H))).normalize();P.crossVectors(o.vertexNormals[n],H);w=P.dot(S[a]);U=w<0?-1:1;o.vertexTangents[n]=new THREE.Vector4(D.x,D.y,D.z,U)}}this.hasTangents=true},computeLineDistances:function(){var e=0;var t=this.vertices;for(var i=0,r=t.length;i<r;i++){if(i>0){e+=t[i].distanceTo(t[i-1])}this.lineDistances[i]=e}},computeBoundingBox:function(){if(this.boundingBox===null){this.boundingBox=new THREE.Box3;if(!this.boundingBox_list)this.boundingBox_list=[this.boundingBox]}this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){if(this.boundingSphere===null){this.boundingSphere=new THREE.Sphere}this.boundingSphere.setFromCenterAndPoints(this.boundingSphere.center,this.vertices)},mergeVertices:function(){var e={};var t=[],i=[];var r,n;var a=4;var o=Math.pow(10,a);var s,l,h;var f,c,u,d,p;this.__tmpVertices=undefined;for(s=0,l=this.vertices.length;s<l;s++){r=this.vertices[s];n=[Math.round(r.x*o),Math.round(r.y*o),Math.round(r.z*o)].join("_");if(e[n]===undefined){e[n]=s;t.push(this.vertices[s]);i[s]=t.length-1}else{i[s]=i[e[n]]}}var m=[];for(s=0,l=this.faces.length;s<l;s++){h=this.faces[s];if(h instanceof THREE.Face3){h.a=i[h.a];h.b=i[h.b];h.c=i[h.c];f=[h.a,h.b,h.c];var E=-1;for(var g=0;g<3;g++){if(f[g]==f[(g+1)%3]){E=g;m.push(s);break}}}else if(h instanceof THREE.Face4){h.a=i[h.a];h.b=i[h.b];h.c=i[h.c];h.d=i[h.d];f=[h.a,h.b,h.c,h.d];var E=-1;for(var g=0;g<4;g++){if(f[g]==f[(g+1)%4]){if(E>=0){m.push(s)}E=g}}if(E>=0){f.splice(E,1);var v=new THREE.Face3(f[0],f[1],f[2],h.normal,h.color,h.materialIndex);for(u=0,d=this.faceVertexUvs.length;u<d;u++){p=this.faceVertexUvs[u][s];if(p){p.splice(E,1)}}if(h.vertexNormals&&h.vertexNormals.length>0){v.vertexNormals=h.vertexNormals;v.vertexNormals.splice(E,1)}if(h.vertexColors&&h.vertexColors.length>0){v.vertexColors=h.vertexColors;v.vertexColors.splice(E,1)}this.faces[s]=v}}}for(s=m.length-1;s>=0;s--){this.faces.splice(s,1);for(u=0,d=this.faceVertexUvs.length;u<d;u++){this.faceVertexUvs[u].splice(s,1)}}var T=this.vertices.length-t.length;this.vertices=t;return T},clone:function(){var e=new THREE.Geometry;var t=this.vertices;for(var i=0,r=t.length;i<r;i++){e.vertices.push(t[i].clone())}var n=this.faces;for(var i=0,r=n.length;i<r;i++){e.faces.push(n[i].clone())}var a=this.faceVertexUvs[0];for(var i=0,r=a.length;i<r;i++){var o=a[i],s=[];for(var l=0,h=o.length;l<h;l++){s.push(new THREE.Vector2(o[l].x,o[l].y))}e.faceVertexUvs[0].push(s)}return e},dispose:function(){this.dispatchEvent({type:"dispose"})}};THREE.EventDispatcher.prototype.apply(THREE.Geometry.prototype);THREE.GeometryIdCount=0;THREE.BufferGeometry=function(){this.id=THREE.GeometryIdCount++;this.attributes={};this.dynamic=false;this.offsets=[];this.boundingBox=null;this.boundingSphere=null;this.hasTangents=false;this.morphTargets=[]};THREE.BufferGeometry.prototype={constructor:THREE.BufferGeometry,applyMatrix:function(e){var t;var i;if(this.attributes["position"])t=this.attributes["position"].array;if(this.attributes["normal"])i=this.attributes["normal"].array;if(t!==undefined){e.multiplyVector3Array(t);this.verticesNeedUpdate=true}if(i!==undefined){var r=(new THREE.Matrix3).getNormalMatrix(e);r.multiplyVector3Array(i);this.normalizeNormals();this.normalsNeedUpdate=true}},computeBoundingBox:function(){if(this.boundingBox===null){this.boundingBox=new THREE.Box3}var e=this.attributes["position"].array;if(e){var t=this.boundingBox;var i,r,n;if(e.length>=3){t.min.x=t.max.x=e[0];t.min.y=t.max.y=e[1];t.min.z=t.max.z=e[2]}for(var a=3,o=e.length;a<o;a+=3){i=e[a];r=e[a+1];n=e[a+2];if(i<t.min.x){t.min.x=i}else if(i>t.max.x){t.max.x=i}if(r<t.min.y){t.min.y=r}else if(r>t.max.y){t.max.y=r}if(n<t.min.z){t.min.z=n}else if(n>t.max.z){t.max.z=n}}}if(e===undefined||e.length===0){this.boundingBox.min.set(0,0,0);this.boundingBox.max.set(0,0,0)}},computeBoundingSphere:function(){if(this.boundingSphere===null){this.boundingSphere=new THREE.Sphere}var e=this.attributes["position"].array;if(e){var t,i=0;var r,n,a;for(var o=0,s=e.length;o<s;o+=3){r=e[o];n=e[o+1];a=e[o+2];t=r*r+n*n+a*a;if(t>i)i=t}this.boundingSphere.radius=Math.sqrt(i)}},computeVertexNormals:function(){if(this.attributes["position"]){var e,t;var i,r;var n=this.attributes["position"].array.length;if(this.attributes["normal"]===undefined){this.attributes["normal"]={itemSize:3,array:new Float32Array(n),numItems:n}}else{for(e=0,t=this.attributes["normal"].array.length;e<t;e++){this.attributes["normal"].array[e]=0}}var a=this.attributes["position"].array;var o=this.attributes["normal"].array;var s,l,h,f,c,u,d=new THREE.Vector3,p=new THREE.Vector3,m=new THREE.Vector3,E=new THREE.Vector3,g=new THREE.Vector3;if(this.attributes["index"]){var v=this.attributes["index"].array;var T=this.offsets;for(i=0,r=T.length;i<r;++i){var y=T[i].start;var _=T[i].count;var R=T[i].index;for(e=y,t=y+_;e<t;e+=3){s=R+v[e];l=R+v[e+1];h=R+v[e+2];f=a[s*3];c=a[s*3+1];u=a[s*3+2];d.set(f,c,u);f=a[l*3];c=a[l*3+1];u=a[l*3+2];p.set(f,c,u);f=a[h*3];c=a[h*3+1];u=a[h*3+2];m.set(f,c,u);E.subVectors(m,p);g.subVectors(d,p);E.cross(g);o[s*3]+=E.x;o[s*3+1]+=E.y;o[s*3+2]+=E.z;o[l*3]+=E.x;o[l*3+1]+=E.y;o[l*3+2]+=E.z;o[h*3]+=E.x;o[h*3+1]+=E.y;o[h*3+2]+=E.z}}}else{for(e=0,t=a.length;e<t;e+=9){f=a[e];c=a[e+1];u=a[e+2];d.set(f,c,u);f=a[e+3];c=a[e+4];u=a[e+5];p.set(f,c,u);f=a[e+6];c=a[e+7];u=a[e+8];m.set(f,c,u);E.subVectors(m,p);g.subVectors(d,p);E.cross(g);o[e]=E.x;o[e+1]=E.y;o[e+2]=E.z;o[e+3]=E.x;o[e+4]=E.y;o[e+5]=E.z;o[e+6]=E.x;o[e+7]=E.y;o[e+8]=E.z}}this.normalizeNormals();this.normalsNeedUpdate=true}},normalizeNormals:function(){var e=this.attributes["normal"].array;var t,i,r,n;for(var a=0,o=e.length;a<o;a+=3){t=e[a];i=e[a+1];r=e[a+2];n=1/Math.sqrt(t*t+i*i+r*r);e[a]*=n;e[a+1]*=n;e[a+2]*=n}},computeTangents:function(){var e=this.attributes["index"].array;var r=this.attributes["position"].array;var t=this.attributes["normal"].array;var n=this.attributes["uv"].array;var F=r.length/3;if(this.attributes["tangent"]===undefined){var O=4*F;this.attributes["tangent"]={itemSize:4,array:new Float32Array(O),numItems:O}}var i=this.attributes["tangent"].array;var a=[],o=[];for(var s=0;s<F;s++){a[s]=new THREE.Vector3;o[s]=new THREE.Vector3}var l,h,f,z,I,V,k,B,j,c,u,G,W,X,q,d,p,m,Y,$,K,E,g,v,T,y;var _=new THREE.Vector3,R=new THREE.Vector3;function Q(e,t,i){l=r[e*3];h=r[e*3+1];f=r[e*3+2];z=r[t*3];I=r[t*3+1];V=r[t*3+2];k=r[i*3];B=r[i*3+1];j=r[i*3+2];c=n[e*2];u=n[e*2+1];G=n[t*2];W=n[t*2+1];X=n[i*2];q=n[i*2+1];d=z-l;p=k-l;m=I-h;Y=B-h;$=V-f;K=j-f;E=G-c;g=X-c;v=W-u;T=q-u;y=1/(E*T-g*v);_.set((T*d-v*p)*y,(T*m-v*Y)*y,(T*$-v*K)*y);R.set((E*p-g*d)*y,(E*Y-g*m)*y,(E*K-g*$)*y);a[e].add(_);a[t].add(_);a[i].add(_);o[e].add(R);o[t].add(R);o[i].add(R)}var x,b;var H,w;var M,S,A;var C=this.offsets;for(H=0,w=C.length;H<w;++H){var D=C[H].start;var Z=C[H].count;var P=C[H].index;for(x=D,b=D+Z;x<b;x+=3){M=P+e[x];S=P+e[x+1];A=P+e[x+2];Q(M,S,A)}}var L=new THREE.Vector3,J=new THREE.Vector3;var U=new THREE.Vector3,ee=new THREE.Vector3;var te,N,ie;function re(e){U.x=t[e*3];U.y=t[e*3+1];U.z=t[e*3+2];ee.copy(U);N=a[e];L.copy(N);L.sub(U.multiplyScalar(U.dot(N))).normalize();J.crossVectors(ee,N);ie=J.dot(o[e]);te=ie<0?-1:1;i[e*4]=L.x;i[e*4+1]=L.y;i[e*4+2]=L.z;i[e*4+3]=te}for(H=0,w=C.length;H<w;++H){var D=C[H].start;var Z=C[H].count;var P=C[H].index;for(x=D,b=D+Z;x<b;x+=3){M=P+e[x];S=P+e[x+1];A=P+e[x+2];re(M);re(S);re(A)}}this.hasTangents=true;this.tangentsNeedUpdate=true},dispose:function(){this.dispatchEvent({type:"dispose"})}};THREE.EventDispatcher.prototype.apply(THREE.BufferGeometry.prototype);THREE.Camera=function(){THREE.Object3D.call(this);this.matrixWorldInverse=new THREE.Matrix4;this.projectionMatrix=new THREE.Matrix4;this.projectionMatrixInverse=new THREE.Matrix4};THREE.Camera.prototype=Object.create(THREE.Object3D.prototype);THREE.Camera.prototype.lookAt=function(){var t=new THREE.Matrix4;return function(e){t.lookAt(this.position,e,this.up);this._lookAt.copy(e);if(this.useQuaternion===true){this.quaternion.setFromRotationMatrix(t)}else{this.rotation.setEulerFromRotationMatrix(t,this.eulerOrder)}}}();THREE.OrthographicCamera=function(e,t,i,r,n,a){THREE.Camera.call(this);this.left=e;this.right=t;this.top=i;this.bottom=r;this.near=n!==undefined?n:.1;this.far=a!==undefined?a:2e3;this.updateProjectionMatrix()};THREE.OrthographicCamera.prototype=Object.create(THREE.Camera.prototype);THREE.OrthographicCamera.prototype.updateProjectionMatrix=function(){this.projectionMatrix.makeOrthographic(this.left,this.right,this.top,this.bottom,this.near,this.far)};THREE.PerspectiveCamera=function(e,t,i,r){THREE.Camera.call(this);this.fov=e!==undefined?e:50;this.aspect=t!==undefined?t:1;this.near=i!==undefined?i:.1;this.far=r!==undefined?r:2e3;this.updateProjectionMatrix()};THREE.PerspectiveCamera.prototype=Object.create(THREE.Camera.prototype);THREE.PerspectiveCamera.prototype.setLens=function(e,t){if(t===undefined)t=24;this.fov=2*THREE.Math.radToDeg(Math.atan(t/(e*2)));this.updateProjectionMatrix()};THREE.PerspectiveCamera.prototype.setViewOffset=function(e,t,i,r,n,a){this.fullWidth=e;this.fullHeight=t;this.x=i;this.y=r;this.width=n;this.height=a;this.updateProjectionMatrix()};THREE.PerspectiveCamera.prototype.updateProjectionMatrix=function(){if(this.fullWidth){var e=this.fullWidth/this.fullHeight;var t=Math.tan(THREE.Math.degToRad(this.fov*.5))*this.near;var i=-t;var r=e*i;var n=e*t;var a=Math.abs(n-r);var o=Math.abs(t-i);this.projectionMatrix.makeFrustum(r+this.x*a/this.fullWidth,r+(this.x+this.width)*a/this.fullWidth,t-(this.y+this.height)*o/this.fullHeight,t-this.y*o/this.fullHeight,this.near,this.far)}else{this.projectionMatrix.makePerspective(this.fov,this.aspect,this.near,this.far)}};THREE.Light=function(e){THREE.Object3D.call(this);this.color=new THREE.Color(e||16777215)};THREE.Light.prototype=Object.create(THREE.Object3D.prototype);THREE.Light.prototype.clone=function(e){if(e===undefined)e=new THREE.Light;THREE.Object3D.prototype.clone.call(this,e);e.color.copy(this.color);return e};THREE.AmbientLight=function(e){if(typeof e==="object")e=e.color;THREE.Light.call(this,e)};THREE.AmbientLight.prototype=Object.create(THREE.Light.prototype);THREE.AmbientLight.prototype.clone=function(){var e=new THREE.AmbientLight;THREE.Light.prototype.clone.call(this,e);return e};THREE.AreaLight=function(e,t){if(typeof e==="object"){t=e.intensity;e=e.color}THREE.Light.call(this,e);this.normal=new THREE.Vector3(0,-1,0);this.right=new THREE.Vector3(1,0,0);this.intensity=t!==undefined?t:1;this.width=1;this.height=1;this.constantAttenuation=1.5;this.linearAttenuation=.5;this.quadraticAttenuation=.1};THREE.AreaLight.prototype=Object.create(THREE.Light.prototype);THREE.DirectionalLight=function(e,t){if(typeof e==="object"){t=e.intensity;e=e.color}THREE.Light.call(this,e);this.position.set(0,1,0);this.target=new THREE.Object3D;this.target.position=this._lookAt;this.intensity=t!==undefined?t:1;this.castShadow=false;this.onlyShadow=false;this.shadowCameraNear=50;this.shadowCameraFar=5e3;this.shadowCameraLeft=-500;this.shadowCameraRight=500;this.shadowCameraTop=500;this.shadowCameraBottom=-500;this.shadowCameraVisible=false;this.shadowBias=0;this.shadowDarkness=.5;this.shadowMapWidth=512;this.shadowMapHeight=512;this.shadowBias_range=[.1,100];this.shadowCascade=false;this.shadowCascadeOffset=new THREE.Vector3(0,0,-1e3);this.shadowCascadeCount=2;this.shadowCascadeBias=[0,0,0];this.shadowCascadeWidth=[512,512,512];this.shadowCascadeHeight=[512,512,512];this.shadowCascadeNearZ=[-1,.99,.998];this.shadowCascadeFarZ=[.99,.998,1];this.shadowCascadeArray=[];this.shadowMap=null;this.shadowMapSize=null;this.shadowCamera=null;this.shadowMatrix=null};THREE.DirectionalLight.prototype=Object.create(THREE.Light.prototype);THREE.DirectionalLight.prototype.clone=function(){var e=new THREE.DirectionalLight;THREE.Light.prototype.clone.call(this,e);e.target=this.target.clone();e.target.position=e._lookAt;e.intensity=this.intensity;e.castShadow=this.castShadow;e.onlyShadow=this.onlyShadow;return e};THREE.HemisphereLight=function(e,t,i){if(typeof e==="object"){i=e.intensity;t=e.ground;e=e.sky}THREE.Light.call(this,e);this.sky=this.color;this.position.set(0,100,0);this.ground=this.groundColor=new THREE.Color(t);this.intensity=i!==undefined?i:1};THREE.HemisphereLight.prototype=Object.create(THREE.Light.prototype);THREE.HemisphereLight.prototype.clone=function(){var e=new THREE.HemisphereLight;THREE.Light.prototype.clone.call(this,e);e.groundColor.copy(this.groundColor);e.intensity=this.intensity;return e};THREE.PointLight=function(e,t,i){if(typeof e==="object"){t=e.intensity;i=e.distance;e=e.color}THREE.Light.call(this,e);this.intensity=t!==undefined?t:1;this.distance=i!==undefined?i:0};THREE.PointLight.prototype=Object.create(THREE.Light.prototype);THREE.PointLight.prototype.clone=function(){var e=new THREE.PointLight;THREE.Light.prototype.clone.call(this,e);e.intensity=this.intensity;e.distance=this.distance;return e};THREE.SpotLight=function(e,t,i,r,n){if(typeof e==="object"){t=e.intensity;i=e.distance;r=e.angle;n=e.exponent;e=e.color}THREE.Light.call(this,e);this.position.set(0,1,0);this.target=new THREE.Object3D;this.target.position=this._lookAt;this.intensity=t!==undefined?t:1;this.distance=i!==undefined?i:0;this.angle=r!==undefined?r:Math.PI/3;this.exponent=n!==undefined?n:10;this.castShadow=false;this.onlyShadow=false;this.shadowCameraNear=50;this.shadowCameraFar=5e3;this.shadowCameraFov=50;this.shadowCameraVisible=false;this.shadowBias=0;this.shadowDarkness=.5;this.shadowMapWidth=512;this.shadowMapHeight=512;this.shadowMap=null;this.shadowMapSize=null;this.shadowCamera=null;this.shadowMatrix=null};THREE.SpotLight.prototype=Object.create(THREE.Light.prototype);THREE.SpotLight.prototype.clone=function(){var e=new THREE.SpotLight;THREE.Light.prototype.clone.call(this,e);e.target=this.target.clone();e.target.position=e._lookAt;e.intensity=this.intensity;e.distance=this.distance;e.angle=this.angle;e.exponent=this.exponent;e.castShadow=this.castShadow;e.onlyShadow=this.onlyShadow;return e};THREE.ImageLoader=function(){this.crossOrigin=null};THREE.ImageLoader.prototype={constructor:THREE.ImageLoader,load:function(i,c){var r=this;if(c===undefined)c=new Image;c.addEventListener("load",function(){var t;if(self.MMD_SA){let e=c._texture_resolution_limit||MMD_SA_options.texture_resolution_limit;if(c.width>e||c.height>e){t=document.createElement("canvas");t.width=Math.min(e,c.width);t.height=Math.min(e,c.height);t.getContext("2d").drawImage(c,0,0,t.width,t.height)}}if(!t)t=c;r.dispatchEvent({type:"load",content:t})},false);c.addEventListener("error",function(){r.dispatchEvent({type:"error",message:"Couldn't load URL ["+i+"]"})},false);if(/^(tga|TGA)/.test(i.split(".").pop())){var t=new THREE.TGA;t.open(i,function(){delete c.crossOrigin;c.src=t.getDataURL();t=null},function(){var e=document.createEvent("HTMLEvents");e.initEvent("error",false,true);c.dispatchEvent(e);t=null})}else{if(!/^data:image/.test(i))c.crossOrigin="anonymous";if(!/^(data|blob)\:/.test(i)||/\.zip\#/i.test(toLocalPath(i))){let e=new XMLHttpRequestZIP;e.onload=function(){var h=URL.createObjectURL(this.response);if(/^(.+)\.jpga\.jpg$/i.test(i)){var t=RegExp.$1+".alpha.png";console.log("Use JPG alpha - "+t);var f=new Image;f.addEventListener("load",function(){URL.revokeObjectURL(h);var e=new XMLHttpRequestZIP;e.onload=function(){h=URL.createObjectURL(this.response);var l=new Image;l.addEventListener("load",function(){URL.revokeObjectURL(h);var t=document.createElement("canvas");var i=t.getContext("2d");t.width=l.width;t.height=l.height;i.drawImage(l,0,0);var e=i.getImageData(0,0,t.width,t.height);var r=new Uint32Array(e.data.buffer);var n=0,a=r.length;while(n<a){r[n]=r[n++]<<8}i.putImageData(e,0,0);e=r=null;var o=document.createElement("canvas");o.width=f.width;o.height=f.height;var s=o.getContext("2d");s.drawImage(f,0,0);s.globalCompositeOperation="destination-in";s.drawImage(t,0,0);o.toBlob(function(e){h=URL.createObjectURL(e);c.addEventListener("load",function(){URL.revokeObjectURL(h)});c.src=h;f=l=null;t.width=t.height=o.width=o.height=0;t=i=o=s=null})});l.src=h;this.response=e=null};e.open("GET",t,true);e.responseType="blob";e.send()});f.src=h}else{c.addEventListener("load",function(){URL.revokeObjectURL(h)});c.src=h}this.response=e=null};e.onerror=function(){var e=document.createElement("canvas");e.width=e.height=1;var t=e.getContext("2d");t.fillStyle="white";t.fillRect(0,0,1,1);r.dispatchEvent({type:"load",content:e})};e.open("GET",i,true);e.responseType="blob";e.send()}else c.src=i}}};THREE.EventDispatcher.prototype.apply(THREE.ImageLoader.prototype);THREE.Material=function(){this.id=THREE.MaterialIdCount++;this.name="";this.side=THREE.FrontSide;this.opacity=1;this.transparent=true;this.blending=THREE.NormalBlending;this.blendSrc=THREE.SrcAlphaFactor;this.blendDst=THREE.OneMinusSrcAlphaFactor;this.blendEquation=THREE.AddEquation;this.depthTest=true;this.depthWrite=true;this.polygonOffset=false;this.polygonOffsetFactor=0;this.polygonOffsetUnits=0;this.alphaTest=0;this.overdraw=false;this.visible=true;this.needsUpdate=true;this.userData={}};THREE.Material.prototype={constructor:THREE.Material,setValues:function(e){if(e===undefined)return;for(var t in e){var i=e[t];if(t in this){var r=this[t];if(r instanceof THREE.Color){r.set(i)}else if(r instanceof THREE.Vector3&&i instanceof THREE.Vector3){r.copy(i)}else{this[t]=i}}}},clone:function(e){if(e===undefined)e=new THREE.Material;e.name=this.name;e.side=this.side;e.opacity=this.opacity;e.transparent=this.transparent;e.blending=this.blending;e.blendSrc=this.blendSrc;e.blendDst=this.blendDst;e.blendEquation=this.blendEquation;e.depthTest=this.depthTest;e.depthWrite=this.depthWrite;e.polygonOffset=this.polygonOffset;e.polygonOffsetFactor=this.polygonOffsetFactor;e.polygonOffsetUnits=this.polygonOffsetUnits;e.alphaTest=this.alphaTest;e.overdraw=this.overdraw;e.visible=this.visible;e.offset=this.offset&&this.offset.clone();e.repeat=this.repeat&&this.repeat.clone();if("uniTexture"in this)e.uniTexture=this.uniTexture;return e},dispose:function(){this.dispatchEvent({type:"dispose"})}};THREE.EventDispatcher.prototype.apply(THREE.Material.prototype);THREE.MaterialIdCount=0;THREE.LineBasicMaterial=function(e){THREE.Material.call(this);this.color=new THREE.Color(16777215);this.linewidth=1;this.linecap="round";this.linejoin="round";this.vertexColors=false;this.fog=true;this.setValues(e)};THREE.LineBasicMaterial.prototype=Object.create(THREE.Material.prototype);THREE.LineBasicMaterial.prototype.clone=function(){var e=new THREE.LineBasicMaterial;THREE.Material.prototype.clone.call(this,e);e.color.copy(this.color);e.linewidth=this.linewidth;e.linecap=this.linecap;e.linejoin=this.linejoin;e.vertexColors=this.vertexColors;e.fog=this.fog;return e};THREE.LineDashedMaterial=function(e){THREE.Material.call(this);this.color=new THREE.Color(16777215);this.linewidth=1;this.scale=1;this.dashSize=3;this.gapSize=1;this.vertexColors=false;this.fog=true;this.setValues(e)};THREE.LineDashedMaterial.prototype=Object.create(THREE.Material.prototype);THREE.LineDashedMaterial.prototype.clone=function(){var e=new THREE.LineDashedMaterial;THREE.Material.prototype.clone.call(this,e);e.color.copy(this.color);e.linewidth=this.linewidth;e.scale=this.scale;e.dashSize=this.dashSize;e.gapSize=this.gapSize;e.vertexColors=this.vertexColors;e.fog=this.fog;return e};THREE.MeshBasicMaterial=function(e){THREE.Material.call(this);this.color=new THREE.Color(16777215);this.map=null;this.lightMap=null;this.specularMap=null;this.envMap=null;this.combine=THREE.MultiplyOperation;this.reflectivity=1;this.refractionRatio=.98;this.fog=true;this.shading=THREE.SmoothShading;this.wireframe=false;this.wireframeLinewidth=1;this.wireframeLinecap="round";this.wireframeLinejoin="round";this.vertexColors=THREE.NoColors;this.skinning=false;this.morphTargets=false;this.setValues(e)};THREE.MeshBasicMaterial.prototype=Object.create(THREE.Material.prototype);THREE.MeshBasicMaterial.prototype.clone=function(){var e=new THREE.MeshBasicMaterial;THREE.Material.prototype.clone.call(this,e);e.color.copy(this.color);e.map=this.map;e.lightMap=this.lightMap;e.specularMap=this.specularMap;e.envMap=this.envMap;e.combine=this.combine;e.reflectivity=this.reflectivity;e.refractionRatio=this.refractionRatio;e.fog=this.fog;e.shading=this.shading;e.wireframe=this.wireframe;e.wireframeLinewidth=this.wireframeLinewidth;e.wireframeLinecap=this.wireframeLinecap;e.wireframeLinejoin=this.wireframeLinejoin;e.vertexColors=this.vertexColors;e.skinning=this.skinning;e.morphTargets=this.morphTargets;return e};THREE.MeshLambertMaterial=function(e){THREE.Material.call(this);this.color=new THREE.Color(16777215);this.ambient=new THREE.Color(16777215);this.emissive=new THREE.Color(0);this.wrapAround=false;this.wrapRGB=new THREE.Vector3(1,1,1);this.map=null;this.lightMap=null;this.specularMap=null;this.envMap=null;this.combine=THREE.MultiplyOperation;this.reflectivity=1;this.refractionRatio=.98;this.fog=true;this.shading=THREE.SmoothShading;this.wireframe=false;this.wireframeLinewidth=1;this.wireframeLinecap="round";this.wireframeLinejoin="round";this.vertexColors=THREE.NoColors;this.skinning=false;this.morphTargets=false;this.morphNormals=false;this.setValues(e)};THREE.MeshLambertMaterial.prototype=Object.create(THREE.Material.prototype);THREE.MeshLambertMaterial.prototype.clone=function(){var e=new THREE.MeshLambertMaterial;THREE.Material.prototype.clone.call(this,e);e.color.copy(this.color);e.ambient.copy(this.ambient);e.emissive.copy(this.emissive);e.wrapAround=this.wrapAround;e.wrapRGB.copy(this.wrapRGB);e.map=this.map;e.lightMap=this.lightMap;e.specularMap=this.specularMap;e.envMap=this.envMap;e.combine=this.combine;e.reflectivity=this.reflectivity;e.refractionRatio=this.refractionRatio;e.fog=this.fog;e.shading=this.shading;e.wireframe=this.wireframe;e.wireframeLinewidth=this.wireframeLinewidth;e.wireframeLinecap=this.wireframeLinecap;e.wireframeLinejoin=this.wireframeLinejoin;e.vertexColors=this.vertexColors;e.skinning=this.skinning;e.morphTargets=this.morphTargets;e.morphNormals=this.morphNormals;return e};THREE.MeshPhongMaterial=function(e){THREE.Material.call(this);this.color=new THREE.Color(16777215);this.ambient=new THREE.Color(16777215);this.emissive=new THREE.Color(0);this.specular=new THREE.Color(1118481);this.shininess=30;this.metal=false;this.perPixel=true;this.wrapAround=false;this.wrapRGB=new THREE.Vector3(1,1,1);this.map=null;this.lightMap=null;this.bumpMap=null;this.bumpScale=1;this.displacementMap=null;this.uDisplacementBias=0;this.uDisplacementScale=1;this.uDisplacementCustomUVScale=0;this.uDisplacementCustomUVOffset=new THREE.Vector2(0,0);this.edgeRotateDisplacementL=0;this.edgeRotateDisplacementR=0;this.edgeScaleDisplacementU=1;this.waveBaseSpeed=null;this.waveNoiseTexture=null;this.waveNoiseScale=.5337;this.waveBumpScale=5;this.mirrorTextureIndex=null;this.normalMap=null;this.normalScale=new THREE.Vector2(1,1);this.specularMap=null;this.envMap=null;this.combine=THREE.MultiplyOperation;this.reflectivity=1;this.refractionRatio=.98;this.fog=true;this.shading=THREE.SmoothShading;this.wireframe=false;this.wireframeLinewidth=1;this.wireframeLinecap="round";this.wireframeLinejoin="round";this.vertexColors=THREE.NoColors;this.skinning=false;this.morphTargets=false;this.morphNormals=false;this.setValues(e)};THREE.MeshPhongMaterial.prototype=Object.create(THREE.Material.prototype);THREE.MeshPhongMaterial.prototype.clone=function(){var e=new THREE.MeshPhongMaterial;THREE.Material.prototype.clone.call(this,e);e.color.copy(this.color);e.ambient.copy(this.ambient);e.emissive.copy(this.emissive);e.specular.copy(this.specular);e.shininess=this.shininess;e.metal=this.metal;e.perPixel=this.perPixel;e.wrapAround=this.wrapAround;e.wrapRGB.copy(this.wrapRGB);e.map=this.map;e.lightMap=this.lightMap;e.bumpMap=this.bumpMap;e.bumpScale=this.bumpScale;e.displacementMap=this.displacementMap;e.uDisplacementBias=this.uDisplacementBias;e.uDisplacementScale=this.uDisplacementScale;e.uDisplacementCustomUVScale=this.uDisplacementCustomUVScale;e.uDisplacementCustomUVOffset.copy(this.uDisplacementCustomUVOffset);e.edgeRotateDisplacementL=this.edgeRotateDisplacementL;e.edgeRotateDisplacementR=this.edgeRotateDisplacementR;e.edgeScaleDisplacementU=this.edgeScaleDisplacementU;e.waveBaseSpeed=this.waveBaseSpeed;e.waveNoiseTexture=this.waveNoiseTexture;e.waveNoiseScale=this.waveNoiseScale;e.waveBumpScale=this.waveBumpScale;e.mirrorTextureIndex=this.mirrorTextureIndex;e.normalMap=this.normalMap;e.normalScale.copy(this.normalScale);e.specularMap=this.specularMap;e.envMap=this.envMap;e.combine=this.combine;e.reflectivity=this.reflectivity;e.refractionRatio=this.refractionRatio;e.fog=this.fog;e.shading=this.shading;e.wireframe=this.wireframe;e.wireframeLinewidth=this.wireframeLinewidth;e.wireframeLinecap=this.wireframeLinecap;e.wireframeLinejoin=this.wireframeLinejoin;e.vertexColors=this.vertexColors;e.skinning=this.skinning;e.morphTargets=this.morphTargets;e.morphNormals=this.morphNormals;return e};THREE.MeshDepthMaterial=function(e){THREE.Material.call(this);this.wireframe=false;this.wireframeLinewidth=1;this.setValues(e)};THREE.MeshDepthMaterial.prototype=Object.create(THREE.Material.prototype);THREE.MeshDepthMaterial.prototype.clone=function(){var e=new THREE.MeshDepthMaterial;THREE.Material.prototype.clone.call(this,e);e.wireframe=this.wireframe;e.wireframeLinewidth=this.wireframeLinewidth;return e};THREE.MeshNormalMaterial=function(e){THREE.Material.call(this,e);this.shading=THREE.FlatShading;this.wireframe=false;this.wireframeLinewidth=1;this.morphTargets=false;this.setValues(e)};THREE.MeshNormalMaterial.prototype=Object.create(THREE.Material.prototype);THREE.MeshNormalMaterial.prototype.clone=function(){var e=new THREE.MeshNormalMaterial;THREE.Material.prototype.clone.call(this,e);e.shading=this.shading;e.wireframe=this.wireframe;e.wireframeLinewidth=this.wireframeLinewidth;return e};THREE.MeshFaceMaterial=function(e){this.materials=e instanceof Array?e:[]};THREE.MeshFaceMaterial.prototype.clone=function(){return new THREE.MeshFaceMaterial(this.materials.slice(0))};THREE.ParticleBasicMaterial=function(e){THREE.Material.call(this);this.color=new THREE.Color(16777215);this.map=null;this.size=1;this.sizeAttenuation=true;this.vertexColors=false;this.fog=true;this.setValues(e)};THREE.ParticleBasicMaterial.prototype=Object.create(THREE.Material.prototype);THREE.ParticleBasicMaterial.prototype.clone=function(){var e=new THREE.ParticleBasicMaterial;THREE.Material.prototype.clone.call(this,e);e.color.copy(this.color);e.map=this.map;e.size=this.size;e.sizeAttenuation=this.sizeAttenuation;e.vertexColors=this.vertexColors;e.fog=this.fog;return e};THREE.ParticleSystemMaterial=THREE.ParticleBasicMaterial;THREE.ShaderMaterial=function(e){THREE.Material.call(this);this.fragmentShader="void main() {}";this.vertexShader="void main() {}";this.uniforms={};this.defines={};this.attributes=null;this.shading=THREE.SmoothShading;this.linewidth=1;this.wireframe=false;this.wireframeLinewidth=1;this.fog=false;this.lights=false;this.vertexColors=THREE.NoColors;this.skinning=false;this.morphTargets=false;this.morphNormals=false;this.setValues(e)};THREE.ShaderMaterial.prototype=Object.create(THREE.Material.prototype);THREE.ShaderMaterial.prototype.clone=function(){var e=new THREE.ShaderMaterial;THREE.Material.prototype.clone.call(this,e);e.fragmentShader=this.fragmentShader;e.vertexShader=this.vertexShader;e.uniforms=THREE.UniformsUtils.clone(this.uniforms);e.attributes=this.attributes;e.defines=this.defines;e.shading=this.shading;e.wireframe=this.wireframe;e.wireframeLinewidth=this.wireframeLinewidth;e.fog=this.fog;e.lights=this.lights;e.vertexColors=this.vertexColors;e.skinning=this.skinning;e.morphTargets=this.morphTargets;e.morphNormals=this.morphNormals;return e};THREE.SpriteMaterial=function(e){THREE.Material.call(this);this.color=new THREE.Color(16777215);this.map=new THREE.Texture;this.useScreenCoordinates=true;this.depthTest=!this.useScreenCoordinates;this.sizeAttenuation=!this.useScreenCoordinates;this.scaleByViewport=!this.sizeAttenuation;this.alignment=THREE.SpriteAlignment.center.clone();this.fog=false;this.uvOffset=new THREE.Vector2(0,0);this.uvScale=new THREE.Vector2(1,1);this.setValues(e);e=e||{};if(e.depthTest===undefined)this.depthTest=!this.useScreenCoordinates;if(e.sizeAttenuation===undefined)this.sizeAttenuation=!this.useScreenCoordinates;if(e.scaleByViewport===undefined)this.scaleByViewport=!this.sizeAttenuation};THREE.SpriteMaterial.prototype=Object.create(THREE.Material.prototype);THREE.SpriteMaterial.prototype.clone=function(){var e=new THREE.SpriteMaterial;THREE.Material.prototype.clone.call(this,e);e.color.copy(this.color);e.map=this.map;e.useScreenCoordinates=this.useScreenCoordinates;e.sizeAttenuation=this.sizeAttenuation;e.scaleByViewport=this.scaleByViewport;e.alignment.copy(this.alignment);e.uvOffset.copy(this.uvOffset);e.uvScale.copy(this.uvScale);e.fog=this.fog;return e};THREE.SpriteAlignment={};THREE.SpriteAlignment.topLeft=new THREE.Vector2(1,-1);THREE.SpriteAlignment.topCenter=new THREE.Vector2(0,-1);THREE.SpriteAlignment.topRight=new THREE.Vector2(-1,-1);THREE.SpriteAlignment.centerLeft=new THREE.Vector2(1,0);THREE.SpriteAlignment.center=new THREE.Vector2(0,0);THREE.SpriteAlignment.centerRight=new THREE.Vector2(-1,0);THREE.SpriteAlignment.bottomLeft=new THREE.Vector2(1,1);THREE.SpriteAlignment.bottomCenter=new THREE.Vector2(0,1);THREE.SpriteAlignment.bottomRight=new THREE.Vector2(-1,1);THREE.Texture=function(e,t,i,r,n,a,o,s,l){this.id=THREE.TextureIdCount++;this.name="";this.image=e;this.mipmaps=[];this.mapping=t!==undefined?t:new THREE.UVMapping;this.wrapS=i!==undefined?i:THREE.ClampToEdgeWrapping;this.wrapT=r!==undefined?r:THREE.ClampToEdgeWrapping;this.magFilter=n!==undefined?n:THREE.LinearFilter;this.minFilter=a!==undefined?a:THREE.LinearMipMapLinearFilter;this.anisotropy=l!==undefined?l:1;this.format=o!==undefined?o:THREE.RGBAFormat;this.type=s!==undefined?s:THREE.UnsignedByteType;this.offset=new THREE.Vector2(0,0);this.repeat=new THREE.Vector2(1,1);this.generateMipmaps=true;this.premultiplyAlpha=false;this.flipY=true;this.unpackAlignment=4;this.needsUpdate=false;this.onUpdate=null};THREE.Texture.prototype={constructor:THREE.Texture,clone:function(e){if(e===undefined)e=new THREE.Texture;e.image=this.image;e.mipmaps=this.mipmaps.slice(0);e.mapping=this.mapping;e.wrapS=this.wrapS;e.wrapT=this.wrapT;e.magFilter=this.magFilter;e.minFilter=this.minFilter;e.anisotropy=this.anisotropy;e.format=this.format;e.type=this.type;e.offset.copy(this.offset);e.repeat.copy(this.repeat);e.generateMipmaps=this.generateMipmaps;e.premultiplyAlpha=this.premultiplyAlpha;e.flipY=this.flipY;e.unpackAlignment=this.unpackAlignment;return e},dispose:function(){this.dispatchEvent({type:"dispose"})}};THREE.EventDispatcher.prototype.apply(THREE.Texture.prototype);THREE.TextureIdCount=0;THREE.CompressedTexture=function(e,t,i,r,n,a,o,s,l,h,f){THREE.Texture.call(this,null,a,o,s,l,h,r,n,f);this.image={width:t,height:i};this.mipmaps=e;this.generateMipmaps=false};THREE.CompressedTexture.prototype=Object.create(THREE.Texture.prototype);THREE.CompressedTexture.prototype.clone=function(){var e=new THREE.CompressedTexture;THREE.Texture.prototype.clone.call(this,e);return e};THREE.DataTexture=function(e,t,i,r,n,a,o,s,l,h,f){THREE.Texture.call(this,null,a,o,s,l,h,r,n,f);this.image={data:e,width:t,height:i}};THREE.DataTexture.prototype=Object.create(THREE.Texture.prototype);THREE.DataTexture.prototype.clone=function(){var e=new THREE.DataTexture;THREE.Texture.prototype.clone.call(this,e);return e};THREE.Particle=function(e){THREE.Object3D.call(this);this.material=e};THREE.Particle.prototype=Object.create(THREE.Object3D.prototype);THREE.Particle.prototype.clone=function(e){if(e===undefined)e=new THREE.Particle(this.material);THREE.Object3D.prototype.clone.call(this,e);return e};THREE.ParticleSystem=function(e,t){THREE.Object3D.call(this);this.geometry=e;this.material=t!==undefined?t:new THREE.ParticleBasicMaterial({color:Math.random()*16777215});this.sortParticles=false;if(this.geometry){if(this.geometry.boundingSphere===null){this.geometry.computeBoundingSphere()}}this.frustumCulled=false};THREE.ParticleSystem.prototype=Object.create(THREE.Object3D.prototype);THREE.ParticleSystem.prototype.clone=function(e){if(e===undefined)e=new THREE.ParticleSystem(this.geometry,this.material);e.sortParticles=this.sortParticles;THREE.Object3D.prototype.clone.call(this,e);return e};THREE.Line=function(e,t,i){THREE.Object3D.call(this);this.geometry=e;this.material=t!==undefined?t:new THREE.LineBasicMaterial({color:Math.random()*16777215});this.type=i!==undefined?i:THREE.LineStrip;if(this.geometry){if(!this.geometry.boundingSphere){this.geometry.computeBoundingSphere()}}};THREE.LineStrip=0;THREE.LinePieces=1;THREE.Line.prototype=Object.create(THREE.Object3D.prototype);THREE.Line.prototype.clone=function(e){if(e===undefined)e=new THREE.Line(this.geometry,this.material,this.type);THREE.Object3D.prototype.clone.call(this,e);return e};THREE.Mesh=function(e,t){THREE.Object3D.call(this);this.geometry=null;this.material=null;this.setGeometry(e);this.setMaterial(t)};THREE.Mesh.prototype=Object.create(THREE.Object3D.prototype);THREE.Mesh.prototype.isMesh=true;THREE.Mesh.prototype.setGeometry=function(e){if(e!==undefined){this.geometry=e;if(this.geometry.boundingSphere===null){this.geometry.computeBoundingSphere()}this.updateMorphTargets()}};THREE.Mesh.prototype.setMaterial=function(e){if(e!==undefined){this.material=e}else{this.material=new THREE.MeshBasicMaterial({color:Math.random()*16777215,wireframe:true})}};THREE.Mesh.prototype.updateMorphTargets=function(){if(this.geometry.morphTargets.length>0){this.morphTargetBase=-1;this.morphTargetForcedOrder=[];this.morphTargetInfluences=[];this.morphTargetDictionary={};for(var e=0,t=this.geometry.morphTargets.length;e<t;e++){this.morphTargetInfluences.push(0);this.morphTargetDictionary[this.geometry.morphTargets[e].name]=e}}};THREE.Mesh.prototype.getMorphTargetIndexByName=function(e){if(this.morphTargetDictionary[e]!==undefined){return this.morphTargetDictionary[e]}return 0};THREE.Mesh.prototype.clone=function(e){if(e===undefined)e=new THREE.Mesh(this.geometry,this.material);THREE.Object3D.prototype.clone.call(this,e);return e};THREE.Bone=function(e){THREE.Object3D.call(this);this.skin=e;this.skinMatrix=new THREE.Matrix4};THREE.Bone.prototype=Object.create(THREE.Object3D.prototype);THREE.Bone.prototype.update=function(e,t){if(this.matrixAutoUpdate){t|=this.updateMatrix()}if(t||this.matrixWorldNeedsUpdate){if(e){this.skinMatrix.multiplyMatrices(e,this.matrix)}else{this.skinMatrix.copy(this.matrix)}this.matrixWorldNeedsUpdate=false;t=true}var i,r,n=this.children.length;for(r=0;r<n;r++){this.children[r].update(this.skinMatrix,t)}};THREE.Bone.prototype.isBone=true;THREE.SkinnedMesh=function(e,t,i){THREE.Mesh.call(this,e,t);this.useVertexTexture=i!==undefined?i:true;this.identityMatrix=new THREE.Matrix4;this.bones=[];this.boneMatrices=[];var r,n,a,o,s,l;if(this.geometry&&this.geometry.bones!==undefined){for(r=0;r<this.geometry.bones.length;r++){a=this.geometry.bones[r];o=a.pos;s=a.rotq;l=a.scl;n=this.addBone();n.name=a.name;n.position.set(o[0],o[1],o[2]);n.quaternion.set(s[0],s[1],s[2],s[3]);n.useQuaternion=true;if(l!==undefined){n.scale.set(l[0],l[1],l[2])}else{n.scale.set(1,1,1)}}for(r=0;r<this.bones.length;r++){a=this.geometry.bones[r];n=this.bones[r];if(a.parent===-1){this.add(n)}else{this.bones[a.parent].add(n)}}var h=this.bones.length;if(this.useVertexTexture){var f;if(h>256)f=64;else if(h>64)f=32;else if(h>16)f=16;else f=8;this.boneTextureWidth=f;this.boneTextureHeight=f;this.boneMatrices=new Float32Array(this.boneTextureWidth*this.boneTextureHeight*4);this.boneTexture=new THREE.DataTexture(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,THREE.RGBAFormat,THREE.FloatType);this.boneTexture.minFilter=THREE.NearestFilter;this.boneTexture.magFilter=THREE.NearestFilter;this.boneTexture.generateMipmaps=false;this.boneTexture.flipY=false}else{this.boneMatrices=new Float32Array(16*h)}this.pose()}};THREE.SkinnedMesh.prototype=Object.create(THREE.Mesh.prototype);THREE.SkinnedMesh.prototype.addBone=function(e){if(e===undefined){e=new THREE.Bone(this)}this.bones.push(e);return e};THREE.SkinnedMesh.prototype.updateMatrixWorld=function(e){this.matrixAutoUpdate&&this.updateMatrix();if(this.matrixWorldNeedsUpdate||e){if(this.parent){this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)}else{this.matrixWorld.copy(this.matrix)}this.matrixWorldNeedsUpdate=false;e=true}for(var t=0,i=this.children.length;t<i;t++){var r=this.children[t];if(r instanceof THREE.Bone){r.update(this.identityMatrix,false)}else{r.updateMatrixWorld(true)}}if(this.boneInverses==undefined){this.boneInverses=[];for(var n=0,a=this.bones.length;n<a;n++){var o=new THREE.Matrix4;o.getInverse(this.bones[n].skinMatrix);this.boneInverses.push(o)}}for(var n=0,a=this.bones.length;n<a;n++){THREE.SkinnedMesh.offsetMatrix.multiplyMatrices(this.bones[n].skinMatrix,this.boneInverses[n]);THREE.SkinnedMesh.offsetMatrix.flattenToArrayOffset(this.boneMatrices,n*16)}if(this.useVertexTexture){this.boneTexture.needsUpdate=true}};THREE.SkinnedMesh.prototype.pose=function(){this.updateMatrixWorld(true);for(var e=0;e<this.geometry.skinIndices.length;e++){var t=this.geometry.skinWeights[e];var i=1/t.lengthManhattan();if(i!==Infinity){t.multiplyScalar(i)}else{t.set(1)}}};THREE.SkinnedMesh.prototype.clone=function(e){if(e===undefined)e=new THREE.SkinnedMesh(this.geometry,this.material,this.useVertexTexture);THREE.Mesh.prototype.clone.call(this,e);return e};THREE.SkinnedMesh.offsetMatrix=new THREE.Matrix4;THREE.MorphAnimMesh=function(e,t){THREE.Mesh.call(this,e,t);this.duration=1e3;this.mirroredLoop=false;this.time=0;this.lastKeyframe=0;this.currentKeyframe=0;this.direction=1;this.directionBackwards=false;this.setFrameRange(0,this.geometry.morphTargets.length-1)};THREE.MorphAnimMesh.prototype=Object.create(THREE.Mesh.prototype);THREE.MorphAnimMesh.prototype.setFrameRange=function(e,t){this.startKeyframe=e;this.endKeyframe=t;this.length=this.endKeyframe-this.startKeyframe+1};THREE.MorphAnimMesh.prototype.setDirectionForward=function(){this.direction=1;this.directionBackwards=false};THREE.MorphAnimMesh.prototype.setDirectionBackward=function(){this.direction=-1;this.directionBackwards=true};THREE.MorphAnimMesh.prototype.parseAnimations=function(){var e=this.geometry;if(!e.animations)e.animations={};var t,i=e.animations;var r=/([a-z]+)(\d+)/;for(var n=0,a=e.morphTargets.length;n<a;n++){var o=e.morphTargets[n];var s=o.name.match(r);if(s&&s.length>1){var l=s[1];var h=s[2];if(!i[l])i[l]={start:Infinity,end:-Infinity};var f=i[l];if(n<f.start)f.start=n;if(n>f.end)f.end=n;if(!t)t=l}}e.firstAnimation=t};THREE.MorphAnimMesh.prototype.setAnimationLabel=function(e,t,i){if(!this.geometry.animations)this.geometry.animations={};this.geometry.animations[e]={start:t,end:i}};THREE.MorphAnimMesh.prototype.playAnimation=function(e,t){var i=this.geometry.animations[e];if(i){this.setFrameRange(i.start,i.end);this.duration=1e3*((i.end-i.start)/t);this.time=0}};THREE.MorphAnimMesh.prototype.updateAnimation=function(e){var t=this.duration/this.length;this.time+=this.direction*e;if(this.mirroredLoop){if(this.time>this.duration||this.time<0){this.direction*=-1;if(this.time>this.duration){this.time=this.duration;this.directionBackwards=true}if(this.time<0){this.time=0;this.directionBackwards=false}}}else{this.time=this.time%this.duration;if(this.time<0)this.time+=this.duration}var i=this.startKeyframe+THREE.Math.clamp(Math.floor(this.time/t),0,this.length-1);if(i!==this.currentKeyframe){this.morphTargetInfluences[this.lastKeyframe]=0;this.morphTargetInfluences[this.currentKeyframe]=1;this.morphTargetInfluences[i]=0;this.lastKeyframe=this.currentKeyframe;this.currentKeyframe=i}var r=this.time%t/t;if(this.directionBackwards){r=1-r}this.morphTargetInfluences[this.currentKeyframe]=r;this.morphTargetInfluences[this.lastKeyframe]=1-r};THREE.MorphAnimMesh.prototype.clone=function(e){if(e===undefined)e=new THREE.MorphAnimMesh(this.geometry,this.material);e.duration=this.duration;e.mirroredLoop=this.mirroredLoop;e.time=this.time;e.lastKeyframe=this.lastKeyframe;e.currentKeyframe=this.currentKeyframe;e.direction=this.direction;e.directionBackwards=this.directionBackwards;THREE.Mesh.prototype.clone.call(this,e);return e};THREE.Ribbon=function(e,t){THREE.Object3D.call(this);this.geometry=e;this.material=t};THREE.Ribbon.prototype=Object.create(THREE.Object3D.prototype);THREE.Ribbon.prototype.clone=function(e){if(e===undefined)e=new THREE.Ribbon(this.geometry,this.material);THREE.Object3D.prototype.clone.call(this,e);return e};THREE.LOD=function(){THREE.Object3D.call(this);this.objects=[]};THREE.LOD.prototype=Object.create(THREE.Object3D.prototype);THREE.LOD.prototype.addLevel=function(e,t){if(t===undefined)t=0;t=Math.abs(t);for(var i=0;i<this.objects.length;i++){if(t<this.objects[i].distance){break}}this.objects.splice(i,0,{distance:t,object:e});this.add(e)};THREE.LOD.prototype.getObjectForDistance=function(e){for(var t=1,i=this.objects.length;t<i;t++){if(e<this.objects[t].distance){break}}return this.objects[t-1].object};THREE.LOD.prototype.update=function(){var n=new THREE.Vector3;var a=new THREE.Vector3;return function(e){if(this.objects.length>1){n.getPositionFromMatrix(e.matrixWorld);a.getPositionFromMatrix(this.matrixWorld);var t=n.distanceTo(a);this.objects[0].object.visible=true;for(var i=1,r=this.objects.length;i<r;i++){if(t>=this.objects[i].distance){this.objects[i-1].object.visible=false;this.objects[i].object.visible=true}else{break}}for(;i<r;i++){this.objects[i].object.visible=false}}}}();THREE.LOD.prototype.clone=function(){};THREE.Sprite=function(e){THREE.Object3D.call(this);this.material=e!==undefined?e:new THREE.SpriteMaterial;this.rotation3d=this.rotation;this.rotation=0};THREE.Sprite.prototype=Object.create(THREE.Object3D.prototype);THREE.Sprite.prototype.updateMatrix=function(){this.rotation3d.set(0,0,this.rotation);this.quaternion.setFromEuler(this.rotation3d,this.eulerOrder);this.matrix.makeFromPositionQuaternionScale(this.position,this.quaternion,this.scale);this.matrixWorldNeedsUpdate=true};THREE.Sprite.prototype.clone=function(e){if(e===undefined)e=new THREE.Sprite(this.material);THREE.Object3D.prototype.clone.call(this,e);return e};THREE.Scene=function(){THREE.Object3D.call(this);this.fog=null;this.overrideMaterial=null;this.autoUpdate=true;this.matrixAutoUpdate=false;this.__objects=[];this.__lights=[];this.__objectsAdded=[];this.__objectsRemoved=[]};THREE.Scene.prototype=Object.create(THREE.Object3D.prototype);THREE.Scene.prototype.__addObject=function(e){if(e instanceof THREE.Light){if(this.__lights.indexOf(e)===-1){this.__lights.push(e)}if(e.target&&e.target.parent===undefined){this.add(e.target)}}else if(!(e instanceof THREE.Camera||e instanceof THREE.Bone)){if(this.__objects.indexOf(e)===-1){this.__objects.push(e);this.__objectsAdded.push(e);var t=this.__objectsRemoved.indexOf(e);if(t!==-1){this.__objectsRemoved.splice(t,1)}}}for(var i=0;i<e.children.length;i++){this.__addObject(e.children[i])}};THREE.Scene.prototype.__removeObject=function(e){if(e instanceof THREE.Light){var t=this.__lights.indexOf(e);if(t!==-1){this.__lights.splice(t,1)}}else if(!(e instanceof THREE.Camera)){var t=this.__objects.indexOf(e);if(t!==-1){this.__objects.splice(t,1);this.__objectsRemoved.push(e);var i=this.__objectsAdded.indexOf(e);if(i!==-1){this.__objectsAdded.splice(i,1)}}}for(var r=0;r<e.children.length;r++){this.__removeObject(e.children[r])}};THREE.Fog=function(e,t,i){this.name="";this.color=new THREE.Color(e);this.near=t!==undefined?t:1;this.far=i!==undefined?i:1e3};THREE.Fog.prototype.clone=function(){return new THREE.Fog(this.color.getHex(),this.near,this.far)};THREE.FogExp2=function(e,t){this.name="";this.color=new THREE.Color(e);this.density=t!==undefined?t:25e-5};THREE.FogExp2.prototype.clone=function(){return new THREE.FogExp2(this.color.getHex(),this.density)};THREE.ShaderChunk={fog_pars_fragment:["#ifdef USE_FOG","uniform vec3 fogColor;","#ifdef FOG_EXP2","uniform float fogDensity;","#else","uniform float fogNear;","uniform float fogFar;","#endif","#endif"].join("\n"),fog_fragment:["#ifdef USE_FOG","float depth = gl_FragCoord.z / gl_FragCoord.w;","#ifdef FOG_EXP2","const float LOG2 = 1.442695;","float fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );","fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","#else","float fogFactor = smoothstep( fogNear, fogFar, depth );","#endif","gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );","#endif"].join("\n"),envmap_pars_fragment:["#ifdef USE_ENVMAP","uniform float reflectivity;","uniform samplerCube envMap;","uniform float flipEnvMap;","uniform int combine;","#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )","uniform bool useRefract;","uniform float refractionRatio;","#else","varying vec3 vReflect;","#endif","#endif"].join("\n"),envmap_fragment:["#ifdef USE_ENVMAP","vec3 reflectVec;","#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )","vec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );","if ( useRefract ) {","reflectVec = refract( cameraToVertex, normal, refractionRatio );","} else { ","reflectVec = reflect( cameraToVertex, normal );","}","#else","reflectVec = vReflect;","#endif","#ifdef DOUBLE_SIDED","float flipNormal = ( -1.0 + 2.0 * float( gl_FrontFacing ) );","vec4 cubeColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );","#else","vec4 cubeColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );","#endif","#ifdef GAMMA_INPUT","cubeColor.xyz *= cubeColor.xyz;","#endif","if ( combine == 1 ) {","gl_FragColor.xyz = mix( gl_FragColor.xyz, cubeColor.xyz, specularStrength * reflectivity );","} else if ( combine == 2 ) {","gl_FragColor.xyz += cubeColor.xyz * specularStrength * reflectivity;","} else {","gl_FragColor.xyz = mix( gl_FragColor.xyz, gl_FragColor.xyz * cubeColor.xyz, specularStrength * reflectivity );","}","#endif"].join("\n"),envmap_pars_vertex:["#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP )","varying vec3 vReflect;","uniform float refractionRatio;","uniform bool useRefract;","#endif"].join("\n"),worldpos_vertex:["#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )","#ifdef USE_SKINNING","vec4 worldPosition = modelMatrix * skinned;","#endif","#if defined( USE_MORPHTARGETS ) && ! defined( USE_SKINNING )","vec4 worldPosition = modelMatrix * vec4( morphed, 1.0 );","#endif","#if ! defined( USE_MORPHTARGETS ) && ! defined( USE_SKINNING )","#if defined( VERTEX_TEXTURES ) && ( defined( USE_DISPLACEMENTMAP ) || defined( USE_WAVE_TEXTURE ) )","vec4 worldPosition = modelMatrix * vec4( displacedPosition, 1.0 );","#else","vec4 worldPosition = modelMatrix * vec4( position, 1.0 );","#endif","#endif","#ifdef USE_MIRROR_TEXTURE","mirrorCoord = mirrorTextureMatrix * worldPosition;","#endif","#else","#ifdef USE_UNI_TEXTURE","vec4 worldPosition = modelMatrix * vec4( position, 1.0 );","#endif","#endif","#ifdef USE_UNI_TEXTURE","vec3 uniTexture_pos;","#if defined( USE_MORPHTARGETS )","uniTexture_pos = morphed;","#endif","#if ! defined( USE_MORPHTARGETS )","uniTexture_pos = position;","#endif","uniTexture_pos = uniTexture_pos - vec3(uniTexture_bs, -uniTexture_bs, uniTexture_bs) * 10.;","uniTexture_MatrixRain_opacity = (uniTexture_MatrixRain_height_limit.x > 0.0) ? clamp((1.0 - (uniTexture_MatrixRain_height_limit.y + uniTexture_bs - position.y) / (uniTexture_bs * 2.0) - uniTexture_MatrixRain_height_limit.x) / (uniTexture_MatrixRain_height_limit.x*0.25), 0.0, 1.0) : 1.0;","uniTexture_vUv = vec2(-length(uniTexture_pos.xz), length(uniTexture_pos.yz)) * 0.1 / uniTexture_scale;","#if !(MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP ) || defined(USE_XRAY_PASS))","  vWorldPosition = worldPosition.xyz;","#endif","#endif"].join("\n"),uniTexture_pars_vertex:["#ifdef USE_UNI_TEXTURE","  uniform float uniTexture_bs;","  uniform float uniTexture_scale;","  uniform vec2 uniTexture_MatrixRain_height_limit;","  varying vec2 uniTexture_vUv;","  varying float uniTexture_MatrixRain_opacity;","  #if !(MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP ) || defined(USE_XRAY_PASS))","    varying vec3 vWorldPosition;","  #endif","#endif"].join("\n"),uniTexture_pars_fragment:["#ifdef USE_UNI_TEXTURE","  uniform int uniTexture_state;","  uniform sampler2D uniTexture_map;","  uniform float uniTexture_MatrixRain_greenness;","  uniform vec4 uniTexture_null_zone;","  varying vec2 uniTexture_vUv;","  varying float uniTexture_MatrixRain_opacity;","  #if !(MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP ) || defined(USE_XRAY_PASS))","    varying vec3 vWorldPosition;","  #endif","#endif"].join("\n"),uniTexture_fragment:["#ifdef USE_UNI_TEXTURE","if (uniTexture_state == 1) {","  vec4 uni_texture = texture2D( uniTexture_map, uniTexture_vUv );","  #ifdef USE_MATRIX_RAIN_GREEN","    vec3 _color_org = gl_FragColor.rgb;","    float _gray = 0.3 * gl_FragColor.r + 0.59 * gl_FragColor.g + 0.11 * gl_FragColor.b;","    gl_FragColor.rgb = vec3(0., _gray*uni_texture.g, 0.) * uniTexture_MatrixRain_greenness + uni_texture.rgb * (1.0-uniTexture_MatrixRain_greenness);","    if (uniTexture_MatrixRain_opacity < 1.0) { gl_FragColor.rgb = mix(vec3(0.0, _gray, 0.0), gl_FragColor.rgb, uniTexture_MatrixRain_opacity); }","    if (uniTexture_null_zone.w > 0.0) { gl_FragColor.rgb = mix(_color_org, gl_FragColor.rgb, clamp((distance(vWorldPosition, uniTexture_null_zone.xyz) / (uniTexture_null_zone.w * 1.5) - 0.6667) * 3.0, 0.0, 1.0) ); }","  #endif","  #ifdef USE_MATRIX_RAIN_COLOR","    float _rain_a = uniTexture_MatrixRain_opacity * ((uniTexture_null_zone.w > 0.0) ? clamp((distance(vWorldPosition, uniTexture_null_zone.xyz) / (uniTexture_null_zone.w * 1.25) - 0.75) * 4.0, 0.0, 1.0) : 1.0);","    gl_FragColor.rgb *= 1.0-_rain_a + _rain_a*uni_texture.g;","  #endif","} else if (uniTexture_state == 2) {","  gl_FragColor.rgb *= texture2D( uniTexture_map, uniTexture_vUv ).rgb;","}","#endif"].join("\n"),envmap_vertex:["#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP )","vec3 worldNormal = mat3( modelMatrix[ 0 ].xyz, modelMatrix[ 1 ].xyz, modelMatrix[ 2 ].xyz ) * objectNormal;","worldNormal = normalize( worldNormal );","vec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );","if ( useRefract ) {","vReflect = refract( cameraToVertex, worldNormal, refractionRatio );","} else {","vReflect = reflect( cameraToVertex, worldNormal );","}","#endif"].join("\n"),map_particle_pars_fragment:["#ifdef USE_MAP","uniform sampler2D map;","#endif"].join("\n"),map_particle_fragment:["#ifdef USE_MAP","gl_FragColor = gl_FragColor * texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) );","#endif"].join("\n"),map_pars_vertex:["#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_DISPLACEMENTMAP ) || defined( USE_WAVE_TEXTURE )","varying vec2 vUv;","uniform vec4 offsetRepeat;","#endif"].join("\n"),map_pars_fragment:["#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP )","varying vec2 vUv;","#endif","#ifdef USE_MAP","uniform sampler2D map;","#endif"].join("\n"),map_vertex:["#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_DISPLACEMENTMAP ) || defined( USE_WAVE_TEXTURE )","vUv = uv * offsetRepeat.zw + offsetRepeat.xy;","#endif"].join("\n"),map_fragment:["#ifdef USE_MAP","#if defined( VERTEX_TEXTURES ) && defined( USE_WAVE_TEXTURE )","  vec2 uvTimeShift = vUv + vec2( -0.7, 1.5 ) * time * waveBaseSpeed;","  vec4 noiseGeneratorTimeShift = texture2D( waveNoiseTexture, mod(uvTimeShift,1.0) );","  vec2 uvNoiseTimeShift = vUv + waveNoiseScale * vec2( noiseGeneratorTimeShift.r, noiseGeneratorTimeShift.b );","  vec4 texelColor = texture2D( map, mod(uvNoiseTimeShift,1.0) );","#else","vec4 texelColor = texture2D( map, vUv );","#endif","#ifdef GAMMA_INPUT","texelColor.xyz *= texelColor.xyz;","#endif","gl_FragColor = gl_FragColor * texelColor;","#endif"].join("\n"),lightmap_pars_fragment:["#ifdef USE_LIGHTMAP","varying vec2 vUv2;","uniform sampler2D lightMap;","#endif"].join("\n"),lightmap_pars_vertex:["#ifdef USE_LIGHTMAP","varying vec2 vUv2;","#endif"].join("\n"),lightmap_fragment:["#ifdef USE_LIGHTMAP","gl_FragColor = gl_FragColor * texture2D( lightMap, vUv2 );","#endif"].join("\n"),lightmap_vertex:["#ifdef USE_LIGHTMAP","vUv2 = uv2;","#endif"].join("\n"),bumpmap_pars_fragment:["#ifdef USE_BUMPMAP","uniform sampler2D bumpMap;","uniform float bumpScale;","vec2 dHdxy_fwd() {","vec2 dSTdx = dFdx( vUv );","vec2 dSTdy = dFdy( vUv );","float Hll = bumpScale * texture2D( bumpMap, vUv ).x;","float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;","float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;","return vec2( dBx, dBy );","}","vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {","vec3 vSigmaX = dFdx( surf_pos );","vec3 vSigmaY = dFdy( surf_pos );","vec3 vN = surf_norm;","vec3 R1 = cross( vSigmaY, vN );","vec3 R2 = cross( vN, vSigmaX );","float fDet = dot( vSigmaX, R1 );","vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );","return normalize( abs( fDet ) * surf_norm - vGrad );","}","#endif"].join("\n"),normalmap_pars_fragment:["#ifdef USE_NORMALMAP","uniform sampler2D normalMap;","uniform vec2 normalScale;","vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {","vec3 q0 = dFdx( eye_pos.xyz );","vec3 q1 = dFdy( eye_pos.xyz );","vec2 st0 = dFdx( vUv.st );","vec2 st1 = dFdy( vUv.st );","vec3 S = normalize(  q0 * st1.t - q1 * st0.t );","vec3 T = normalize( -q0 * st1.s + q1 * st0.s );","vec3 N = normalize( surf_norm );","vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;","mapN.xy = normalScale * mapN.xy;","mat3 tsn = mat3( S, T, N );","return normalize( tsn * mapN );","}","#endif"].join("\n"),specularmap_pars_fragment:["#ifdef USE_SPECULARMAP","uniform sampler2D specularMap;","#endif"].join("\n"),specularmap_fragment:["float specularStrength;","#ifdef USE_SPECULARMAP","vec4 texelSpecular = texture2D( specularMap, vUv );","specularStrength = texelSpecular.r;","#else","specularStrength = 1.0;","#endif"].join("\n"),lights_lambert_pars_vertex:["uniform vec3 ambient;","uniform vec3 diffuse;","uniform vec3 emissive;","uniform vec3 ambientLightColor;","#if MAX_DIR_LIGHTS > 0","uniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];","uniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];","#endif","#if MAX_HEMI_LIGHTS > 0","uniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];","uniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];","uniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];","#endif","#if MAX_POINT_LIGHTS > 0","uniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];","uniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];","uniform float pointLightDistance[ MAX_POINT_LIGHTS ];","#endif","#if MAX_SPOT_LIGHTS > 0","uniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];","uniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];","uniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];","uniform float spotLightDistance[ MAX_SPOT_LIGHTS ];","uniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];","uniform float spotLightExponent[ MAX_SPOT_LIGHTS ];","#endif","#ifdef WRAP_AROUND","uniform vec3 wrapRGB;","#endif"].join("\n"),lights_lambert_vertex:["vLightFront = vec3( 0.0 );","#ifdef DOUBLE_SIDED","vLightBack = vec3( 0.0 );","#endif","transformedNormal = normalize( transformedNormal );","#if MAX_DIR_LIGHTS > 0","for( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {","vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );","vec3 dirVector = normalize( lDirection.xyz );","float dotProduct = dot( transformedNormal, dirVector );","vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );","#ifdef DOUBLE_SIDED","vec3 directionalLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );","#ifdef WRAP_AROUND","vec3 directionalLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );","#endif","#endif","#ifdef WRAP_AROUND","vec3 directionalLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );","directionalLightWeighting = mix( directionalLightWeighting, directionalLightWeightingHalf, wrapRGB );","#ifdef DOUBLE_SIDED","directionalLightWeightingBack = mix( directionalLightWeightingBack, directionalLightWeightingHalfBack, wrapRGB );","#endif","#endif","vLightFront += directionalLightColor[ i ] * directionalLightWeighting;","#ifdef DOUBLE_SIDED","vLightBack += directionalLightColor[ i ] * directionalLightWeightingBack;","#endif","}","#endif","#if MAX_POINT_LIGHTS > 0","for( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {","vec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );","vec3 lVector = lPosition.xyz - mvPosition.xyz;","float lDistance = 1.0;","if ( pointLightDistance[ i ] > 0.0 )","lDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );","lVector = normalize( lVector );","float dotProduct = dot( transformedNormal, lVector );","vec3 pointLightWeighting = vec3( max( dotProduct, 0.0 ) );","#ifdef DOUBLE_SIDED","vec3 pointLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );","#ifdef WRAP_AROUND","vec3 pointLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );","#endif","#endif","#ifdef WRAP_AROUND","vec3 pointLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );","pointLightWeighting = mix( pointLightWeighting, pointLightWeightingHalf, wrapRGB );","#ifdef DOUBLE_SIDED","pointLightWeightingBack = mix( pointLightWeightingBack, pointLightWeightingHalfBack, wrapRGB );","#endif","#endif","vLightFront += pointLightColor[ i ] * pointLightWeighting * lDistance;","#ifdef DOUBLE_SIDED","vLightBack += pointLightColor[ i ] * pointLightWeightingBack * lDistance;","#endif","}","#endif","#if MAX_SPOT_LIGHTS > 0","for( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {","vec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );","vec3 lVector = lPosition.xyz - mvPosition.xyz;","float spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - worldPosition.xyz ) );","if ( spotEffect > spotLightAngleCos[ i ] ) {","spotEffect = max( pow( spotEffect, spotLightExponent[ i ] ), 0.0 );","float lDistance = 1.0;","if ( spotLightDistance[ i ] > 0.0 )","lDistance = 1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );","lVector = normalize( lVector );","float dotProduct = dot( transformedNormal, lVector );","vec3 spotLightWeighting = vec3( max( dotProduct, 0.0 ) );","#ifdef DOUBLE_SIDED","vec3 spotLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );","#ifdef WRAP_AROUND","vec3 spotLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );","#endif","#endif","#ifdef WRAP_AROUND","vec3 spotLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );","spotLightWeighting = mix( spotLightWeighting, spotLightWeightingHalf, wrapRGB );","#ifdef DOUBLE_SIDED","spotLightWeightingBack = mix( spotLightWeightingBack, spotLightWeightingHalfBack, wrapRGB );","#endif","#endif","vLightFront += spotLightColor[ i ] * spotLightWeighting * lDistance * spotEffect;","#ifdef DOUBLE_SIDED","vLightBack += spotLightColor[ i ] * spotLightWeightingBack * lDistance * spotEffect;","#endif","}","}","#endif","#if MAX_HEMI_LIGHTS > 0","for( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {","vec4 lDirection = viewMatrix * vec4( hemisphereLightDirection[ i ], 0.0 );","vec3 lVector = normalize( lDirection.xyz );","float dotProduct = dot( transformedNormal, lVector );","float hemiDiffuseWeight = 0.5 * dotProduct + 0.5;","float hemiDiffuseWeightBack = -0.5 * dotProduct + 0.5;","vLightFront += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );","#ifdef DOUBLE_SIDED","vLightBack += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeightBack );","#endif","}","#endif","vLightFront = vLightFront * diffuse + ambient * ambientLightColor + emissive;","#ifdef DOUBLE_SIDED","vLightBack = vLightBack * diffuse + ambient * ambientLightColor + emissive;","#endif"].join("\n"),lights_phong_pars_vertex:["#ifndef PHONG_PER_PIXEL","#if MAX_POINT_LIGHTS > 0","uniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];","uniform float pointLightDistance[ MAX_POINT_LIGHTS ];","varying vec4 vPointLight[ MAX_POINT_LIGHTS ];","#endif","#if MAX_SPOT_LIGHTS > 0","uniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];","uniform float spotLightDistance[ MAX_SPOT_LIGHTS ];","varying vec4 vSpotLight[ MAX_SPOT_LIGHTS ];","#endif","#endif","#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP )","varying vec3 vWorldPosition;","#endif"].join("\n"),lights_phong_vertex:["#ifndef PHONG_PER_PIXEL","#if MAX_POINT_LIGHTS > 0","for( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {","vec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );","vec3 lVector = lPosition.xyz - mvPosition.xyz;","float lDistance = 1.0;","if ( pointLightDistance[ i ] > 0.0 )","lDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );","vPointLight[ i ] = vec4( lVector, lDistance );","}","#endif","#if MAX_SPOT_LIGHTS > 0","for( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {","vec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );","vec3 lVector = lPosition.xyz - mvPosition.xyz;","float lDistance = 1.0;","if ( spotLightDistance[ i ] > 0.0 )","lDistance = 1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );","vSpotLight[ i ] = vec4( lVector, lDistance );","}","#endif","#endif","#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP )","vWorldPosition = worldPosition.xyz;","#endif"].join("\n"),lights_phong_pars_fragment:["uniform vec3 ambientLightColor;","#if MAX_DIR_LIGHTS > 0","uniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];","uniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];","#endif","#if MAX_HEMI_LIGHTS > 0","uniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];","uniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];","uniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];","#endif","#if MAX_POINT_LIGHTS > 0","uniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];","#ifdef PHONG_PER_PIXEL","uniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];","uniform float pointLightDistance[ MAX_POINT_LIGHTS ];","#else","varying vec4 vPointLight[ MAX_POINT_LIGHTS ];","#endif","#endif","#if MAX_SPOT_LIGHTS > 0","uniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];","uniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];","uniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];","uniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];","uniform float spotLightExponent[ MAX_SPOT_LIGHTS ];","#ifdef PHONG_PER_PIXEL","uniform float spotLightDistance[ MAX_SPOT_LIGHTS ];","#else","varying vec4 vSpotLight[ MAX_SPOT_LIGHTS ];","#endif","#endif","#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP )","varying vec3 vWorldPosition;","#endif","#ifdef WRAP_AROUND","uniform vec3 wrapRGB;","#endif","varying vec3 vViewPosition;","varying vec3 vNormal;"].join("\n"),lights_phong_fragment:["#ifdef COMPUTE_NORMAL_FROM_DISPLACEMENT","  vec3 normal = normalize( cross( dFdx( vViewPosition ), dFdy( vViewPosition ) ) );","#else","vec3 normal = normalize( vNormal );","#endif","vec3 viewPosition = normalize( vViewPosition );","#ifdef DOUBLE_SIDED","normal = normal * ( -1.0 + 2.0 * float( gl_FrontFacing ) );","#endif","#ifdef USE_NORMALMAP","normal = perturbNormal2Arb( -vViewPosition, normal );","#elif defined( USE_BUMPMAP )","normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );","#endif","#if MAX_POINT_LIGHTS > 0","vec3 pointDiffuse  = vec3( 0.0 );","vec3 pointSpecular = vec3( 0.0 );","for ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {","#ifdef PHONG_PER_PIXEL","vec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );","vec3 lVector = lPosition.xyz + vViewPosition.xyz;","float lDistance = 1.0;","if ( pointLightDistance[ i ] > 0.0 )","lDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );","lVector = normalize( lVector );","#else","vec3 lVector = normalize( vPointLight[ i ].xyz );","float lDistance = vPointLight[ i ].w;","#endif","float dotProduct = dot( normal, lVector );","#ifdef WRAP_AROUND","float pointDiffuseWeightFull = max( dotProduct, 0.0 );","float pointDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );","vec3 pointDiffuseWeight = mix( vec3 ( pointDiffuseWeightFull ), vec3( pointDiffuseWeightHalf ), wrapRGB );","#else","float pointDiffuseWeight = max( dotProduct, 0.0 );","#endif","pointDiffuse  += diffuse * pointLightColor[ i ] * pointDiffuseWeight * lDistance;","vec3 pointHalfVector = normalize( lVector + viewPosition );","float pointDotNormalHalf = max( dot( normal, pointHalfVector ), 0.0 );","float pointSpecularWeight = specularStrength * max( pow( pointDotNormalHalf, shininess ), 0.0 );","#ifdef PHYSICALLY_BASED_SHADING","float specularNormalization = ( shininess + 2.0001 ) / 8.0;","vec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVector, pointHalfVector ), 5.0 );","pointSpecular += schlick * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * lDistance * specularNormalization;","#else","pointSpecular += specular * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * lDistance;","#endif","}","#endif","#if MAX_SPOT_LIGHTS > 0","vec3 spotDiffuse  = vec3( 0.0 );","vec3 spotSpecular = vec3( 0.0 );","for ( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {","#ifdef PHONG_PER_PIXEL","vec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );","vec3 lVector = lPosition.xyz + vViewPosition.xyz;","float lDistance = 1.0;","if ( spotLightDistance[ i ] > 0.0 )","lDistance = 1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );","lVector = normalize( lVector );","#else","vec3 lVector = normalize( vSpotLight[ i ].xyz );","float lDistance = vSpotLight[ i ].w;","#endif","float spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - vWorldPosition ) );","if ( spotEffect > spotLightAngleCos[ i ] ) {","spotEffect = max( pow( spotEffect, spotLightExponent[ i ] ), 0.0 );","float dotProduct = dot( normal, lVector );","#ifdef WRAP_AROUND","float spotDiffuseWeightFull = max( dotProduct, 0.0 );","float spotDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );","vec3 spotDiffuseWeight = mix( vec3 ( spotDiffuseWeightFull ), vec3( spotDiffuseWeightHalf ), wrapRGB );","#else","float spotDiffuseWeight = max( dotProduct, 0.0 );","#endif","spotDiffuse += diffuse * spotLightColor[ i ] * spotDiffuseWeight * lDistance * spotEffect;","vec3 spotHalfVector = normalize( lVector + viewPosition );","float spotDotNormalHalf = max( dot( normal, spotHalfVector ), 0.0 );","float spotSpecularWeight = specularStrength * max( pow( spotDotNormalHalf, shininess ), 0.0 );","#ifdef PHYSICALLY_BASED_SHADING","float specularNormalization = ( shininess + 2.0001 ) / 8.0;","vec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVector, spotHalfVector ), 5.0 );","spotSpecular += schlick * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * lDistance * specularNormalization * spotEffect;","#else","spotSpecular += specular * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * lDistance * spotEffect;","#endif","}","}","#endif","#if MAX_DIR_LIGHTS > 0","vec3 dirDiffuse  = vec3( 0.0 );","vec3 dirSpecular = vec3( 0.0 );","for( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {","vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );","vec3 dirVector = normalize( lDirection.xyz );","float dotProduct = dot( normal, dirVector );","#ifdef WRAP_AROUND","float dirDiffuseWeightFull = max( dotProduct, 0.0 );","float dirDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );","vec3 dirDiffuseWeight = mix( vec3( dirDiffuseWeightFull ), vec3( dirDiffuseWeightHalf ), wrapRGB );","#else","float dirDiffuseWeight = max( dotProduct, 0.0 );","#endif","dirDiffuse  += diffuse * directionalLightColor[ i ] * dirDiffuseWeight;","vec3 dirHalfVector = normalize( dirVector + viewPosition );","float dirDotNormalHalf = max( dot( normal, dirHalfVector ), 0.0 );","float dirSpecularWeight = specularStrength * max( pow( dirDotNormalHalf, shininess ), 0.0 );","#ifdef PHYSICALLY_BASED_SHADING","float specularNormalization = ( shininess + 2.0001 ) / 8.0;","vec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( dirVector, dirHalfVector ), 5.0 );","dirSpecular += schlick * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization;","#else","dirSpecular += specular * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight;","#endif","}","#endif","#if MAX_HEMI_LIGHTS > 0","vec3 hemiDiffuse  = vec3( 0.0 );","vec3 hemiSpecular = vec3( 0.0 );","for( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {","vec4 lDirection = viewMatrix * vec4( hemisphereLightDirection[ i ], 0.0 );","vec3 lVector = normalize( lDirection.xyz );","float dotProduct = dot( normal, lVector );","float hemiDiffuseWeight = 0.5 * dotProduct + 0.5;","vec3 hemiColor = mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );","hemiDiffuse += diffuse * hemiColor;","vec3 hemiHalfVectorSky = normalize( lVector + viewPosition );","float hemiDotNormalHalfSky = 0.5 * dot( normal, hemiHalfVectorSky ) + 0.5;","float hemiSpecularWeightSky = specularStrength * max( pow( hemiDotNormalHalfSky, shininess ), 0.0 );","vec3 lVectorGround = -lVector;","vec3 hemiHalfVectorGround = normalize( lVectorGround + viewPosition );","float hemiDotNormalHalfGround = 0.5 * dot( normal, hemiHalfVectorGround ) + 0.5;","float hemiSpecularWeightGround = specularStrength * max( pow( hemiDotNormalHalfGround, shininess ), 0.0 );","#ifdef PHYSICALLY_BASED_SHADING","float dotProductGround = dot( normal, lVectorGround );","float specularNormalization = ( shininess + 2.0001 ) / 8.0;","vec3 schlickSky = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVector, hemiHalfVectorSky ), 5.0 );","vec3 schlickGround = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVectorGround, hemiHalfVectorGround ), 5.0 );","hemiSpecular += hemiColor * specularNormalization * ( schlickSky * hemiSpecularWeightSky * max( dotProduct, 0.0 ) + schlickGround * hemiSpecularWeightGround * max( dotProductGround, 0.0 ) );","#else","hemiSpecular += specular * hemiColor * ( hemiSpecularWeightSky + hemiSpecularWeightGround ) * hemiDiffuseWeight;","#endif","}","#endif","vec3 totalDiffuse = vec3( 0.0 );","vec3 totalSpecular = vec3( 0.0 );","#if MAX_DIR_LIGHTS > 0","totalDiffuse += dirDiffuse;","totalSpecular += dirSpecular;","#endif","#if MAX_HEMI_LIGHTS > 0","totalDiffuse += hemiDiffuse;","totalSpecular += hemiSpecular;","#endif","#if MAX_POINT_LIGHTS > 0","totalDiffuse += pointDiffuse;","totalSpecular += pointSpecular;","#endif","#if MAX_SPOT_LIGHTS > 0","totalDiffuse += spotDiffuse;","totalSpecular += spotSpecular;","#endif","#ifdef METAL","#ifdef USE_SPECULARMAP","float metalness = texelSpecular.g;","gl_FragColor.xyz = gl_FragColor.xyz * ( emissive + totalDiffuse + ambientLightColor * ambient + totalSpecular*(1.0-metalness) ) + totalSpecular*metalness;","#else","gl_FragColor.xyz = gl_FragColor.xyz * ( emissive + totalDiffuse + ambientLightColor * ambient + totalSpecular );","#endif","#else","gl_FragColor.xyz = gl_FragColor.xyz * ( emissive + totalDiffuse + ambientLightColor * ambient ) + totalSpecular;","#endif"].join("\n"),color_pars_fragment:["#ifdef USE_COLOR","varying vec3 vColor;","#endif"].join("\n"),color_fragment:["#ifdef USE_COLOR","gl_FragColor = gl_FragColor * vec4( vColor, opacity );","#endif"].join("\n"),color_pars_vertex:["#ifdef USE_COLOR","varying vec3 vColor;","#endif"].join("\n"),color_vertex:["#ifdef USE_COLOR","#ifdef GAMMA_INPUT","vColor = color * color;","#else","vColor = color;","#endif","#endif"].join("\n"),skinning_pars_vertex:["#ifdef USE_SKINNING","#ifdef BONE_TEXTURE","uniform sampler2D boneTexture;","mat4 getBoneMatrix( const in float i ) {","float j = i * 4.0;","float x = mod( j, N_BONE_PIXEL_X );","float y = floor( j / N_BONE_PIXEL_X );","const float dx = 1.0 / N_BONE_PIXEL_X;","const float dy = 1.0 / N_BONE_PIXEL_Y;","y = dy * ( y + 0.5 );","vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );","vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );","vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );","vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );","mat4 bone = mat4( v1, v2, v3, v4 );","return bone;","}","#else","uniform mat4 boneGlobalMatrices[ MAX_BONES ];","mat4 getBoneMatrix( const in float i ) {","mat4 bone = boneGlobalMatrices[ int(i) ];","return bone;","}","#endif","#endif"].join("\n"),skinbase_vertex:["#ifdef USE_SKINNING","mat4 boneMatX = getBoneMatrix( skinIndex.x );","mat4 boneMatY = getBoneMatrix( skinIndex.y );","#endif"].join("\n"),skinning_vertex:["#ifdef USE_SKINNING","#ifdef USE_MORPHTARGETS","vec4 skinVertex = vec4( morphed, 1.0 );","#else","vec4 skinVertex = vec4( position, 1.0 );","#endif","vec4 skinned  = boneMatX * skinVertex * skinWeight.x;","skinned \t  += boneMatY * skinVertex * skinWeight.y;","#endif"].join("\n"),morphtarget_pars_vertex:["#ifdef USE_MORPHTARGETS","#ifndef USE_MORPHNORMALS","uniform float morphTargetInfluences[ 8 ];","#else","uniform float morphTargetInfluences[ 4 ];","#endif","#endif"].join("\n"),morphtarget_vertex:["#ifdef USE_MORPHTARGETS","vec3 morphed = vec3( 0.0 );","morphed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];","morphed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];","morphed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];","morphed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];","#ifndef USE_MORPHNORMALS","morphed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];","morphed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];","morphed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];","morphed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];","#endif","morphed += position;","#endif"].join("\n"),default_vertex:["vec4 mvPosition;","#ifdef USE_SKINNING","mvPosition = modelViewMatrix * skinned;","#endif","#if !defined( USE_SKINNING ) && defined( USE_MORPHTARGETS )","mvPosition = modelViewMatrix * vec4( morphed, 1.0 );","#endif","#if !defined( USE_SKINNING ) && ! defined( USE_MORPHTARGETS )","#if defined( VERTEX_TEXTURES ) && ( defined( USE_DISPLACEMENTMAP ) || defined( USE_WAVE_TEXTURE ) )","mvPosition = modelViewMatrix * vec4( displacedPosition, 1.0 );","#else","mvPosition = modelViewMatrix * vec4( position, 1.0 );","#endif","#endif","gl_Position = projectionMatrix * mvPosition;"].join("\n"),morphnormal_vertex:["#ifdef USE_MORPHNORMALS","vec3 morphedNormal = vec3( 0.0 );","morphedNormal +=  ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];","morphedNormal +=  ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];","morphedNormal +=  ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];","morphedNormal +=  ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];","morphedNormal += normal;","#endif"].join("\n"),skinnormal_vertex:["#ifdef USE_SKINNING","mat4 skinMatrix = skinWeight.x * boneMatX;","skinMatrix \t+= skinWeight.y * boneMatY;","#ifdef USE_MORPHNORMALS","vec4 skinnedNormal = skinMatrix * vec4( morphedNormal, 0.0 );","#else","vec4 skinnedNormal = skinMatrix * vec4( normal, 0.0 );","#endif","#endif"].join("\n"),defaultnormal_vertex:["vec3 objectNormal;","#ifdef USE_SKINNING","objectNormal = skinnedNormal.xyz;","#endif","#if !defined( USE_SKINNING ) && defined( USE_MORPHNORMALS )","objectNormal = morphedNormal;","#endif","#if !defined( USE_SKINNING ) && ! defined( USE_MORPHNORMALS )","objectNormal = normal;","#endif","#ifdef FLIP_SIDED","objectNormal = -objectNormal;","#endif","#ifdef USE_SHADOWMAP","  normal_untransformed = normalize(mat3( modelMatrix[ 0 ].xyz, modelMatrix[ 1 ].xyz, modelMatrix[ 2 ].xyz ) * objectNormal);","#endif","vec3 transformedNormal = normalMatrix * objectNormal;"].join("\n"),shadowmap_pars_fragment:["#ifdef USE_SHADOWMAP","uniform sampler2D shadowMap[ MAX_SHADOWS ];","uniform vec2 shadowMapSize[ MAX_SHADOWS ];","uniform float shadowDarkness[ MAX_SHADOWS ];","uniform vec3 shadowBias[ MAX_SHADOWS ];","uniform vec3 shadowPara[ MAX_SHADOWS ];","varying vec3 normal_untransformed;","varying vec4 vShadowCoord[ MAX_SHADOWS ];","float unpackDepth( const in vec4 rgba_depth ) {","const vec4 bit_shift = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );","float depth = dot( rgba_depth, bit_shift );","return depth;","}","#endif"].join("\n"),shadowmap_fragment:["#ifdef USE_SHADOWMAP","#ifdef SHADOWMAP_DEBUG","vec3 frustumColors[3];","frustumColors[0] = vec3( 1.0, 0.5, 0.0 );","frustumColors[1] = vec3( 0.0, 1.0, 0.8 );","frustumColors[2] = vec3( 0.0, 0.5, 1.0 );","#endif","#ifdef SHADOWMAP_CASCADE","int inFrustumCount = 0;","float parent_light_id = 0.0;","#endif","float fDepth;","vec3 shadowColor = vec3( 1.0 );","vec3 SP;","#pragma unroll_loop\n","for( int i = 0; i < MAX_SHADOWS; i ++ ) {//LOOP_START","SP = shadowPara[i];","#ifdef SHADOWMAP_CASCADE","if (parent_light_id != SP.y) {","parent_light_id = SP.y;","inFrustumCount = 0;","}","#endif","vec3 shadowCoord = vShadowCoord[ i ].xyz / vShadowCoord[ i ].w;","bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );","bool inFrustum = all( inFrustumVec );","#ifdef SHADOWMAP_CASCADE","inFrustumCount += int( inFrustum );","bvec3 frustumTestVec = bvec3( inFrustum, inFrustumCount == 1, shadowCoord.z <= 1.0 );","#else","bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );","#endif","bool frustumTest = all( frustumTestVec );","if ( frustumTest ) {","#ifdef PHONG","shadowCoord.z += shadowBias[ i ].x * clamp(pow(abs(tan(acos(clamp(dot(directionalLightDirection[ int(SP.y) ], normal_untransformed), -1., 1.)))), 2.0), shadowBias[ i ].y, shadowBias[ i ].z);","float shadowDarkness_scale = (1.0-emissive.r) * opacity;","#else","shadowCoord.z += shadowBias[ i ].x;","float shadowDarkness_scale = 1.0;","#endif","#if defined( SHADOWMAP_TYPE_PCF )","float shadow = 0.0;","const float shadowDelta = 1.0 / 9.0;","float xPixelOffset = 1.0 / shadowMapSize[ i ].x;","float yPixelOffset = 1.0 / shadowMapSize[ i ].y;","float dx0 = -1.25 * xPixelOffset;","float dy0 = -1.25 * yPixelOffset;","float dx1 = 1.25 * xPixelOffset;","float dy1 = 1.25 * yPixelOffset;","fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );","if ( fDepth < shadowCoord.z ) shadow += shadowDelta;","fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );","if ( fDepth < shadowCoord.z ) shadow += shadowDelta;","fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );","if ( fDepth < shadowCoord.z ) shadow += shadowDelta;","fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );","if ( fDepth < shadowCoord.z ) shadow += shadowDelta;","fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );","if ( fDepth < shadowCoord.z ) shadow += shadowDelta;","fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );","if ( fDepth < shadowCoord.z ) shadow += shadowDelta;","fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );","if ( fDepth < shadowCoord.z ) shadow += shadowDelta;","fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );","if ( fDepth < shadowCoord.z ) shadow += shadowDelta;","fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );","if ( fDepth < shadowCoord.z ) shadow += shadowDelta;","shadowColor = shadowColor * vec3( ( 1.0 - shadowDarkness[ i ] *shadowDarkness_scale * shadow ) );","#elif defined( SHADOWMAP_TYPE_PCF_SOFT )","float shadow = 0.0;","float xPixelOffset = 1.0 / shadowMapSize[ i ].x;","float yPixelOffset = 1.0 / shadowMapSize[ i ].y;","float dx0 = -1.0 * xPixelOffset;","float dy0 = -1.0 * yPixelOffset;","float dx1 = 1.0 * xPixelOffset;","float dy1 = 1.0 * yPixelOffset;","mat3 shadowKernel;","mat3 depthKernel;","depthKernel[0][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );","depthKernel[0][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );","depthKernel[0][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );","depthKernel[1][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );","depthKernel[1][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );","depthKernel[1][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );","depthKernel[2][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );","depthKernel[2][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );","depthKernel[2][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );","vec3 shadowZ = vec3( shadowCoord.z );","shadowKernel[0] = vec3(lessThan(depthKernel[0], shadowZ ));","shadowKernel[0] *= vec3(0.25);","shadowKernel[1] = vec3(lessThan(depthKernel[1], shadowZ ));","shadowKernel[1] *= vec3(0.25);","shadowKernel[2] = vec3(lessThan(depthKernel[2], shadowZ ));","shadowKernel[2] *= vec3(0.25);","vec2 fractionalCoord = 1.0 - fract( shadowCoord.xy * shadowMapSize[i].xy );","shadowKernel[0] = mix( shadowKernel[1], shadowKernel[0], fractionalCoord.x );","shadowKernel[1] = mix( shadowKernel[2], shadowKernel[1], fractionalCoord.x );","vec4 shadowValues;","shadowValues.x = mix( shadowKernel[0][1], shadowKernel[0][0], fractionalCoord.y );","shadowValues.y = mix( shadowKernel[0][2], shadowKernel[0][1], fractionalCoord.y );","shadowValues.z = mix( shadowKernel[1][1], shadowKernel[1][0], fractionalCoord.y );","shadowValues.w = mix( shadowKernel[1][2], shadowKernel[1][1], fractionalCoord.y );","shadow = dot( shadowValues, vec4( 1.0 ) );","shadowColor = shadowColor * vec3( ( 1.0 - shadowDarkness[ i ]*shadowDarkness_scale * shadow ) );","#ifndef SHADOWMAP_CASCADE","float shadow_opacity = 1. - min(pow(length((shadowCoord.xy-0.5)*2.),4.), 1.);","shadowColor = mix(vec3(1.), shadowColor, shadow_opacity);","#endif","#else","vec4 rgbaDepth = texture2D( shadowMap[ i ], shadowCoord.xy );","float fDepth = unpackDepth( rgbaDepth );","if ( fDepth < shadowCoord.z )","shadowColor = shadowColor * vec3( 1.0 - shadowDarkness[ i ]*shadowDarkness_scale );","#endif","}//LOOP_END","#ifdef SHADOWMAP_DEBUG","#ifdef SHADOWMAP_CASCADE","if ( inFrustum && inFrustumCount == 1 ) gl_FragColor.xyz *= frustumColors[ i ];","#else","if ( inFrustum ) gl_FragColor.xyz *= frustumColors[ i ];","#endif","#endif","}","#ifdef GAMMA_OUTPUT","shadowColor *= shadowColor;","#endif","#ifdef SHADOWMAP_ALPHA","gl_FragColor.a *= 1.0 - shadowColor.r;","#else","gl_FragColor.xyz = gl_FragColor.xyz * shadowColor;","#endif","#endif"].join("\n"),shadowmap_pars_vertex:["#ifdef USE_SHADOWMAP","varying vec3 normal_untransformed;","varying vec4 vShadowCoord[ MAX_SHADOWS ];","uniform mat4 shadowMatrix[ MAX_SHADOWS ];","#endif"].join("\n"),shadowmap_vertex:["#ifdef USE_SHADOWMAP","for( int i = 0; i < MAX_SHADOWS; i ++ ) {","vShadowCoord[ i ] = shadowMatrix[ i ] * worldPosition;","}","#endif"].join("\n"),alphatest_fragment:["#ifdef ALPHATEST","if ( gl_FragColor.a < ALPHATEST ) discard;","#endif"].join("\n"),linear_to_gamma_fragment:["#ifdef GAMMA_OUTPUT","gl_FragColor.xyz = sqrt( gl_FragColor.xyz );","#endif"].join("\n")};THREE.UniformsUtils={merge:function(e){var t,i,r,n={};for(t=0;t<e.length;t++){r=this.clone(e[t]);for(i in r){n[i]=r[i]}}return n},clone:function(e){var t,i,r,n,a={};for(t in e){a[t]={};for(i in e[t]){n=e[t][i];if(n instanceof THREE.Color||n instanceof THREE.Vector2||n instanceof THREE.Vector3||n instanceof THREE.Vector4||n instanceof THREE.Matrix4||n instanceof THREE.Texture){a[t][i]=n.clone()}else if(n instanceof Array){a[t][i]=n.slice()}else{a[t][i]=n}}}return a}};THREE.ShaderChunk["common"]="#define PI 3.14159265359\n#define PI2 6.28318530718\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\n\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\n// expects values in the range of [0,1]x[0,1], returns values in the [0,1] range.\n// do not collapse into a single function per: http://byteblacksmith.com/improvements-to-the-canonical-one-liner-glsl-rand-for-opengl-es-2-0/\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\n\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\n\n\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n}\n\n// http://en.wikibooks.org/wiki/GLSL_Programming/Applying_Matrix_Transformations\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n\n}\n\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\n\treturn - distance * planeNormal + point;\n\n}\n\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n\n}\n\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n\n}\n";THREE.ShaderChunk["packing"]="vec3 packNormalToRGB( const in vec3 normal ) {\n  return normalize( normal ) * 0.5 + 0.5;\n}\n\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n  return 1.0 - 2.0 * rgb.xyz;\n}\n\n\nvec4 packDepthToRGBA( const in float value ) {\n\tconst vec4 bit_shift = vec4( 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 );\n\tconst vec4 bit_mask = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );\n\tvec4 res = mod( value * bit_shift * vec4( 255 ), vec4( 256 ) ) / vec4( 255 );\n\tres -= res.xxyz * bit_mask;\n\treturn res;\n}\nfloat unpackRGBAToDepth( const in vec4 rgba ) {\n\tconst vec4 bitSh = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );\n\treturn dot( rgba, bitSh );\n}\n\n// NOTE: viewZ/eyeZ is < 0 when in front of the camera per OpenGL conventions\n\nfloat viewZToOrthoDepth( const in float viewZ, const in float near, const in float far ) {\n  return ( viewZ + near ) / ( near - far );\n}\nfloat OrthoDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n  return linearClipZ * ( near - far ) - near;\n}\n\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n  return (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n  return ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n";THREE.ShaderChunk["AT_depth_render_mode_pars_fragment"]="uniform int depth_render_mode;\n"+THREE.ShaderChunk["packing"];THREE.ShaderChunk["AT_depth_render_mode_fragment"]="if (depth_render_mode > 0) {\n"+"#ifdef MMD\n#ifdef USE_MAP\n"+"if (mmdEdgeThick <= 0.25) {\n"+"  if (texture2D( map, vUv ).a == 0.0) { discard; }\n"+"}\n"+"#endif\n#endif\n"+"#ifndef SKIP_SAO_DEPTH\n"+" gl_FragColor = packDepthToRGBA( ((depth_render_mode == 1) ? gl_FragCoord.z : gl_FragCoord.w) ); return;\n"+"#else\n"+" gl_FragColor = packDepthToRGBA(gl_FragCoord.w); return;\n"+"#endif\n"+"}\n";THREE.UniformsLib={common:{depth_render_mode:{type:"i",value:0},diffuse:{type:"c",value:new THREE.Color(15658734)},opacity:{type:"f",value:1},map:{type:"t",value:null},offsetRepeat:{type:"v4",value:new THREE.Vector4(0,0,1,1)},lightMap:{type:"t",value:null},specularMap:{type:"t",value:null},envMap:{type:"t",value:null},flipEnvMap:{type:"f",value:-1},useRefract:{type:"i",value:0},reflectivity:{type:"f",value:1},refractionRatio:{type:"f",value:.98},combine:{type:"i",value:0},morphTargetInfluences:{type:"f",value:0}},bump:{bumpMap:{type:"t",value:null},bumpScale:{type:"f",value:1}},normalmap:{normalMap:{type:"t",value:null},normalScale:{type:"v2",value:new THREE.Vector2(1,1)}},fog:{fogDensity:{type:"f",value:25e-5},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},fogColor:{type:"c",value:new THREE.Color(16777215)}},lights:{ambientLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]},directionalLightColor:{type:"fv",value:[]},hemisphereLightDirection:{type:"fv",value:[]},hemisphereLightSkyColor:{type:"fv",value:[]},hemisphereLightGroundColor:{type:"fv",value:[]},pointLightColor:{type:"fv",value:[]},pointLightPosition:{type:"fv",value:[]},pointLightDistance:{type:"fv1",value:[]},spotLightColor:{type:"fv",value:[]},spotLightPosition:{type:"fv",value:[]},spotLightDirection:{type:"fv",value:[]},spotLightDistance:{type:"fv1",value:[]},spotLightAngleCos:{type:"fv1",value:[]},spotLightExponent:{type:"fv1",value:[]}},particle:{psColor:{type:"c",value:new THREE.Color(15658734)},opacity:{type:"f",value:1},size:{type:"f",value:1},scale:{type:"f",value:1},map:{type:"t",value:null},fogDensity:{type:"f",value:25e-5},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},fogColor:{type:"c",value:new THREE.Color(16777215)}},shadowmap:{shadowMap:{type:"tv",value:[]},shadowMapSize:{type:"v2v",value:[]},shadowBias:{type:"v3v",value:[]},shadowPara:{type:"v3v",value:[]},shadowDarkness:{type:"fv1",value:[]},shadowMatrix:{type:"m4v",value:[]}},uniTexture:{uniTexture_state:{type:"i",value:0},uniTexture_map:{type:"t",value:null},uniTexture_bs:{type:"f",value:20},uniTexture_scale:{type:"f",value:1},uniTexture_null_zone:{type:"v4",value:new THREE.Vector4(0,0,0,0)},uniTexture_MatrixRain_height_limit:{type:"v2",value:new THREE.Vector2(0,0)},uniTexture_MatrixRain_greenness:{type:"f",value:1}}};THREE.ShaderLib={basic:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib["common"],THREE.UniformsLib["fog"],THREE.UniformsLib["shadowmap"],THREE.UniformsLib["uniTexture"]]),vertexShader:[THREE.ShaderChunk["map_pars_vertex"],THREE.ShaderChunk["lightmap_pars_vertex"],THREE.ShaderChunk["envmap_pars_vertex"],THREE.ShaderChunk["color_pars_vertex"],THREE.ShaderChunk["morphtarget_pars_vertex"],THREE.ShaderChunk["skinning_pars_vertex"],THREE.ShaderChunk["shadowmap_pars_vertex"],THREE.ShaderChunk["uniTexture_pars_vertex"],"void main() {",THREE.ShaderChunk["map_vertex"],THREE.ShaderChunk["lightmap_vertex"],THREE.ShaderChunk["color_vertex"],THREE.ShaderChunk["skinbase_vertex"],"#ifdef USE_ENVMAP",THREE.ShaderChunk["morphnormal_vertex"],THREE.ShaderChunk["skinnormal_vertex"],THREE.ShaderChunk["defaultnormal_vertex"],"#else","  #ifdef USE_SHADOWMAP","    normal_untransformed = mat3( modelMatrix[ 0 ].xyz, modelMatrix[ 1 ].xyz, modelMatrix[ 2 ].xyz ) * normal;","  #endif","#endif",THREE.ShaderChunk["morphtarget_vertex"],THREE.ShaderChunk["skinning_vertex"],THREE.ShaderChunk["default_vertex"],THREE.ShaderChunk["worldpos_vertex"],THREE.ShaderChunk["envmap_vertex"],THREE.ShaderChunk["shadowmap_vertex"],"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;","uniform float opacity;",THREE.ShaderChunk["color_pars_fragment"],THREE.ShaderChunk["map_pars_fragment"],THREE.ShaderChunk["lightmap_pars_fragment"],THREE.ShaderChunk["envmap_pars_fragment"],THREE.ShaderChunk["fog_pars_fragment"],THREE.ShaderChunk["shadowmap_pars_fragment"],THREE.ShaderChunk["specularmap_pars_fragment"],THREE.ShaderChunk["uniTexture_pars_fragment"],THREE.ShaderChunk["AT_depth_render_mode_pars_fragment"],"void main() {",THREE.ShaderChunk["AT_depth_render_mode_fragment"],"gl_FragColor = vec4( diffuse, opacity );",THREE.ShaderChunk["map_fragment"],THREE.ShaderChunk["alphatest_fragment"],THREE.ShaderChunk["specularmap_fragment"],THREE.ShaderChunk["lightmap_fragment"],THREE.ShaderChunk["color_fragment"],THREE.ShaderChunk["envmap_fragment"],THREE.ShaderChunk["shadowmap_fragment"],THREE.ShaderChunk["linear_to_gamma_fragment"],THREE.ShaderChunk["uniTexture_fragment"],THREE.ShaderChunk["fog_fragment"],"}"].join("\n")},lambert:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib["common"],THREE.UniformsLib["fog"],THREE.UniformsLib["lights"],THREE.UniformsLib["shadowmap"],THREE.UniformsLib["uniTexture"],{ambient:{type:"c",value:new THREE.Color(16777215)},emissive:{type:"c",value:new THREE.Color(0)},wrapRGB:{type:"v3",value:new THREE.Vector3(1,1,1)}}]),vertexShader:["#define LAMBERT","varying vec3 vLightFront;","#ifdef DOUBLE_SIDED","varying vec3 vLightBack;","#endif",THREE.ShaderChunk["map_pars_vertex"],THREE.ShaderChunk["lightmap_pars_vertex"],THREE.ShaderChunk["envmap_pars_vertex"],THREE.ShaderChunk["lights_lambert_pars_vertex"],THREE.ShaderChunk["color_pars_vertex"],THREE.ShaderChunk["morphtarget_pars_vertex"],THREE.ShaderChunk["skinning_pars_vertex"],THREE.ShaderChunk["shadowmap_pars_vertex"],THREE.ShaderChunk["uniTexture_pars_vertex"],"void main() {",THREE.ShaderChunk["map_vertex"],THREE.ShaderChunk["lightmap_vertex"],THREE.ShaderChunk["color_vertex"],THREE.ShaderChunk["morphnormal_vertex"],THREE.ShaderChunk["skinbase_vertex"],THREE.ShaderChunk["skinnormal_vertex"],THREE.ShaderChunk["defaultnormal_vertex"],THREE.ShaderChunk["morphtarget_vertex"],THREE.ShaderChunk["skinning_vertex"],THREE.ShaderChunk["default_vertex"],THREE.ShaderChunk["worldpos_vertex"],THREE.ShaderChunk["envmap_vertex"],THREE.ShaderChunk["lights_lambert_vertex"],THREE.ShaderChunk["shadowmap_vertex"],"}"].join("\n"),fragmentShader:["uniform float opacity;","varying vec3 vLightFront;","#ifdef DOUBLE_SIDED","varying vec3 vLightBack;","#endif",THREE.ShaderChunk["color_pars_fragment"],THREE.ShaderChunk["map_pars_fragment"],THREE.ShaderChunk["lightmap_pars_fragment"],THREE.ShaderChunk["envmap_pars_fragment"],THREE.ShaderChunk["fog_pars_fragment"],THREE.ShaderChunk["shadowmap_pars_fragment"],THREE.ShaderChunk["specularmap_pars_fragment"],THREE.ShaderChunk["uniTexture_pars_fragment"],THREE.ShaderChunk["AT_depth_render_mode_pars_fragment"],"void main() {",THREE.ShaderChunk["AT_depth_render_mode_fragment"],"gl_FragColor = vec4( BASE_COLOR, opacity );",THREE.ShaderChunk["map_fragment"],THREE.ShaderChunk["alphatest_fragment"],THREE.ShaderChunk["specularmap_fragment"],"#ifdef DOUBLE_SIDED","if ( gl_FrontFacing )","gl_FragColor.xyz *= vLightFront;","else","gl_FragColor.xyz *= vLightBack;","#else","gl_FragColor.xyz *= vLightFront;","#endif",THREE.ShaderChunk["lightmap_fragment"],THREE.ShaderChunk["color_fragment"],THREE.ShaderChunk["envmap_fragment"],THREE.ShaderChunk["shadowmap_fragment"],THREE.ShaderChunk["linear_to_gamma_fragment"],THREE.ShaderChunk["uniTexture_fragment"],THREE.ShaderChunk["fog_fragment"],"}"].join("\n")},phong:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib["common"],THREE.UniformsLib["bump"],THREE.UniformsLib["normalmap"],THREE.UniformsLib["uniTexture"],{tDisplacement:{type:"t",value:null},uDisplacementBias:{type:"f",value:0},uDisplacementScale:{type:"f",value:1},uDisplacementCustomUVScale:{type:"f",value:0},uDisplacementCustomUVOffset:{type:"v2",value:new THREE.Vector2(0,0)},edgeRotateDisplacementL:{type:"f",value:0},edgeRotateDisplacementR:{type:"f",value:0},edgeScaleDisplacementU:{type:"f",value:1},waveBaseSpeed:{type:"f",value:0},waveNoiseTexture:{type:"t",value:null},waveNoiseScale:{type:"f",value:.5337},waveBumpScale:{type:"f",value:5},time:{type:"f",value:0},waveDrops:{type:"v4v",value:[]},mirrorSampler:{type:"t",value:null},mirrorTextureMatrix:{type:"m4",value:new THREE.Matrix4},reflection_alpha:{type:"f",value:1}},THREE.UniformsLib["fog"],THREE.UniformsLib["lights"],THREE.UniformsLib["shadowmap"],{ambient:{type:"c",value:new THREE.Color(16777215)},emissive:{type:"c",value:new THREE.Color(0)},specular:{type:"c",value:new THREE.Color(1118481)},shininess:{type:"f",value:30},wrapRGB:{type:"v3",value:new THREE.Vector3(1,1,1)}}]),vertexShader:["#define PHONG","varying vec3 vViewPosition;","varying vec3 vNormal;",THREE.ShaderChunk["map_pars_vertex"],THREE.ShaderChunk["lightmap_pars_vertex"],THREE.ShaderChunk["envmap_pars_vertex"],THREE.ShaderChunk["lights_phong_pars_vertex"],THREE.ShaderChunk["color_pars_vertex"],THREE.ShaderChunk["morphtarget_pars_vertex"],THREE.ShaderChunk["skinning_pars_vertex"],THREE.ShaderChunk["shadowmap_pars_vertex"],"#if defined( VERTEX_TEXTURES ) && defined( USE_DISPLACEMENTMAP )","uniform sampler2D tDisplacement;","uniform float uDisplacementScale;","uniform float uDisplacementBias;","uniform float uDisplacementCustomUVScale;","uniform vec2 uDisplacementCustomUVOffset;","uniform float edgeRotateDisplacementL;","uniform float edgeRotateDisplacementR;","uniform float edgeScaleDisplacementU;","vec3 rotate_vector( vec4 quat, vec3 vec ) {","  return vec + 2.0 * cross( cross( vec, quat.xyz ) + quat.w * vec, quat.xyz );","}","#endif","#if defined( VERTEX_TEXTURES ) && defined( USE_WAVE_TEXTURE )","uniform sampler2D waveNoiseTexture;","uniform float waveBumpScale;","uniform float time;","uniform vec4 waveDrops[RIPPLE_MAX];","#endif","#ifdef USE_MIRROR_TEXTURE","uniform mat4 mirrorTextureMatrix;","varying vec4 mirrorCoord;","#endif",THREE.ShaderChunk["uniTexture_pars_vertex"],"void main() {",THREE.ShaderChunk["map_vertex"],THREE.ShaderChunk["lightmap_vertex"],THREE.ShaderChunk["color_vertex"],THREE.ShaderChunk["morphnormal_vertex"],THREE.ShaderChunk["skinbase_vertex"],THREE.ShaderChunk["skinnormal_vertex"],THREE.ShaderChunk["defaultnormal_vertex"],"vNormal = normalize( transformedNormal );",THREE.ShaderChunk["morphtarget_vertex"],THREE.ShaderChunk["skinning_vertex"],"#if defined( VERTEX_TEXTURES ) && ( defined( USE_DISPLACEMENTMAP ) || defined( USE_WAVE_TEXTURE ) )","vec3 displacedPosition;","#endif","#if defined( VERTEX_TEXTURES ) && defined( USE_DISPLACEMENTMAP )","float df = uDisplacementScale * texture2D( tDisplacement, ((uDisplacementCustomUVScale>0.0) ? uDisplacementCustomUVOffset + uv * uDisplacementCustomUVScale : vUv) ).r + uDisplacementBias;","if ((edgeScaleDisplacementU != 1.0) && (uv.y > 0.95)) {","  df *= mix(1.0, edgeScaleDisplacementU, 20.0*(uv.y-0.95));","}","float a_half = 0.0;","if (uv.x < 0.05) {","  a_half = mix(edgeRotateDisplacementL*0.5, 0.0, 20.0*uv.x);","}","else if (uv.x > 0.95) {","  a_half = mix(0.0, edgeRotateDisplacementR*0.5, 20.0*(uv.x-0.95));","}","if (a_half != 0.0) {","  vec4 quat = vec4(0.0, sin(a_half), 0.0, cos(a_half));","  displacedPosition = position + rotate_vector(quat, normalize(normal)) * df;","  vNormal = rotate_vector(quat, vNormal);","}","else {","  displacedPosition = position + normalize( normal ) * df;","}","#endif","#if defined( VERTEX_TEXTURES ) && defined( USE_WAVE_TEXTURE )","vec2 uvTimeShift = vUv + vec2( 1.1, 1.9 ) * time * 0.15;","vec4 bumpData = texture2D( waveNoiseTexture, mod(uvTimeShift,1.0) );","float displacement = (bumpData.g - 0.25) * waveBumpScale;","float drop_count = 0.0;","vec3 normal_total = vec3(0.0, 0.0, 0.0);","for (int i = 0; i < RIPPLE_MAX; i++) {","  if (waveDrops[i].z > 0.0) {","vec4 _position = modelMatrix * vec4( position, 1.0 );","float dist = distance(_position.xz, waveDrops[i].xy) / RIPPLE_RANGE;","float angle = -( ((4.0 / (1.0 + pow(2.0, dist * 50.0 - waveDrops[i].w))) * 3.14159265359)  + 1.5707963267948966192313216916398 );","float wave = (sin(angle)+1.0)*0.5;","float amp = pow(2.0, -dist * 8.0) * waveDrops[i].z;","displacement += wave * amp;","vec2 dir = normalize(_position.xz - waveDrops[i].xy) * (-amp * 256.0 * cos(angle));","drop_count += 1.0;","normal_total += vec3(dir, 1.0);","  }","}","if (drop_count > 0.0) { vNormal = normalMatrix * normalize(normal_total / drop_count); }","#ifdef USE_DISPLACEMENTMAP","  displacedPosition = displacedPosition + normal * displacement;","#else","  displacedPosition = position + normal * displacement;","#endif","#endif",THREE.ShaderChunk["default_vertex"],"vViewPosition = -mvPosition.xyz;",THREE.ShaderChunk["worldpos_vertex"],THREE.ShaderChunk["envmap_vertex"],THREE.ShaderChunk["lights_phong_vertex"],THREE.ShaderChunk["shadowmap_vertex"],"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;","uniform float opacity;","uniform vec3 ambient;","uniform vec3 emissive;","uniform vec3 specular;","uniform float shininess;","#if defined( VERTEX_TEXTURES ) && defined( USE_WAVE_TEXTURE )","uniform float waveBaseSpeed;","uniform sampler2D waveNoiseTexture;","uniform float waveNoiseScale;","uniform float time;","#endif","#ifdef USE_MIRROR_TEXTURE","uniform sampler2D mirrorSampler;","uniform float reflection_alpha;","varying vec4 mirrorCoord;","#endif",THREE.ShaderChunk["color_pars_fragment"],THREE.ShaderChunk["map_pars_fragment"],THREE.ShaderChunk["lightmap_pars_fragment"],THREE.ShaderChunk["envmap_pars_fragment"],THREE.ShaderChunk["fog_pars_fragment"],THREE.ShaderChunk["lights_phong_pars_fragment"],THREE.ShaderChunk["shadowmap_pars_fragment"],THREE.ShaderChunk["bumpmap_pars_fragment"],THREE.ShaderChunk["normalmap_pars_fragment"],THREE.ShaderChunk["specularmap_pars_fragment"],THREE.ShaderChunk["uniTexture_pars_fragment"],THREE.ShaderChunk["AT_depth_render_mode_pars_fragment"],"void main() {",THREE.ShaderChunk["AT_depth_render_mode_fragment"],"gl_FragColor = vec4( BASE_COLOR, opacity );",THREE.ShaderChunk["map_fragment"],THREE.ShaderChunk["alphatest_fragment"],THREE.ShaderChunk["specularmap_fragment"],"#ifdef USE_MIRROR_TEXTURE","if (reflection_alpha > 0.0) {","vec4 mirror_color = texture2DProj(mirrorSampler, mirrorCoord);","gl_FragColor = vec4(mix(mirror_color.rgb, gl_FragColor.rgb, gl_FragColor.a * (1.0 - mirror_color.a*reflection_alpha)), gl_FragColor.a + ((1.0-gl_FragColor.a) * mirror_color.a*reflection_alpha));","}","#endif",THREE.ShaderChunk["lights_phong_fragment"],THREE.ShaderChunk["lightmap_fragment"],THREE.ShaderChunk["color_fragment"],THREE.ShaderChunk["envmap_fragment"],THREE.ShaderChunk["shadowmap_fragment"],THREE.ShaderChunk["linear_to_gamma_fragment"],THREE.ShaderChunk["uniTexture_fragment"],THREE.ShaderChunk["fog_fragment"],"}"].join("\n")},particle_basic:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib["particle"],THREE.UniformsLib["shadowmap"]]),vertexShader:["uniform float size;","uniform float scale;",THREE.ShaderChunk["color_pars_vertex"],THREE.ShaderChunk["shadowmap_pars_vertex"],"void main() {",THREE.ShaderChunk["color_vertex"],"vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","#ifdef USE_SIZEATTENUATION","gl_PointSize = size * ( scale / length( mvPosition.xyz ) );","#else","gl_PointSize = size;","#endif","gl_Position = projectionMatrix * mvPosition;",THREE.ShaderChunk["worldpos_vertex"],THREE.ShaderChunk["shadowmap_vertex"],"}"].join("\n"),fragmentShader:["uniform vec3 psColor;","uniform float opacity;",THREE.ShaderChunk["color_pars_fragment"],THREE.ShaderChunk["map_particle_pars_fragment"],THREE.ShaderChunk["fog_pars_fragment"],THREE.ShaderChunk["shadowmap_pars_fragment"],"void main() {","gl_FragColor = vec4( psColor, opacity );",THREE.ShaderChunk["map_particle_fragment"],THREE.ShaderChunk["alphatest_fragment"],THREE.ShaderChunk["color_fragment"],THREE.ShaderChunk["shadowmap_fragment"],THREE.ShaderChunk["fog_fragment"],"}"].join("\n")},dashed:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib["common"],THREE.UniformsLib["fog"],{scale:{type:"f",value:1},dashSize:{type:"f",value:1},totalSize:{type:"f",value:2}}]),vertexShader:["uniform float scale;","attribute float lineDistance;","varying float vLineDistance;",THREE.ShaderChunk["color_pars_vertex"],"void main() {",THREE.ShaderChunk["color_vertex"],"vLineDistance = scale * lineDistance;","vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","gl_Position = projectionMatrix * mvPosition;","}"].join("\n"),fragmentShader:["uniform vec3 diffuse;","uniform float opacity;","uniform float dashSize;","uniform float totalSize;","varying float vLineDistance;",THREE.ShaderChunk["color_pars_fragment"],THREE.ShaderChunk["fog_pars_fragment"],THREE.ShaderChunk["AT_depth_render_mode_pars_fragment"],"void main() {",THREE.ShaderChunk["AT_depth_render_mode_fragment"],"if ( mod( vLineDistance, totalSize ) > dashSize ) {","discard;","}","gl_FragColor = vec4( diffuse, opacity );",THREE.ShaderChunk["color_fragment"],THREE.ShaderChunk["fog_fragment"],"}"].join("\n")},depth:{uniforms:{mNear:{type:"f",value:1},mFar:{type:"f",value:2e3},opacity:{type:"f",value:1}},vertexShader:["void main() {","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float mNear;","uniform float mFar;","uniform float opacity;",THREE.ShaderChunk["packing"],"void main() {","gl_FragColor = packDepthToRGBA( gl_FragCoord.z );","}"].join("\n")},normal:{uniforms:{opacity:{type:"f",value:1}},vertexShader:["varying vec3 vNormal;",THREE.ShaderChunk["morphtarget_pars_vertex"],"void main() {","vNormal = normalize( normalMatrix * normal );",THREE.ShaderChunk["morphtarget_vertex"],THREE.ShaderChunk["default_vertex"],"}"].join("\n"),fragmentShader:["uniform float opacity;","varying vec3 vNormal;","void main() {","gl_FragColor = vec4( 0.5 * normalize( vNormal ) + 0.5, opacity );","}"].join("\n")},normalmap:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib["fog"],THREE.UniformsLib["lights"],THREE.UniformsLib["shadowmap"],{enableAO:{type:"i",value:0},enableDiffuse:{type:"i",value:0},enableSpecular:{type:"i",value:0},enableReflection:{type:"i",value:0},enableDisplacement:{type:"i",value:0},tDisplacement:{type:"t",value:null},tDiffuse:{type:"t",value:null},tCube:{type:"t",value:null},tNormal:{type:"t",value:null},tSpecular:{type:"t",value:null},tAO:{type:"t",value:null},uNormalScale:{type:"v2",value:new THREE.Vector2(1,1)},uDisplacementBias:{type:"f",value:0},uDisplacementScale:{type:"f",value:1},uDiffuseColor:{type:"c",value:new THREE.Color(16777215)},uSpecularColor:{type:"c",value:new THREE.Color(1118481)},uAmbientColor:{type:"c",value:new THREE.Color(16777215)},uShininess:{type:"f",value:30},uOpacity:{type:"f",value:1},useRefract:{type:"i",value:0},uRefractionRatio:{type:"f",value:.98},uReflectivity:{type:"f",value:.5},uOffset:{type:"v2",value:new THREE.Vector2(0,0)},uRepeat:{type:"v2",value:new THREE.Vector2(1,1)},wrapRGB:{type:"v3",value:new THREE.Vector3(1,1,1)}}]),fragmentShader:["uniform vec3 uAmbientColor;","uniform vec3 uDiffuseColor;","uniform vec3 uSpecularColor;","uniform float uShininess;","uniform float uOpacity;","uniform bool enableDiffuse;","uniform bool enableSpecular;","uniform bool enableAO;","uniform bool enableReflection;","uniform sampler2D tDiffuse;","uniform sampler2D tNormal;","uniform sampler2D tSpecular;","uniform sampler2D tAO;","uniform samplerCube tCube;","uniform vec2 uNormalScale;","uniform bool useRefract;","uniform float uRefractionRatio;","uniform float uReflectivity;","varying vec3 vTangent;","varying vec3 vBinormal;","varying vec3 vNormal;","varying vec2 vUv;","uniform vec3 ambientLightColor;","#if MAX_DIR_LIGHTS > 0","uniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];","uniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];","#endif","#if MAX_HEMI_LIGHTS > 0","uniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];","uniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];","uniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];","#endif","#if MAX_POINT_LIGHTS > 0","uniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];","uniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];","uniform float pointLightDistance[ MAX_POINT_LIGHTS ];","#endif","#if MAX_SPOT_LIGHTS > 0","uniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];","uniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];","uniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];","uniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];","uniform float spotLightExponent[ MAX_SPOT_LIGHTS ];","uniform float spotLightDistance[ MAX_SPOT_LIGHTS ];","#endif","#ifdef WRAP_AROUND","uniform vec3 wrapRGB;","#endif","varying vec3 vWorldPosition;","varying vec3 vViewPosition;",THREE.ShaderChunk["shadowmap_pars_fragment"],THREE.ShaderChunk["fog_pars_fragment"],"void main() {","gl_FragColor = vec4( vec3( 1.0 ), uOpacity );","vec3 specularTex = vec3( 1.0 );","vec3 normalTex = texture2D( tNormal, vUv ).xyz * 2.0 - 1.0;","normalTex.xy *= uNormalScale;","normalTex = normalize( normalTex );","if( enableDiffuse ) {","#ifdef GAMMA_INPUT","vec4 texelColor = texture2D( tDiffuse, vUv );","texelColor.xyz *= texelColor.xyz;","gl_FragColor = gl_FragColor * texelColor;","#else","gl_FragColor = gl_FragColor * texture2D( tDiffuse, vUv );","#endif","}","if( enableAO ) {","#ifdef GAMMA_INPUT","vec4 aoColor = texture2D( tAO, vUv );","aoColor.xyz *= aoColor.xyz;","gl_FragColor.xyz = gl_FragColor.xyz * aoColor.xyz;","#else","gl_FragColor.xyz = gl_FragColor.xyz * texture2D( tAO, vUv ).xyz;","#endif","}","if( enableSpecular )","specularTex = texture2D( tSpecular, vUv ).xyz;","mat3 tsb = mat3( normalize( vTangent ), normalize( vBinormal ), normalize( vNormal ) );","vec3 finalNormal = tsb * normalTex;","#ifdef FLIP_SIDED","finalNormal = -finalNormal;","#endif","vec3 normal = normalize( finalNormal );","vec3 viewPosition = normalize( vViewPosition );","#if MAX_POINT_LIGHTS > 0","vec3 pointDiffuse = vec3( 0.0 );","vec3 pointSpecular = vec3( 0.0 );","for ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {","vec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );","vec3 pointVector = lPosition.xyz + vViewPosition.xyz;","float pointDistance = 1.0;","if ( pointLightDistance[ i ] > 0.0 )","pointDistance = 1.0 - min( ( length( pointVector ) / pointLightDistance[ i ] ), 1.0 );","pointVector = normalize( pointVector );","#ifdef WRAP_AROUND","float pointDiffuseWeightFull = max( dot( normal, pointVector ), 0.0 );","float pointDiffuseWeightHalf = max( 0.5 * dot( normal, pointVector ) + 0.5, 0.0 );","vec3 pointDiffuseWeight = mix( vec3 ( pointDiffuseWeightFull ), vec3( pointDiffuseWeightHalf ), wrapRGB );","#else","float pointDiffuseWeight = max( dot( normal, pointVector ), 0.0 );","#endif","pointDiffuse += pointDistance * pointLightColor[ i ] * uDiffuseColor * pointDiffuseWeight;","vec3 pointHalfVector = normalize( pointVector + viewPosition );","float pointDotNormalHalf = max( dot( normal, pointHalfVector ), 0.0 );","float pointSpecularWeight = specularTex.r * max( pow( pointDotNormalHalf, uShininess ), 0.0 );","#ifdef PHYSICALLY_BASED_SHADING","float specularNormalization = ( uShininess + 2.0001 ) / 8.0;","vec3 schlick = uSpecularColor + vec3( 1.0 - uSpecularColor ) * pow( 1.0 - dot( pointVector, pointHalfVector ), 5.0 );","pointSpecular += schlick * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * pointDistance * specularNormalization;","#else","pointSpecular += pointDistance * pointLightColor[ i ] * uSpecularColor * pointSpecularWeight * pointDiffuseWeight;","#endif","}","#endif","#if MAX_SPOT_LIGHTS > 0","vec3 spotDiffuse = vec3( 0.0 );","vec3 spotSpecular = vec3( 0.0 );","for ( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {","vec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );","vec3 spotVector = lPosition.xyz + vViewPosition.xyz;","float spotDistance = 1.0;","if ( spotLightDistance[ i ] > 0.0 )","spotDistance = 1.0 - min( ( length( spotVector ) / spotLightDistance[ i ] ), 1.0 );","spotVector = normalize( spotVector );","float spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - vWorldPosition ) );","if ( spotEffect > spotLightAngleCos[ i ] ) {","spotEffect = max( pow( spotEffect, spotLightExponent[ i ] ), 0.0 );","#ifdef WRAP_AROUND","float spotDiffuseWeightFull = max( dot( normal, spotVector ), 0.0 );","float spotDiffuseWeightHalf = max( 0.5 * dot( normal, spotVector ) + 0.5, 0.0 );","vec3 spotDiffuseWeight = mix( vec3 ( spotDiffuseWeightFull ), vec3( spotDiffuseWeightHalf ), wrapRGB );","#else","float spotDiffuseWeight = max( dot( normal, spotVector ), 0.0 );","#endif","spotDiffuse += spotDistance * spotLightColor[ i ] * uDiffuseColor * spotDiffuseWeight * spotEffect;","vec3 spotHalfVector = normalize( spotVector + viewPosition );","float spotDotNormalHalf = max( dot( normal, spotHalfVector ), 0.0 );","float spotSpecularWeight = specularTex.r * max( pow( spotDotNormalHalf, uShininess ), 0.0 );","#ifdef PHYSICALLY_BASED_SHADING","float specularNormalization = ( uShininess + 2.0001 ) / 8.0;","vec3 schlick = uSpecularColor + vec3( 1.0 - uSpecularColor ) * pow( 1.0 - dot( spotVector, spotHalfVector ), 5.0 );","spotSpecular += schlick * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * spotDistance * specularNormalization * spotEffect;","#else","spotSpecular += spotDistance * spotLightColor[ i ] * uSpecularColor * spotSpecularWeight * spotDiffuseWeight * spotEffect;","#endif","}","}","#endif","#if MAX_DIR_LIGHTS > 0","vec3 dirDiffuse = vec3( 0.0 );","vec3 dirSpecular = vec3( 0.0 );","for( int i = 0; i < MAX_DIR_LIGHTS; i++ ) {","vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );","vec3 dirVector = normalize( lDirection.xyz );","#ifdef WRAP_AROUND","float directionalLightWeightingFull = max( dot( normal, dirVector ), 0.0 );","float directionalLightWeightingHalf = max( 0.5 * dot( normal, dirVector ) + 0.5, 0.0 );","vec3 dirDiffuseWeight = mix( vec3( directionalLightWeightingFull ), vec3( directionalLightWeightingHalf ), wrapRGB );","#else","float dirDiffuseWeight = max( dot( normal, dirVector ), 0.0 );","#endif","dirDiffuse += directionalLightColor[ i ] * uDiffuseColor * dirDiffuseWeight;","vec3 dirHalfVector = normalize( dirVector + viewPosition );","float dirDotNormalHalf = max( dot( normal, dirHalfVector ), 0.0 );","float dirSpecularWeight = specularTex.r * max( pow( dirDotNormalHalf, uShininess ), 0.0 );","#ifdef PHYSICALLY_BASED_SHADING","float specularNormalization = ( uShininess + 2.0001 ) / 8.0;","vec3 schlick = uSpecularColor + vec3( 1.0 - uSpecularColor ) * pow( 1.0 - dot( dirVector, dirHalfVector ), 5.0 );","dirSpecular += schlick * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization;","#else","dirSpecular += directionalLightColor[ i ] * uSpecularColor * dirSpecularWeight * dirDiffuseWeight;","#endif","}","#endif","#if MAX_HEMI_LIGHTS > 0","vec3 hemiDiffuse  = vec3( 0.0 );","vec3 hemiSpecular = vec3( 0.0 );","for( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {","vec4 lDirection = viewMatrix * vec4( hemisphereLightDirection[ i ], 0.0 );","vec3 lVector = normalize( lDirection.xyz );","float dotProduct = dot( normal, lVector );","float hemiDiffuseWeight = 0.5 * dotProduct + 0.5;","vec3 hemiColor = mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );","hemiDiffuse += uDiffuseColor * hemiColor;","vec3 hemiHalfVectorSky = normalize( lVector + viewPosition );","float hemiDotNormalHalfSky = 0.5 * dot( normal, hemiHalfVectorSky ) + 0.5;","float hemiSpecularWeightSky = specularTex.r * max( pow( hemiDotNormalHalfSky, uShininess ), 0.0 );","vec3 lVectorGround = -lVector;","vec3 hemiHalfVectorGround = normalize( lVectorGround + viewPosition );","float hemiDotNormalHalfGround = 0.5 * dot( normal, hemiHalfVectorGround ) + 0.5;","float hemiSpecularWeightGround = specularTex.r * max( pow( hemiDotNormalHalfGround, uShininess ), 0.0 );","#ifdef PHYSICALLY_BASED_SHADING","float dotProductGround = dot( normal, lVectorGround );","float specularNormalization = ( uShininess + 2.0001 ) / 8.0;","vec3 schlickSky = uSpecularColor + vec3( 1.0 - uSpecularColor ) * pow( 1.0 - dot( lVector, hemiHalfVectorSky ), 5.0 );","vec3 schlickGround = uSpecularColor + vec3( 1.0 - uSpecularColor ) * pow( 1.0 - dot( lVectorGround, hemiHalfVectorGround ), 5.0 );","hemiSpecular += hemiColor * specularNormalization * ( schlickSky * hemiSpecularWeightSky * max( dotProduct, 0.0 ) + schlickGround * hemiSpecularWeightGround * max( dotProductGround, 0.0 ) );","#else","hemiSpecular += uSpecularColor * hemiColor * ( hemiSpecularWeightSky + hemiSpecularWeightGround ) * hemiDiffuseWeight;","#endif","}","#endif","vec3 totalDiffuse = vec3( 0.0 );","vec3 totalSpecular = vec3( 0.0 );","#if MAX_DIR_LIGHTS > 0","totalDiffuse += dirDiffuse;","totalSpecular += dirSpecular;","#endif","#if MAX_HEMI_LIGHTS > 0","totalDiffuse += hemiDiffuse;","totalSpecular += hemiSpecular;","#endif","#if MAX_POINT_LIGHTS > 0","totalDiffuse += pointDiffuse;","totalSpecular += pointSpecular;","#endif","#if MAX_SPOT_LIGHTS > 0","totalDiffuse += spotDiffuse;","totalSpecular += spotSpecular;","#endif","#ifdef METAL","gl_FragColor.xyz = gl_FragColor.xyz * ( totalDiffuse + ambientLightColor * uAmbientColor + totalSpecular );","#else","gl_FragColor.xyz = gl_FragColor.xyz * ( totalDiffuse + ambientLightColor * uAmbientColor ) + totalSpecular;","#endif","if ( enableReflection ) {","vec3 vReflect;","vec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );","if ( useRefract ) {","vReflect = refract( cameraToVertex, normal, uRefractionRatio );","} else {","vReflect = reflect( cameraToVertex, normal );","}","vec4 cubeColor = textureCube( tCube, vec3( -vReflect.x, vReflect.yz ) );","#ifdef GAMMA_INPUT","cubeColor.xyz *= cubeColor.xyz;","#endif","gl_FragColor.xyz = mix( gl_FragColor.xyz, cubeColor.xyz, specularTex.r * uReflectivity );","}",THREE.ShaderChunk["shadowmap_fragment"],THREE.ShaderChunk["linear_to_gamma_fragment"],THREE.ShaderChunk["fog_fragment"],"}"].join("\n"),vertexShader:["attribute vec4 tangent;","uniform vec2 uOffset;","uniform vec2 uRepeat;","uniform bool enableDisplacement;","#ifdef VERTEX_TEXTURES","uniform sampler2D tDisplacement;","uniform float uDisplacementScale;","uniform float uDisplacementBias;","#endif","varying vec3 vTangent;","varying vec3 vBinormal;","varying vec3 vNormal;","varying vec2 vUv;","varying vec3 vWorldPosition;","varying vec3 vViewPosition;",THREE.ShaderChunk["skinning_pars_vertex"],THREE.ShaderChunk["shadowmap_pars_vertex"],"void main() {",THREE.ShaderChunk["skinbase_vertex"],THREE.ShaderChunk["skinnormal_vertex"],"#ifdef USE_SKINNING","vNormal = normalize( normalMatrix * skinnedNormal.xyz );","vec4 skinnedTangent = skinMatrix * vec4( tangent.xyz, 0.0 );","vTangent = normalize( normalMatrix * skinnedTangent.xyz );","#else","vNormal = normalize( normalMatrix * normal );","vTangent = normalize( normalMatrix * tangent.xyz );","#endif","vBinormal = normalize( cross( vNormal, vTangent ) * tangent.w );","vUv = uv * uRepeat + uOffset;","vec3 displacedPosition;","#ifdef VERTEX_TEXTURES","if ( enableDisplacement ) {","vec3 dv = texture2D( tDisplacement, uv ).xyz;","float df = uDisplacementScale * dv.x + uDisplacementBias;","displacedPosition = position + normalize( normal ) * df;","} else {","#ifdef USE_SKINNING","vec4 skinVertex = vec4( position, 1.0 );","vec4 skinned  = boneMatX * skinVertex * skinWeight.x;","skinned \t  += boneMatY * skinVertex * skinWeight.y;","displacedPosition  = skinned.xyz;","#else","displacedPosition = position;","#endif","}","#else","#ifdef USE_SKINNING","vec4 skinVertex = vec4( position, 1.0 );","vec4 skinned  = boneMatX * skinVertex * skinWeight.x;","skinned \t  += boneMatY * skinVertex * skinWeight.y;","displacedPosition  = skinned.xyz;","#else","displacedPosition = position;","#endif","#endif","vec4 mvPosition = modelViewMatrix * vec4( displacedPosition, 1.0 );","vec4 worldPosition = modelMatrix * vec4( displacedPosition, 1.0 );","gl_Position = projectionMatrix * mvPosition;","vWorldPosition = worldPosition.xyz;","vViewPosition = -mvPosition.xyz;","#ifdef USE_SHADOWMAP","for( int i = 0; i < MAX_SHADOWS; i ++ ) {","vShadowCoord[ i ] = shadowMatrix[ i ] * worldPosition;","}","#endif","}"].join("\n")},cube:{uniforms:{tCube:{type:"t",value:null},tFlip:{type:"f",value:-1}},vertexShader:["varying vec3 vWorldPosition;","void main() {","vec4 worldPosition = modelMatrix * vec4( position, 1.0 );","vWorldPosition = worldPosition.xyz;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform samplerCube tCube;","uniform float tFlip;","varying vec3 vWorldPosition;","void main() {","gl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );","}"].join("\n")},depthRGBA:{uniforms:{},vertexShader:[THREE.ShaderChunk["morphtarget_pars_vertex"],THREE.ShaderChunk["skinning_pars_vertex"],"void main() {",THREE.ShaderChunk["skinbase_vertex"],THREE.ShaderChunk["morphtarget_vertex"],THREE.ShaderChunk["skinning_vertex"],THREE.ShaderChunk["default_vertex"],"}"].join("\n"),fragmentShader:[THREE.ShaderChunk["packing"],"void main() {","gl_FragColor = packDepthToRGBA( gl_FragCoord.z );","}"].join("\n")}};THREE.WebGLRenderer=function(e){e=e||{};if(e.canvas)e.canvas=document.getElementById(e.canvas);var n=e.canvas!==undefined?e.canvas:document.createElement("canvas"),w=e.precision!==undefined?e.precision:"highp",H=e.alpha!==undefined?e.alpha:true,D=e.premultipliedAlpha!==undefined?e.premultipliedAlpha:true,P=e.antialias!==undefined?e.antialias:false,L=e.stencil!==undefined?e.stencil:true,U=e.preserveDrawingBuffer!==undefined?e.preserveDrawingBuffer:false,i=new THREE.Color(e.clearColor||0),r=e.clearAlpha||0;this.domElement=n;this.context=null;this.devicePixelRatio=e.devicePixelRatio!==undefined?e.devicePixelRatio:window.devicePixelRatio!==undefined?window.devicePixelRatio:1;this.autoClear=true;this.autoClearColor=true;this.autoClearDepth=true;this.autoClearStencil=true;this.sortObjects=true;this.autoUpdateObjects=true;this.gammaInput=false;this.gammaOutput=false;this.physicallyBasedShading=false;this.shadowMapEnabled=false;this.shadowMapAutoUpdate=true;this.shadowMapType=THREE.PCFShadowMap;this.shadowMapCullFace=THREE.CullFaceFront;this.shadowMapDebug=false;this.shadowMapCascade=false;this.maxMorphTargets=8;this.maxMorphNormals=4;this.autoScaleCubemaps=true;this.renderPluginsPre=[];this.renderPluginsPost=[];this.info={memory:{programs:0,geometries:0,textures:0},render:{calls:0,vertices:0,faces:0,points:0}};var j=this,M=[],N=0,f=null,F=null,R=-1,S=null,c=null,O=0,z=0,a=-1,o=-1,s=-1,I=-1,V=-1,k=-1,l=-1,h=-1,B=null,Y=null,$=null,K=null,p=0,m=0,E=0,g=0,Q=0,Z=0,t={},J=new THREE.Frustum,A=new THREE.Matrix4,ee=new THREE.Matrix4,G=new THREE.Vector3,W=new THREE.Vector3,T=true,te={ambient:[0,0,0],directional:{length:0,colors:new Array,positions:new Array},point:{length:0,colors:new Array,positions:new Array,distances:new Array},spot:{length:0,colors:new Array,positions:new Array,distances:new Array,directions:new Array,anglesCos:new Array,exponents:new Array},hemi:{length:0,skyColors:new Array,groundColors:new Array,positions:new Array}};var st;var lt;var ie;var u;var re;var d;var v;Ei();gi();this.context=st;var ne=st.getParameter(st.MAX_TEXTURE_IMAGE_UNITS);var ae=st.getParameter(st.MAX_VERTEX_TEXTURE_IMAGE_UNITS);var oe=st.getParameter(st.MAX_TEXTURE_SIZE);var se=st.getParameter(st.MAX_CUBE_MAP_TEXTURE_SIZE);var le=d?st.getParameter(d.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0;var he=ae>0;var fe=he&&u;var ce=v?st.getParameter(st.COMPRESSED_TEXTURE_FORMATS):[];var ue=st.getShaderPrecisionFormat(st.VERTEX_SHADER,st.HIGH_FLOAT);var de=st.getShaderPrecisionFormat(st.VERTEX_SHADER,st.MEDIUM_FLOAT);var pe=st.getShaderPrecisionFormat(st.VERTEX_SHADER,st.LOW_FLOAT);var me=st.getShaderPrecisionFormat(st.FRAGMENT_SHADER,st.HIGH_FLOAT);var Ee=st.getShaderPrecisionFormat(st.FRAGMENT_SHADER,st.MEDIUM_FLOAT);var ge=st.getShaderPrecisionFormat(st.FRAGMENT_SHADER,st.LOW_FLOAT);var ve=st.getShaderPrecisionFormat(st.VERTEX_SHADER,st.HIGH_INT);var Te=st.getShaderPrecisionFormat(st.VERTEX_SHADER,st.MEDIUM_INT);var ye=st.getShaderPrecisionFormat(st.VERTEX_SHADER,st.LOW_INT);var _e=st.getShaderPrecisionFormat(st.FRAGMENT_SHADER,st.HIGH_INT);var Re=st.getShaderPrecisionFormat(st.FRAGMENT_SHADER,st.MEDIUM_INT);var xe=st.getShaderPrecisionFormat(st.FRAGMENT_SHADER,st.LOW_INT);var be=ue.precision>0&&me.precision>0;var He=de.precision>0&&Ee.precision>0;if(w==="highp"&&!be){if(He){w="mediump"}else{w="lowp"}}if(w==="mediump"&&!He){w="lowp"}this.getContext=function(){return st};this.supportsVertexTextures=function(){return he};this.supportsFloatTextures=function(){return u};this.supportsStandardDerivatives=function(){return re};this.supportsCompressedTextureS3TC=function(){return v};this.getMaxAnisotropy=function(){return le};this.getPrecision=function(){return w};this.setSize=function(e,t,i){n.width=e*this.devicePixelRatio;n.height=t*this.devicePixelRatio;if(this.devicePixelRatio!==1&&i!==false){n.style.width=e+"px";n.style.height=t+"px"}this.setViewport(0,0,n.width,n.height)};this.setViewport=function(e,t,i,r){p=e!==undefined?e:0;m=t!==undefined?t:0;E=i!==undefined?i:n.width;g=r!==undefined?r:n.height;st.viewport(p,m,E,g)};this.getViewportX=function(){return p};this.getViewportY=function(){return m};this.getViewportWidth=function(){return E};this.getViewportHeight=function(){return g};this.setScissor=function(e,t,i,r){st.scissor(e,t,i,r)};this.enableScissorTest=function(e){e?st.enable(st.SCISSOR_TEST):st.disable(st.SCISSOR_TEST)};this.setClearColor=function(e,t){i.set(e);r=t!==undefined?t:1;st.clearColor(i.r,i.g,i.b,r)};this.getClearColor=function(){return i};this.getClearAlpha=function(){return r};this.clear=function(e,t,i){var r=0;if(e===undefined||e)r|=st.COLOR_BUFFER_BIT;if(t===undefined||t)r|=st.DEPTH_BUFFER_BIT;if(i===undefined||i)r|=st.STENCIL_BUFFER_BIT;st.clear(r)};this.clearColor=function(){st.clear(st.COLOR_BUFFER_BIT)};this.clearTarget=function(e,t,i,r){this.setRenderTarget(e);this.clear(t,i,r)};this.addPostPlugin=function(e){e.init(this);this.renderPluginsPost.push(e)};this.addPrePlugin=function(e){e.init(this);this.renderPluginsPre.push(e)};this.updateShadowMap=function(e,t){f=null;s=-1;l=-1;h=-1;S=-1;R=-1;T=true;a=-1;o=-1;this.shadowMapPlugin.update(e,t)};function we(e){e.__webglVertexBuffer=st.createBuffer();e.__webglColorBuffer=st.createBuffer();j.info.memory.geometries++}function Me(e){e.__webglVertexBuffer=st.createBuffer();e.__webglColorBuffer=st.createBuffer();e.__webglLineDistanceBuffer=st.createBuffer();j.info.memory.geometries++}function Se(e){e.__webglVertexBuffer=st.createBuffer();e.__webglColorBuffer=st.createBuffer();e.__webglNormalBuffer=st.createBuffer();j.info.memory.geometries++}function Ae(e){e.__webglVertexBuffer=st.createBuffer();e.__webglNormalBuffer=st.createBuffer();e.__webglTangentBuffer=st.createBuffer();e.__webglColorBuffer=st.createBuffer();e.__webglUVBuffer=st.createBuffer();e.__webglUV2Buffer=st.createBuffer();e.__webglSkinIndicesBuffer=st.createBuffer();e.__webglSkinWeightsBuffer=st.createBuffer();e.__webglFaceBuffer=st.createBuffer();e.__webglLineBuffer=st.createBuffer();var t,i;if(e.numMorphTargets){e.__webglMorphTargetsBuffers=[];for(t=0,i=e.numMorphTargets;t<i;t++){e.__webglMorphTargetsBuffers.push(st.createBuffer())}}if(e.numMorphNormals){e.__webglMorphNormalsBuffers=[];for(t=0,i=e.numMorphNormals;t<i;t++){e.__webglMorphNormalsBuffers.push(st.createBuffer())}}j.info.memory.geometries++}var Ce=function(e){var t=e.target;t.removeEventListener("dispose",Ce);Ue(t);j.info.memory.geometries--};var De=function(e){var t=e.target;t.removeEventListener("dispose",De);Ne(t);j.info.memory.textures--};var Pe=function(e){var t=e.target;t.removeEventListener("dispose",Pe);Fe(t);j.info.memory.textures--};var Le=function(e){var t=e.target;t.removeEventListener("dispose",Le);Oe(t)};var Ue=function(e){e.__webglInit=undefined;if(e.__webglVertexBuffer!==undefined)st.deleteBuffer(e.__webglVertexBuffer);if(e.__webglNormalBuffer!==undefined)st.deleteBuffer(e.__webglNormalBuffer);if(e.__webglTangentBuffer!==undefined)st.deleteBuffer(e.__webglTangentBuffer);if(e.__webglColorBuffer!==undefined)st.deleteBuffer(e.__webglColorBuffer);if(e.__webglUVBuffer!==undefined)st.deleteBuffer(e.__webglUVBuffer);if(e.__webglUV2Buffer!==undefined)st.deleteBuffer(e.__webglUV2Buffer);if(e.__webglSkinIndicesBuffer!==undefined)st.deleteBuffer(e.__webglSkinIndicesBuffer);if(e.__webglSkinWeightsBuffer!==undefined)st.deleteBuffer(e.__webglSkinWeightsBuffer);if(e.__webglFaceBuffer!==undefined)st.deleteBuffer(e.__webglFaceBuffer);if(e.__webglLineBuffer!==undefined)st.deleteBuffer(e.__webglLineBuffer);if(e.__webglLineDistanceBuffer!==undefined)st.deleteBuffer(e.__webglLineDistanceBuffer);if(e.geometryGroups!==undefined){for(var t in e.geometryGroups){var i=e.geometryGroups[t];if(i.numMorphTargets!==undefined){for(var r=0,n=i.numMorphTargets;r<n;r++){st.deleteBuffer(i.__webglMorphTargetsBuffers[r])}}if(i.numMorphNormals!==undefined){for(var r=0,n=i.numMorphNormals;r<n;r++){st.deleteBuffer(i.__webglMorphNormalsBuffers[r])}}ze(i)}}ze(e)};var Ne=function(e){if(e.image&&e.image.__webglTextureCube){st.deleteTexture(e.image.__webglTextureCube)}else{if(!e.__webglInit)return;e.__webglInit=false;st.deleteTexture(e.__webglTexture)}};var Fe=function(e){if(!e||!e.__webglTexture)return;st.deleteTexture(e.__webglTexture);if(e instanceof THREE.WebGLRenderTargetCube){for(var t=0;t<6;t++){st.deleteFramebuffer(e.__webglFramebuffer[t]);st.deleteRenderbuffer(e.__webglRenderbuffer[t])}}else{st.deleteFramebuffer(e.__webglFramebuffer);if(e.__webglRenderbuffer)st.deleteRenderbuffer(e.__webglRenderbuffer);if(e.__webglMSAAFramebuffer){st.deleteFramebuffer(e.__webglMSAAFramebuffer)}if(e.__webglMSAAColorbuffer){st.deleteRenderbuffer(e.__webglMSAAColorbuffer)}if(e.__webglMSAADepthbuffer){st.deleteRenderbuffer(e.__webglMSAADepthbuffer)}}};var Oe=function(e){var t=e.program;if(t===undefined)return;e.program=undefined;var i,r,n;var a=false;for(i=0,r=M.length;i<r;i++){n=M[i];if(n.program===t){n.usedTimes--;if(n.usedTimes===0){a=true}break}}if(a===true){var o=[];for(i=0,r=M.length;i<r;i++){n=M[i];if(n.program!==t){o.push(n)}}M=o;st.deleteProgram(t);j.info.memory.programs--}};function ze(e){if(e.__webglCustomAttributesList){for(var t in e.__webglCustomAttributesList){st.deleteBuffer(e.__webglCustomAttributesList[t].buffer)}}}function Ie(e,t){var i=e.vertices.length;var r=t.material;if(r.attributes){if(e.__webglCustomAttributesList===undefined){e.__webglCustomAttributesList=[]}for(var n in r.attributes){var a=r.attributes[n];if(!a.__webglInitialized||a.createUniqueBuffers){a.__webglInitialized=true;var o=1;if(a.type==="v2")o=2;else if(a.type==="v3")o=3;else if(a.type==="v4")o=4;else if(a.type==="c")o=3;a.size=o;a.array=new Float32Array(i*o);a.buffer=st.createBuffer();a.buffer.belongsToAttribute=n;a.needsUpdate=true}e.__webglCustomAttributesList.push(a)}}}function Ve(e,t){var i=e.vertices.length;e.__vertexArray=new Float32Array(i*3);e.__colorArray=new Float32Array(i*3);e.__sortArray=[];e.__webglParticleCount=i;Ie(e,t)}function ke(e,t){var i=e.vertices.length;e.__vertexArray=new Float32Array(i*3);e.__colorArray=new Float32Array(i*3);e.__lineDistanceArray=new Float32Array(i*1);e.__webglLineCount=i;Ie(e,t)}function Be(e,t){var i=e.vertices.length;e.__vertexArray=new Float32Array(i*3);e.__colorArray=new Float32Array(i*3);e.__normalArray=new Float32Array(i*3);e.__webglVertexCount=i;Ie(e,t)}function je(e,t){var i=t.geometry,r=e.faces3,n=e.faces4,a=r.length*3+n.length*4,o=r.length*1+n.length*2,s=r.length*3+n.length*4,l=y(t,e),h=ct(l),f=ht(l),c=ft(l);e.__vertexArray=new Float32Array(a*3);if(f){e.__normalArray=new Float32Array(a*3)}if(i.hasTangents){e.__tangentArray=new Float32Array(a*4)}if(c){e.__colorArray=new Float32Array(a*3)}if(h){if(i.faceUvs.length>0||i.faceVertexUvs.length>0){e.__uvArray=new Float32Array(a*2)}if(i.faceUvs.length>1||i.faceVertexUvs.length>1){e.__uv2Array=new Float32Array(a*2)}}if(t.geometry.skinWeights.length&&t.geometry.skinIndices.length){e.__skinIndexArray=new Float32Array(a*4);e.__skinWeightArray=new Float32Array(a*4)}e.__faceArray=new Uint16Array(o*3);e.__lineArray=new Uint16Array(s*2);var u,d;if(e.numMorphTargets){e.__morphTargetsArrays=[];for(u=0,d=e.numMorphTargets;u<d;u++){e.__morphTargetsArrays.push(new Float32Array(a*3))}}if(e.numMorphNormals){e.__morphNormalsArrays=[];for(u=0,d=e.numMorphNormals;u<d;u++){e.__morphNormalsArrays.push(new Float32Array(a*3))}}e.__webglFaceCount=o*3;e.__webglLineCount=s*2;if(l.attributes){if(e.__webglCustomAttributesList===undefined){e.__webglCustomAttributesList=[]}for(var p in l.attributes){var m=l.attributes[p];var E={};for(var g in m){E[g]=m[g]}if(!E.__webglInitialized||E.createUniqueBuffers){E.__webglInitialized=true;var v=1;if(E.type==="v2")v=2;else if(E.type==="v3")v=3;else if(E.type==="v4")v=4;else if(E.type==="c")v=3;E.size=v;E.array=new Float32Array(a*v);E.buffer=st.createBuffer();E.buffer.belongsToAttribute=p;m.needsUpdate=true;E.__original=m}e.__webglCustomAttributesList.push(E)}}e.__inittedArrays=true}function y(e,t){return e.material instanceof THREE.MeshFaceMaterial?e.material.materials[t.materialIndex]:e.material}function Ge(e){return e&&e.shading!==undefined&&e.shading===THREE.SmoothShading}function ht(e){if(e instanceof THREE.MeshBasicMaterial&&!e.envMap||e instanceof THREE.MeshDepthMaterial){return false}if(Ge(e)){return THREE.SmoothShading}else{return THREE.FlatShading}}function ft(e){if(e.vertexColors){return e.vertexColors}return false}function ct(e){if(e.map||e.lightMap||e.bumpMap||e.displacementMap||e.waveNoiseTexture||e.normalMap||e.specularMap||e instanceof THREE.ShaderMaterial){return true}return false}function We(e){var t,i,r;for(t in e.attributes){if(t==="index"){r=st.ELEMENT_ARRAY_BUFFER}else{r=st.ARRAY_BUFFER}i=e.attributes[t];i.buffer=st.createBuffer();st.bindBuffer(r,i.buffer);st.bufferData(r,i.array,st.STATIC_DRAW)}}function Xe(e,t,i){var r,n,a,o,s,l,h=e.vertices,f=h.length,c=e.colors,u=c.length,d=e.__vertexArray,p=e.__colorArray,m=e.__sortArray,E=e.verticesNeedUpdate,g=e.elementsNeedUpdate,v=e.colorsNeedUpdate,T=e.__webglCustomAttributesList,y,_,R,x,b,H,w;if(i.sortParticles){ee.copy(A);ee.multiply(i.matrixWorld);for(r=0;r<f;r++){a=h[r];G.copy(a);G.applyProjection(ee);m[r]=[G.z,r]}m.sort(ut);for(r=0;r<f;r++){a=h[m[r][1]];o=r*3;d[o]=a.x;d[o+1]=a.y;d[o+2]=a.z}for(n=0;n<u;n++){o=n*3;l=c[m[n][1]];p[o]=l.r;p[o+1]=l.g;p[o+2]=l.b}if(T){for(y=0,_=T.length;y<_;y++){w=T[y];if(!(w.boundTo===undefined||w.boundTo==="vertices"))continue;o=0;b=w.value.length;if(w.size===1){for(x=0;x<b;x++){s=m[x][1];w.array[x]=w.value[s]}}else if(w.size===2){for(x=0;x<b;x++){s=m[x][1];H=w.value[s];w.array[o]=H.x;w.array[o+1]=H.y;o+=2}}else if(w.size===3){if(w.type==="c"){for(x=0;x<b;x++){s=m[x][1];H=w.value[s];w.array[o]=H.r;w.array[o+1]=H.g;w.array[o+2]=H.b;o+=3}}else{for(x=0;x<b;x++){s=m[x][1];H=w.value[s];w.array[o]=H.x;w.array[o+1]=H.y;w.array[o+2]=H.z;o+=3}}}else if(w.size===4){for(x=0;x<b;x++){s=m[x][1];H=w.value[s];w.array[o]=H.x;w.array[o+1]=H.y;w.array[o+2]=H.z;w.array[o+3]=H.w;o+=4}}}}}else{if(E){for(r=0;r<f;r++){a=h[r];o=r*3;d[o]=a.x;d[o+1]=a.y;d[o+2]=a.z}}if(v){for(n=0;n<u;n++){l=c[n];o=n*3;p[o]=l.r;p[o+1]=l.g;p[o+2]=l.b}}if(T){for(y=0,_=T.length;y<_;y++){w=T[y];if(w.needsUpdate&&(w.boundTo===undefined||w.boundTo==="vertices")){b=w.value.length;o=0;if(w.size===1){for(x=0;x<b;x++){w.array[x]=w.value[x]}}else if(w.size===2){for(x=0;x<b;x++){H=w.value[x];w.array[o]=H.x;w.array[o+1]=H.y;o+=2}}else if(w.size===3){if(w.type==="c"){for(x=0;x<b;x++){H=w.value[x];w.array[o]=H.r;w.array[o+1]=H.g;w.array[o+2]=H.b;o+=3}}else{for(x=0;x<b;x++){H=w.value[x];w.array[o]=H.x;w.array[o+1]=H.y;w.array[o+2]=H.z;o+=3}}}else if(w.size===4){for(x=0;x<b;x++){H=w.value[x];w.array[o]=H.x;w.array[o+1]=H.y;w.array[o+2]=H.z;w.array[o+3]=H.w;o+=4}}}}}}if(E||i.sortParticles){st.bindBuffer(st.ARRAY_BUFFER,e.__webglVertexBuffer);st.bufferData(st.ARRAY_BUFFER,d,t)}if(v||i.sortParticles){st.bindBuffer(st.ARRAY_BUFFER,e.__webglColorBuffer);st.bufferData(st.ARRAY_BUFFER,p,t)}if(T){for(y=0,_=T.length;y<_;y++){w=T[y];if(w.needsUpdate||i.sortParticles){st.bindBuffer(st.ARRAY_BUFFER,w.buffer);st.bufferData(st.ARRAY_BUFFER,w.array,t)}}}}function qe(e,t){var i,r,n,a,o,s,l=e.vertices,h=e.colors,f=e.lineDistances,c=l.length,u=h.length,d=f.length,p=e.__vertexArray,m=e.__colorArray,E=e.__lineDistanceArray,g=e.verticesNeedUpdate,v=e.colorsNeedUpdate,T=e.lineDistancesNeedUpdate,y=e.__webglCustomAttributesList,_,R,x,b,H,w,M;if(g){for(i=0;i<c;i++){a=l[i];o=i*3;p[o]=a.x;p[o+1]=a.y;p[o+2]=a.z}st.bindBuffer(st.ARRAY_BUFFER,e.__webglVertexBuffer);st.bufferData(st.ARRAY_BUFFER,p,t)}if(v){for(r=0;r<u;r++){s=h[r];o=r*3;m[o]=s.r;m[o+1]=s.g;m[o+2]=s.b}st.bindBuffer(st.ARRAY_BUFFER,e.__webglColorBuffer);st.bufferData(st.ARRAY_BUFFER,m,t)}if(T){for(n=0;n<d;n++){E[n]=f[n]}st.bindBuffer(st.ARRAY_BUFFER,e.__webglLineDistanceBuffer);st.bufferData(st.ARRAY_BUFFER,E,t)}if(y){for(_=0,R=y.length;_<R;_++){M=y[_];if(M.needsUpdate&&(M.boundTo===undefined||M.boundTo==="vertices")){o=0;H=M.value.length;if(M.size===1){for(b=0;b<H;b++){M.array[b]=M.value[b]}}else if(M.size===2){for(b=0;b<H;b++){w=M.value[b];M.array[o]=w.x;M.array[o+1]=w.y;o+=2}}else if(M.size===3){if(M.type==="c"){for(b=0;b<H;b++){w=M.value[b];M.array[o]=w.r;M.array[o+1]=w.g;M.array[o+2]=w.b;o+=3}}else{for(b=0;b<H;b++){w=M.value[b];M.array[o]=w.x;M.array[o+1]=w.y;M.array[o+2]=w.z;o+=3}}}else if(M.size===4){for(b=0;b<H;b++){w=M.value[b];M.array[o]=w.x;M.array[o+1]=w.y;M.array[o+2]=w.z;M.array[o+3]=w.w;o+=4}}st.bindBuffer(st.ARRAY_BUFFER,M.buffer);st.bufferData(st.ARRAY_BUFFER,M.array,t)}}}}function Ye(e,t){var i,r,n,a,o,s,l,h,f,c,u,d,p,m=e.vertices,E=e.colors,g=e.normals,v=m.length,T=E.length,y=g.length,_=e.__vertexArray,R=e.__colorArray,x=e.__normalArray,b=e.verticesNeedUpdate,H=e.colorsNeedUpdate,w=e.normalsNeedUpdate,M=e.__webglCustomAttributesList;if(b){for(i=0;i<v;i++){a=m[i];o=i*3;_[o]=a.x;_[o+1]=a.y;_[o+2]=a.z}st.bindBuffer(st.ARRAY_BUFFER,e.__webglVertexBuffer);st.bufferData(st.ARRAY_BUFFER,_,t)}if(H){for(r=0;r<T;r++){s=E[r];o=r*3;R[o]=s.r;R[o+1]=s.g;R[o+2]=s.b}st.bindBuffer(st.ARRAY_BUFFER,e.__webglColorBuffer);st.bufferData(st.ARRAY_BUFFER,R,t)}if(w){for(n=0;n<y;n++){l=g[n];o=n*3;x[o]=l.x;x[o+1]=l.y;x[o+2]=l.z}st.bindBuffer(st.ARRAY_BUFFER,e.__webglNormalBuffer);st.bufferData(st.ARRAY_BUFFER,x,t)}if(M){for(h=0,f=M.length;h<f;h++){d=M[h];if(d.needsUpdate&&(d.boundTo===undefined||d.boundTo==="vertices")){o=0;u=d.value.length;if(d.size===1){for(c=0;c<u;c++){d.array[c]=d.value[c]}}else if(d.size===2){for(c=0;c<u;c++){p=d.value[c];d.array[o]=p.x;d.array[o+1]=p.y;o+=2}}else if(d.size===3){if(d.type==="c"){for(c=0;c<u;c++){p=d.value[c];d.array[o]=p.r;d.array[o+1]=p.g;d.array[o+2]=p.b;o+=3}}else{for(c=0;c<u;c++){p=d.value[c];d.array[o]=p.x;d.array[o+1]=p.y;d.array[o+2]=p.z;o+=3}}}else if(d.size===4){for(c=0;c<u;c++){p=d.value[c];d.array[o]=p.x;d.array[o+1]=p.y;d.array[o+2]=p.z;d.array[o+3]=p.w;o+=4}}st.bindBuffer(st.ARRAY_BUFFER,d.buffer);st.bufferData(st.ARRAY_BUFFER,d.array,t)}}}}function $e(t,F,e,O,z){if(!t.__inittedArrays){return}var I=ht(z),V=ft(z),k=ct(z),B=I===THREE.SmoothShading;var i,n,j,a,G,W,X,q,Y,$,K,Q,o,s,l,h,Z,J,ee,te,f,ie,re,ne,ae,oe,se,le,he,fe,ce,ue,de,pe,me,Ee,ge,ve,Te,ye,_e,Re,xe,be,He,we,r,Me,Se,Ae,Ce,c,De,u,d,Pe,Le,Ue,p=0,m=0,Ne=0,Fe=0,Oe=0,E=0,g=0,v=0,T=0,y=0,_=0,R=0,ze=0,x,b=t.__vertexArray,Ie=t.__uvArray,Ve=t.__uv2Array,ke=t.__normalArray,H=t.__tangentArray,w=t.__colorArray,M=t.__skinIndexArray,S=t.__skinWeightArray,Be=t.__morphTargetsArrays,je=t.__morphNormalsArrays,Ge=t.__webglCustomAttributesList,A,We=t.__faceArray,C=t.__lineArray,D=F.geometry,Xe=D.verticesNeedUpdate,qe=D.elementsNeedUpdate,Ye=D.uvsNeedUpdate,$e=D.normalsNeedUpdate,Ke=D.tangentsNeedUpdate,Qe=D.colorsNeedUpdate,Ze=D.morphTargetsNeedUpdate,Je=D.vertices,P=t.faces3,L=t.faces4,U=D.faces,et=D.faceVertexUvs[0],tt=D.faceVertexUvs[1],it=D.colors,rt=D.skinIndices,nt=D.skinWeights,at=D.morphTargets,ot=D.morphNormals;if(lt){if(t._vao){for(let e in t._vao)st.deleteVertexArray(t._vao[e].vao)}t._vao={}}if(Xe){for(i=0,n=P.length;i<n;i++){a=U[P[i]];o=Je[a.a];s=Je[a.b];l=Je[a.c];b[m]=o.x;b[m+1]=o.y;b[m+2]=o.z;b[m+3]=s.x;b[m+4]=s.y;b[m+5]=s.z;b[m+6]=l.x;b[m+7]=l.y;b[m+8]=l.z;m+=9}for(i=0,n=L.length;i<n;i++){a=U[L[i]];o=Je[a.a];s=Je[a.b];l=Je[a.c];h=Je[a.d];b[m]=o.x;b[m+1]=o.y;b[m+2]=o.z;b[m+3]=s.x;b[m+4]=s.y;b[m+5]=s.z;b[m+6]=l.x;b[m+7]=l.y;b[m+8]=l.z;b[m+9]=h.x;b[m+10]=h.y;b[m+11]=h.z;m+=12}st.bindBuffer(st.ARRAY_BUFFER,t.__webglVertexBuffer);st.bufferData(st.ARRAY_BUFFER,b,e)}if(Ze){z.morphTargets_dependency={};for(c=0,De=at.length;c<De;c++){_=0;let r=false;for(i=0,n=P.length;i<n;i++){Pe=P[i];a=U[Pe];o=at[c].vertices[a.a];s=at[c].vertices[a.b];l=at[c].vertices[a.c];u=Be[c];if(!u){continue}u[_]=o.x;u[_+1]=o.y;u[_+2]=o.z;u[_+3]=s.x;u[_+4]=s.y;u[_+5]=s.z;u[_+6]=l.x;u[_+7]=l.y;u[_+8]=l.z;if(!r){let e=Je[a.a];let t=Je[a.b];let i=Je[a.c];if(o.x!=e.x||o.y!=e.y||o.z!=e.z||s.x!=t.x||s.y!=t.y||s.z!=t.z||l.x!=i.x||l.y!=i.y||l.z!=i.z)r=true}if(z.morphNormals){if(B){Le=ot[c].vertexNormals[Pe];f=Le.a;ie=Le.b;re=Le.c}else{f=ot[c].faceNormals[Pe];ie=f;re=f}d=je[c];d[_]=f.x;d[_+1]=f.y;d[_+2]=f.z;d[_+3]=ie.x;d[_+4]=ie.y;d[_+5]=ie.z;d[_+6]=re.x;d[_+7]=re.y;d[_+8]=re.z}_+=9}for(i=0,n=L.length;i<n;i++){Pe=L[i];a=U[Pe];o=at[c].vertices[a.a];s=at[c].vertices[a.b];l=at[c].vertices[a.c];h=at[c].vertices[a.d];u=Be[c];u[_]=o.x;u[_+1]=o.y;u[_+2]=o.z;u[_+3]=s.x;u[_+4]=s.y;u[_+5]=s.z;u[_+6]=l.x;u[_+7]=l.y;u[_+8]=l.z;u[_+9]=h.x;u[_+10]=h.y;u[_+11]=h.z;if(z.morphNormals){if(B){Le=ot[c].vertexNormals[Pe];f=Le.a;ie=Le.b;re=Le.c;ne=Le.d}else{f=ot[c].faceNormals[Pe];ie=f;re=f;ne=f}d=je[c];d[_]=f.x;d[_+1]=f.y;d[_+2]=f.z;d[_+3]=ie.x;d[_+4]=ie.y;d[_+5]=ie.z;d[_+6]=re.x;d[_+7]=re.y;d[_+8]=re.z;d[_+9]=ne.x;d[_+10]=ne.y;d[_+11]=ne.z}_+=12}if(r)z.morphTargets_dependency[c]=true;st.bindBuffer(st.ARRAY_BUFFER,t.__webglMorphTargetsBuffers[c]);st.bufferData(st.ARRAY_BUFFER,Be[c],e);if(z.morphNormals){st.bindBuffer(st.ARRAY_BUFFER,t.__webglMorphNormalsBuffers[c]);st.bufferData(st.ARRAY_BUFFER,je[c],e)}}}if(nt.length){for(i=0,n=P.length;i<n;i++){a=U[P[i]];he=nt[a.a];fe=nt[a.b];ce=nt[a.c];S[y]=he.x;S[y+1]=he.y;S[y+2]=he.z;S[y+3]=he.w;S[y+4]=fe.x;S[y+5]=fe.y;S[y+6]=fe.z;S[y+7]=fe.w;S[y+8]=ce.x;S[y+9]=ce.y;S[y+10]=ce.z;S[y+11]=ce.w;de=rt[a.a];pe=rt[a.b];me=rt[a.c];M[y]=de.x;M[y+1]=de.y;M[y+2]=de.z;M[y+3]=de.w;M[y+4]=pe.x;M[y+5]=pe.y;M[y+6]=pe.z;M[y+7]=pe.w;M[y+8]=me.x;M[y+9]=me.y;M[y+10]=me.z;M[y+11]=me.w;y+=12}for(i=0,n=L.length;i<n;i++){a=U[L[i]];he=nt[a.a];fe=nt[a.b];ce=nt[a.c];ue=nt[a.d];S[y]=he.x;S[y+1]=he.y;S[y+2]=he.z;S[y+3]=he.w;S[y+4]=fe.x;S[y+5]=fe.y;S[y+6]=fe.z;S[y+7]=fe.w;S[y+8]=ce.x;S[y+9]=ce.y;S[y+10]=ce.z;S[y+11]=ce.w;S[y+12]=ue.x;S[y+13]=ue.y;S[y+14]=ue.z;S[y+15]=ue.w;de=rt[a.a];pe=rt[a.b];me=rt[a.c];Ee=rt[a.d];M[y]=de.x;M[y+1]=de.y;M[y+2]=de.z;M[y+3]=de.w;M[y+4]=pe.x;M[y+5]=pe.y;M[y+6]=pe.z;M[y+7]=pe.w;M[y+8]=me.x;M[y+9]=me.y;M[y+10]=me.z;M[y+11]=me.w;M[y+12]=Ee.x;M[y+13]=Ee.y;M[y+14]=Ee.z;M[y+15]=Ee.w;y+=16}if(y>0){st.bindBuffer(st.ARRAY_BUFFER,t.__webglSkinIndicesBuffer);st.bufferData(st.ARRAY_BUFFER,M,e);st.bindBuffer(st.ARRAY_BUFFER,t.__webglSkinWeightsBuffer);st.bufferData(st.ARRAY_BUFFER,S,e)}}if(Qe&&V){for(i=0,n=P.length;i<n;i++){a=U[P[i]];q=a.vertexColors;Y=a.color;if(q.length===3&&V===THREE.VertexColors){ae=q[0];oe=q[1];se=q[2]}else{ae=Y;oe=Y;se=Y}w[T]=ae.r;w[T+1]=ae.g;w[T+2]=ae.b;w[T+3]=oe.r;w[T+4]=oe.g;w[T+5]=oe.b;w[T+6]=se.r;w[T+7]=se.g;w[T+8]=se.b;T+=9}for(i=0,n=L.length;i<n;i++){a=U[L[i]];q=a.vertexColors;Y=a.color;if(q.length===4&&V===THREE.VertexColors){ae=q[0];oe=q[1];se=q[2];le=q[3]}else{ae=Y;oe=Y;se=Y;le=Y}w[T]=ae.r;w[T+1]=ae.g;w[T+2]=ae.b;w[T+3]=oe.r;w[T+4]=oe.g;w[T+5]=oe.b;w[T+6]=se.r;w[T+7]=se.g;w[T+8]=se.b;w[T+9]=le.r;w[T+10]=le.g;w[T+11]=le.b;T+=12}if(T>0){st.bindBuffer(st.ARRAY_BUFFER,t.__webglColorBuffer);st.bufferData(st.ARRAY_BUFFER,w,e)}}if(Ke&&D.hasTangents){for(i=0,n=P.length;i<n;i++){a=U[P[i]];$=a.vertexTangents;Z=$[0];J=$[1];ee=$[2];H[g]=Z.x;H[g+1]=Z.y;H[g+2]=Z.z;H[g+3]=Z.w;H[g+4]=J.x;H[g+5]=J.y;H[g+6]=J.z;H[g+7]=J.w;H[g+8]=ee.x;H[g+9]=ee.y;H[g+10]=ee.z;H[g+11]=ee.w;g+=12}for(i=0,n=L.length;i<n;i++){a=U[L[i]];$=a.vertexTangents;Z=$[0];J=$[1];ee=$[2];te=$[3];H[g]=Z.x;H[g+1]=Z.y;H[g+2]=Z.z;H[g+3]=Z.w;H[g+4]=J.x;H[g+5]=J.y;H[g+6]=J.z;H[g+7]=J.w;H[g+8]=ee.x;H[g+9]=ee.y;H[g+10]=ee.z;H[g+11]=ee.w;H[g+12]=te.x;H[g+13]=te.y;H[g+14]=te.z;H[g+15]=te.w;g+=16}st.bindBuffer(st.ARRAY_BUFFER,t.__webglTangentBuffer);st.bufferData(st.ARRAY_BUFFER,H,e)}if($e&&I){for(i=0,n=P.length;i<n;i++){a=U[P[i]];G=a.vertexNormals;W=a.normal;if(G.length===3&&B){for(r=0;r<3;r++){Se=G[r];ke[E]=Se.x;ke[E+1]=Se.y;ke[E+2]=Se.z;E+=3}}else{for(r=0;r<3;r++){ke[E]=W.x;ke[E+1]=W.y;ke[E+2]=W.z;E+=3}}}for(i=0,n=L.length;i<n;i++){a=U[L[i]];G=a.vertexNormals;W=a.normal;if(G.length===4&&B){for(r=0;r<4;r++){Se=G[r];ke[E]=Se.x;ke[E+1]=Se.y;ke[E+2]=Se.z;E+=3}}else{for(r=0;r<4;r++){ke[E]=W.x;ke[E+1]=W.y;ke[E+2]=W.z;E+=3}}}st.bindBuffer(st.ARRAY_BUFFER,t.__webglNormalBuffer);st.bufferData(st.ARRAY_BUFFER,ke,e)}if(Ye&&et&&k){for(i=0,n=P.length;i<n;i++){j=P[i];K=et[j];if(K===undefined)continue;for(r=0;r<3;r++){Ae=K[r];Ie[Ne]=Ae.x;Ie[Ne+1]=Ae.y;Ne+=2}}for(i=0,n=L.length;i<n;i++){j=L[i];K=et[j];if(K===undefined)continue;for(r=0;r<4;r++){Ae=K[r];Ie[Ne]=Ae.x;Ie[Ne+1]=Ae.y;Ne+=2}}if(Ne>0){st.bindBuffer(st.ARRAY_BUFFER,t.__webglUVBuffer);st.bufferData(st.ARRAY_BUFFER,Ie,e)}}if(Ye&&tt&&k){for(i=0,n=P.length;i<n;i++){j=P[i];Q=tt[j];if(Q===undefined)continue;for(r=0;r<3;r++){Ce=Q[r];Ve[Fe]=Ce.x;Ve[Fe+1]=Ce.y;Fe+=2}}for(i=0,n=L.length;i<n;i++){j=L[i];Q=tt[j];if(Q===undefined)continue;for(r=0;r<4;r++){Ce=Q[r];Ve[Fe]=Ce.x;Ve[Fe+1]=Ce.y;Fe+=2}}if(Fe>0){st.bindBuffer(st.ARRAY_BUFFER,t.__webglUV2Buffer);st.bufferData(st.ARRAY_BUFFER,Ve,e)}}if(qe){for(i=0,n=P.length;i<n;i++){We[Oe]=p;We[Oe+1]=p+1;We[Oe+2]=p+2;Oe+=3;C[v]=p;C[v+1]=p+1;C[v+2]=p;C[v+3]=p+2;C[v+4]=p+1;C[v+5]=p+2;v+=6;p+=3}for(i=0,n=L.length;i<n;i++){We[Oe]=p;We[Oe+1]=p+1;We[Oe+2]=p+3;We[Oe+3]=p+1;We[Oe+4]=p+2;We[Oe+5]=p+3;Oe+=6;C[v]=p;C[v+1]=p+1;C[v+2]=p;C[v+3]=p+3;C[v+4]=p+1;C[v+5]=p+2;C[v+6]=p+2;C[v+7]=p+3;v+=8;p+=4}st.bindBuffer(st.ELEMENT_ARRAY_BUFFER,t.__webglFaceBuffer);st.bufferData(st.ELEMENT_ARRAY_BUFFER,We,e);st.bindBuffer(st.ELEMENT_ARRAY_BUFFER,t.__webglLineBuffer);st.bufferData(st.ELEMENT_ARRAY_BUFFER,C,e)}if(Ge){for(r=0,Me=Ge.length;r<Me;r++){A=Ge[r];if(!A.__original.needsUpdate)continue;R=0;ze=0;if(A.size===1){if(A.boundTo===undefined||A.boundTo==="vertices"){for(i=0,n=P.length;i<n;i++){a=U[P[i]];A.array[R]=A.value[a.a];A.array[R+1]=A.value[a.b];A.array[R+2]=A.value[a.c];R+=3}for(i=0,n=L.length;i<n;i++){a=U[L[i]];A.array[R]=A.value[a.a];A.array[R+1]=A.value[a.b];A.array[R+2]=A.value[a.c];A.array[R+3]=A.value[a.d];R+=4}}else if(A.boundTo==="faces"){for(i=0,n=P.length;i<n;i++){x=A.value[P[i]];A.array[R]=x;A.array[R+1]=x;A.array[R+2]=x;R+=3}for(i=0,n=L.length;i<n;i++){x=A.value[L[i]];A.array[R]=x;A.array[R+1]=x;A.array[R+2]=x;A.array[R+3]=x;R+=4}}}else if(A.size===2){if(A.boundTo===undefined||A.boundTo==="vertices"){for(i=0,n=P.length;i<n;i++){a=U[P[i]];o=A.value[a.a];s=A.value[a.b];l=A.value[a.c];A.array[R]=o.x;A.array[R+1]=o.y;A.array[R+2]=s.x;A.array[R+3]=s.y;A.array[R+4]=l.x;A.array[R+5]=l.y;R+=6}for(i=0,n=L.length;i<n;i++){a=U[L[i]];o=A.value[a.a];s=A.value[a.b];l=A.value[a.c];h=A.value[a.d];A.array[R]=o.x;A.array[R+1]=o.y;A.array[R+2]=s.x;A.array[R+3]=s.y;A.array[R+4]=l.x;A.array[R+5]=l.y;A.array[R+6]=h.x;A.array[R+7]=h.y;R+=8}}else if(A.boundTo==="faces"){for(i=0,n=P.length;i<n;i++){x=A.value[P[i]];o=x;s=x;l=x;A.array[R]=o.x;A.array[R+1]=o.y;A.array[R+2]=s.x;A.array[R+3]=s.y;A.array[R+4]=l.x;A.array[R+5]=l.y;R+=6}for(i=0,n=L.length;i<n;i++){x=A.value[L[i]];o=x;s=x;l=x;h=x;A.array[R]=o.x;A.array[R+1]=o.y;A.array[R+2]=s.x;A.array[R+3]=s.y;A.array[R+4]=l.x;A.array[R+5]=l.y;A.array[R+6]=h.x;A.array[R+7]=h.y;R+=8}}}else if(A.size===3){var N;if(A.type==="c"){N=["r","g","b"]}else{N=["x","y","z"]}if(A.boundTo===undefined||A.boundTo==="vertices"){for(i=0,n=P.length;i<n;i++){a=U[P[i]];o=A.value[a.a];s=A.value[a.b];l=A.value[a.c];A.array[R]=o[N[0]];A.array[R+1]=o[N[1]];A.array[R+2]=o[N[2]];A.array[R+3]=s[N[0]];A.array[R+4]=s[N[1]];A.array[R+5]=s[N[2]];A.array[R+6]=l[N[0]];A.array[R+7]=l[N[1]];A.array[R+8]=l[N[2]];R+=9}for(i=0,n=L.length;i<n;i++){a=U[L[i]];o=A.value[a.a];s=A.value[a.b];l=A.value[a.c];h=A.value[a.d];A.array[R]=o[N[0]];A.array[R+1]=o[N[1]];A.array[R+2]=o[N[2]];A.array[R+3]=s[N[0]];A.array[R+4]=s[N[1]];A.array[R+5]=s[N[2]];A.array[R+6]=l[N[0]];A.array[R+7]=l[N[1]];A.array[R+8]=l[N[2]];A.array[R+9]=h[N[0]];A.array[R+10]=h[N[1]];A.array[R+11]=h[N[2]];R+=12}}else if(A.boundTo==="faces"){for(i=0,n=P.length;i<n;i++){x=A.value[P[i]];o=x;s=x;l=x;A.array[R]=o[N[0]];A.array[R+1]=o[N[1]];A.array[R+2]=o[N[2]];A.array[R+3]=s[N[0]];A.array[R+4]=s[N[1]];A.array[R+5]=s[N[2]];A.array[R+6]=l[N[0]];A.array[R+7]=l[N[1]];A.array[R+8]=l[N[2]];R+=9}for(i=0,n=L.length;i<n;i++){x=A.value[L[i]];o=x;s=x;l=x;h=x;A.array[R]=o[N[0]];A.array[R+1]=o[N[1]];A.array[R+2]=o[N[2]];A.array[R+3]=s[N[0]];A.array[R+4]=s[N[1]];A.array[R+5]=s[N[2]];A.array[R+6]=l[N[0]];A.array[R+7]=l[N[1]];A.array[R+8]=l[N[2]];A.array[R+9]=h[N[0]];A.array[R+10]=h[N[1]];A.array[R+11]=h[N[2]];R+=12}}else if(A.boundTo==="faceVertices"){for(i=0,n=P.length;i<n;i++){x=A.value[P[i]];o=x[0];s=x[1];l=x[2];A.array[R]=o[N[0]];A.array[R+1]=o[N[1]];A.array[R+2]=o[N[2]];A.array[R+3]=s[N[0]];A.array[R+4]=s[N[1]];A.array[R+5]=s[N[2]];A.array[R+6]=l[N[0]];A.array[R+7]=l[N[1]];A.array[R+8]=l[N[2]];R+=9}for(i=0,n=L.length;i<n;i++){x=A.value[L[i]];o=x[0];s=x[1];l=x[2];h=x[3];A.array[R]=o[N[0]];A.array[R+1]=o[N[1]];A.array[R+2]=o[N[2]];A.array[R+3]=s[N[0]];A.array[R+4]=s[N[1]];A.array[R+5]=s[N[2]];A.array[R+6]=l[N[0]];A.array[R+7]=l[N[1]];A.array[R+8]=l[N[2]];A.array[R+9]=h[N[0]];A.array[R+10]=h[N[1]];A.array[R+11]=h[N[2]];R+=12}}}else if(A.size===4){if(A.boundTo===undefined||A.boundTo==="vertices"){for(i=0,n=P.length;i<n;i++){a=U[P[i]];o=A.value[a.a];s=A.value[a.b];l=A.value[a.c];A.array[R]=o.x;A.array[R+1]=o.y;A.array[R+2]=o.z;A.array[R+3]=o.w;A.array[R+4]=s.x;A.array[R+5]=s.y;A.array[R+6]=s.z;A.array[R+7]=s.w;A.array[R+8]=l.x;A.array[R+9]=l.y;A.array[R+10]=l.z;A.array[R+11]=l.w;R+=12}for(i=0,n=L.length;i<n;i++){a=U[L[i]];o=A.value[a.a];s=A.value[a.b];l=A.value[a.c];h=A.value[a.d];A.array[R]=o.x;A.array[R+1]=o.y;A.array[R+2]=o.z;A.array[R+3]=o.w;A.array[R+4]=s.x;A.array[R+5]=s.y;A.array[R+6]=s.z;A.array[R+7]=s.w;A.array[R+8]=l.x;A.array[R+9]=l.y;A.array[R+10]=l.z;A.array[R+11]=l.w;A.array[R+12]=h.x;A.array[R+13]=h.y;A.array[R+14]=h.z;A.array[R+15]=h.w;R+=16}}else if(A.boundTo==="faces"){for(i=0,n=P.length;i<n;i++){x=A.value[P[i]];o=x;s=x;l=x;A.array[R]=o.x;A.array[R+1]=o.y;A.array[R+2]=o.z;A.array[R+3]=o.w;A.array[R+4]=s.x;A.array[R+5]=s.y;A.array[R+6]=s.z;A.array[R+7]=s.w;A.array[R+8]=l.x;A.array[R+9]=l.y;A.array[R+10]=l.z;A.array[R+11]=l.w;R+=12}for(i=0,n=L.length;i<n;i++){x=A.value[L[i]];o=x;s=x;l=x;h=x;A.array[R]=o.x;A.array[R+1]=o.y;A.array[R+2]=o.z;A.array[R+3]=o.w;A.array[R+4]=s.x;A.array[R+5]=s.y;A.array[R+6]=s.z;A.array[R+7]=s.w;A.array[R+8]=l.x;A.array[R+9]=l.y;A.array[R+10]=l.z;A.array[R+11]=l.w;A.array[R+12]=h.x;A.array[R+13]=h.y;A.array[R+14]=h.z;A.array[R+15]=h.w;R+=16}}else if(A.boundTo==="faceVertices"){for(i=0,n=P.length;i<n;i++){x=A.value[P[i]];o=x[0];s=x[1];l=x[2];A.array[R]=o.x;A.array[R+1]=o.y;A.array[R+2]=o.z;A.array[R+3]=o.w;A.array[R+4]=s.x;A.array[R+5]=s.y;A.array[R+6]=s.z;A.array[R+7]=s.w;A.array[R+8]=l.x;A.array[R+9]=l.y;A.array[R+10]=l.z;A.array[R+11]=l.w;R+=12}for(i=0,n=L.length;i<n;i++){x=A.value[L[i]];o=x[0];s=x[1];l=x[2];h=x[3];A.array[R]=o.x;A.array[R+1]=o.y;A.array[R+2]=o.z;A.array[R+3]=o.w;A.array[R+4]=s.x;A.array[R+5]=s.y;A.array[R+6]=s.z;A.array[R+7]=s.w;A.array[R+8]=l.x;A.array[R+9]=l.y;A.array[R+10]=l.z;A.array[R+11]=l.w;A.array[R+12]=h.x;A.array[R+13]=h.y;A.array[R+14]=h.z;A.array[R+15]=h.w;R+=16}}}st.bindBuffer(st.ARRAY_BUFFER,A.buffer);st.bufferData(st.ARRAY_BUFFER,A.array,e)}}if(O){delete t.__inittedArrays;delete t.__colorArray;delete t.__normalArray;delete t.__tangentArray;delete t.__uvArray;delete t.__uv2Array;delete t.__faceArray;delete t.__vertexArray;delete t.__lineArray;delete t.__skinIndexArray;delete t.__skinWeightArray}}function Ke(e,t,i){var r=e.attributes;var n,a;for(n in r){a=r[n];if(a.needsUpdate){if(n==="index"){st.bindBuffer(st.ELEMENT_ARRAY_BUFFER,a.buffer);st.bufferData(st.ELEMENT_ARRAY_BUFFER,a.array,t)}else{st.bindBuffer(st.ARRAY_BUFFER,a.buffer);st.bufferData(st.ARRAY_BUFFER,a.array,t)}a.needsUpdate=false}if(i&&!a.dynamic){delete a.array}}}this.renderBufferImmediate=function(e,t,i){if(e.hasPositions&&!e.__webglVertexBuffer)e.__webglVertexBuffer=st.createBuffer();if(e.hasNormals&&!e.__webglNormalBuffer)e.__webglNormalBuffer=st.createBuffer();if(e.hasUvs&&!e.__webglUvBuffer)e.__webglUvBuffer=st.createBuffer();if(e.hasColors&&!e.__webglColorBuffer)e.__webglColorBuffer=st.createBuffer();if(e.hasPositions){st.bindBuffer(st.ARRAY_BUFFER,e.__webglVertexBuffer);st.bufferData(st.ARRAY_BUFFER,e.positionArray,st.DYNAMIC_DRAW);st.enableVertexAttribArray(t.attributes.position);st.vertexAttribPointer(t.attributes.position,3,st.FLOAT,false,0,0)}if(e.hasNormals){st.bindBuffer(st.ARRAY_BUFFER,e.__webglNormalBuffer);if(i.shading===THREE.FlatShading){var r,n,a,o,s,l,h,f,c,u,d,p,m,E,g=e.count*3;for(E=0;E<g;E+=9){m=e.normalArray;o=m[E];h=m[E+1];u=m[E+2];s=m[E+3];f=m[E+4];d=m[E+5];l=m[E+6];c=m[E+7];p=m[E+8];r=(o+s+l)/3;n=(h+f+c)/3;a=(u+d+p)/3;m[E]=r;m[E+1]=n;m[E+2]=a;m[E+3]=r;m[E+4]=n;m[E+5]=a;m[E+6]=r;m[E+7]=n;m[E+8]=a}}st.bufferData(st.ARRAY_BUFFER,e.normalArray,st.DYNAMIC_DRAW);st.enableVertexAttribArray(t.attributes.normal);st.vertexAttribPointer(t.attributes.normal,3,st.FLOAT,false,0,0)}if(e.hasUvs&&i.map){st.bindBuffer(st.ARRAY_BUFFER,e.__webglUvBuffer);st.bufferData(st.ARRAY_BUFFER,e.uvArray,st.DYNAMIC_DRAW);st.enableVertexAttribArray(t.attributes.uv);st.vertexAttribPointer(t.attributes.uv,2,st.FLOAT,false,0,0)}if(e.hasColors&&i.vertexColors!==THREE.NoColors){st.bindBuffer(st.ARRAY_BUFFER,e.__webglColorBuffer);st.bufferData(st.ARRAY_BUFFER,e.colorArray,st.DYNAMIC_DRAW);st.enableVertexAttribArray(t.attributes.color);st.vertexAttribPointer(t.attributes.color,3,st.FLOAT,false,0,0)}st.drawArrays(st.TRIANGLES,0,e.count);e.count=0};this.renderBufferDirect=function(e,t,i,r,n,a){if(r.visible===false)return;var o,s,l,h,f,c,u;var d,p,m,E;o=Ut(e,t,i,r,a);s=o.attributes;u=n.attributes;var g=false,v=r.wireframe?1:0,T=n.id*16777215+o.id*2+v;if(T!==S){S=T;g=true}if(g){rt()}if(a instanceof THREE.Mesh){var y=u["index"];if(y){var _=n.offsets;if(_.length>1)g=true;for(var R=0,x=_.length;R<x;R++){var b=_[R].index;if(g){for(p in u){if(p==="index")continue;m=s[p];d=u[p];E=d.itemSize;if(m>=0){st.bindBuffer(st.ARRAY_BUFFER,d.buffer);C(m);st.vertexAttribPointer(m,E,st.FLOAT,false,0,b*E*4)}}st.bindBuffer(st.ELEMENT_ARRAY_BUFFER,y.buffer)}st.drawElements(st.TRIANGLES,_[R].count,st.UNSIGNED_SHORT,_[R].start*2);j.info.render.calls++;j.info.render.vertices+=_[R].count;j.info.render.faces+=_[R].count/3}}else{if(g){for(p in u){if(p==="index")continue;m=s[p];d=u[p];E=d.itemSize;if(m>=0){st.bindBuffer(st.ARRAY_BUFFER,d.buffer);C(m);st.vertexAttribPointer(m,E,st.FLOAT,false,0,0)}}}var H=n.attributes["position"];st.drawArrays(st.TRIANGLES,0,H.numItems/3);j.info.render.calls++;j.info.render.vertices+=H.numItems/3;j.info.render.faces+=H.numItems/3/3}}else if(a instanceof THREE.ParticleSystem){if(g){for(p in u){m=s[p];d=u[p];E=d.itemSize;if(m>=0){st.bindBuffer(st.ARRAY_BUFFER,d.buffer);C(m);st.vertexAttribPointer(m,E,st.FLOAT,false,0,0)}}var H=u["position"];st.drawArrays(st.POINTS,0,H.numItems/3);j.info.render.calls++;j.info.render.points+=H.numItems/3}}else if(a instanceof THREE.Line){if(g){for(p in u){m=s[p];d=u[p];E=d.itemSize;if(m>=0){st.bindBuffer(st.ARRAY_BUFFER,d.buffer);C(m);st.vertexAttribPointer(m,E,st.FLOAT,false,0,0)}}$t(r.linewidth);var H=u["position"];st.drawArrays(st.LINE_STRIP,0,H.numItems/3);j.info.render.calls++;j.info.render.points+=H.numItems}}};var x;var Qe=0,Ze=0,Je=0,et=0,tt=false;this.renderBuffer=function(e,t,i,r,n,a){if(r.visible===false)return;var o,s,l,h,f,c,u,d;o=Ut(e,t,i,r,a);s=o.attributes;var p=false,m=r.wireframe?1:0,E=n.id*16777215+o.id*2+m;if(E!==S){S=E;p=true}if(p){rt()}var g,v;tt=p;if(p){v=true;if(lt){g=n._vao;if(g){x=n._vao[E];if(!x){x=n._vao[E]={vao:st.createVertexArray(),morph_state:{},material_hidden:{}}}else{p=false}st.bindVertexArray(x.vao)}}}if(!r.morphTargets&&s.position>=0){if(p){st.bindBuffer(st.ARRAY_BUFFER,n.__webglVertexBuffer);C(s.position);st.vertexAttribPointer(s.position,3,st.FLOAT,false,0,0)}}else{if(a.morphTargetBase){nt(r,n,a,p)}}if(p){if(n.__webglCustomAttributesList){for(u=0,d=n.__webglCustomAttributesList.length;u<d;u++){c=n.__webglCustomAttributesList[u];if(s[c.buffer.belongsToAttribute]>=0){st.bindBuffer(st.ARRAY_BUFFER,c.buffer);C(s[c.buffer.belongsToAttribute]);st.vertexAttribPointer(s[c.buffer.belongsToAttribute],c.size,st.FLOAT,false,0,0)}}}if(s.color>=0){st.bindBuffer(st.ARRAY_BUFFER,n.__webglColorBuffer);C(s.color);st.vertexAttribPointer(s.color,3,st.FLOAT,false,0,0)}if(s.normal>=0){st.bindBuffer(st.ARRAY_BUFFER,n.__webglNormalBuffer);C(s.normal);st.vertexAttribPointer(s.normal,3,st.FLOAT,false,0,0)}if(s.tangent>=0){st.bindBuffer(st.ARRAY_BUFFER,n.__webglTangentBuffer);C(s.tangent);st.vertexAttribPointer(s.tangent,4,st.FLOAT,false,0,0)}if(s.uv>=0){st.bindBuffer(st.ARRAY_BUFFER,n.__webglUVBuffer);C(s.uv);st.vertexAttribPointer(s.uv,2,st.FLOAT,false,0,0)}if(s.uv2>=0){st.bindBuffer(st.ARRAY_BUFFER,n.__webglUV2Buffer);C(s.uv2);st.vertexAttribPointer(s.uv2,2,st.FLOAT,false,0,0)}if(r.skinning&&s.skinIndex>=0&&s.skinWeight>=0){st.bindBuffer(st.ARRAY_BUFFER,n.__webglSkinIndicesBuffer);C(s.skinIndex);st.vertexAttribPointer(s.skinIndex,4,st.FLOAT,false,0,0);st.bindBuffer(st.ARRAY_BUFFER,n.__webglSkinWeightsBuffer);C(s.skinWeight);st.vertexAttribPointer(s.skinWeight,4,st.FLOAT,false,0,0)}if(s.lineDistance>=0){st.bindBuffer(st.ARRAY_BUFFER,n.__webglLineDistanceBuffer);C(s.lineDistance);st.vertexAttribPointer(s.lineDistance,1,st.FLOAT,false,0,0)}}var T=false;if(ie&&a.instanced_drawing){T=true;for(let r=mt+Et;r!==gt;r+=Et){let e=pt[r];if(!e.render)continue;let t=vt||e.opaque||e.transparent;if(!t||!t.visible)continue;if(!t.program)break;let i=e.buffer.id*16777215+t.program.id*2+(t.wireframe?1:0);T=i!==S||t.id!==R;break}if(!v&&n.__instanced&&!n.__instanced._instances.length){v=true}if(v){if(!n.__instanced)n.__instanced=new it(o,a.instanced_drawing)}n.__instanced._instances.push({instance_index:[n.__instanced._instances.length],modelViewMatrix:a._modelViewMatrix.elements,modelMatrix:a.matrixWorld.elements,normalMatrix:a._normalMatrix.elements});if(T||n.__instanced._instances.length>=n.__instanced.instance_max){T=n.__instanced._instances.length;n.__instanced.update(o);p=true}else{return}}var y;d=r.passes||1;if(x&&r.passes){if(r.opacity<=0){x.material_hidden[r.id]=true}else if(x.material_hidden[r.id]){x.material_hidden[r.id]=false;p=tt}}for(u=0;u<d;u++){y=false;if(r.preRenderPass){y=r.preRenderPass(j,u)}if(!y){_()}if(r.postRenderPass){r.postRenderPass(j,u)}}function _(){if(a instanceof THREE.Mesh){if(r.wireframe){$t(r.wireframeLinewidth);if(p)st.bindBuffer(st.ELEMENT_ARRAY_BUFFER,n.__webglLineBuffer);st.drawElements(st.LINES,n.__webglLineCount,st.UNSIGNED_SHORT,0)}else{if(p)st.bindBuffer(st.ELEMENT_ARRAY_BUFFER,n.__webglFaceBuffer);if(T){st.drawElementsInstanced(st.TRIANGLES,n.__webglFaceCount,st.UNSIGNED_SHORT,0,T)}else st.drawElements(st.TRIANGLES,n.__webglFaceCount,st.UNSIGNED_SHORT,0)}j.info.render.calls++;j.info.render.vertices+=n.__webglFaceCount;j.info.render.faces+=n.__webglFaceCount/3}else if(a instanceof THREE.Line){h=a.type===THREE.LineStrip?st.LINE_STRIP:st.LINES;$t(r.linewidth);st.drawArrays(h,0,n.__webglLineCount);j.info.render.calls++}else if(a instanceof THREE.ParticleSystem){st.drawArrays(st.POINTS,0,n.__webglParticleCount);j.info.render.calls++;j.info.render.points+=n.__webglParticleCount}else if(a instanceof THREE.Ribbon){st.drawArrays(st.TRIANGLE_STRIP,0,n.__webglVertexCount);j.info.render.calls++}}};var it=function(){function e(e,t){this.attributes={instance_index:{type:"float"},modelViewMatrix:{type:"mat4"},modelMatrix:{type:"mat4"},normalMatrix:{type:"mat3"}};a.call(this,e);this.buffer={};this.instance_max=t;this._instances=[];i.call(this)}function i(){this["delete"]();for(var t in this.attributes){const i=this.attributes[t].type;let e=i=="float"?1:parseInt(i.charAt(3));e*=e;const r=new Float32Array(this.instance_max*e);this.buffer[t]=r;const n=this.attributes_location[t];if(n==null)continue;const a=st.createBuffer();this.attributes[t].buffer=a;st.bindBuffer(st.ARRAY_BUFFER,a);st.bufferData(st.ARRAY_BUFFER,r.byteLength,st.DYNAMIC_DRAW);f(n,e)}}function f(t,e){const i=Math.sqrt(e);const r=4*e;for(let e=0;e<i;++e){const n=t+e;C(n);const a=e*i*4;st.vertexAttribPointer(n,i,st.FLOAT,false,r,a);st.vertexAttribDivisor(n,1)}}function a(i){if(this.program==i)return false;this.program=i;this.attributes_location={};this.uniforms_location={};for(let t in this.attributes){let e=i.attributes[t];this.attributes_location[t]=e==null||e==-1?null:e;e=i.uniforms["_"+t];this.uniforms_location["_"+t]=e==null||e==-1?null:e}return true}e.prototype["delete"]=function(){for(var e in this.attributes){if(this.attributes[e].buffer!=null)st.deleteBuffer(this.attributes[e].buffer)}};e.prototype.update=function(e){var t=a.call(this,e);var i=!x||t;for(var o in this.attributes){const r=this.attributes[o].type;let a=r=="float"?1:parseInt(r.charAt(3));a*=a;const s=this.buffer[o];this._instances.forEach(function(e,t){const i=e[o];const r=t*a;for(var n=0;n<a;n++)s[r+n]=i[n]});const n=this.attributes_location[o];if(n==null){const l=st.getUniformLocation(e,"_"+o);if(l!=null){if(a==16){st.uniformMatrix4fv(l,false,s)}else{st.uniformMatrix3fv(l,false,s)}}}else{const h=this.attributes[o].buffer;st.bindBuffer(st.ARRAY_BUFFER,h);st.bufferSubData(st.ARRAY_BUFFER,0,s);if(i){f(n,a)}}}this._instances=[]};return e}();function C(e){if(!t[e]){st.enableVertexAttribArray(e);t[e]=true}}function rt(){if(x){st.bindVertexArray(null);x=null}for(var e in t){if(t[e]){st.disableVertexAttribArray(e);t[e]=false}}}function nt(i,e,t,r){function n(e,t){if(i.morphTargets_dependency){if(i.morphTargets_dependency[e[1]]&&!i.morphTargets_dependency[t[1]])return-1;if(!i.morphTargets_dependency[e[1]]&&i.morphTargets_dependency[t[1]])return 1}return t[0]-e[0]}var a=i.program.attributes;if(r){if(t.morphTargetBase!==-1&&a.position>=0){st.bindBuffer(st.ARRAY_BUFFER,e.__webglMorphTargetsBuffers[t.morphTargetBase]);C(a.position);st.vertexAttribPointer(a.position,3,st.FLOAT,false,0,0)}else if(a.position>=0){st.bindBuffer(st.ARRAY_BUFFER,e.__webglVertexBuffer);C(a.position);st.vertexAttribPointer(a.position,3,st.FLOAT,false,0,0)}}if(t.morphTargetForcedOrder.length){var o=0;var s=t.morphTargetForcedOrder;var l=t.morphTargetInfluences;while(o<i.numSupportedMorphTargets&&o<s.length){if(a["morphTarget"+o]>=0){st.bindBuffer(st.ARRAY_BUFFER,e.__webglMorphTargetsBuffers[s[o]]);C(a["morphTarget"+o]);st.vertexAttribPointer(a["morphTarget"+o],3,st.FLOAT,false,0,0)}if(a["morphNormal"+o]>=0&&i.morphNormals){st.bindBuffer(st.ARRAY_BUFFER,e.__webglMorphNormalsBuffers[s[o]]);C(a["morphNormal"+o]);st.vertexAttribPointer(a["morphNormal"+o],3,st.FLOAT,false,0,0)}t.__webglMorphTargetInfluences[o]=l[s[o]];o++}}else{var h,f=[];var l=t.morphTargetInfluences;var c,u=l.length;for(c=0;c<u;c++){h=l[c];if(h>0){f.push([h,c])}}if(f.length>i.numSupportedMorphTargets){f.sort(n);f.length=i.numSupportedMorphTargets}else if(f.length>i.numSupportedMorphNormals){f.sort(n)}else if(f.length===0){f.push([0,0])}var d,o=0;while(o<i.numSupportedMorphTargets){if(f[o]){d=f[o][1];if(!x||x.morph_state[o]!=d){if(x)x.morph_state[o]=d;if(a["morphTarget"+o]>=0){st.bindBuffer(st.ARRAY_BUFFER,e.__webglMorphTargetsBuffers[d]);C(a["morphTarget"+o]);st.vertexAttribPointer(a["morphTarget"+o],3,st.FLOAT,false,0,0)}if(a["morphNormal"+o]>=0&&i.morphNormals){st.bindBuffer(st.ARRAY_BUFFER,e.__webglMorphNormalsBuffers[d]);C(a["morphNormal"+o]);st.vertexAttribPointer(a["morphNormal"+o],3,st.FLOAT,false,0,0)}}t.__webglMorphTargetInfluences[o]=l[d]}else{t.__webglMorphTargetInfluences[o]=0}o++}}if(i.program.uniforms.morphTargetInfluences!==null){st.uniform1fv(i.program.uniforms.morphTargetInfluences,t.__webglMorphTargetInfluences)}}function at(e,t){if(e.renderOrder!==t.renderOrder){return t.z-e.z}var i=e.opaque||e.transparent;var r=t.opaque||t.transparent;if(i.program&&r.program&&i.program!==r.program){return i.program.id-r.program.id}else if(e.buffer.id!=t.buffer.id){return e.buffer.id-t.buffer.id}else if(i.id!==r.id){return i.id-r.id}else if(e.z!==t.z){return t.z-e.z}else{return e.id-t.id}}function ot(e,t){if(e.z!==t.z){return t.z-e.z}else{return e.id-t.id}}function ut(e,t){return t[0]-e[0]}this.render=function(e,i,t,r){var n,a,o,s,l,h=e.__lights,f=e.fog;R=-1;T=true;if(!e._RAF_timestamp_||e._RAF_timestamp_!=RAF_timestamp){if(e._RAF_timestamp_)e._RAF_timestamp_=RAF_timestamp;if(e.autoUpdate===true)e.updateMatrixWorld()}if(i.parent===undefined)i.updateMatrixWorld();i.matrixWorldInverse.getInverse(i.matrixWorld);A.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse);J.setFromMatrix(A);if(self.MMD_SA&&MMD_SA.THREEX.renderer.render(e,i))return;if(!System._browser.rendering_check())return;if(this.autoUpdateObjects)this.initWebGLObjects(e);dt(this.renderPluginsPre,e,i);j.info.render.calls=0;j.info.render.vertices=0;j.info.render.faces=0;j.info.render.points=0;this.setRenderTarget(t);if(this.autoClear||r){this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil)}l=e.__webglObjects;var c={};for(n=0,a=l.length;n<a;n++){o=l[n];s=o.object;o.id=n;o.render=false;if(s.visible){let t=c;if(s._model_index!=null){let e=o.transparent||o.opaque;if(e){if(e._render_once)e._render_once=null;else if(e.opacity<=0)continue}t=MMD_SA_options.model_para_obj_all[s._model_index].material_para;t=t&&t[s.material.materials[o._material_index].name]||{}}if(!(s instanceof THREE.Mesh||s instanceof THREE.ParticleSystem)||!s.frustumCulled||J.intersectsObject(s)){qt(s,i);Rt(o);o.render=true;if(this.sortObjects===true){if(t.renderDepth!=null||s.renderDepth!==null){o.z=t.renderDepth||s.renderDepth}else{G.getPositionFromMatrix(s.matrixWorld);G.applyProjection(A);o.z=G.z}}}}}var u=l;var d=l;if(this.sortObjects){if(!e.overrideMaterial){u=[];d=[];l.forEach(function(e){if(e.render)(e.opaque?u:d).push(e)});u.sort(at);d.sort(ot)}else l.sort(ot)}l=e.__webglObjectsImmediate;for(n=0,a=l.length;n<a;n++){o=l[n];s=o.object;if(s.visible){qt(s,i);_t(o)}}if(e.overrideMaterial){var p=e.overrideMaterial;this.setBlending(p.blending,p.blendEquation,p.blendSrc,p.blendDst);this.setDepthTest(p.depthTest);this.setDepthWrite(p.depthWrite);Kt(p.polygonOffset,p.polygonOffsetFactor,p.polygonOffsetUnits);Tt(e.__webglObjects,false,"",i,h,f,true,p);yt(e.__webglObjectsImmediate,"",i,h,f,false,p)}else{var p=null;this.setBlending(THREE.NoBlending);Tt(u,true,"opaque",i,h,f,false,p);yt(e.__webglObjectsImmediate,"opaque",i,h,f,false,p);var m=!(self.MMD_SA&&MMD_SA._depth_render_mode_);Tt(d,false,"transparent",i,h,f,m,p);yt(e.__webglObjectsImmediate,"transparent",i,h,f,m,p)}dt(this.renderPluginsPost,e,i);if(t&&t._use_multisample){st.bindFramebuffer(st.READ_FRAMEBUFFER,t.__webglMSAAFramebuffer);st.bindFramebuffer(st.DRAW_FRAMEBUFFER,t.__webglFramebuffer);var E=t.width;var g=t.height;var v=st.COLOR_BUFFER_BIT;st.blitFramebuffer(0,0,E,g,0,0,E,g,v,st.NEAREST)}if(t&&t.generateMipmaps&&t.minFilter!==THREE.NearestFilter&&t.minFilter!==THREE.LinearFilter){ci(t)}this.setDepthTest(true);this.setDepthWrite(true)};function dt(e,t,i){if(!e.length)return;for(var r=0,n=e.length;r<n;r++){f=null;c=null;s=-1;l=-1;h=-1;a=-1;o=-1;S=-1;R=-1;T=true;e[r].render(t,i,Q,Z);f=null;c=null;s=-1;l=-1;h=-1;a=-1;o=-1;S=-1;R=-1;T=true}}var pt,mt,Et,gt,vt;function Tt(e,t,i,r,n,a,o,s){var l,h,f,c,u,d,p;if(t){u=e.length-1;d=-1;p=-1}else{u=0;d=e.length;p=1}pt=e;gt=d;Et=p;vt=s;for(var m=u;m!==d;m+=p){mt=m;l=e[m];if(l.render){h=l.object;f=l.buffer;if(s){c=s}else{c=l[i];if(!c)continue;if(o)j.setBlending(c.blending,c.blendEquation,c.blendSrc,c.blendDst);j.setDepthTest(c.depthTest);j.setDepthWrite(c.depthWrite);Kt(c.polygonOffset,c.polygonOffsetFactor,c.polygonOffsetUnits)}j.setMaterialFaces(c);if(f instanceof THREE.BufferGeometry){j.renderBufferDirect(r,n,a,c,f,h)}else{j.renderBuffer(r,n,a,c,f,h)}}}if(x){st.bindVertexArray(null);x=null}}function yt(e,t,i,r,n,a,o){var s,l,h,f;for(var c=0,u=e.length;c<u;c++){s=e[c];l=s.object;if(l.visible){if(o){h=o}else{h=s[t];if(!h)continue;if(a)j.setBlending(h.blending,h.blendEquation,h.blendSrc,h.blendDst);j.setDepthTest(h.depthTest);j.setDepthWrite(h.depthWrite);Kt(h.polygonOffset,h.polygonOffsetFactor,h.polygonOffsetUnits)}j.renderImmediateObject(i,r,n,h,l)}}}this.renderImmediateObject=function(e,t,i,r,n){var a=Ut(e,t,i,r,n);S=-1;j.setMaterialFaces(r);if(n.immediateRenderCallback){n.immediateRenderCallback(a,st,J)}else{n.render(function(e){j.renderBufferImmediate(e,a,r)})}};function _t(e){var t=e.object,i=t.material;if(i.transparent){e.transparent=i;e.opaque=null}else{e.opaque=i;e.transparent=null}}function Rt(e){var t=e.object,i=e.buffer,r,n,a;a=t.material;if(a instanceof THREE.MeshFaceMaterial){n=i.materialIndex;r=a.materials[n];if(r.transparent){e.transparent=r;e.opaque=null}else{e.opaque=r;e.transparent=null}}else{r=a;if(r){if(r.transparent){e.transparent=r;e.opaque=null}else{e.opaque=r;e.transparent=null}}}}function xt(e,t,i){var r,n,a,o,s,l,h={};var f=e.morphTargets.length;var c=e.morphNormals.length;if(self.MMD_SA&&i!=null){var u=MMD_SA_options.model_para_obj_all[i].morphTargets_length_fixed;if(u==null)u=MMD_SA_options.morphTargets_length_fixed;if(u){f=u}else if(f&&MMD_SA.morphTargets_length_extra){f+=MMD_SA.morphTargets_length_extra}}var d=t instanceof THREE.MeshFaceMaterial;e.geometryGroups={};for(r=0,n=e.faces.length;r<n;r++){a=e.faces[r];o=d?a.materialIndex:0;if(h[o]===undefined){h[o]={hash:o,counter:0}}l=h[o].hash+"_"+h[o].counter;if(e.geometryGroups[l]===undefined){e.geometryGroups[l]={faces3:[],faces4:[],materialIndex:o,vertices:0,numMorphTargets:f,numMorphNormals:c}}s=a instanceof THREE.Face3?3:4;if(e.geometryGroups[l].vertices+s>65535){h[o].counter+=1;l=h[o].hash+"_"+h[o].counter;if(e.geometryGroups[l]===undefined){e.geometryGroups[l]={faces3:[],faces4:[],materialIndex:o,vertices:0,numMorphTargets:f,numMorphNormals:c}}}if(a instanceof THREE.Face3){e.geometryGroups[l].faces3.push(r)}else{e.geometryGroups[l].faces4.push(r)}e.geometryGroups[l].vertices+=s}e.geometryGroupsList=[];for(var p in e.geometryGroups){e.geometryGroups[p].id=O++;e.geometryGroupsList.push(e.geometryGroups[p])}}this.initWebGLObjects=function(e){if(!e.__webglObjects){e.__webglObjects=[];e.__webglObjectsImmediate=[];e.__webglSprites=[];e.__webglFlares=[]}while(e.__objectsAdded.length){bt(e.__objectsAdded[0],e);e.__objectsAdded.splice(0,1)}while(e.__objectsRemoved.length){Ct(e.__objectsRemoved[0],e);e.__objectsRemoved.splice(0,1)}for(var t=0,i=e.__webglObjects.length;t<i;t++){var r=e.__webglObjects[t].object;if(r.__webglInit===undefined){if(r.__webglActive!==undefined){Ct(r,e)}bt(r,e)}Mt(r)}};function bt(e,t){var i,r,n,a;if(e.__webglInit===undefined){e.__webglInit=true;e._modelViewMatrix=new THREE.Matrix4;e._normalMatrix=new THREE.Matrix3;if(e.geometry!==undefined&&e.geometry.__webglInit===undefined){e.geometry.__webglInit=true;e.geometry.addEventListener("dispose",Ce)}r=e.geometry;if(r===undefined){}else if(r instanceof THREE.BufferGeometry){We(r)}else if(e instanceof THREE.Mesh){n=e.material;if(r.geometryGroups===undefined){xt(r,n,e._model_index)}for(i in r.geometryGroups){a=r.geometryGroups[i];if(!a.__webglVertexBuffer){Ae(a);je(a,e);r.verticesNeedUpdate=true;r.morphTargetsNeedUpdate=true;r.elementsNeedUpdate=true;r.uvsNeedUpdate=true;r.normalsNeedUpdate=true;r.tangentsNeedUpdate=true;r.colorsNeedUpdate=true}}}else if(e instanceof THREE.Ribbon){if(!r.__webglVertexBuffer){Se(r);Be(r,e);r.verticesNeedUpdate=true;r.colorsNeedUpdate=true;r.normalsNeedUpdate=true}}else if(e instanceof THREE.Line){if(!r.__webglVertexBuffer){Me(r);ke(r,e);r.verticesNeedUpdate=true;r.colorsNeedUpdate=true;r.lineDistancesNeedUpdate=true}}else if(e instanceof THREE.ParticleSystem){if(!r.__webglVertexBuffer){we(r);Ve(r,e);r.verticesNeedUpdate=true;r.colorsNeedUpdate=true}}}if(e.__webglActive===undefined){if(e instanceof THREE.Mesh){r=e.geometry;if(r instanceof THREE.BufferGeometry){Ht(t.__webglObjects,r,e)}else if(r instanceof THREE.Geometry){for(i in r.geometryGroups){a=r.geometryGroups[i];Ht(t.__webglObjects,a,e);if(e._model_index!=null&&/^(\d+)/.test(i)){t.__webglObjects[t.__webglObjects.length-1]._material_index=parseInt(RegExp.$1)}}}}else if(e instanceof THREE.Ribbon||e instanceof THREE.Line||e instanceof THREE.ParticleSystem){r=e.geometry;Ht(t.__webglObjects,r,e)}else if(e instanceof THREE.ImmediateRenderObject||e.immediateRenderCallback){wt(t.__webglObjectsImmediate,e)}else if(e instanceof THREE.Sprite){t.__webglSprites.push(e)}else if(THREE.LensFlare&&e instanceof THREE.LensFlare){t.__webglFlares.push(e)}e.__webglActive=true}}function Ht(e,t,i){e.push({id:null,buffer:t,object:i,opaque:null,transparent:null,z:0})}function wt(e,t){e.push({id:null,object:t,opaque:null,transparent:null,z:0})}function Mt(e){var t=e.geometry,i,r,n;if(t instanceof THREE.BufferGeometry){Ke(t,st.DYNAMIC_DRAW,!t.dynamic)}else if(e instanceof THREE.Mesh){for(var a=0,o=t.geometryGroupsList.length;a<o;a++){i=t.geometryGroupsList[a];n=y(e,i);if(t.buffersNeedUpdate){je(i,e)}r=n.attributes&&St(n);if(t.verticesNeedUpdate||t.morphTargetsNeedUpdate||t.elementsNeedUpdate||t.uvsNeedUpdate||t.normalsNeedUpdate||t.colorsNeedUpdate||t.tangentsNeedUpdate||r){$e(i,e,st.DYNAMIC_DRAW,!t.dynamic,n)}}t.verticesNeedUpdate=false;t.morphTargetsNeedUpdate=false;t.elementsNeedUpdate=false;t.uvsNeedUpdate=false;t.normalsNeedUpdate=false;t.colorsNeedUpdate=false;t.tangentsNeedUpdate=false;t.buffersNeedUpdate=false;n.attributes&&At(n)}else if(e instanceof THREE.Ribbon){n=y(e,t);r=n.attributes&&St(n);if(t.verticesNeedUpdate||t.colorsNeedUpdate||t.normalsNeedUpdate||r){Ye(t,st.DYNAMIC_DRAW)}t.verticesNeedUpdate=false;t.colorsNeedUpdate=false;t.normalsNeedUpdate=false;n.attributes&&At(n)}else if(e instanceof THREE.Line){n=y(e,t);r=n.attributes&&St(n);if(t.verticesNeedUpdate||t.colorsNeedUpdate||t.lineDistancesNeedUpdate||r){qe(t,st.DYNAMIC_DRAW)}t.verticesNeedUpdate=false;t.colorsNeedUpdate=false;t.lineDistancesNeedUpdate=false;n.attributes&&At(n)}else if(e instanceof THREE.ParticleSystem){n=y(e,t);r=n.attributes&&St(n);if(t.verticesNeedUpdate||t.colorsNeedUpdate||e.sortParticles||r){Xe(t,st.DYNAMIC_DRAW,e)}t.verticesNeedUpdate=false;t.colorsNeedUpdate=false;n.attributes&&At(n)}}function St(e){for(var t in e.attributes){if(e.attributes[t].needsUpdate)return true}return false}function At(e){for(var t in e.attributes){e.attributes[t].needsUpdate=false}}function Ct(e,t){if(e instanceof THREE.Mesh||e instanceof THREE.ParticleSystem||e instanceof THREE.Ribbon||e instanceof THREE.Line){Dt(t.__webglObjects,e)}else if(e instanceof THREE.Sprite){Pt(t.__webglSprites,e)}else if(THREE.LensFlare&&e instanceof THREE.LensFlare){Pt(t.__webglFlares,e)}else if(e instanceof THREE.ImmediateRenderObject||e.immediateRenderCallback){Dt(t.__webglObjectsImmediate,e)}delete e.__webglActive}function Dt(e,t){for(var i=e.length-1;i>=0;i--){if(e[i].object===t){e.splice(i,1)}}}function Pt(e,t){for(var i=e.length-1;i>=0;i--){if(e[i]===t){e.splice(i,1)}}}this.initMaterial=function(e,t,i,r){e.addEventListener("dispose",Le);var n,a,o,s,l,h,f,c,u;if(e instanceof THREE.MeshDepthMaterial){u="depth"}else if(e instanceof THREE.MeshNormalMaterial){u="normal"}else if(e instanceof THREE.MeshBasicMaterial){u="basic"}else if(e instanceof THREE.MeshLambertMaterial){u="lambert"}else if(e instanceof THREE.MeshPhongMaterial){u="phong"}else if(e instanceof THREE.LineBasicMaterial){u="basic"}else if(e instanceof THREE.LineDashedMaterial){u="dashed"}else if(e instanceof THREE.ParticleBasicMaterial){u="particle_basic"}if(u){Lt(e,THREE.ShaderLib[u])}h=pi(t);c=mi(t);f=di(r);l={map:!!e.map,envMap:!!e.envMap,lightMap:!!e.lightMap,bumpMap:!!e.bumpMap,base_color:e.base_color,displacementMap:!!e.displacementMap,computerNormalFromDisplacement:!!e.uDisplacementCustomUVScale,waveTexture:e.waveBaseSpeed!=null,mirrorTexture:e.mirrorTextureIndex!=null,uniTexture:!!(use_MatrixRain&&(e.uniTexture||(r._model_index!=null||e instanceof THREE.MeshBasicMaterial||e instanceof THREE.MeshLambertMaterial||e instanceof THREE.MeshPhongMaterial)&&(e.uniTexture={state:use_MatrixRain?1:2}))),normalMap:!!e.normalMap,specularMap:!!e.specularMap,vertexColors:e.vertexColors,fog:i,useFog:e.fog,fogExp:i instanceof THREE.FogExp2,sizeAttenuation:e.sizeAttenuation,skinning:e.skinning,maxBones:f,useVertexTexture:fe&&r&&r.useVertexTexture,boneTextureWidth:r&&r.boneTextureWidth,boneTextureHeight:r&&r.boneTextureHeight,morphTargets:e.morphTargets,morphNormals:e.morphNormals,maxMorphTargets:this.maxMorphTargets,maxMorphNormals:this.maxMorphNormals,maxDirLights:h.directional,maxPointLights:h.point,maxSpotLights:h.spot,maxHemiLights:h.hemi,maxShadows:c,shadowMapEnabled:this.shadowMapEnabled&&r.receiveShadow,shadowMapType:this.shadowMapType,shadowMapDebug:this.shadowMapDebug,shadowMapCascade:this.shadowMapCascade,shadowMapAlpha:r.receiveShadowAlpha,alphaTest:e.alphaTest,metal:e.metal,perPixel:e.perPixel,wrapAround:e.wrapAround,doubleSided:e.side===THREE.DoubleSide,flipSided:e.side===THREE.BackSide,instanced_drawing:ie&&r.instanced_drawing};e.program=Jt(u,e.fragmentShader,e.vertexShader,e.uniforms,e.attributes,e.defines,l);var d=e.program.attributes;if(e.morphTargets){e.numSupportedMorphTargets=0;var p,m="morphTarget";for(s=0;s<this.maxMorphTargets;s++){p=m+s;if(d[p]>=0){e.numSupportedMorphTargets++}}}if(e.morphNormals){e.numSupportedMorphNormals=0;var p,m="morphNormal";for(s=0;s<this.maxMorphNormals;s++){p=m+s;if(d[p]>=0){e.numSupportedMorphNormals++}}}e.uniformsList=[];for(n in e.uniforms){if(self.MMD_SA&&n=="depth_render_mode"){MMD_SA._depth_render_uniform_list.push({name:e.name||"",uniform:e.uniforms.depth_render_mode})}e.uniformsList.push([e.uniforms[n],n])}};function Lt(e,t){e.uniforms=THREE.UniformsUtils.clone(t.uniforms);e.vertexShader=t.vertexShader;e.fragmentShader=t.fragmentShader}function Ut(e,t,i,r,n){z=0;if(r.needsUpdate){if(r.program)Oe(r);j.initMaterial(r,t,i,n);r.needsUpdate=false}if(r.morphTargets){if(!n.__webglMorphTargetInfluences){n.__webglMorphTargetInfluences=new Float32Array(j.maxMorphTargets)}}var a=false;var o=r.program,s=o.uniforms,l=r.uniforms;if(o!==f){st.useProgram(o);f=o;a=true}if(r.id!==R){R=r.id;a=true}if(a||e!==c){st.uniformMatrix4fv(s.projectionMatrix,false,e.projectionMatrix.elements);if(e!==c)c=e}if(r.skinning){if(fe&&n.useVertexTexture){if(s.boneTexture!==null){var h=Wt();st.uniform1i(s.boneTexture,h);j.setTexture(n.boneTexture,h)}}else{if(s.boneGlobalMatrices!==null){st.uniformMatrix4fv(s.boneGlobalMatrices,false,n.boneMatrices)}}}if(a){if(i&&r.fog){It(l,i)}if(r instanceof THREE.MeshPhongMaterial||r instanceof THREE.MeshLambertMaterial||r.lights){if(T){Yt(o,t);T=false}Bt(l,te)}if(r instanceof THREE.MeshBasicMaterial||r instanceof THREE.MeshLambertMaterial||r instanceof THREE.MeshPhongMaterial){Nt(l,r)}if(r instanceof THREE.LineBasicMaterial){Ft(l,r)}else if(r instanceof THREE.LineDashedMaterial){Ft(l,r);Ot(l,r)}else if(r instanceof THREE.ParticleBasicMaterial){zt(l,r)}else if(r instanceof THREE.MeshPhongMaterial){Vt(l,r)}else if(r instanceof THREE.MeshLambertMaterial){kt(l,r)}else if(r instanceof THREE.MeshDepthMaterial){l.mNear.value=e.near;l.mFar.value=e.far;l.opacity.value=r.opacity}else if(r instanceof THREE.MeshNormalMaterial){l.opacity.value=r.opacity}if(n.receiveShadow&&!r._shadowPass){jt(l,t)}if(r.uniTexture){let e=n.geometry.boundingSphere;if(l.uniTexture_state){l.uniTexture_state.value=r.uniTexture.state}if(l.uniTexture_scale){if(n._uniTexture_scale){l.uniTexture_scale.value=n._uniTexture_scale}else{let t;if(n.material.materials&&n._model_index==null){t=5/10}else{t=1;let e=n;while(e&&!(e instanceof THREE.Scene)){t*=Math.max(e.scale.x,e.scale.y,e.scale.z)||1;e=e.parent}t=Math.min(5/t,1);if(t<.1)t*=2}l.uniTexture_scale.value=Math.min(Math.ceil(e.radius/50),4)*t*(r.uniTexture.scale||1)}}if(l.uniTexture_bs){l.uniTexture_bs.value=e.radius}if(l.uniTexture_null_zone&&MMD_SA.MMD_started){let e=THREE.MMD.getModels()[0].mesh.position;l.uniTexture_null_zone.value.set(e.x,e.y+10,e.z,n._model_index==0?999:MMD_SA_options.model_para_obj.left_leg_length*1.2)}if(l.uniTexture_MatrixRain_height_limit){l.uniTexture_MatrixRain_height_limit.value.set(n._uniTexture_fadeout||0,e.center.y)}if(l.uniTexture_MatrixRain_greenness){l.uniTexture_MatrixRain_greenness.value=MMD_SA.matrix_rain.greenness}if(l.uniTexture_map){l.uniTexture_map.value=r.uniTexture.map||MMD_SA.matrix_rain.matrix_texture}}if(r.refreshUniforms){r.refreshUniforms(j)}Xt(o,r.uniformsList);if(r instanceof THREE.ShaderMaterial||r instanceof THREE.MeshPhongMaterial||r.envMap){if(s.cameraPosition!==null){G.getPositionFromMatrix(e.matrixWorld);st.uniform3f(s.cameraPosition,G.x,G.y,G.z)}}if(r instanceof THREE.MeshPhongMaterial||r instanceof THREE.MeshLambertMaterial||r instanceof THREE.ShaderMaterial||r.skinning){if(s.viewMatrix!==null){st.uniformMatrix4fv(s.viewMatrix,false,e.matrixWorldInverse.elements)}}}Gt(s,n);if(s.modelMatrix!==null){st.uniformMatrix4fv(s.modelMatrix,false,n.matrixWorld.elements)}return o}function Nt(e,t){e.opacity.value=t.opacity;if(j.gammaInput){e.diffuse.value.copyGammaToLinear(t.color)}else{e.diffuse.value=t.color}e.map.value=t.map;e.lightMap.value=t.lightMap;e.specularMap.value=t.specularMap;if(t.bumpMap){e.bumpMap.value=t.bumpMap;e.bumpScale.value=t.bumpScale}if(t.displacementMap){e.tDisplacement.value=t.displacementMap;e.uDisplacementBias.value=t.uDisplacementBias;e.uDisplacementScale.value=t.uDisplacementScale;e.uDisplacementCustomUVScale.value=t.uDisplacementCustomUVScale;e.uDisplacementCustomUVOffset.value.copy(t.uDisplacementCustomUVOffset);e.edgeRotateDisplacementL.value=t.edgeRotateDisplacementL;e.edgeRotateDisplacementR.value=t.edgeRotateDisplacementR;e.edgeScaleDisplacementU.value=t.edgeScaleDisplacementU}if(t.waveBaseSpeed!=null){e.waveBaseSpeed.value=t.waveBaseSpeed;e.waveNoiseTexture.value=t.waveNoiseTexture;e.waveNoiseScale.value=t.waveNoiseScale;e.waveBumpScale.value=t.waveBumpScale;e.time.value=RAF_timestamp/1e3;e.waveDrops.value=self.MMD_SA&&MMD_SA.ripple_process()||[]}if(t.mirrorTextureIndex!=null){var i=MMD_SA._THREE_mirror[t.mirrorTextureIndex];if(i){e.mirrorSampler.value=i.texture;e.mirrorTextureMatrix.value=i.textureMatrix}e.reflection_alpha.value=!i||MMD_SA._mirror_rendering_?0:i.material.uniforms.reflection_alpha.value}if(t.normalMap){e.normalMap.value=t.normalMap;e.normalScale.value.copy(t.normalScale)}var r;if(t.repeat){r=t}else if(t.map){r=t.map}else if(t.specularMap){r=t.specularMap}else if(t.normalMap){r=t.normalMap}else if(t.bumpMap){r=t.bumpMap}else if(t.displacementMap){r=t.displacementMap}else if(t.waveNoiseTexture){r=t.waveNoiseTexture}if(r!==undefined){var n=r.offset;var a=r.repeat;e.offsetRepeat.value.set(n.x,n.y,a.x,a.y)}e.envMap.value=t.envMap;e.flipEnvMap.value=t.envMap instanceof THREE.WebGLRenderTargetCube?1:-1;if(j.gammaInput){e.reflectivity.value=t.reflectivity}else{e.reflectivity.value=t.reflectivity}e.refractionRatio.value=t.refractionRatio;e.combine.value=t.combine;e.useRefract.value=t.envMap&&t.envMap.mapping instanceof THREE.CubeRefractionMapping}function Ft(e,t){e.diffuse.value=t.color;e.opacity.value=t.opacity}function Ot(e,t){e.dashSize.value=t.dashSize;e.totalSize.value=t.dashSize+t.gapSize;e.scale.value=t.scale}function zt(e,t){e.psColor.value=t.color;e.opacity.value=t.opacity;e.size.value=t.size;e.scale.value=n.height/2;e.map.value=t.map}function It(e,t){e.fogColor.value=t.color;if(t instanceof THREE.Fog){e.fogNear.value=t.near;e.fogFar.value=t.far}else if(t instanceof THREE.FogExp2){e.fogDensity.value=t.density}}function Vt(e,t){e.shininess.value=t.shininess;if(j.gammaInput){e.ambient.value.copyGammaToLinear(t.ambient);e.emissive.value.copyGammaToLinear(t.emissive);e.specular.value.copyGammaToLinear(t.specular)}else{e.ambient.value=t.ambient;e.emissive.value=t.emissive;e.specular.value=t.specular}if(t.wrapAround){e.wrapRGB.value.copy(t.wrapRGB)}}function kt(e,t){if(j.gammaInput){e.ambient.value.copyGammaToLinear(t.ambient);e.emissive.value.copyGammaToLinear(t.emissive)}else{e.ambient.value=t.ambient;e.emissive.value=t.emissive}if(t.wrapAround){e.wrapRGB.value.copy(t.wrapRGB)}}function Bt(e,t){e.ambientLightColor.value=t.ambient;e.directionalLightColor.value=t.directional.colors;e.directionalLightDirection.value=t.directional.positions;e.pointLightColor.value=t.point.colors;e.pointLightPosition.value=t.point.positions;e.pointLightDistance.value=t.point.distances;e.spotLightColor.value=t.spot.colors;e.spotLightPosition.value=t.spot.positions;e.spotLightDistance.value=t.spot.distances;e.spotLightDirection.value=t.spot.directions;e.spotLightAngleCos.value=t.spot.anglesCos;e.spotLightExponent.value=t.spot.exponents;e.hemisphereLightSkyColor.value=t.hemi.skyColors;e.hemisphereLightGroundColor.value=t.hemi.groundColors;e.hemisphereLightDirection.value=t.hemi.positions}function jt(i,e){if(i.shadowMatrix){var r=0;for(var t=0,n=e.length;t<n;t++){var a=e[t];if(!a.castShadow)continue;if(a instanceof THREE.SpotLight||a instanceof THREE.DirectionalLight&&!a.shadowCascade){i.shadowMap.value[r]=a.shadowMap;i.shadowMapSize.value[r]=a.shadowMapSize;i.shadowMatrix.value[r]=a.shadowMatrix;i.shadowDarkness.value[r]=a.shadowDarkness;i.shadowBias.value[r]=a._shadowBias_range;i.shadowPara.value[r]=a._shadowPara;r++}else if(a instanceof THREE.DirectionalLight&&a.shadowCascadeArray){a.shadowCascadeArray.forEach(function(e,t){i.shadowMap.value[r]=e.shadowMap;i.shadowMapSize.value[r]=e.shadowMapSize;i.shadowMatrix.value[r]=e.shadowMatrix;i.shadowDarkness.value[r]=e.shadowDarkness;i.shadowBias.value[r]=e._shadowBias_range;i.shadowPara.value[r]=e._shadowPara;r++})}}}}function Gt(e,t){if(e.modelViewMatrix)st.uniformMatrix4fv(e.modelViewMatrix,false,t._modelViewMatrix.elements);if(e.normalMatrix){st.uniformMatrix3fv(e.normalMatrix,false,t._normalMatrix.elements)}}function Wt(){var e=z;if(e>=ne){console.warn("WebGLRenderer: trying to use "+e+" texture units while this GPU supports only "+ne)}z+=1;return e}function Xt(e,t){var i,r,n,a,o,s,l,h,f,c,u;for(f=0,c=t.length;f<c;f++){a=e.uniforms[t[f][1]];if(!a)continue;i=t[f][0];n=i.type;r=i.value;if(n==="i"){st.uniform1i(a,r)}else if(n==="f"){st.uniform1f(a,r)}else if(n==="v2"){st.uniform2f(a,r.x,r.y)}else if(n==="v3"){st.uniform3f(a,r.x,r.y,r.z)}else if(n==="v4"){st.uniform4f(a,r.x,r.y,r.z,r.w)}else if(n==="c"){st.uniform3f(a,r.r,r.g,r.b)}else if(n==="iv1"){st.uniform1iv(a,r)}else if(n==="iv"){st.uniform3iv(a,r)}else if(n==="fv1"||n==="1fv"){st.uniform1fv(a,r)}else if(n==="fv"){st.uniform3fv(a,r)}else if(n==="v2v"){if(i._array===undefined){i._array=new Float32Array(2*r.length)}for(l=0,h=r.length;l<h;l++){u=l*2;i._array[u]=r[l].x;i._array[u+1]=r[l].y}st.uniform2fv(a,i._array)}else if(n==="v3v"){if(i._array===undefined){i._array=new Float32Array(3*r.length)}for(l=0,h=r.length;l<h;l++){u=l*3;i._array[u]=r[l].x;i._array[u+1]=r[l].y;i._array[u+2]=r[l].z}st.uniform3fv(a,i._array)}else if(n==="v4v"){if(i._array===undefined){i._array=new Float32Array(4*r.length)}for(l=0,h=r.length;l<h;l++){u=l*4;i._array[u]=r[l].x;i._array[u+1]=r[l].y;i._array[u+2]=r[l].z;i._array[u+3]=r[l].w}st.uniform4fv(a,i._array)}else if(n==="m4"){if(i._array===undefined){i._array=new Float32Array(16)}r.flattenToArray(i._array);st.uniformMatrix4fv(a,false,i._array)}else if(n==="m4v"){if(i._array===undefined){i._array=new Float32Array(16*r.length)}for(l=0,h=r.length;l<h;l++){r[l].flattenToArrayOffset(i._array,l*16)}st.uniformMatrix4fv(a,false,i._array)}else if(n==="t"){o=r;s=Wt();st.uniform1i(a,s);if(!o)continue;if(o.image instanceof Array&&o.image.length===6){si(o,s)}else if(o instanceof THREE.WebGLRenderTargetCube){li(o,s)}else{j.setTexture(o,s)}}else if(n==="tv"){if(i._array===undefined){i._array=[]}for(l=0,h=i.value.length;l<h;l++){i._array[l]=Wt()}st.uniform1iv(a,i._array);for(l=0,h=i.value.length;l<h;l++){o=i.value[l];s=i._array[l];if(!o)continue;j.setTexture(o,s)}}}}function qt(e,t){e._modelViewMatrix.multiplyMatrices(t.matrixWorldInverse,e.matrixWorld);e._normalMatrix.getNormalMatrix(e._modelViewMatrix)}function X(e,t,i,r){e[t]=i.r*i.r*r;e[t+1]=i.g*i.g*r;e[t+2]=i.b*i.b*r}function q(e,t,i,r){e[t]=i.r*r;e[t+1]=i.g*r;e[t+2]=i.b*r}function Yt(F,e){var t,i,r,O,n=0,a=0,o=0,s,l,h,f,c,z,u,d=te,p=d.directional.colors,m=d.directional.positions,E=d.point.colors,g=d.point.positions,I=d.point.distances,v=d.spot.colors,T=d.spot.positions,V=d.spot.distances,y=d.spot.directions,k=d.spot.anglesCos,B=d.spot.exponents,_=d.hemi.skyColors,R=d.hemi.groundColors,x=d.hemi.positions,b=0,H=0,w=0,M=0,S=0,A=0,C=0,D=0,P=0,L=0,U=0,N=0;for(t=0,i=e.length;t<i;t++){r=e[t];if(r.onlyShadow)continue;s=r.color;f=r.intensity;u=r.distance;if(r instanceof THREE.AmbientLight){if(!r.visible)continue;if(j.gammaInput){n+=s.r*s.r;a+=s.g*s.g;o+=s.b*s.b}else{n+=s.r;a+=s.g;o+=s.b}}else if(r instanceof THREE.DirectionalLight){S+=1;if(!r.visible)continue;W.getPositionFromMatrix(r.matrixWorld);G.getPositionFromMatrix(r.target.matrixWorld);W.sub(G);W.normalize();if(W.x===0&&W.y===0&&W.z===0)continue;P=b*3;m[P]=W.x;m[P+1]=W.y;m[P+2]=W.z;if(j.gammaInput){X(p,P,s,f*f)}else{q(p,P,s,f)}b+=1}else if(r instanceof THREE.PointLight){A+=1;if(!r.visible)continue;L=H*3;if(j.gammaInput){X(E,L,s,f*f)}else{q(E,L,s,f)}G.getPositionFromMatrix(r.matrixWorld);g[L]=G.x;g[L+1]=G.y;g[L+2]=G.z;I[H]=u;H+=1}else if(r instanceof THREE.SpotLight){C+=1;if(!r.visible)continue;U=w*3;if(j.gammaInput){X(v,U,s,f*f)}else{q(v,U,s,f)}G.getPositionFromMatrix(r.matrixWorld);T[U]=G.x;T[U+1]=G.y;T[U+2]=G.z;V[w]=u;W.copy(G);G.getPositionFromMatrix(r.target.matrixWorld);W.sub(G);W.normalize();y[U]=W.x;y[U+1]=W.y;y[U+2]=W.z;k[w]=Math.cos(r.angle);B[w]=r.exponent;w+=1}else if(r instanceof THREE.HemisphereLight){D+=1;if(!r.visible)continue;W.getPositionFromMatrix(r.matrixWorld);W.normalize();if(W.x===0&&W.y===0&&W.z===0)continue;N=M*3;x[N]=W.x;x[N+1]=W.y;x[N+2]=W.z;l=r.color;h=r.groundColor;if(j.gammaInput){c=f*f;X(_,N,l,c);X(R,N,h,c)}else{q(_,N,l,f);q(R,N,h,f)}M+=1}}for(t=b*3,i=Math.max(p.length,S*3);t<i;t++)p[t]=0;for(t=H*3,i=Math.max(E.length,A*3);t<i;t++)E[t]=0;for(t=w*3,i=Math.max(v.length,C*3);t<i;t++)v[t]=0;for(t=M*3,i=Math.max(_.length,D*3);t<i;t++)_[t]=0;for(t=M*3,i=Math.max(R.length,D*3);t<i;t++)R[t]=0;d.directional.length=b;d.point.length=H;d.spot.length=w;d.hemi.length=M;d.ambient[0]=n;d.ambient[1]=a;d.ambient[2]=o}this.setFaceCulling=function(e,t){if(e===THREE.CullFaceNone){st.disable(st.CULL_FACE)}else{if(t===THREE.FrontFaceDirectionCW){st.frontFace(st.CW)}else{st.frontFace(st.CCW)}if(e===THREE.CullFaceBack){st.cullFace(st.BACK)}else if(e===THREE.CullFaceFront){st.cullFace(st.FRONT)}else{st.cullFace(st.FRONT_AND_BACK)}st.enable(st.CULL_FACE)}};this.setMaterialFaces=function(e){var t=e.side===THREE.DoubleSide;var i=e.side===THREE.BackSide;if(a!==t){if(t){st.disable(st.CULL_FACE)}else{st.enable(st.CULL_FACE)}a=t}if(o!==i){if(i){st.frontFace(st.CW)}else{st.frontFace(st.CCW)}o=i}};this.setDepthTest=function(e){if(l!==e){if(e){st.enable(st.DEPTH_TEST)}else{st.disable(st.DEPTH_TEST)}l=e}};this.setDepthWrite=function(e){if(h!==e){st.depthMask(e);h=e}};function $t(e){if(e!==K){st.lineWidth(e);K=e}}function Kt(e,t,i){if(B!==e){if(e){st.enable(st.POLYGON_OFFSET_FILL)}else{st.disable(st.POLYGON_OFFSET_FILL)}B=e}if(e&&(Y!==t||$!==i)){st.polygonOffset(t,i);Y=t;$=i}}this.setBlending=function(e,t,i,r){if(e!==s){if(e===THREE.NoBlending){st.disable(st.BLEND)}else if(e===THREE.AdditiveBlending){st.enable(st.BLEND);st.blendEquation(st.FUNC_ADD);st.blendFunc(st.SRC_ALPHA,st.ONE)}else if(e===THREE.SubtractiveBlending){st.enable(st.BLEND);st.blendEquation(st.FUNC_ADD);st.blendFunc(st.ZERO,st.ONE_MINUS_SRC_COLOR)}else if(e===THREE.MultiplyBlending){st.enable(st.BLEND);st.blendEquation(st.FUNC_ADD);st.blendFunc(st.ZERO,st.SRC_COLOR)}else if(e===THREE.CustomBlending){st.enable(st.BLEND)}else{st.enable(st.BLEND);st.blendEquation(st.FUNC_ADD);st.blendFuncSeparate(st.SRC_ALPHA,st.ONE_MINUS_SRC_ALPHA,st.ONE,st.ONE_MINUS_SRC_ALPHA)}s=e}if(e===THREE.CustomBlending){if(t!==I){st.blendEquation(b(t));I=t}if(i!==V||r!==k){st.blendFunc(b(i),b(r));V=i;k=r}}else{I=null;V=null;k=null}};function Qt(e){var t,i,r=[];for(var n in e){t=e[n];if(t===false)continue;i="#define "+n+" "+t;r.push(i)}return r.join("\n")}function Zt(o){var e=/#pragma unroll_loop[\s]+?for[\s]*\([\s]*int i[\s]*\=[\s]*(\d+)\;[\s]i[\s]<[\s](\w+)\;[\s]i[\s]\+\+[\s]\)[\s]\{\/\/LOOP_START([\s\S]+?)(?=\})\}\/\/LOOP_END/g;function t(e,t,i,r){var n="";if(/^\D/.test(i)){let e=new RegExp("\\#define "+i+" (\\d+)");if(e.test(o))i=RegExp.$1}for(var a=parseInt(t);a<parseInt(i);a++){n+=r.replace(/\[[\s]*i[\s]*\]/g,"[ "+a+" ]")}return n}return o.replace(e,t)}function Jt(e,t,r,i,n,a,o){var s,l,h,f,c;var u=[];var d=["instance_index","modelViewMatrix"];var p=["_modelMatrix","_normalMatrix"];if(o.instanced_drawing){e=null;let i=[];p.forEach(function(e){let t=e=="_normalMatrix"?"mat3":"mat4";i.push(t+" "+e.substring(1)+"="+e+"[int(instance_index)];")});r=r.replace(/void main\(\)\s?\{/,"void main() {\n"+i.join("\n")+"\n")}if(e){u.push(e)}else{u.push(t);u.push(r)}for(h in a){u.push(h);u.push(a[h])}for(s in o){u.push(s);u.push(o[s])}c=u.join();for(s=0,l=M.length;s<l;s++){var m=M[s];if(m.code===c){m.usedTimes++;return m.program}}var E="SHADOWMAP_TYPE_BASIC";if(o.shadowMapType===THREE.PCFShadowMap){E="SHADOWMAP_TYPE_PCF"}else if(o.shadowMapType===THREE.PCFSoftShadowMap){E="SHADOWMAP_TYPE_PCF_SOFT"}var g=Qt(a);f=st.createProgram();var v=["precision "+w+" float;",g,he?"#define VERTEX_TEXTURES":"",j.gammaInput?"#define GAMMA_INPUT":"",j.gammaOutput?"#define GAMMA_OUTPUT":"",j.physicallyBasedShading?"#define PHYSICALLY_BASED_SHADING":"","#define MAX_DIR_LIGHTS "+o.maxDirLights,"#define MAX_POINT_LIGHTS "+o.maxPointLights,"#define MAX_SPOT_LIGHTS "+o.maxSpotLights,"#define MAX_HEMI_LIGHTS "+o.maxHemiLights,"#define MAX_SHADOWS "+o.maxShadows,"#define MAX_BONES "+o.maxBones,o.map?"#define USE_MAP":"",o.envMap?"#define USE_ENVMAP":"",o.lightMap?"#define USE_LIGHTMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.displacementMap?"#define USE_DISPLACEMENTMAP":"",o.waveTexture?"#define USE_WAVE_TEXTURE":"",o.waveTexture?"#define RIPPLE_MAX "+(self.MMD_SA&&MMD_SA_options.ripple_max||20):"",o.waveTexture?"#define RIPPLE_RANGE "+(self.MMD_SA&&MMD_SA_options.ripple_range||128)+".0":"",o.mirrorTexture?"#define USE_MIRROR_TEXTURE":"",o.uniTexture?"#define USE_UNI_TEXTURE":"",o.normalMap?"#define USE_NORMALMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.vertexColors?"#define USE_COLOR":"",o.skinning?"#define USE_SKINNING":"",o.useVertexTexture?"#define BONE_TEXTURE":"",o.boneTextureWidth?"#define N_BONE_PIXEL_X "+o.boneTextureWidth.toFixed(1):"",o.boneTextureHeight?"#define N_BONE_PIXEL_Y "+o.boneTextureHeight.toFixed(1):"",o.morphTargets?"#define USE_MORPHTARGETS":"",o.morphNormals?"#define USE_MORPHNORMALS":"",o.perPixel?"#define PHONG_PER_PIXEL":"",o.wrapAround?"#define WRAP_AROUND":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"",o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+E:"",o.shadowMapDebug?"#define SHADOWMAP_DEBUG":"",o.shadowMapCascade?"#define SHADOWMAP_CASCADE":"",o.sizeAttenuation?"#define USE_SIZEATTENUATION":"",o.instanced_drawing?"#define INSTANCED_DRAWING "+o.instanced_drawing:"","#ifdef INSTANCED_DRAWING","attribute float instance_index;",d.indexOf("modelMatrix")!=-1?"attribute mat4 modelMatrix;":"uniform mat4 _modelMatrix[INSTANCED_DRAWING];",d.indexOf("modelViewMatrix")!=-1?"attribute mat4 modelViewMatrix;":"uniform mat4 _modelViewMatrix[INSTANCED_DRAWING];",d.indexOf("normalMatrix")!=-1?"attribute mat3 normalMatrix;":"uniform mat3 _normalMatrix[INSTANCED_DRAWING];","#else","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat3 normalMatrix;","#endif","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","attribute vec2 uv2;","#ifdef USE_COLOR","attribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","attribute vec3 morphTarget0;","attribute vec3 morphTarget1;","attribute vec3 morphTarget2;","attribute vec3 morphTarget3;","#ifdef USE_MORPHNORMALS","attribute vec3 morphNormal0;","attribute vec3 morphNormal1;","attribute vec3 morphNormal2;","attribute vec3 morphNormal3;","#else","attribute vec3 morphTarget4;","attribute vec3 morphTarget5;","attribute vec3 morphTarget6;","attribute vec3 morphTarget7;","#endif","#endif","#ifdef USE_SKINNING","attribute vec4 skinIndex;","attribute vec4 skinWeight;","#endif",""].join("\n");var T=["precision "+w+" float;",o.bumpMap||o.normalMap?"#extension GL_OES_standard_derivatives : enable":"",g,"#define MAX_DIR_LIGHTS "+o.maxDirLights,"#define MAX_POINT_LIGHTS "+o.maxPointLights,"#define MAX_SPOT_LIGHTS "+o.maxSpotLights,"#define MAX_HEMI_LIGHTS "+o.maxHemiLights,"#define MAX_SHADOWS "+o.maxShadows,o.alphaTest?"#define ALPHATEST "+o.alphaTest:"",j.gammaInput?"#define GAMMA_INPUT":"",j.gammaOutput?"#define GAMMA_OUTPUT":"",j.physicallyBasedShading?"#define PHYSICALLY_BASED_SHADING":"",o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.envMap?"#define USE_ENVMAP":"",o.lightMap?"#define USE_LIGHTMAP":"",o.bumpMap?"#define USE_BUMPMAP":"","#define BASE_COLOR "+(o.base_color&&"vec3("+o.base_color+")"||"vec3(1.0)"),o.displacementMap?"#define USE_DISPLACEMENTMAP":"",o.computerNormalFromDisplacement?"#define COMPUTE_NORMAL_FROM_DISPLACEMENT":"",o.waveTexture?"#define USE_WAVE_TEXTURE":"",o.mirrorTexture?"#define USE_MIRROR_TEXTURE":"",o.uniTexture?"#define USE_UNI_TEXTURE"+(use_MatrixRain?!MMD_SA.matrix_rain.greenness?"\n#define USE_MATRIX_RAIN_COLOR":"\n#define USE_MATRIX_RAIN_GREEN":""):"",o.normalMap?"#define USE_NORMALMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.vertexColors?"#define USE_COLOR":"",o.metal?"#define METAL":"",o.perPixel?"#define PHONG_PER_PIXEL":"",o.wrapAround?"#define WRAP_AROUND":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"",o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+E:"",o.shadowMapDebug?"#define SHADOWMAP_DEBUG":"",o.shadowMapCascade?"#define SHADOWMAP_CASCADE":"",o.shadowMapAlpha?"#define SHADOWMAP_ALPHA":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",""].join("\n");if(self.MMD_SA&&MMD_SA.use_webgl2){v=MMD_SA.webgl2_vshader_prefix_convert(v);T=MMD_SA.webgl2_vshader_prefix_convert(T);r=MMD_SA.webgl2_vshader_main_convert(r);t=MMD_SA.webgl2_fshader_main_convert(t)}var y=ri("vertex",Zt(v+r));var _=ri("fragment",Zt(T+t));st.attachShader(f,y);st.attachShader(f,_);st.linkProgram(f);if(!st.getProgramParameter(f,st.LINK_STATUS)){console.error("Could not initialise shader\n"+"VALIDATE_STATUS: "+st.getProgramParameter(f,st.VALIDATE_STATUS)+", gl error ["+st.getError()+"]");console.error(st.getProgramInfoLog(f))}st.deleteShader(_);st.deleteShader(y);f.uniforms={};f.attributes={};var R,x,b,H;if(o.instanced_drawing){R=["viewMatrix","projectionMatrix","cameraPosition","morphTargetInfluences"].concat(p)}else R=["viewMatrix","modelViewMatrix","projectionMatrix","normalMatrix","modelMatrix","cameraPosition","morphTargetInfluences"];if(o.useVertexTexture){R.push("boneTexture")}else{R.push("boneGlobalMatrices")}for(x in i){R.push(x)}ei(f,R);R=["position","normal","uv","uv2","tangent","color","skinIndex","skinWeight","lineDistance"];if(o.instanced_drawing)R=R.concat(d);for(H=0;H<o.maxMorphTargets;H++){R.push("morphTarget"+H)}for(H=0;H<o.maxMorphNormals;H++){R.push("morphNormal"+H)}for(b in n){R.push(b)}ti(f,R);f.id=N++;M.push({program:f,code:c,usedTimes:1});j.info.memory.programs=M.length;return f}function ei(e,t){var i,r,n;for(i=0,r=t.length;i<r;i++){n=t[i];e.uniforms[n]=st.getUniformLocation(e,n)}}function ti(e,t){var i,r,n;for(i=0,r=t.length;i<r;i++){n=t[i];e.attributes[n]=st.getAttribLocation(e,n)}}function ii(e){var t=e.split("\n");for(var i=0,r=t.length;i<r;i++){t[i]=i+1+": "+t[i]}return t.join("\n")}function ri(e,t){var i;if(e==="fragment"){i=st.createShader(st.FRAGMENT_SHADER)}else if(e==="vertex"){i=st.createShader(st.VERTEX_SHADER)}st.shaderSource(i,t);st.compileShader(i);if(!st.getShaderParameter(i,st.COMPILE_STATUS)){console.error(st.getShaderInfoLog(i));console.error(ii(t));return null}return i}function _(e){if(self.MMD_SA&&MMD_SA.use_webgl2)return true;return(e&e-1)===0}function ni(e,t,i){if(i){st.texParameteri(e,st.TEXTURE_WRAP_S,b(t.wrapS));st.texParameteri(e,st.TEXTURE_WRAP_T,b(t.wrapT));st.texParameteri(e,st.TEXTURE_MAG_FILTER,b(t.magFilter));st.texParameteri(e,st.TEXTURE_MIN_FILTER,b(t.minFilter))}else{st.texParameteri(e,st.TEXTURE_WRAP_S,st.CLAMP_TO_EDGE);st.texParameteri(e,st.TEXTURE_WRAP_T,st.CLAMP_TO_EDGE);st.texParameteri(e,st.TEXTURE_MAG_FILTER,ui(t.magFilter));st.texParameteri(e,st.TEXTURE_MIN_FILTER,ui(t.minFilter))}if(d&&t.type!==THREE.FloatType){if(t.anisotropy>1||t.__oldAnisotropy){st.texParameterf(e,d.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(t.anisotropy,le));t.__oldAnisotropy=t.anisotropy}}}var ai=document.createElement("canvas");ai.width=ai.height=1;this.setTexture=function(e,t){if(e.needsUpdate){if(!e.__webglInit){e.__webglInit=true;e.addEventListener("dispose",De);e.__webglTexture=st.createTexture();j.info.memory.textures++}st.activeTexture(st.TEXTURE0+t);st.bindTexture(st.TEXTURE_2D,e.__webglTexture);st.pixelStorei(st.UNPACK_FLIP_Y_WEBGL,e.flipY);st.pixelStorei(st.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha);st.pixelStorei(st.UNPACK_ALIGNMENT,e.unpackAlignment);var i=e.image,r=_(i.width)&&_(i.height),n=b(e.format),a=b(e.type);var o=MMD_SA.webgl2_RGBA_internal(st,n,a);ni(st.TEXTURE_2D,e,r);var s,l=e.mipmaps;if(e instanceof THREE.DataTexture){if(l.length>0&&r){for(var h=0,f=l.length;h<f;h++){s=l[h];st.texImage2D(st.TEXTURE_2D,h,o,s.width,s.height,0,n,a,s.data)}e.generateMipmaps=false}else{st.texImage2D(st.TEXTURE_2D,0,o,i.width,i.height,0,n,a,i.data)}}else if(e instanceof THREE.CompressedTexture){for(var h=0,f=l.length;h<f;h++){s=l[h];st.compressedTexImage2D(st.TEXTURE_2D,h,n,s.width,s.height,0,s.data)}}else{if(l.length>0&&r){for(var h=0,f=l.length;h<f;h++){s=l[h];st.texImage2D(st.TEXTURE_2D,h,o,n,a,s)}e.generateMipmaps=false}else{var c=i.tagName!="IMG"||i.src&&i.complete?i:ai;st.texImage2D(st.TEXTURE_2D,0,o,n,a,c)}}if(e.generateMipmaps&&r)st.generateMipmap(st.TEXTURE_2D);e.needsUpdate=false;if(e.onUpdate)e.onUpdate()}else{st.activeTexture(st.TEXTURE0+t);st.bindTexture(st.TEXTURE_2D,e.__webglTexture)}};function oi(e,t){if(e.width<=t&&e.height<=t){return e}var i=Math.max(e.width,e.height);var r=Math.floor(e.width*t/i);var n=Math.floor(e.height*t/i);var a=document.createElement("canvas");a.width=r;a.height=n;var o=a.getContext("2d");o.drawImage(e,0,0,e.width,e.height,0,0,r,n);return a}function si(e,t){if(e.image.length===6){if(e.needsUpdate){if(!e.image.__webglTextureCube){e.image.__webglTextureCube=st.createTexture();j.info.memory.textures++}st.activeTexture(st.TEXTURE0+t);st.bindTexture(st.TEXTURE_CUBE_MAP,e.image.__webglTextureCube);st.pixelStorei(st.UNPACK_FLIP_Y_WEBGL,e.flipY);var i=e instanceof THREE.CompressedTexture;var r=[];for(var n=0;n<6;n++){if(j.autoScaleCubemaps&&!i){r[n]=oi(e.image[n],se)}else{r[n]=e.image[n]}}var a=r[0],o=_(a.width)&&_(a.height),s=b(e.format),l=b(e.type);var h=MMD_SA.webgl2_RGBA_internal(st,s,l);ni(st.TEXTURE_CUBE_MAP,e,o);for(var n=0;n<6;n++){if(i){var f,c=r[n].mipmaps;for(var u=0,d=c.length;u<d;u++){f=c[u];st.compressedTexImage2D(st.TEXTURE_CUBE_MAP_POSITIVE_X+n,u,s,f.width,f.height,0,f.data)}}else{st.texImage2D(st.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,h,s,l,r[n])}}if(e.generateMipmaps&&o){st.generateMipmap(st.TEXTURE_CUBE_MAP)}e.needsUpdate=false;if(e.onUpdate)e.onUpdate()}else{st.activeTexture(st.TEXTURE0+t);st.bindTexture(st.TEXTURE_CUBE_MAP,e.image.__webglTextureCube)}}}function li(e,t){st.activeTexture(st.TEXTURE0+t);st.bindTexture(st.TEXTURE_CUBE_MAP,e.__webglTexture)}function hi(e,t,i){st.bindFramebuffer(st.FRAMEBUFFER,e);st.framebufferTexture2D(st.FRAMEBUFFER,st.COLOR_ATTACHMENT0,i,t.__webglTexture,0)}function fi(e,t){st.bindRenderbuffer(st.RENDERBUFFER,e);if(t.depthBuffer){console.log("renderTarget.depthBuffer")}else{console.log("!renderTarget.depthBuffer")}if(t.depthBuffer&&!t.stencilBuffer){if(t._use_multisample){st.renderbufferStorageMultisample(st.RENDERBUFFER,t._use_multisample,st.DEPTH_COMPONENT16,t.width,t.height)}else st.renderbufferStorage(st.RENDERBUFFER,st.DEPTH_COMPONENT16,t.width,t.height);st.framebufferRenderbuffer(st.FRAMEBUFFER,st.DEPTH_ATTACHMENT,st.RENDERBUFFER,e)}else if(t.depthBuffer&&t.stencilBuffer){if(t._use_multisample){st.renderbufferStorageMultisample(st.RENDERBUFFER,t._use_multisample,st.DEPTH24_STENCIL8,t.width,t.height)}else st.renderbufferStorage(st.RENDERBUFFER,st.DEPTH_STENCIL,t.width,t.height);st.framebufferRenderbuffer(st.FRAMEBUFFER,st.DEPTH_STENCIL_ATTACHMENT,st.RENDERBUFFER,e)}else{if(t._use_multisample){console.log("FIXME: We don't support !depth !stencil");st.renderbufferStorageMultisample(st.RENDERBUFFER,t._use_multisample,st.RGBA8,t.width,t.height)}else st.renderbufferStorage(st.RENDERBUFFER,st.RGBA4,t.width,t.height)}}this.setRenderTarget=function(e){var t=e instanceof THREE.WebGLRenderTargetCube;if(e&&!e.__webglFramebuffer){if(e.depthBuffer===undefined)e.depthBuffer=true;if(e.stencilBuffer===undefined)e.stencilBuffer=true;e.addEventListener("dispose",Pe);e.__webglTexture=st.createTexture();j.info.memory.textures++;var i=_(e.width)&&_(e.height),r=b(e.format),n=b(e.type);var a=MMD_SA.webgl2_RGBA_internal(st,r,n);if(t){e.__webglFramebuffer=[];e.__webglRenderbuffer=[];st.bindTexture(st.TEXTURE_CUBE_MAP,e.__webglTexture);ni(st.TEXTURE_CUBE_MAP,e,i);for(var o=0;o<6;o++){e.__webglFramebuffer[o]=st.createFramebuffer();e.__webglRenderbuffer[o]=st.createRenderbuffer();st.texImage2D(st.TEXTURE_CUBE_MAP_POSITIVE_X+o,0,a,e.width,e.height,0,r,n,null);hi(e.__webglFramebuffer[o],e,st.TEXTURE_CUBE_MAP_POSITIVE_X+o);fi(e.__webglRenderbuffer[o],e)}}else{e.__webglFramebuffer=st.createFramebuffer();if(e._use_multisample){e.__webglMSAAFramebuffer=st.createFramebuffer();e.__webglMSAAColorbuffer=st.createRenderbuffer();st.bindFramebuffer(st.FRAMEBUFFER,e.__webglMSAAFramebuffer);var s=st.RGBA8;st.bindRenderbuffer(st.RENDERBUFFER,e.__webglMSAAColorbuffer);st.renderbufferStorageMultisample(st.RENDERBUFFER,e._use_multisample,s,e.width,e.height);st.framebufferRenderbuffer(st.FRAMEBUFFER,st.COLOR_ATTACHMENT0,st.RENDERBUFFER,e.__webglMSAAColorbuffer);if(e.depthBuffer){e.__webglMSAADepthbuffer=st.createRenderbuffer();fi(e.__webglMSAADepthbuffer,e)}st.bindFramebuffer(st.FRAMEBUFFER,null)}st.bindTexture(st.TEXTURE_2D,e.__webglTexture);ni(st.TEXTURE_2D,e,i);st.texImage2D(st.TEXTURE_2D,0,a,e.width,e.height,0,r,n,null);hi(e.__webglFramebuffer,e,st.TEXTURE_2D);if(!e._use_multisample){if(e.shareDepthFrom){e.__webglRenderbuffer=e.shareDepthFrom.__webglRenderbuffer}else{e.__webglRenderbuffer=st.createRenderbuffer()}if(e.shareDepthFrom){if(e.depthBuffer&&!e.stencilBuffer){st.framebufferRenderbuffer(st.FRAMEBUFFER,st.DEPTH_ATTACHMENT,st.RENDERBUFFER,e.__webglRenderbuffer)}else if(e.depthBuffer&&e.stencilBuffer){st.framebufferRenderbuffer(st.FRAMEBUFFER,st.DEPTH_STENCIL_ATTACHMENT,st.RENDERBUFFER,e.__webglRenderbuffer)}}else{var l=e._use_multisample;e._use_multisample=null;fi(e.__webglRenderbuffer,e);e._use_multisample=l}}}if(t){st.bindTexture(st.TEXTURE_CUBE_MAP,null)}else{st.bindTexture(st.TEXTURE_2D,null)}st.bindRenderbuffer(st.RENDERBUFFER,null);st.bindFramebuffer(st.FRAMEBUFFER,null)}var h,f,c,u,d;if(e){if(t){h=e.__webglFramebuffer[e.activeCubeFace]}else{if(e._use_multisample){h=e.__webglMSAAFramebuffer}else h=e.__webglFramebuffer}f=e.width;c=e.height;u=0;d=0}else{h=MMD_SA.THREEX.renderer.device_framebuffer;f=E;c=g;u=p;d=m}if(h!==F){st.bindFramebuffer(st.FRAMEBUFFER,h);st.viewport(u,d,f,c);F=h}Q=f;Z=c};function ci(e){if(e instanceof THREE.WebGLRenderTargetCube){st.bindTexture(st.TEXTURE_CUBE_MAP,e.__webglTexture);st.generateMipmap(st.TEXTURE_CUBE_MAP);st.bindTexture(st.TEXTURE_CUBE_MAP,null)}else{st.bindTexture(st.TEXTURE_2D,e.__webglTexture);st.generateMipmap(st.TEXTURE_2D);st.bindTexture(st.TEXTURE_2D,null)}}function ui(e){if(e===THREE.NearestFilter||e===THREE.NearestMipMapNearestFilter||e===THREE.NearestMipMapLinearFilter){return st.NEAREST}return st.LINEAR}function b(e){if(e===THREE.RepeatWrapping)return st.REPEAT;if(e===THREE.ClampToEdgeWrapping)return st.CLAMP_TO_EDGE;if(e===THREE.MirroredRepeatWrapping)return st.MIRRORED_REPEAT;if(e===THREE.NearestFilter)return st.NEAREST;if(e===THREE.NearestMipMapNearestFilter)return st.NEAREST_MIPMAP_NEAREST;if(e===THREE.NearestMipMapLinearFilter)return st.NEAREST_MIPMAP_LINEAR;if(e===THREE.LinearFilter)return st.LINEAR;if(e===THREE.LinearMipMapNearestFilter)return st.LINEAR_MIPMAP_NEAREST;if(e===THREE.LinearMipMapLinearFilter)return st.LINEAR_MIPMAP_LINEAR;if(e===THREE.UnsignedByteType)return st.UNSIGNED_BYTE;if(e===THREE.UnsignedShort4444Type)return st.UNSIGNED_SHORT_4_4_4_4;if(e===THREE.UnsignedShort5551Type)return st.UNSIGNED_SHORT_5_5_5_1;if(e===THREE.UnsignedShort565Type)return st.UNSIGNED_SHORT_5_6_5;if(e===THREE.ByteType)return st.BYTE;if(e===THREE.ShortType)return st.SHORT;if(e===THREE.UnsignedShortType)return st.UNSIGNED_SHORT;if(e===THREE.IntType)return st.INT;if(e===THREE.UnsignedIntType)return st.UNSIGNED_INT;if(e===THREE.FloatType)return st.FLOAT;if(e===THREE.AlphaFormat)return st.ALPHA;if(e===THREE.RGBFormat)return st.RGB;if(e===THREE.RGBAFormat)return st.RGBA;if(e===THREE.LuminanceFormat)return st.LUMINANCE;if(e===THREE.LuminanceAlphaFormat)return st.LUMINANCE_ALPHA;if(e===THREE.AddEquation)return st.FUNC_ADD;if(e===THREE.SubtractEquation)return st.FUNC_SUBTRACT;if(e===THREE.ReverseSubtractEquation)return st.FUNC_REVERSE_SUBTRACT;if(e===THREE.ZeroFactor)return st.ZERO;if(e===THREE.OneFactor)return st.ONE;if(e===THREE.SrcColorFactor)return st.SRC_COLOR;if(e===THREE.OneMinusSrcColorFactor)return st.ONE_MINUS_SRC_COLOR;if(e===THREE.SrcAlphaFactor)return st.SRC_ALPHA;if(e===THREE.OneMinusSrcAlphaFactor)return st.ONE_MINUS_SRC_ALPHA;if(e===THREE.DstAlphaFactor)return st.DST_ALPHA;if(e===THREE.OneMinusDstAlphaFactor)return st.ONE_MINUS_DST_ALPHA;if(e===THREE.DstColorFactor)return st.DST_COLOR;if(e===THREE.OneMinusDstColorFactor)return st.ONE_MINUS_DST_COLOR;if(e===THREE.SrcAlphaSaturateFactor)return st.SRC_ALPHA_SATURATE;if(v!==undefined){if(e===THREE.RGB_S3TC_DXT1_Format)return v.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===THREE.RGBA_S3TC_DXT1_Format)return v.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===THREE.RGBA_S3TC_DXT3_Format)return v.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===THREE.RGBA_S3TC_DXT5_Format)return v.COMPRESSED_RGBA_S3TC_DXT5_EXT}return 0}function di(e){if(fe&&e&&e.useVertexTexture){return 1024}else{var t=st.getParameter(st.MAX_VERTEX_UNIFORM_VECTORS);var i=Math.floor((t-20)/4);var r=i;if(e!==undefined&&e instanceof THREE.SkinnedMesh){r=Math.min(e.bones.length,r);if(r<e.bones.length){console.warn("WebGLRenderer: too many bones - "+e.bones.length+", this GPU supports just "+r+" (try OpenGL instead of ANGLE)")}}return r}}function pi(e){var t,i,r,n,a,o,s;n=a=o=s=0;for(t=0,i=e.length;t<i;t++){r=e[t];if(r.onlyShadow)continue;if(r instanceof THREE.DirectionalLight)n++;if(r instanceof THREE.PointLight)a++;if(r instanceof THREE.SpotLight)o++;if(r instanceof THREE.HemisphereLight)s++}return{directional:n,point:a,spot:o,hemi:s}}function mi(e){var t,i,r,n=0;for(t=0,i=e.length;t<i;t++){r=e[t];if(!r.castShadow)continue;if(r instanceof THREE.SpotLight)n++;if(r instanceof THREE.DirectionalLight&&!r.shadowCascade)n++}return n}function Ei(){try{var e={alpha:H,premultipliedAlpha:D,antialias:P,stencil:L,preserveDrawingBuffer:U};if(self.MMD_SA_options&&MMD_SA_options.WebXR&&MMD_SA_options.WebXR.AR&&MMD_SA.WebXR.can_AR){console.log("Use XR-compatible WebGL context");e.xrCompatible=true}if(self.MMD_SA)st=n.getContext("webgl2",e);if(st){console.log("Use WebGL2");MMD_SA.use_webgl2=true}else st=n.getContext("webgl",e)||n.getContext("experimental-webgl",e);if(st===null){throw"Error creating WebGL context."}}catch(t){console.error(t)}if(self.MMD_SA&&MMD_SA.use_webgl2){lt=true;console.log("Use VAO");u=true;re=true}else{u=st.getExtension("OES_texture_float");re=st.getExtension("OES_standard_derivatives")}d=st.getExtension("EXT_texture_filter_anisotropic")||st.getExtension("MOZ_EXT_texture_filter_anisotropic")||st.getExtension("WEBKIT_EXT_texture_filter_anisotropic");v=st.getExtension("WEBGL_compressed_texture_s3tc")||st.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||st.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");if(!u){console.log("THREE.WebGLRenderer: Float textures not supported.")}if(!re){console.log("THREE.WebGLRenderer: Standard derivatives not supported.")}if(!d){console.log("THREE.WebGLRenderer: Anisotropic texture filtering not supported.")}if(!v){console.log("THREE.WebGLRenderer: S3TC compressed textures not supported.")}if(st.getShaderPrecisionFormat===undefined){st.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}}}if(self.MMD_SA)MMD_SA.WebGL_initialized=true;window.dispatchEvent(new CustomEvent("WebGL_initialized"))}function gi(){st.clearColor(0,0,0,1);st.clearDepth(1);st.clearStencil(0);st.enable(st.DEPTH_TEST);st.depthFunc(st.LEQUAL);st.frontFace(st.CCW);st.cullFace(st.BACK);st.enable(st.CULL_FACE);st.enable(st.BLEND);st.blendEquation(st.FUNC_ADD);st.blendFunc(st.SRC_ALPHA,st.ONE_MINUS_SRC_ALPHA);st.clearColor(i.r,i.g,i.b,r)}if(THREE.ShadowMapPlugin){this.shadowMapPlugin=new THREE.ShadowMapPlugin;this.addPrePlugin(this.shadowMapPlugin)}this.addPostPlugin(new THREE.SpritePlugin);if(THREE.LensFlarePlugin){this.addPostPlugin(new THREE.LensFlarePlugin)}};THREE.WebGLRenderTarget=function(e,t,i){this.width=e;this.height=t;i=i||{};this.wrapS=i.wrapS!==undefined?i.wrapS:THREE.ClampToEdgeWrapping;this.wrapT=i.wrapT!==undefined?i.wrapT:THREE.ClampToEdgeWrapping;this.magFilter=i.magFilter!==undefined?i.magFilter:THREE.LinearFilter;this.minFilter=i.minFilter!==undefined?i.minFilter:THREE.LinearMipMapLinearFilter;this.anisotropy=i.anisotropy!==undefined?i.anisotropy:1;this.offset=new THREE.Vector2(0,0);this.repeat=new THREE.Vector2(1,1);this.format=i.format!==undefined?i.format:THREE.RGBAFormat;this.type=i.type!==undefined?i.type:THREE.UnsignedByteType;this.depthBuffer=i.depthBuffer!==undefined?i.depthBuffer:true;this.stencilBuffer=i.stencilBuffer!==undefined?i.stencilBuffer:true;this.generateMipmaps=true;this.shareDepthFrom=null};THREE.WebGLRenderTarget.prototype={constructor:THREE.WebGLRenderTarget,clone:function(){var e=new THREE.WebGLRenderTarget(this.width,this.height);e.wrapS=this.wrapS;e.wrapT=this.wrapT;e.magFilter=this.magFilter;e.minFilter=this.minFilter;e.anisotropy=this.anisotropy;e.offset.copy(this.offset);e.repeat.copy(this.repeat);e.format=this.format;e.type=this.type;e.depthBuffer=this.depthBuffer;e.stencilBuffer=this.stencilBuffer;e.generateMipmaps=this.generateMipmaps;e.shareDepthFrom=this.shareDepthFrom;return e},dispose:function(){this.dispatchEvent({type:"dispose"})}};THREE.EventDispatcher.prototype.apply(THREE.WebGLRenderTarget.prototype);THREE.WebGLRenderTargetCube=function(e,t,i){THREE.WebGLRenderTarget.call(this,e,t,i);this.activeCubeFace=0};THREE.WebGLRenderTargetCube.prototype=Object.create(THREE.WebGLRenderTarget.prototype);THREE.RenderableVertex=function(){this.positionWorld=new THREE.Vector3;this.positionScreen=new THREE.Vector4;this.visible=true};THREE.RenderableVertex.prototype.copy=function(e){this.positionWorld.copy(e.positionWorld);this.positionScreen.copy(e.positionScreen)};THREE.RenderableFace3=function(){this.v1=new THREE.RenderableVertex;this.v2=new THREE.RenderableVertex;this.v3=new THREE.RenderableVertex;this.centroidModel=new THREE.Vector3;this.normalModel=new THREE.Vector3;this.normalModelView=new THREE.Vector3;this.vertexNormalsLength=0;this.vertexNormalsModel=[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3];this.vertexNormalsModelView=[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3];this.color=null;this.material=null;this.uvs=[[]];this.z=null};THREE.RenderableFace4=function(){this.v1=new THREE.RenderableVertex;this.v2=new THREE.RenderableVertex;this.v3=new THREE.RenderableVertex;this.v4=new THREE.RenderableVertex;this.centroidModel=new THREE.Vector3;this.normalModel=new THREE.Vector3;this.normalModelView=new THREE.Vector3;this.vertexNormalsLength=0;this.vertexNormalsModel=[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3];this.vertexNormalsModelView=[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3];this.color=null;this.material=null;this.uvs=[[]];this.z=null};THREE.RenderableObject=function(){this.object=null;this.z=null};THREE.RenderableParticle=function(){this.object=null;this.x=null;this.y=null;this.z=null;this.rotation=null;this.scale=new THREE.Vector2;this.material=null};THREE.RenderableLine=function(){this.z=null;this.v1=new THREE.RenderableVertex;this.v2=new THREE.RenderableVertex;this.vertexColors=[new THREE.Color,new THREE.Color];this.material=null};THREE.GeometryUtils={merge:function(e,t,i){var r,n,a=e.vertices.length,o=e.faceVertexUvs[0].length,s=t instanceof THREE.Mesh?t.geometry:t,l=e.vertices,h=s.vertices,f=e.faces,c=s.faces,u=e.faceVertexUvs[0],d=s.faceVertexUvs[0];if(i===undefined)i=0;if(t instanceof THREE.Mesh){t.matrixAutoUpdate&&t.updateMatrix();r=t.matrix;n=(new THREE.Matrix3).getNormalMatrix(r)}for(var p=0,m=h.length;p<m;p++){var E=h[p];var g=E.clone();if(r)g.applyMatrix4(r);l.push(g)}for(p=0,m=c.length;p<m;p++){var v=c[p],T,y,_,R=v.vertexNormals,x=v.vertexColors;if(v instanceof THREE.Face3){T=new THREE.Face3(v.a+a,v.b+a,v.c+a)}else if(v instanceof THREE.Face4){T=new THREE.Face4(v.a+a,v.b+a,v.c+a,v.d+a)}T.normal.copy(v.normal);if(n){T.normal.applyMatrix3(n).normalize()}for(var b=0,H=R.length;b<H;b++){y=R[b].clone();if(n){y.applyMatrix3(n).normalize()}T.vertexNormals.push(y)}T.color.copy(v.color);for(var b=0,H=x.length;b<H;b++){_=x[b];T.vertexColors.push(_.clone())}T.materialIndex=v.materialIndex+i;T.centroid.copy(v.centroid);if(r){T.centroid.applyMatrix4(r)}f.push(T)}for(p=0,m=d.length;p<m;p++){var w=d[p],M=[];for(var b=0,H=w.length;b<H;b++){M.push(new THREE.Vector2(w[b].x,w[b].y))}u.push(M)}},removeMaterials:function(e,t){var i={};for(var r=0,n=t.length;r<n;r++){i[t[r]]=true}var a,o=[];for(var r=0,n=e.faces.length;r<n;r++){a=e.faces[r];if(!(a.materialIndex in i))o.push(a)}e.faces=o},randomPointInTriangle:function(e,t,i){var r,n,a,o=new THREE.Vector3,s=THREE.GeometryUtils.__v1;r=THREE.GeometryUtils.random();n=THREE.GeometryUtils.random();if(r+n>1){r=1-r;n=1-n}a=1-r-n;o.copy(e);o.multiplyScalar(r);s.copy(t);s.multiplyScalar(n);o.add(s);s.copy(i);s.multiplyScalar(a);o.add(s);return o},randomPointInFace:function(e,t,i){var r,n,a,o;if(e instanceof THREE.Face3){r=t.vertices[e.a];n=t.vertices[e.b];a=t.vertices[e.c];return THREE.GeometryUtils.randomPointInTriangle(r,n,a)}else if(e instanceof THREE.Face4){r=t.vertices[e.a];n=t.vertices[e.b];a=t.vertices[e.c];o=t.vertices[e.d];var s,l;if(i){if(e._area1&&e._area2){s=e._area1;l=e._area2}else{s=THREE.GeometryUtils.triangleArea(r,n,o);l=THREE.GeometryUtils.triangleArea(n,a,o);e._area1=s;e._area2=l}}else{s=THREE.GeometryUtils.triangleArea(r,n,o),l=THREE.GeometryUtils.triangleArea(n,a,o)}var h=THREE.GeometryUtils.random()*(s+l);if(h<s){return THREE.GeometryUtils.randomPointInTriangle(r,n,o)}else{return THREE.GeometryUtils.randomPointInTriangle(n,a,o)}}},randomPointsInGeometry:function(e,t){var i,r,n=e.faces,a=e.vertices,o=n.length,s=0,l=[],h,f,c,u;for(r=0;r<o;r++){i=n[r];if(i instanceof THREE.Face3){h=a[i.a];f=a[i.b];c=a[i.c];i._area=THREE.GeometryUtils.triangleArea(h,f,c)}else if(i instanceof THREE.Face4){h=a[i.a];f=a[i.b];c=a[i.c];u=a[i.d];i._area1=THREE.GeometryUtils.triangleArea(h,f,u);i._area2=THREE.GeometryUtils.triangleArea(f,c,u);i._area=i._area1+i._area2}s+=i._area;l[r]=s}function d(r){function n(e,t){if(t<e)return e;var i=e+Math.floor((t-e)/2);if(l[i]>r){return n(e,i-1)}else if(l[i]<r){return n(i+1,t)}else{return i}}return n(0,l.length-1)}var p,m,E=[];var g={};for(r=0;r<t;r++){p=THREE.GeometryUtils.random()*s;m=d(p);E[r]=THREE.GeometryUtils.randomPointInFace(n[m],e,true);if(!g[m]){g[m]=1}else{g[m]+=1}}return E},triangleArea:function(e,t,i){var r=THREE.GeometryUtils.__v1,n=THREE.GeometryUtils.__v2;r.subVectors(t,e);n.subVectors(i,e);r.cross(n);return.5*r.length()},center:function(e){e.computeBoundingBox();var t=e.boundingBox;var i=new THREE.Vector3;i.addVectors(t.min,t.max);i.multiplyScalar(-.5);e.applyMatrix((new THREE.Matrix4).makeTranslation(i.x,i.y,i.z));e.computeBoundingBox();return i},normalizeUVs:function(e){var t=e.faceVertexUvs[0];for(var i=0,r=t.length;i<r;i++){var n=t[i];for(var a=0,o=n.length;a<o;a++){if(n[a].x!==1)n[a].x=n[a].x-Math.floor(n[a].x);if(n[a].y!==1)n[a].y=n[a].y-Math.floor(n[a].y)}}},triangulateQuads:function(e){var t,i,r,n;var a=[];var o=[];var s=[];for(t=0,i=e.faceUvs.length;t<i;t++){o[t]=[]}for(t=0,i=e.faceVertexUvs.length;t<i;t++){s[t]=[]}for(t=0,i=e.faces.length;t<i;t++){var l=e.faces[t];if(l instanceof THREE.Face4){var h=l.a;var f=l.b;var c=l.c;var u=l.d;var d=new THREE.Face3;var p=new THREE.Face3;d.color.copy(l.color);p.color.copy(l.color);d.materialIndex=l.materialIndex;p.materialIndex=l.materialIndex;d.a=h;d.b=f;d.c=u;p.a=f;p.b=c;p.c=u;if(l.vertexColors.length===4){d.vertexColors[0]=l.vertexColors[0].clone();d.vertexColors[1]=l.vertexColors[1].clone();d.vertexColors[2]=l.vertexColors[3].clone();p.vertexColors[0]=l.vertexColors[1].clone();p.vertexColors[1]=l.vertexColors[2].clone();p.vertexColors[2]=l.vertexColors[3].clone()}a.push(d,p);for(r=0,n=e.faceVertexUvs.length;r<n;r++){if(e.faceVertexUvs[r].length){var m=e.faceVertexUvs[r][t];var E=m[0];var g=m[1];var v=m[2];var T=m[3];var y=[E.clone(),g.clone(),T.clone()];var _=[g.clone(),v.clone(),T.clone()];s[r].push(y,_)}}for(r=0,n=e.faceUvs.length;r<n;r++){if(e.faceUvs[r].length){var R=e.faceUvs[r][t];o[r].push(R,R)}}}else{a.push(l);for(r=0,n=e.faceUvs.length;r<n;r++){o[r].push(e.faceUvs[r][t])}for(r=0,n=e.faceVertexUvs.length;r<n;r++){s[r].push(e.faceVertexUvs[r][t])}}}e.faces=a;e.faceUvs=o;e.faceVertexUvs=s;e.computeCentroids();e.computeFaceNormals();e.computeVertexNormals();if(e.hasTangents)e.computeTangents()},setMaterialIndex:function(e,t,i,r){var n=e.faces;var a=i||0;var o=r||n.length-1;for(var s=a;s<=o;s++){n[s].materialIndex=t}}};THREE.GeometryUtils.random=THREE.Math.random16;THREE.GeometryUtils.__v1=new THREE.Vector3;THREE.GeometryUtils.__v2=new THREE.Vector3;THREE.ImageUtils={loadTexture:function(e,t,i,r,n){var a=new Image;if(n&&n.texture_resolution_limit)a._texture_resolution_limit=n.texture_resolution_limit;var o=new THREE.Texture(a,t);var s=new THREE.ImageLoader;s.addEventListener("load",function(e){o.image=e.content;o.needsUpdate=true;if(i)i(o)});s.addEventListener("error",function(e){if(r)r(e.message)});s.load(e,a);o.sourceFile=e;return o},loadCompressedTexture:function(e,t,i,r){var n=new THREE.CompressedTexture;n.mapping=t;var a=new XMLHttpRequestZIP;a.onload=function(){var e=a.response;var t=THREE.ImageUtils.parseDDS(e,true);n.format=t.format;n.mipmaps=t.mipmaps;n.image.width=t.width;n.image.height=t.height;n.generateMipmaps=false;n.needsUpdate=true;if(i)i(n)};a.onerror=r;a.open("GET",e,true);a.responseType="arraybuffer";a.send(null);return n},loadTextureCube:function(e,t,i,r){var n=[];n.loadCount=0;var a=new THREE.Texture;a.image=n;if(t!==undefined)a.mapping=t;a.flipY=false;for(var o=0,s=e.length;o<s;++o){var l=new Image;n[o]=l;l.onload=function(){n.loadCount+=1;if(n.loadCount===6){a.needsUpdate=true;if(i)i(a)}};l.onerror=r;if(!/^data:image/.test(e[o])&&!/^(tga|TGA)/.test(e[o].split(".").pop()))l.crossOrigin="anonymous";l.src=e[o]}return a},loadCompressedTextureCube:function(e,t,a,i){var o=[];o.loadCount=0;var s=new THREE.CompressedTexture;s.image=o;if(t!==undefined)s.mapping=t;s.flipY=false;s.generateMipmaps=false;var r=function(i,r){return function(){var e=i.response;var t=THREE.ImageUtils.parseDDS(e,true);r.format=t.format;r.mipmaps=t.mipmaps;r.width=t.width;r.height=t.height;o.loadCount+=1;if(o.loadCount===6){s.format=t.format;s.needsUpdate=true;if(a)a(s)}}};if(e instanceof Array){for(var n=0,l=e.length;n<l;++n){var h={};o[n]=h;var f=new XMLHttpRequestZIP;f.onload=r(f,h);f.onerror=i;var c=e[n];f.open("GET",c,true);f.responseType="arraybuffer";f.send(null)}}else{var c=e;var f=new XMLHttpRequestZIP;f.onload=function(){var e=f.response;var t=THREE.ImageUtils.parseDDS(e,true);if(t.isCubemap){var i=t.mipmaps.length/t.mipmapCount;for(var r=0;r<i;r++){o[r]={mipmaps:[]};for(var n=0;n<t.mipmapCount;n++){o[r].mipmaps.push(t.mipmaps[r*t.mipmapCount+n]);o[r].format=t.format;o[r].width=t.width;o[r].height=t.height}}s.format=t.format;s.needsUpdate=true;if(a)a(s)}};f.onerror=i;f.open("GET",c,true);f.responseType="arraybuffer";f.send(null)}return s},parseDDS:function(e,t){var i={mipmaps:[],width:0,height:0,format:null,mipmapCount:1};var r=542327876;var n=1,N=2,F=4,O=8,z=4096,a=131072,I=524288,V=8388608;var k=8,B=4194304,j=4096;var o=512,G=1024,W=2048,X=4096,q=8192,Y=16384,$=32768,K=2097152;var Q=1,Z=2,s=4,J=64,ee=512,te=131072;function l(e){return e.charCodeAt(0)+(e.charCodeAt(1)<<8)+(e.charCodeAt(2)<<16)+(e.charCodeAt(3)<<24)}function h(e){return String.fromCharCode(e&255,e>>8&255,e>>16&255,e>>24&255)}var f=l("DXT1");var c=l("DXT3");var u=l("DXT5");var d=31;var p=0;var m=1;var E=2;var g=3;var v=4;var T=7;var y=20;var _=21;var ie=27;var R=28;var re=29;var ne=30;var x=new Int32Array(e,0,d);if(x[p]!==r){console.error("ImageUtils.parseDDS(): Invalid magic number in DDS header");return i}if(!x[y]&s){console.error("ImageUtils.parseDDS(): Unsupported format, must contain a FourCC code");return i}var b;var H=x[_];switch(H){case f:b=8;i.format=THREE.RGB_S3TC_DXT1_Format;break;case c:b=16;i.format=THREE.RGBA_S3TC_DXT3_Format;break;case u:b=16;i.format=THREE.RGBA_S3TC_DXT5_Format;break;default:console.error("ImageUtils.parseDDS(): Unsupported FourCC code: ",h(H));return i}i.mipmapCount=1;if(x[E]&a&&t!==false){i.mipmapCount=Math.max(1,x[T])}i.isCubemap=x[R]&o?true:false;i.width=x[v];i.height=x[g];var w=x[m]+4;var M=i.width;var S=i.height;var A=i.isCubemap?6:1;for(var C=0;C<A;C++){for(var D=0;D<i.mipmapCount;D++){var P=Math.max(4,M)/4*Math.max(4,S)/4*b;var L=new Uint8Array(e,w,P);var U={data:L,width:M,height:S};i.mipmaps.push(U);w+=P;M=Math.max(M*.5,1);S=Math.max(S*.5,1)}M=i.width;S=i.height}return i},getNormalMap:function(e,t){var i=function(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]};var r=function(e,t){return[e[0]-t[0],e[1]-t[1],e[2]-t[2]]};var n=function(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);return[e[0]/t,e[1]/t,e[2]/t]};t=t|1;var a=e.width;var o=e.height;var s=document.createElement("canvas");s.width=a;s.height=o;var l=s.getContext("2d");l.drawImage(e,0,0);var h=l.getImageData(0,0,a,o).data;var f=l.createImageData(a,o);var c=f.data;for(var u=0;u<a;u++){for(var d=0;d<o;d++){var p=d-1<0?0:d-1;var m=d+1>o-1?o-1:d+1;var E=u-1<0?0:u-1;var g=u+1>a-1?a-1:u+1;var v=[];var T=[0,0,h[(d*a+u)*4]/255*t];v.push([-1,0,h[(d*a+E)*4]/255*t]);v.push([-1,-1,h[(p*a+E)*4]/255*t]);v.push([0,-1,h[(p*a+u)*4]/255*t]);v.push([1,-1,h[(p*a+g)*4]/255*t]);v.push([1,0,h[(d*a+g)*4]/255*t]);v.push([1,1,h[(m*a+g)*4]/255*t]);v.push([0,1,h[(m*a+u)*4]/255*t]);v.push([-1,1,h[(m*a+E)*4]/255*t]);var y=[];var _=v.length;for(var R=0;R<_;R++){var x=v[R];var b=v[(R+1)%_];x=r(x,T);b=r(b,T);y.push(n(i(x,b)))}var H=[0,0,0];for(var R=0;R<y.length;R++){H[0]+=y[R][0];H[1]+=y[R][1];H[2]+=y[R][2]}H[0]/=y.length;H[1]/=y.length;H[2]/=y.length;var w=(d*a+u)*4;c[w]=(H[0]+1)/2*255|0;c[w+1]=(H[1]+1)/2*255|0;c[w+2]=H[2]*255|0;c[w+3]=255}}l.putImageData(f,0,0);return s},generateDataTexture:function(e,t,i){var r=e*t;var n=new Uint8Array(3*r);var a=Math.floor(i.r*255);var o=Math.floor(i.g*255);var s=Math.floor(i.b*255);for(var l=0;l<r;l++){n[l*3]=a;n[l*3+1]=o;n[l*3+2]=s}var h=new THREE.DataTexture(n,e,t,THREE.RGBFormat);h.needsUpdate=true;return h}};THREE.SceneUtils={createMultiMaterialObject:function(e,t){var i=new THREE.Object3D;for(var r=0,n=t.length;r<n;r++){i.add(new THREE.Mesh(e,t[r]))}return i},detach:function(e,t,i){e.applyMatrix(t.matrixWorld);t.remove(e);i.add(e)},attach:function(e,t,i){var r=new THREE.Matrix4;r.getInverse(i.matrixWorld);e.applyMatrix(r);t.remove(e);i.add(e)}};THREE.FontUtils={faces:{},face:"helvetiker",weight:"normal",style:"normal",size:150,divisions:10,getFace:function(){return this.faces[this.face][this.weight][this.style]},loadFace:function(e){var t=e.familyName.toLowerCase();var i=this;i.faces[t]=i.faces[t]||{};i.faces[t][e.cssFontWeight]=i.faces[t][e.cssFontWeight]||{};i.faces[t][e.cssFontWeight][e.cssFontStyle]=e;var r=i.faces[t][e.cssFontWeight][e.cssFontStyle]=e;return e},drawText:function(e){var t=[],i=[];var r,n,a=this.getFace(),o=this.size/a.resolution,s=0,l=String(e).split(""),h=l.length;var f=[];for(r=0;r<h;r++){var c=new THREE.Path;var u=this.extractGlyphPoints(l[r],a,o,s,c);s+=u.offset;f.push(u.path)}var d=s/2;return{paths:f,offset:d}},extractGlyphPoints:function(e,t,i,r,n){var a=[];var o,s,l,h,f,c,u,d,p,m,E,g,v,T,y,_,R,x,b,H=t.glyphs[e]||t.glyphs["?"];if(!H)return;if(H.o){h=H._cachedOutline||(H._cachedOutline=H.o.split(" "));c=h.length;u=i;d=i;for(o=0;o<c;){f=h[o++];switch(f){case"m":p=h[o++]*u+r;m=h[o++]*d;n.moveTo(p,m);break;case"l":p=h[o++]*u+r;m=h[o++]*d;n.lineTo(p,m);break;case"q":E=h[o++]*u+r;g=h[o++]*d;y=h[o++]*u+r;_=h[o++]*d;n.quadraticCurveTo(y,_,E,g);b=a[a.length-1];if(b){v=b.x;T=b.y;for(s=1,l=this.divisions;s<=l;s++){var w=s/l;var M=THREE.Shape.Utils.b2(w,v,y,E);var S=THREE.Shape.Utils.b2(w,T,_,g)}}break;case"b":E=h[o++]*u+r;g=h[o++]*d;y=h[o++]*u+r;_=h[o++]*-d;R=h[o++]*u+r;x=h[o++]*-d;n.bezierCurveTo(E,g,y,_,R,x);b=a[a.length-1];if(b){v=b.x;T=b.y;for(s=1,l=this.divisions;s<=l;s++){var w=s/l;var M=THREE.Shape.Utils.b3(w,v,y,R,E);var S=THREE.Shape.Utils.b3(w,T,_,x,g)}}break}}}return{offset:H.ha*i,path:n}}};THREE.FontUtils.generateShapes=function(e,t){t=t||{};var i=t.size!==undefined?t.size:100;var r=t.curveSegments!==undefined?t.curveSegments:4;var n=t.font!==undefined?t.font:"helvetiker";var a=t.weight!==undefined?t.weight:"normal";var o=t.style!==undefined?t.style:"normal";THREE.FontUtils.size=i;THREE.FontUtils.divisions=r;THREE.FontUtils.face=n;THREE.FontUtils.weight=a;THREE.FontUtils.style=o;var s=THREE.FontUtils.drawText(e);var l=s.paths;var h=[];for(var f=0,c=l.length;f<c;f++){Array.prototype.push.apply(h,l[f].toShapes())}return h};(function(e){var C=1e-10;var t=function(e,t){var i=e.length;if(i<3)return null;var r=[],n=[],a=[];var o,s,l;if(E(e)>0){for(s=0;s<i;s++)n[s]=s}else{for(s=0;s<i;s++)n[s]=i-1-s}var h=i;var f=2*h;for(s=h-1;h>2;){if(f--<=0){console.log("Warning, unable to triangulate polygon!");if(t)return a;return r}o=s;if(h<=o)o=0;s=o+1;if(h<=s)s=0;l=s+1;if(h<=l)l=0;if(g(e,o,s,l,h,n)){var c,u,d,p,m;c=n[o];u=n[s];d=n[l];r.push([e[c],e[u],e[d]]);a.push([n[o],n[s],n[l]]);for(p=s,m=s+1;m<h;p++,m++){n[p]=n[m]}h--;f=2*h}}if(t)return a;return r};var E=function(e){var t=e.length;var i=0;for(var r=t-1,n=0;n<t;r=n++){i+=e[r].x*e[n].y-e[n].x*e[r].y}return i*.5};var g=function(e,t,i,r,n,a){var o;var s,l,h,f;var c,u,d,p;s=e[a[t]].x;l=e[a[t]].y;h=e[a[i]].x;f=e[a[i]].y;c=e[a[r]].x;u=e[a[r]].y;if(C>(h-s)*(u-l)-(f-l)*(c-s))return false;var m,E,g,v,T,y;var _,R,x,b,H,w;var M,S,A;m=c-h;E=u-f;g=s-c;v=l-u;T=h-s;y=f-l;for(o=0;o<n;o++){if(o===t||o===i||o===r)continue;d=e[a[o]].x;p=e[a[o]].y;_=d-s;R=p-l;x=d-h;b=p-f;H=d-c;w=p-u;A=m*b-E*x;M=T*R-y*_;S=g*w-v*H;if(A>=0&&S>=0&&M>=0)return false}return true};e.Triangulate=t;e.Triangulate.area=E;return e})(THREE.FontUtils);self._typeface_js={faces:THREE.FontUtils.faces,loadFace:THREE.FontUtils.loadFace};THREE.typeface_js=self._typeface_js;THREE.Curve=function(){};THREE.Curve.prototype.getPointAt=function(e){var t=this.getUtoTmapping(e);return this.getPoint(t)};THREE.Curve.prototype.getPoints=function(e){if(!e)e=5;var t,i=[];for(t=0;t<=e;t++){i.push(this.getPoint(t/e))}return i};THREE.Curve.prototype.getSpacedPoints=function(e){if(!e)e=5;var t,i=[];for(t=0;t<=e;t++){i.push(this.getPointAt(t/e))}return i};THREE.Curve.prototype.getLength=function(){var e=this.getLengths();return e[e.length-1]};THREE.Curve.prototype.getLengths=function(e){if(!e)e=this.__arcLengthDivisions?this.__arcLengthDivisions:200;if(this.cacheArcLengths&&this.cacheArcLengths.length==e+1&&!this.needsUpdate){return this.cacheArcLengths}this.needsUpdate=false;var t=[];var i,r=this.getPoint(0);var n,a=0;t.push(0);for(n=1;n<=e;n++){i=this.getPoint(n/e);a+=i.distanceTo(r);t.push(a);r=i}this.cacheArcLengths=t;return t};THREE.Curve.prototype.updateArcLengths=function(){this.needsUpdate=true;this.getLengths()};THREE.Curve.prototype.getUtoTmapping=function(e,t){var i=this.getLengths();var r=0,n=i.length;var a;if(t){a=t}else{a=e*i[n-1]}var o=0,s=n-1,l;while(o<=s){r=Math.floor(o+(s-o)/2);l=i[r]-a;if(l<0){o=r+1;continue}else if(l>0){s=r-1;continue}else{s=r;break}}r=s;if(i[r]==a){var h=r/(n-1);return h}var f=i[r];var c=i[r+1];var u=c-f;var d=(a-f)/u;var h=(r+d)/(n-1);return h};THREE.Curve.prototype.getTangent=function(e){var t=1e-4;var i=e-t;var r=e+t;if(i<0)i=0;if(r>1)r=1;var n=this.getPoint(i);var a=this.getPoint(r);var o=a.clone().sub(n);return o.normalize()};THREE.Curve.prototype.getTangentAt=function(e){var t=this.getUtoTmapping(e);return this.getTangent(t)};THREE.LineCurve=function(e,t){this.v1=e;this.v2=t};THREE.LineCurve.prototype=Object.create(THREE.Curve.prototype);THREE.LineCurve.prototype.getPoint=function(e){var t=this.v2.clone().sub(this.v1);t.multiplyScalar(e).add(this.v1);return t};THREE.LineCurve.prototype.getPointAt=function(e){return this.getPoint(e)};THREE.LineCurve.prototype.getTangent=function(e){var t=this.v2.clone().sub(this.v1);return t.normalize()};THREE.QuadraticBezierCurve=function(e,t,i){this.v0=e;this.v1=t;this.v2=i};THREE.QuadraticBezierCurve.prototype=Object.create(THREE.Curve.prototype);THREE.QuadraticBezierCurve.prototype.getPoint=function(e){var t,i;t=THREE.Shape.Utils.b2(e,this.v0.x,this.v1.x,this.v2.x);i=THREE.Shape.Utils.b2(e,this.v0.y,this.v1.y,this.v2.y);return new THREE.Vector2(t,i)};THREE.QuadraticBezierCurve.prototype.getTangent=function(e){var t,i;t=THREE.Curve.Utils.tangentQuadraticBezier(e,this.v0.x,this.v1.x,this.v2.x);i=THREE.Curve.Utils.tangentQuadraticBezier(e,this.v0.y,this.v1.y,this.v2.y);var r=new THREE.Vector2(t,i);r.normalize();return r};THREE.CubicBezierCurve=function(e,t,i,r){this.v0=e;this.v1=t;this.v2=i;this.v3=r};THREE.CubicBezierCurve.prototype=Object.create(THREE.Curve.prototype);THREE.CubicBezierCurve.prototype.getPoint=function(e){var t,i;t=THREE.Shape.Utils.b3(e,this.v0.x,this.v1.x,this.v2.x,this.v3.x);i=THREE.Shape.Utils.b3(e,this.v0.y,this.v1.y,this.v2.y,this.v3.y);return new THREE.Vector2(t,i)};THREE.CubicBezierCurve.prototype.getTangent=function(e){var t,i;t=THREE.Curve.Utils.tangentCubicBezier(e,this.v0.x,this.v1.x,this.v2.x,this.v3.x);i=THREE.Curve.Utils.tangentCubicBezier(e,this.v0.y,this.v1.y,this.v2.y,this.v3.y);var r=new THREE.Vector2(t,i);r.normalize();return r};THREE.SplineCurve=function(e){this.points=e==undefined?[]:e};THREE.SplineCurve.prototype=Object.create(THREE.Curve.prototype);THREE.SplineCurve.prototype.getPoint=function(e){var t=new THREE.Vector2;var i=[];var r=this.points,n,a,o;n=(r.length-1)*e;a=Math.floor(n);o=n-a;i[0]=a==0?a:a-1;i[1]=a;i[2]=a>r.length-2?r.length-1:a+1;i[3]=a>r.length-3?r.length-1:a+2;t.x=THREE.Curve.Utils.interpolate(r[i[0]].x,r[i[1]].x,r[i[2]].x,r[i[3]].x,o);t.y=THREE.Curve.Utils.interpolate(r[i[0]].y,r[i[1]].y,r[i[2]].y,r[i[3]].y,o);return t};THREE.EllipseCurve=function(e,t,i,r,n,a,o){this.aX=e;this.aY=t;this.xRadius=i;this.yRadius=r;this.aStartAngle=n;this.aEndAngle=a;this.aClockwise=o};THREE.EllipseCurve.prototype=Object.create(THREE.Curve.prototype);THREE.EllipseCurve.prototype.getPoint=function(e){var t=this.aEndAngle-this.aStartAngle;if(!this.aClockwise){e=1-e}var i=this.aStartAngle+e*t;var r=this.aX+this.xRadius*Math.cos(i);var n=this.aY+this.yRadius*Math.sin(i);return new THREE.Vector2(r,n)};THREE.ArcCurve=function(e,t,i,r,n,a){THREE.EllipseCurve.call(this,e,t,i,i,r,n,a)};THREE.ArcCurve.prototype=Object.create(THREE.EllipseCurve.prototype);THREE.Curve.Utils={tangentQuadraticBezier:function(e,t,i,r){return 2*(1-e)*(i-t)+2*e*(r-i)},tangentCubicBezier:function(e,t,i,r,n){return-3*t*(1-e)*(1-e)+3*i*(1-e)*(1-e)-6*e*i*(1-e)+6*e*r*(1-e)-3*e*e*r+3*e*e*n},tangentSpline:function(e,t,i,r,n){var a=6*e*e-6*e;var o=3*e*e-4*e+1;var s=-6*e*e+6*e;var l=3*e*e-2*e;return a+o+s+l},interpolate:function(e,t,i,r,n){var a=(i-e)*.5;var o=(r-t)*.5;var s=n*n;var l=n*s;return(2*t-2*i+a+o)*l+(-3*t+3*i-2*a-o)*s+a*n+t}};THREE.Curve.create=function(e,t){e.prototype=Object.create(THREE.Curve.prototype);e.prototype.getPoint=t;return e};THREE.LineCurve3=THREE.Curve.create(function(e,t){this.v1=e;this.v2=t},function(e){var t=new THREE.Vector3;t.subVectors(this.v2,this.v1);t.multiplyScalar(e);t.add(this.v1);return t});THREE.QuadraticBezierCurve3=THREE.Curve.create(function(e,t,i){this.v0=e;this.v1=t;this.v2=i},function(e){var t,i,r;t=THREE.Shape.Utils.b2(e,this.v0.x,this.v1.x,this.v2.x);i=THREE.Shape.Utils.b2(e,this.v0.y,this.v1.y,this.v2.y);r=THREE.Shape.Utils.b2(e,this.v0.z,this.v1.z,this.v2.z);return new THREE.Vector3(t,i,r)});THREE.CubicBezierCurve3=THREE.Curve.create(function(e,t,i,r){this.v0=e;this.v1=t;this.v2=i;this.v3=r},function(e){var t,i,r;t=THREE.Shape.Utils.b3(e,this.v0.x,this.v1.x,this.v2.x,this.v3.x);i=THREE.Shape.Utils.b3(e,this.v0.y,this.v1.y,this.v2.y,this.v3.y);r=THREE.Shape.Utils.b3(e,this.v0.z,this.v1.z,this.v2.z,this.v3.z);return new THREE.Vector3(t,i,r)});THREE.SplineCurve3=THREE.Curve.create(function(e){this.points=e==undefined?[]:e},function(e){var t=new THREE.Vector3;var i=[];var r=this.points,n,a,o;n=(r.length-1)*e;a=Math.floor(n);o=n-a;i[0]=a==0?a:a-1;i[1]=a;i[2]=a>r.length-2?r.length-1:a+1;i[3]=a>r.length-3?r.length-1:a+2;var s=r[i[0]],l=r[i[1]],h=r[i[2]],f=r[i[3]];t.x=THREE.Curve.Utils.interpolate(s.x,l.x,h.x,f.x,o);t.y=THREE.Curve.Utils.interpolate(s.y,l.y,h.y,f.y,o);t.z=THREE.Curve.Utils.interpolate(s.z,l.z,h.z,f.z,o);return t});THREE.ClosedSplineCurve3=THREE.Curve.create(function(e){this.points=e==undefined?[]:e},function(e){var t=new THREE.Vector3;var i=[];var r=this.points,n,a,o;n=(r.length-0)*e;a=Math.floor(n);o=n-a;a+=a>0?0:(Math.floor(Math.abs(a)/r.length)+1)*r.length;i[0]=(a-1)%r.length;i[1]=a%r.length;i[2]=(a+1)%r.length;i[3]=(a+2)%r.length;t.x=THREE.Curve.Utils.interpolate(r[i[0]].x,r[i[1]].x,r[i[2]].x,r[i[3]].x,o);t.y=THREE.Curve.Utils.interpolate(r[i[0]].y,r[i[1]].y,r[i[2]].y,r[i[3]].y,o);t.z=THREE.Curve.Utils.interpolate(r[i[0]].z,r[i[1]].z,r[i[2]].z,r[i[3]].z,o);return t});THREE.CurvePath=function(){this.curves=[];this.bends=[];this.autoClose=false};THREE.CurvePath.prototype=Object.create(THREE.Curve.prototype);THREE.CurvePath.prototype.add=function(e){this.curves.push(e)};THREE.CurvePath.prototype.closePath=function(){var e=this.curves[0].getPoint(0);var t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){this.curves.push(new THREE.LineCurve(t,e))}};THREE.CurvePath.prototype.getPoint=function(e){var t=e*this.getLength();var i=this.getCurveLengths();var r=0,n,a;while(r<i.length){if(i[r]>=t){n=i[r]-t;a=this.curves[r];var o=1-n/a.getLength();return a.getPointAt(o);break}r++}return null};THREE.CurvePath.prototype.getLength=function(){var e=this.getCurveLengths();return e[e.length-1]};THREE.CurvePath.prototype.getCurveLengths=function(){if(this.cacheLengths&&this.cacheLengths.length==this.curves.length){return this.cacheLengths}var e=[],t=0;var i,r=this.curves.length;for(i=0;i<r;i++){t+=this.curves[i].getLength();e.push(t)}this.cacheLengths=e;return e};THREE.CurvePath.prototype.getBoundingBox=function(){var e=this.getPoints();var t,i,r;var n,a,o;t=i=Number.NEGATIVE_INFINITY;n=a=Number.POSITIVE_INFINITY;var s,l,h,f;var c=e[0]instanceof THREE.Vector3;f=c?new THREE.Vector3:new THREE.Vector2;for(l=0,h=e.length;l<h;l++){s=e[l];if(s.x>t)t=s.x;else if(s.x<n)n=s.x;if(s.y>i)i=s.y;else if(s.y<a)a=s.y;if(c){if(s.z>r)r=s.z;else if(s.z<o)o=s.z}f.add(s)}var u={minX:n,minY:a,maxX:t,maxY:i,centroid:f.divideScalar(h)};if(c){u.maxZ=r;u.minZ=o}return u};THREE.CurvePath.prototype.createPointsGeometry=function(e){var t=this.getPoints(e,true);return this.createGeometry(t)};THREE.CurvePath.prototype.createSpacedPointsGeometry=function(e){var t=this.getSpacedPoints(e,true);return this.createGeometry(t)};THREE.CurvePath.prototype.createGeometry=function(e){var t=new THREE.Geometry;for(var i=0;i<e.length;i++){t.vertices.push(new THREE.Vector3(e[i].x,e[i].y,e[i].z||0))}return t};THREE.CurvePath.prototype.addWrapPath=function(e){this.bends.push(e)};THREE.CurvePath.prototype.getTransformedPoints=function(e,t){var i=this.getPoints(e);var r,n;if(!t){t=this.bends}for(r=0,n=t.length;r<n;r++){i=this.getWrapPoints(i,t[r])}return i};THREE.CurvePath.prototype.getTransformedSpacedPoints=function(e,t){var i=this.getSpacedPoints(e);var r,n;if(!t){t=this.bends}for(r=0,n=t.length;r<n;r++){i=this.getWrapPoints(i,t[r])}return i};THREE.CurvePath.prototype.getWrapPoints=function(e,t){var i=this.getBoundingBox();var r,n,a,o,s,l;for(r=0,n=e.length;r<n;r++){a=e[r];o=a.x;s=a.y;l=o/i.maxX;l=t.getUtoTmapping(l,o);var h=t.getPoint(l);var f=t.getNormalVector(l).multiplyScalar(s);a.x=h.x+f.x;a.y=h.y+f.y}return e};THREE.Gyroscope=function(){THREE.Object3D.call(this)};THREE.Gyroscope.prototype=Object.create(THREE.Object3D.prototype);THREE.Gyroscope.prototype.updateMatrixWorld=function(e){this.matrixAutoUpdate&&this.updateMatrix();if(this.matrixWorldNeedsUpdate||e){if(this.parent){this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix);this.matrixWorld.decompose(this.translationWorld,this.rotationWorld,this.scaleWorld);this.matrix.decompose(this.translationObject,this.rotationObject,this.scaleObject);this.matrixWorld.makeFromPositionQuaternionScale(this.translationWorld,this.rotationObject,this.scaleWorld)}else{this.matrixWorld.copy(this.matrix)}this.matrixWorldNeedsUpdate=false;e=true}for(var t=0,i=this.children.length;t<i;t++){this.children[t].updateMatrixWorld(e)}};THREE.Gyroscope.prototype.translationWorld=new THREE.Vector3;THREE.Gyroscope.prototype.translationObject=new THREE.Vector3;THREE.Gyroscope.prototype.rotationWorld=new THREE.Quaternion;THREE.Gyroscope.prototype.rotationObject=new THREE.Quaternion;THREE.Gyroscope.prototype.scaleWorld=new THREE.Vector3;THREE.Gyroscope.prototype.scaleObject=new THREE.Vector3;THREE.Path=function(e){THREE.CurvePath.call(this);this.actions=[];if(e){this.fromPoints(e)}};THREE.Path.prototype=Object.create(THREE.CurvePath.prototype);THREE.PathActions={MOVE_TO:"moveTo",LINE_TO:"lineTo",QUADRATIC_CURVE_TO:"quadraticCurveTo",BEZIER_CURVE_TO:"bezierCurveTo",CSPLINE_THRU:"splineThru",ARC:"arc",ELLIPSE:"ellipse"};THREE.Path.prototype.fromPoints=function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,i=e.length;t<i;t++){this.lineTo(e[t].x,e[t].y)}};THREE.Path.prototype.moveTo=function(e,t){var i=Array.prototype.slice.call(arguments);this.actions.push({action:THREE.PathActions.MOVE_TO,args:i})};THREE.Path.prototype.lineTo=function(e,t){var i=Array.prototype.slice.call(arguments);var r=this.actions[this.actions.length-1].args;var n=r[r.length-2];var a=r[r.length-1];var o=new THREE.LineCurve(new THREE.Vector2(n,a),new THREE.Vector2(e,t));this.curves.push(o);this.actions.push({action:THREE.PathActions.LINE_TO,args:i})};THREE.Path.prototype.quadraticCurveTo=function(e,t,i,r){var n=Array.prototype.slice.call(arguments);var a=this.actions[this.actions.length-1].args;var o=a[a.length-2];var s=a[a.length-1];var l=new THREE.QuadraticBezierCurve(new THREE.Vector2(o,s),new THREE.Vector2(e,t),new THREE.Vector2(i,r));this.curves.push(l);this.actions.push({action:THREE.PathActions.QUADRATIC_CURVE_TO,args:n})};THREE.Path.prototype.bezierCurveTo=function(e,t,i,r,n,a){var o=Array.prototype.slice.call(arguments);var s=this.actions[this.actions.length-1].args;var l=s[s.length-2];var h=s[s.length-1];var f=new THREE.CubicBezierCurve(new THREE.Vector2(l,h),new THREE.Vector2(e,t),new THREE.Vector2(i,r),new THREE.Vector2(n,a));this.curves.push(f);this.actions.push({action:THREE.PathActions.BEZIER_CURVE_TO,args:o})};THREE.Path.prototype.splineThru=function(e){var t=Array.prototype.slice.call(arguments);var i=this.actions[this.actions.length-1].args;var r=i[i.length-2];var n=i[i.length-1];var a=[new THREE.Vector2(r,n)];Array.prototype.push.apply(a,e);var o=new THREE.SplineCurve(a);this.curves.push(o);this.actions.push({action:THREE.PathActions.CSPLINE_THRU,args:t})};THREE.Path.prototype.arc=function(e,t,i,r,n,a){var o=this.actions[this.actions.length-1].args;var s=o[o.length-2];var l=o[o.length-1];this.absarc(e+s,t+l,i,r,n,a)};THREE.Path.prototype.absarc=function(e,t,i,r,n,a){this.absellipse(e,t,i,i,r,n,a)};THREE.Path.prototype.ellipse=function(e,t,i,r,n,a,o){var s=this.actions[this.actions.length-1].args;var l=s[s.length-2];var h=s[s.length-1];this.absellipse(e+l,t+h,i,r,n,a,o)};THREE.Path.prototype.absellipse=function(e,t,i,r,n,a,o){var s=Array.prototype.slice.call(arguments);var l=new THREE.EllipseCurve(e,t,i,r,n,a,o);this.curves.push(l);var h=l.getPoint(o?1:0);s.push(h.x);s.push(h.y);this.actions.push({action:THREE.PathActions.ELLIPSE,args:s})};THREE.Path.prototype.getSpacedPoints=function(e,t){if(!e)e=40;var i=[];for(var r=0;r<e;r++){i.push(this.getPoint(r/e))}return i};THREE.Path.prototype.getPoints=function(e,t){if(this.useSpacedPoints){console.log("tata");return this.getSpacedPoints(e,t)}e=e||12;var i=[];var r,n,a,o,s;var l,h,f,c,u,d,p,m,E,g,v,T,y;for(r=0,n=this.actions.length;r<n;r++){a=this.actions[r];o=a.action;s=a.args;switch(o){case THREE.PathActions.MOVE_TO:i.push(new THREE.Vector2(s[0],s[1]));break;case THREE.PathActions.LINE_TO:i.push(new THREE.Vector2(s[0],s[1]));break;case THREE.PathActions.QUADRATIC_CURVE_TO:l=s[2];h=s[3];u=s[0];d=s[1];if(i.length>0){E=i[i.length-1];p=E.x;m=E.y}else{E=this.actions[r-1].args;p=E[E.length-2];m=E[E.length-1]}for(g=1;g<=e;g++){v=g/e;T=THREE.Shape.Utils.b2(v,p,u,l);y=THREE.Shape.Utils.b2(v,m,d,h);i.push(new THREE.Vector2(T,y))}break;case THREE.PathActions.BEZIER_CURVE_TO:l=s[4];h=s[5];u=s[0];d=s[1];f=s[2];c=s[3];if(i.length>0){E=i[i.length-1];p=E.x;m=E.y}else{E=this.actions[r-1].args;p=E[E.length-2];m=E[E.length-1]}for(g=1;g<=e;g++){v=g/e;T=THREE.Shape.Utils.b3(v,p,u,f,l);y=THREE.Shape.Utils.b3(v,m,d,c,h);i.push(new THREE.Vector2(T,y))}break;case THREE.PathActions.CSPLINE_THRU:E=this.actions[r-1].args;var _=new THREE.Vector2(E[E.length-2],E[E.length-1]);var R=[_];var x=e*s[0].length;R=R.concat(s[0]);var b=new THREE.SplineCurve(R);for(g=1;g<=x;g++){i.push(b.getPointAt(g/x))}break;case THREE.PathActions.ARC:var H=s[0],w=s[1],M=s[2],S=s[3],A=s[4],C=!!s[5];var D=A-S;var P;var L=e*2;for(g=1;g<=L;g++){v=g/L;if(!C){v=1-v}P=S+v*D;T=H+M*Math.cos(P);y=w+M*Math.sin(P);i.push(new THREE.Vector2(T,y))}break;case THREE.PathActions.ELLIPSE:var H=s[0],w=s[1],F=s[2],O=s[3],S=s[4],A=s[5],C=!!s[6];var D=A-S;var P;var L=e*2;for(g=1;g<=L;g++){v=g/L;if(!C){v=1-v}P=S+v*D;T=H+F*Math.cos(P);y=w+O*Math.sin(P);i.push(new THREE.Vector2(T,y))}break}}var U=i[i.length-1];var N=1e-10;if(Math.abs(U.x-i[0].x)<N&&Math.abs(U.y-i[0].y)<N)i.splice(i.length-1,1);if(t){i.push(i[0])}return i};THREE.Path.prototype.toShapes=function(){var e,t,i,r,n;var a=[],o=new THREE.Path;for(e=0,t=this.actions.length;e<t;e++){i=this.actions[e];n=i.args;r=i.action;if(r==THREE.PathActions.MOVE_TO){if(o.actions.length!=0){a.push(o);o=new THREE.Path}}o[r].apply(o,n)}if(o.actions.length!=0){a.push(o)}if(a.length==0)return[];var s,l,h=[];var f=!THREE.Shape.Utils.isClockWise(a[0].getPoints());if(a.length==1){s=a[0];l=new THREE.Shape;l.actions=s.actions;l.curves=s.curves;h.push(l);return h}if(f){l=new THREE.Shape;for(e=0,t=a.length;e<t;e++){s=a[e];if(THREE.Shape.Utils.isClockWise(s.getPoints())){l.actions=s.actions;l.curves=s.curves;h.push(l);l=new THREE.Shape}else{l.holes.push(s)}}}else{for(e=0,t=a.length;e<t;e++){s=a[e];if(THREE.Shape.Utils.isClockWise(s.getPoints())){if(l)h.push(l);l=new THREE.Shape;l.actions=s.actions;l.curves=s.curves}else{l.holes.push(s)}}h.push(l)}return h};THREE.Shape=function(){THREE.Path.apply(this,arguments);this.holes=[]};THREE.Shape.prototype=Object.create(THREE.Path.prototype);THREE.Shape.prototype.extrude=function(e){var t=new THREE.ExtrudeGeometry(this,e);return t};THREE.Shape.prototype.makeGeometry=function(e){var t=new THREE.ShapeGeometry(this,e);return t};THREE.Shape.prototype.getPointsHoles=function(e){var t,i=this.holes.length,r=[];for(t=0;t<i;t++){r[t]=this.holes[t].getTransformedPoints(e,this.bends)}return r};THREE.Shape.prototype.getSpacedPointsHoles=function(e){var t,i=this.holes.length,r=[];for(t=0;t<i;t++){r[t]=this.holes[t].getTransformedSpacedPoints(e,this.bends)}return r};THREE.Shape.prototype.extractAllPoints=function(e){return{shape:this.getTransformedPoints(e),holes:this.getPointsHoles(e)}};THREE.Shape.prototype.extractPoints=function(e){if(this.useSpacedPoints){return this.extractAllSpacedPoints(e)}return this.extractAllPoints(e)};THREE.Shape.prototype.extractAllSpacedPoints=function(e){return{shape:this.getTransformedSpacedPoints(e),holes:this.getSpacedPointsHoles(e)}};THREE.Shape.Utils={removeHoles:function(e,t){var i=e.concat();var r=i.concat();var n,a,o,N,s,l,F,O,h,f,c,u,d,p,m,E,g,v,T,y,_=[];for(h=0;h<t.length;h++){c=t[h];Array.prototype.push.apply(r,c);u=Number.POSITIVE_INFINITY;for(f=0;f<c.length;f++){m=c[f];var R=[];for(p=0;p<i.length;p++){E=i[p];d=m.distanceToSquared(E);R.push(d);if(d<u){u=d;s=f;l=p}}}n=l-1>=0?l-1:i.length-1;o=s-1>=0?s-1:c.length-1;var x=[c[s],i[l],i[n]];var b=THREE.FontUtils.Triangulate.area(x);var H=[c[s],c[o],i[l]];var w=THREE.FontUtils.Triangulate.area(H);var M=1;var S=-1;var A=l,C=s;l+=M;s+=S;if(l<0){l+=i.length}l%=i.length;if(s<0){s+=c.length}s%=c.length;n=l-1>=0?l-1:i.length-1;o=s-1>=0?s-1:c.length-1;x=[c[s],i[l],i[n]];var D=THREE.FontUtils.Triangulate.area(x);H=[c[s],c[o],i[l]];var P=THREE.FontUtils.Triangulate.area(H);if(b+w>D+P){l=A;s=C;if(l<0){l+=i.length}l%=i.length;if(s<0){s+=c.length}s%=c.length;n=l-1>=0?l-1:i.length-1;o=s-1>=0?s-1:c.length-1}else{}g=i.slice(0,l);v=i.slice(l);T=c.slice(s);y=c.slice(0,s);var L=[c[s],i[l],i[n]];var U=[c[s],c[o],i[l]];_.push(L);_.push(U);i=g.concat(T).concat(y).concat(v)}return{shape:i,isolatedPts:_,allpoints:r}},triangulateShape:function(e,t){var i=THREE.Shape.Utils.removeHoles(e,t);var r=i.shape,n=i.allpoints,a=i.isolatedPts;var o=THREE.FontUtils.Triangulate(r,false);var s,l,h,f,c,u,d={},p={};for(s=0,l=n.length;s<l;s++){c=n[s].x+":"+n[s].y;if(d[c]!==undefined){console.log("Duplicate point",c)}d[c]=s}for(s=0,l=o.length;s<l;s++){f=o[s];for(h=0;h<3;h++){c=f[h].x+":"+f[h].y;u=d[c];if(u!==undefined){f[h]=u}}}for(s=0,l=a.length;s<l;s++){f=a[s];for(h=0;h<3;h++){c=f[h].x+":"+f[h].y;u=d[c];if(u!==undefined){f[h]=u}}}return o.concat(a)},isClockWise:function(e){return THREE.FontUtils.Triangulate.area(e)<0},b2p0:function(e,t){var i=1-e;return i*i*t},b2p1:function(e,t){return 2*(1-e)*e*t},b2p2:function(e,t){return e*e*t},b2:function(e,t,i,r){return this.b2p0(e,t)+this.b2p1(e,i)+this.b2p2(e,r)},b3p0:function(e,t){var i=1-e;return i*i*i*t},b3p1:function(e,t){var i=1-e;return 3*i*i*e*t},b3p2:function(e,t){var i=1-e;return 3*i*e*e*t},b3p3:function(e,t){return e*e*e*t},b3:function(e,t,i,r,n){return this.b3p0(e,t)+this.b3p1(e,i)+this.b3p2(e,r)+this.b3p3(e,n)}};THREE.AnimationHandler=function(){var i=[];var t={};var e={};e.update=function(e){for(var t=0;t<i.length;t++)i[t].update(e)};e.addToUpdate=function(e){if(i.indexOf(e)===-1)i.push(e)};e.removeFromUpdate=function(e){var t=i.indexOf(e);if(t!==-1)i.splice(t,1)};e.add=function(e){if(t[e.name]!==undefined)console.log("THREE.AnimationHandler.add: Warning! "+e.name+" already exists in library. Overwriting.");t[e.name]=e;n(e)};e.get=function(e){if(typeof e==="string"){if(t[e]){return t[e]}else{console.log("THREE.AnimationHandler.get: Couldn't find animation "+e);return null}}else{}};e.parse=function(e){var t=[];if(e instanceof THREE.SkinnedMesh){for(var i=0;i<e.bones.length;i++){t.push(e.bones[i])}}else{r(e,t)}return t};var r=function(e,t){t.push(e);for(var i=0;i<e.children.length;i++)r(e.children[i],t)};var n=function(e){if(e.initialized===true)return;for(var t=0;t<e.hierarchy.length;t++){for(var i=0;i<e.hierarchy[t].keys.length;i++){if(e.hierarchy[t].keys[i].time<0)e.hierarchy[t].keys[i].time=0;if(e.hierarchy[t].keys[i].rot!==undefined&&!(e.hierarchy[t].keys[i].rot instanceof THREE.Quaternion)){var r=e.hierarchy[t].keys[i].rot;e.hierarchy[t].keys[i].rot=new THREE.Quaternion(r[0],r[1],r[2],r[3])}}if(e.hierarchy[t].keys.length&&e.hierarchy[t].keys[0].morphTargets!==undefined){var n={};for(var i=0;i<e.hierarchy[t].keys.length;i++){for(var a=0;a<e.hierarchy[t].keys[i].morphTargets.length;a++){var o=e.hierarchy[t].keys[i].morphTargets[a];n[o]=-1}}e.hierarchy[t].usedMorphTargets=n;for(var i=0;i<e.hierarchy[t].keys.length;i++){var s={};for(var o in n){for(var a=0;a<e.hierarchy[t].keys[i].morphTargets.length;a++){if(e.hierarchy[t].keys[i].morphTargets[a]===o){s[o]=e.hierarchy[t].keys[i].morphTargetsInfluences[a];break}}if(a===e.hierarchy[t].keys[i].morphTargets.length){s[o]=0}}e.hierarchy[t].keys[i].morphTargetsInfluences=s}}for(var i=1;i<e.hierarchy[t].keys.length;i++){if(e.hierarchy[t].keys[i].time===e.hierarchy[t].keys[i-1].time){e.hierarchy[t].keys.splice(i,1);i--}}for(var i=0;i<e.hierarchy[t].keys.length;i++){e.hierarchy[t].keys[i].index=i}}var l=parseInt(e.length*e.fps,10);e.JIT={};e.JIT.hierarchy=[];for(var t=0;t<e.hierarchy.length;t++)e.JIT.hierarchy.push(new Array(l));e.initialized=true};e.LINEAR=0;e.CATMULLROM=1;e.CATMULLROM_FORWARD=2;return e}();THREE.Animation=function(e,t,i){this.root=e;this.data=THREE.AnimationHandler.get(t);this.hierarchy=THREE.AnimationHandler.parse(e);this.currentTime=0;this.timeScale=1;this.isPlaying=false;this.isPaused=true;this.loop=true;this.interpolationType=i!==undefined?i:THREE.AnimationHandler.LINEAR;this.points=[];this.target=new THREE.Vector3};THREE.Animation.prototype.play=function(e,t){if(this.isPlaying===false){this.isPlaying=true;this.loop=e!==undefined?e:true;this.currentTime=t!==undefined?t:0;var i,r=this.hierarchy.length,n;for(i=0;i<r;i++){n=this.hierarchy[i];if(this.interpolationType!==THREE.AnimationHandler.CATMULLROM_FORWARD){n.useQuaternion=true}n.matrixAutoUpdate=true;if(n.animationCache===undefined){n.animationCache={};n.animationCache.prevKey={pos:0,rot:0,scl:0};n.animationCache.nextKey={pos:0,rot:0,scl:0};n.animationCache.originalMatrix=n instanceof THREE.Bone?n.skinMatrix:n.matrix}var a=n.animationCache.prevKey;var o=n.animationCache.nextKey;a.pos=this.data.hierarchy[i].keys[0];a.rot=this.data.hierarchy[i].keys[0];a.scl=this.data.hierarchy[i].keys[0];o.pos=this.getNextKeyWith("pos",i,1);o.rot=this.getNextKeyWith("rot",i,1);o.scl=this.getNextKeyWith("scl",i,1)}this.update(0)}this.isPaused=false;THREE.AnimationHandler.addToUpdate(this)};THREE.Animation.prototype.pause=function(){if(this.isPaused===true){THREE.AnimationHandler.addToUpdate(this)}else{THREE.AnimationHandler.removeFromUpdate(this)}this.isPaused=!this.isPaused};THREE.Animation.prototype.stop=function(){this.isPlaying=false;this.isPaused=false;THREE.AnimationHandler.removeFromUpdate(this)};THREE.Animation.prototype.update=function(e){if(this.isPlaying===false)return;var t=["pos","rot","scl"];var i;var r;var n;var a,o;var s,l;var h;var f;var c;var u=this.data.JIT.hierarchy;var d,p;var m,E,g;this.currentTime+=e*this.timeScale;p=this.currentTime;d=this.currentTime=this.currentTime%this.data.length;c=parseInt(Math.min(d*this.data.fps,this.data.length*this.data.fps),10);for(var v=0,T=this.hierarchy.length;v<T;v++){h=this.hierarchy[v];f=h.animationCache;for(var y=0;y<3;y++){i=t[y];s=f.prevKey[i];l=f.nextKey[i];if(l.time<=p){if(d<p){if(this.loop){s=this.data.hierarchy[v].keys[0];l=this.getNextKeyWith(i,v,1);while(l.time<d){s=l;l=this.getNextKeyWith(i,v,l.index+1)}}else{this.stop();return}}else{do{s=l;l=this.getNextKeyWith(i,v,l.index+1)}while(l.time<d)}f.prevKey[i]=s;f.nextKey[i]=l}h.matrixAutoUpdate=true;h.matrixWorldNeedsUpdate=true;r=(d-s.time)/(l.time-s.time);a=s[i];o=l[i];if(r<0||r>1){console.log("THREE.Animation.update: Warning! Scale out of bounds:"+r+" on bone "+v);r=r<0?0:1}if(i==="pos"){n=h.position;if(this.interpolationType===THREE.AnimationHandler.LINEAR){n.x=a[0]+(o[0]-a[0])*r;n.y=a[1]+(o[1]-a[1])*r;n.z=a[2]+(o[2]-a[2])*r}else if(this.interpolationType===THREE.AnimationHandler.CATMULLROM||this.interpolationType===THREE.AnimationHandler.CATMULLROM_FORWARD){this.points[0]=this.getPrevKeyWith("pos",v,s.index-1)["pos"];this.points[1]=a;this.points[2]=o;this.points[3]=this.getNextKeyWith("pos",v,l.index+1)["pos"];r=r*.33+.33;m=this.interpolateCatmullRom(this.points,r);n.x=m[0];n.y=m[1];n.z=m[2];if(this.interpolationType===THREE.AnimationHandler.CATMULLROM_FORWARD){E=this.interpolateCatmullRom(this.points,r*1.01);this.target.set(E[0],E[1],E[2]);this.target.sub(n);this.target.y=0;this.target.normalize();g=Math.atan2(this.target.x,this.target.z);h.rotation.set(0,g,0)}}}else if(i==="rot"){THREE.Quaternion.slerp(a,o,h.quaternion,r)}else if(i==="scl"){n=h.scale;n.x=a[0]+(o[0]-a[0])*r;n.y=a[1]+(o[1]-a[1])*r;n.z=a[2]+(o[2]-a[2])*r}}}};THREE.Animation.prototype.interpolateCatmullRom=function(e,t){var i=[],r=[],n,a,o,s,l,h,f,c,u;n=(e.length-1)*t;a=Math.floor(n);o=n-a;i[0]=a===0?a:a-1;i[1]=a;i[2]=a>e.length-2?a:a+1;i[3]=a>e.length-3?a:a+2;h=e[i[0]];f=e[i[1]];c=e[i[2]];u=e[i[3]];s=o*o;l=o*s;r[0]=this.interpolate(h[0],f[0],c[0],u[0],o,s,l);r[1]=this.interpolate(h[1],f[1],c[1],u[1],o,s,l);r[2]=this.interpolate(h[2],f[2],c[2],u[2],o,s,l);return r};THREE.Animation.prototype.interpolate=function(e,t,i,r,n,a,o){var s=(i-e)*.5,l=(r-t)*.5;return(2*(t-i)+s+l)*o+(-3*(t-i)-2*s-l)*a+s*n+t};THREE.Animation.prototype.getNextKeyWith=function(e,t,i){var r=this.data.hierarchy[t].keys;if(this.interpolationType===THREE.AnimationHandler.CATMULLROM||this.interpolationType===THREE.AnimationHandler.CATMULLROM_FORWARD){i=i<r.length-1?i:r.length-1}else{i=i%r.length}for(;i<r.length;i++){if(r[i][e]!==undefined){return r[i]}}return this.data.hierarchy[t].keys[0]};THREE.Animation.prototype.getPrevKeyWith=function(e,t,i){var r=this.data.hierarchy[t].keys;if(this.interpolationType===THREE.AnimationHandler.CATMULLROM||this.interpolationType===THREE.AnimationHandler.CATMULLROM_FORWARD){i=i>0?i:0}else{i=i>=0?i:i+r.length}for(;i>=0;i--){if(r[i][e]!==undefined){return r[i]}}return this.data.hierarchy[t].keys[r.length-1]};THREE.KeyFrameAnimation=function(e,t,i){this.root=e;this.data=THREE.AnimationHandler.get(t);this.hierarchy=THREE.AnimationHandler.parse(e);this.currentTime=0;this.timeScale=.001;this.isPlaying=false;this.isPaused=true;this.loop=true;this.JITCompile=i!==undefined?i:true;for(var r=0,n=this.hierarchy.length;r<n;r++){var a=this.data.hierarchy[r].keys,o=this.data.hierarchy[r].sids,s=this.hierarchy[r];if(a.length&&o){for(var l=0;l<o.length;l++){var h=o[l],f=this.getNextKeyWith(h,r,0);if(f){f.apply(h)}}s.matrixAutoUpdate=false;this.data.hierarchy[r].node.updateMatrix();s.matrixWorldNeedsUpdate=true}}};THREE.KeyFrameAnimation.prototype.play=function(e,t){if(!this.isPlaying){this.isPlaying=true;this.loop=e!==undefined?e:true;this.currentTime=t!==undefined?t:0;this.startTimeMs=t;this.startTime=1e7;this.endTime=-this.startTime;var i,r=this.hierarchy.length,n,a;for(i=0;i<r;i++){n=this.hierarchy[i];a=this.data.hierarchy[i];n.useQuaternion=true;if(a.animationCache===undefined){a.animationCache={};a.animationCache.prevKey=null;a.animationCache.nextKey=null;a.animationCache.originalMatrix=n instanceof THREE.Bone?n.skinMatrix:n.matrix}var o=this.data.hierarchy[i].keys;if(o.length){a.animationCache.prevKey=o[0];a.animationCache.nextKey=o[1];this.startTime=Math.min(o[0].time,this.startTime);this.endTime=Math.max(o[o.length-1].time,this.endTime)}}this.update(0)}this.isPaused=false;THREE.AnimationHandler.addToUpdate(this)};THREE.KeyFrameAnimation.prototype.pause=function(){if(this.isPaused){THREE.AnimationHandler.addToUpdate(this)}else{THREE.AnimationHandler.removeFromUpdate(this)}this.isPaused=!this.isPaused};THREE.KeyFrameAnimation.prototype.stop=function(){this.isPlaying=false;this.isPaused=false;THREE.AnimationHandler.removeFromUpdate(this);for(var e=0;e<this.data.hierarchy.length;e++){var t=this.hierarchy[e];var i=this.data.hierarchy[e];if(i.animationCache!==undefined){var r=i.animationCache.originalMatrix;if(t instanceof THREE.Bone){r.copy(t.skinMatrix);t.skinMatrix=r}else{r.copy(t.matrix);t.matrix=r}delete i.animationCache}}};THREE.KeyFrameAnimation.prototype.update=function(e){if(!this.isPlaying)return;var t,i;var r;var n;var a;var o=this.data.JIT.hierarchy;var s,l;var h;this.currentTime+=e*this.timeScale;l=this.currentTime;s=this.currentTime=this.currentTime%this.data.length;if(s<this.startTimeMs){s=this.currentTime=this.startTimeMs+s}a=parseInt(Math.min(s*this.data.fps,this.data.length*this.data.fps),10);h=s<l;if(h&&!this.loop){for(var f=0,c=this.hierarchy.length;f<c;f++){var u=this.data.hierarchy[f].keys,d=this.data.hierarchy[f].sids,p=u.length-1,m=this.hierarchy[f];if(u.length){for(var E=0;E<d.length;E++){var g=d[E],v=this.getPrevKeyWith(g,f,p);if(v){v.apply(g)}}this.data.hierarchy[f].node.updateMatrix();m.matrixWorldNeedsUpdate=true}}this.stop();return}if(s<this.startTime){return}for(var f=0,c=this.hierarchy.length;f<c;f++){r=this.hierarchy[f];n=this.data.hierarchy[f];var u=n.keys,T=n.animationCache;if(this.JITCompile&&o[f][a]!==undefined){if(r instanceof THREE.Bone){r.skinMatrix=o[f][a];r.matrixWorldNeedsUpdate=false}else{r.matrix=o[f][a];r.matrixWorldNeedsUpdate=true}}else if(u.length){if(this.JITCompile&&T){if(r instanceof THREE.Bone){r.skinMatrix=T.originalMatrix}else{r.matrix=T.originalMatrix}}t=T.prevKey;i=T.nextKey;if(t&&i){if(i.time<=l){if(h&&this.loop){t=u[0];i=u[1];while(i.time<s){t=i;i=u[t.index+1]}}else if(!h){var y=u.length-1;while(i.time<s&&i.index!==y){t=i;i=u[t.index+1]}}T.prevKey=t;T.nextKey=i}if(i.time>=s)t.interpolate(i,s);else t.interpolate(i,i.time)}this.data.hierarchy[f].node.updateMatrix();r.matrixWorldNeedsUpdate=true}}if(this.JITCompile){if(o[0][a]===undefined){this.hierarchy[0].updateMatrixWorld(true);for(var f=0;f<this.hierarchy.length;f++){if(this.hierarchy[f]instanceof THREE.Bone){o[f][a]=this.hierarchy[f].skinMatrix.clone()}else{o[f][a]=this.hierarchy[f].matrix.clone()}}}}};THREE.KeyFrameAnimation.prototype.getNextKeyWith=function(e,t,i){var r=this.data.hierarchy[t].keys;i=i%r.length;for(;i<r.length;i++){if(r[i].hasTarget(e)){return r[i]}}return r[0]};THREE.KeyFrameAnimation.prototype.getPrevKeyWith=function(e,t,i){var r=this.data.hierarchy[t].keys;i=i>=0?i:i+r.length;for(;i>=0;i--){if(r[i].hasTarget(e)){return r[i]}}return r[r.length-1]};THREE.CubeCamera=function(e,t,i){THREE.Object3D.call(this);var r=90,n=1;var a=new THREE.PerspectiveCamera(r,n,e,t);a.up.set(0,-1,0);a.lookAt(new THREE.Vector3(1,0,0));this.add(a);var o=new THREE.PerspectiveCamera(r,n,e,t);o.up.set(0,-1,0);o.lookAt(new THREE.Vector3(-1,0,0));this.add(o);var s=new THREE.PerspectiveCamera(r,n,e,t);s.up.set(0,0,1);s.lookAt(new THREE.Vector3(0,1,0));this.add(s);var l=new THREE.PerspectiveCamera(r,n,e,t);l.up.set(0,0,-1);l.lookAt(new THREE.Vector3(0,-1,0));this.add(l);var h=new THREE.PerspectiveCamera(r,n,e,t);h.up.set(0,-1,0);h.lookAt(new THREE.Vector3(0,0,1));this.add(h);var f=new THREE.PerspectiveCamera(r,n,e,t);f.up.set(0,-1,0);f.lookAt(new THREE.Vector3(0,0,-1));this.add(f);this.renderTarget=new THREE.WebGLRenderTargetCube(i,i,{format:THREE.RGBFormat,magFilter:THREE.LinearFilter,minFilter:THREE.LinearFilter});this.updateCubeMap=function(e,t){var i=this.renderTarget;var r=i.generateMipmaps;i.generateMipmaps=false;i.activeCubeFace=0;e.render(t,a,i);i.activeCubeFace=1;e.render(t,o,i);i.activeCubeFace=2;e.render(t,s,i);i.activeCubeFace=3;e.render(t,l,i);i.activeCubeFace=4;e.render(t,h,i);i.generateMipmaps=r;i.activeCubeFace=5;e.render(t,f,i)}};THREE.CubeCamera.prototype=Object.create(THREE.Object3D.prototype);THREE.CombinedCamera=function(e,t,i,r,n,a,o){THREE.Camera.call(this);this.fov=i;this.left=-e/2;this.right=e/2;this.top=t/2;this.bottom=-t/2;this.cameraO=new THREE.OrthographicCamera(e/-2,e/2,t/2,t/-2,a,o);this.cameraP=new THREE.PerspectiveCamera(i,e/t,r,n);this.zoom=1;this.toPerspective();var s=e/t};THREE.CombinedCamera.prototype=Object.create(THREE.Camera.prototype);THREE.CombinedCamera.prototype.toPerspective=function(){this.near=this.cameraP.near;this.far=this.cameraP.far;this.cameraP.fov=this.fov/this.zoom;this.cameraP.updateProjectionMatrix();this.projectionMatrix=this.cameraP.projectionMatrix;this.inPerspectiveMode=true;this.inOrthographicMode=false};THREE.CombinedCamera.prototype.toOrthographic=function(){var e=this.fov;var t=this.cameraP.aspect;var i=this.cameraP.near;var r=this.cameraP.far;var n=(i+r)/2;var a=Math.tan(e/2)*n;var o=2*a;var s=o*t;var l=s/2;a/=this.zoom;l/=this.zoom;this.cameraO.left=-l;this.cameraO.right=l;this.cameraO.top=a;this.cameraO.bottom=-a;this.cameraO.updateProjectionMatrix();this.near=this.cameraO.near;this.far=this.cameraO.far;this.projectionMatrix=this.cameraO.projectionMatrix;this.inPerspectiveMode=false;this.inOrthographicMode=true};THREE.CombinedCamera.prototype.setSize=function(e,t){this.cameraP.aspect=e/t;this.left=-e/2;this.right=e/2;this.top=t/2;this.bottom=-t/2};THREE.CombinedCamera.prototype.setFov=function(e){this.fov=e;if(this.inPerspectiveMode){this.toPerspective()}else{this.toOrthographic()}};THREE.CombinedCamera.prototype.updateProjectionMatrix=function(){if(this.inPerspectiveMode){this.toPerspective()}else{this.toPerspective();this.toOrthographic()}};THREE.CombinedCamera.prototype.setLens=function(e,t){if(t===undefined)t=24;var i=2*THREE.Math.radToDeg(Math.atan(t/(e*2)));this.setFov(i);return i};THREE.CombinedCamera.prototype.setZoom=function(e){this.zoom=e;if(this.inPerspectiveMode){this.toPerspective()}else{this.toOrthographic()}};THREE.CombinedCamera.prototype.toFrontView=function(){this.rotation.x=0;this.rotation.y=0;this.rotation.z=0;this.rotationAutoUpdate=false};THREE.CombinedCamera.prototype.toBackView=function(){this.rotation.x=0;this.rotation.y=Math.PI;this.rotation.z=0;this.rotationAutoUpdate=false};THREE.CombinedCamera.prototype.toLeftView=function(){this.rotation.x=0;this.rotation.y=-Math.PI/2;this.rotation.z=0;this.rotationAutoUpdate=false};THREE.CombinedCamera.prototype.toRightView=function(){this.rotation.x=0;this.rotation.y=Math.PI/2;this.rotation.z=0;this.rotationAutoUpdate=false};THREE.CombinedCamera.prototype.toTopView=function(){this.rotation.x=-Math.PI/2;this.rotation.y=0;this.rotation.z=0;this.rotationAutoUpdate=false};THREE.CombinedCamera.prototype.toBottomView=function(){this.rotation.x=Math.PI/2;this.rotation.y=0;this.rotation.z=0;this.rotationAutoUpdate=false};THREE.CircleGeometry=function(e,t,i,r){THREE.Geometry.call(this);e=e||50;i=i!==undefined?i:0;r=r!==undefined?r:Math.PI*2;t=t!==undefined?Math.max(3,t):8;var n,a=[],o=new THREE.Vector3,s=new THREE.Vector2(.5,.5);this.vertices.push(o);a.push(s);for(n=0;n<=t;n++){var l=new THREE.Vector3;var h=i+n/t*r;l.x=e*Math.cos(h);l.y=e*Math.sin(h);this.vertices.push(l);a.push(new THREE.Vector2((l.x/e+1)/2,(l.y/e+1)/2))}var f=new THREE.Vector3(0,0,1);for(n=1;n<=t;n++){var c=n;var u=n+1;var d=0;this.faces.push(new THREE.Face3(c,u,d,[f,f,f]));this.faceVertexUvs[0].push([a[n],a[n+1],s])}this.computeCentroids();this.computeFaceNormals();this.boundingSphere=new THREE.Sphere(new THREE.Vector3,e)};THREE.CircleGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.CubeGeometry=function(e,t,i,r,n,a){THREE.Geometry.call(this);var M=this;this.width=e;this.height=t;this.depth=i;this.widthSegments=r||1;this.heightSegments=n||1;this.depthSegments=a||1;var o=this.width/2;var s=this.height/2;var l=this.depth/2;h("z","y",-1,-1,this.depth,this.height,o,0);h("z","y",1,-1,this.depth,this.height,-o,1);h("x","z",1,1,this.width,this.depth,s,2);h("x","z",1,-1,this.width,this.depth,-s,3);h("x","y",1,-1,this.width,this.height,l,4);h("x","y",-1,-1,this.width,this.height,-l,5);function h(e,t,i,r,n,a,o,s){var l,h,f,c=M.widthSegments,u=M.heightSegments,d=n/2,p=a/2,m=M.vertices.length;if(e==="x"&&t==="y"||e==="y"&&t==="x"){l="z"}else if(e==="x"&&t==="z"||e==="z"&&t==="x"){l="y";u=M.depthSegments}else if(e==="z"&&t==="y"||e==="y"&&t==="z"){l="x";c=M.depthSegments}var E=c+1,g=u+1,v=n/c,T=a/u,y=new THREE.Vector3;y[l]=o>0?1:-1;for(f=0;f<g;f++){for(h=0;h<E;h++){var _=new THREE.Vector3;_[e]=(h*v-d)*i;_[t]=(f*T-p)*r;_[l]=o;M.vertices.push(_)}}for(f=0;f<u;f++){for(h=0;h<c;h++){var R=h+E*f;var x=h+E*(f+1);var b=h+1+E*(f+1);var H=h+1+E*f;var w=new THREE.Face4(R+m,x+m,b+m,H+m);w.normal.copy(y);w.vertexNormals.push(y.clone(),y.clone(),y.clone(),y.clone());w.materialIndex=s;M.faces.push(w);M.faceVertexUvs[0].push([new THREE.Vector2(h/c,1-f/u),new THREE.Vector2(h/c,1-(f+1)/u),new THREE.Vector2((h+1)/c,1-(f+1)/u),new THREE.Vector2((h+1)/c,1-f/u)])}}}this.computeCentroids();this.mergeVertices()};THREE.BoxGeometry=THREE.CubeGeometry;THREE.CubeGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.CylinderGeometry=function(e,t,i,r,n,a){THREE.Geometry.call(this);this.radiusTop=e=e!==undefined?e:20;this.radiusBottom=t=t!==undefined?t:20;this.height=i=i!==undefined?i:100;this.radiusSegments=r=r||8;this.heightSegments=n=n||1;this.openEnded=a=a!==undefined?a:false;var o=i/2;var s,l,h=[],f=[];for(l=0;l<=n;l++){var c=[];var u=[];var d=l/n;var p=d*(t-e)+e;for(s=0;s<=r;s++){var m=s/r;var E=new THREE.Vector3;E.x=p*Math.sin(m*Math.PI*2);E.y=-d*i+o;E.z=p*Math.cos(m*Math.PI*2);this.vertices.push(E);c.push(this.vertices.length-1);u.push(new THREE.Vector2(m,1-d))}h.push(c);f.push(u)}var g=(t-e)/i;var v,T;for(s=0;s<r;s++){if(e!==0){v=this.vertices[h[0][s]].clone();T=this.vertices[h[0][s+1]].clone()}else{v=this.vertices[h[1][s]].clone();T=this.vertices[h[1][s+1]].clone()}v.setY(Math.sqrt(v.x*v.x+v.z*v.z)*g).normalize();T.setY(Math.sqrt(T.x*T.x+T.z*T.z)*g).normalize();for(l=0;l<n;l++){var y=h[l][s];var _=h[l+1][s];var R=h[l+1][s+1];var x=h[l][s+1];var b=v.clone();var H=v.clone();var w=T.clone();var M=T.clone();var S=f[l][s].clone();var A=f[l+1][s].clone();var C=f[l+1][s+1].clone();var D=f[l][s+1].clone();this.faces.push(new THREE.Face4(y,_,R,x,[b,H,w,M]));this.faceVertexUvs[0].push([S,A,C,D])}}if(a===false&&e>0){this.vertices.push(new THREE.Vector3(0,o,0));for(s=0;s<r;s++){var y=h[0][s];var _=h[0][s+1];var R=this.vertices.length-1;var b=new THREE.Vector3(0,1,0);var H=new THREE.Vector3(0,1,0);var w=new THREE.Vector3(0,1,0);var S=f[0][s].clone();var A=f[0][s+1].clone();var C=new THREE.Vector2(A.u,0);this.faces.push(new THREE.Face3(y,_,R,[b,H,w]));this.faceVertexUvs[0].push([S,A,C])}}if(a===false&&t>0){this.vertices.push(new THREE.Vector3(0,-o,0));for(s=0;s<r;s++){var y=h[l][s+1];var _=h[l][s];var R=this.vertices.length-1;var b=new THREE.Vector3(0,-1,0);var H=new THREE.Vector3(0,-1,0);var w=new THREE.Vector3(0,-1,0);var S=f[l][s+1].clone();var A=f[l][s].clone();var C=new THREE.Vector2(A.u,1);this.faces.push(new THREE.Face3(y,_,R,[b,H,w]));this.faceVertexUvs[0].push([S,A,C])}}this.computeCentroids();this.computeFaceNormals()};THREE.CylinderGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.ExtrudeGeometry=function(e,t){if(typeof e==="undefined"){e=[];return}THREE.Geometry.call(this);e=e instanceof Array?e:[e];this.shapebb=e[e.length-1].getBoundingBox();this.addShapeList(e,t);this.computeCentroids();this.computeFaceNormals()};THREE.ExtrudeGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.ExtrudeGeometry.prototype.addShapeList=function(e,t){var i=e.length;for(var r=0;r<i;r++){var n=e[r];this.addShape(n,t)}};THREE.ExtrudeGeometry.prototype.addShape=function(f,c){var F=c.amount!==undefined?c.amount:100;var e=c.bevelThickness!==undefined?c.bevelThickness:6;var t=c.bevelSize!==undefined?c.bevelSize:e-2;var u=c.bevelSegments!==undefined?c.bevelSegments:3;var i=c.bevelEnabled!==undefined?c.bevelEnabled:true;var O=c.curveSegments!==undefined?c.curveSegments:12;var d=c.steps!==undefined?c.steps:1;var z=c.extrudePath;var r,I=false;var V=c.material;var k=c.extrudeMaterial;var B=c.UVGenerator!==undefined?c.UVGenerator:THREE.ExtrudeGeometry.WorldUVGenerator;var j=this.shapebb;var n,a,o,s;if(z){r=z.getSpacedPoints(d);I=true;i=false;n=c.frames!==undefined?c.frames:new THREE.TubeGeometry.FrenetFrames(z,d,false);a=new THREE.Vector3;o=new THREE.Vector3;s=new THREE.Vector3}if(!i){u=0;e=0;t=0}var l,h,p;var m=this;var G=[];var E=this.vertices.length;var W=f.extractPoints(O);var g=W.shape;var v=W.holes;var X=!THREE.Shape.Utils.isClockWise(g);if(X){g=g.reverse();for(h=0,p=v.length;h<p;h++){l=v[h];if(THREE.Shape.Utils.isClockWise(l)){v[h]=l.reverse()}}X=false}var T=THREE.Shape.Utils.triangulateShape(g,v);var y=g;for(h=0,p=v.length;h<p;h++){l=v[h];g=g.concat(l)}function _(e,t,i){return t.clone().multiplyScalar(i).add(e)}var R,x,b,H,w,M=g.length,S,q=T.length,Y,$=y.length;var K=180/Math.PI;function Q(e,t,i){return J(e,t,i)}function Z(e,t,i){var r=Math.atan2(t.y-e.y,t.x-e.x);var n=Math.atan2(i.y-e.y,i.x-e.x);if(r>n){n+=Math.PI*2}var a=(r+n)/2;var o=-Math.cos(a);var s=-Math.sin(a);var l=new THREE.Vector2(o,s);return l}function J(e,t,i){var r=THREE.ExtrudeGeometry.__v1,n=THREE.ExtrudeGeometry.__v2,a=THREE.ExtrudeGeometry.__v3,o=THREE.ExtrudeGeometry.__v4,s=THREE.ExtrudeGeometry.__v5,l=THREE.ExtrudeGeometry.__v6,h,f,c,u,d,p;r.set(e.x-t.x,e.y-t.y);n.set(e.x-i.x,e.y-i.y);h=r.normalize();f=n.normalize();a.set(-h.y,h.x);o.set(f.y,-f.x);s.copy(e).add(a);l.copy(e).add(o);if(s.equals(l)){return o.clone()}s.copy(t).add(a);l.copy(i).add(o);c=h.dot(o);u=l.sub(s).dot(o);d=u/c;if(d<0){return Z(e,t,i)}p=h.multiplyScalar(d).add(s);return p.sub(e).clone()}var ee=[];for(var A=0,C=y.length,D=C-1,P=A+1;A<C;A++,D++,P++){if(D===C)D=0;if(P===C)P=0;var te=y[A];var ie=y[D];var re=y[P];ee[A]=Q(y[A],y[D],y[P])}var ne=[],L,ae=ee.concat();for(h=0,p=v.length;h<p;h++){l=v[h];L=[];for(A=0,C=l.length,D=C-1,P=A+1;A<C;A++,D++,P++){if(D===C)D=0;if(P===C)P=0;L[A]=Q(l[A],l[D],l[P])}ne.push(L);ae=ae.concat(L)}for(R=0;R<u;R++){b=R/u;H=e*(1-b);x=t*Math.sin(b*Math.PI/2);for(A=0,C=y.length;A<C;A++){w=_(y[A],ee[A],x);N(w.x,w.y,-H)}for(h=0,p=v.length;h<p;h++){l=v[h];L=ne[h];for(A=0,C=l.length;A<C;A++){w=_(l[A],L[A],x);N(w.x,w.y,-H)}}}x=t;for(A=0;A<M;A++){w=i?_(g[A],ae[A],x):g[A];if(!I){N(w.x,w.y,0)}else{o.copy(n.normals[0]).multiplyScalar(w.x);a.copy(n.binormals[0]).multiplyScalar(w.y);s.copy(r[0]).add(o).add(a);N(s.x,s.y,s.z)}}var U;for(U=1;U<=d;U++){for(A=0;A<M;A++){w=i?_(g[A],ae[A],x):g[A];if(!I){N(w.x,w.y,F/d*U)}else{o.copy(n.normals[U]).multiplyScalar(w.x);a.copy(n.binormals[U]).multiplyScalar(w.y);s.copy(r[U]).add(o).add(a);N(s.x,s.y,s.z)}}}for(R=u-1;R>=0;R--){b=R/u;H=e*(1-b);x=t*Math.sin(b*Math.PI/2);for(A=0,C=y.length;A<C;A++){w=_(y[A],ee[A],x);N(w.x,w.y,F+H)}for(h=0,p=v.length;h<p;h++){l=v[h];L=ne[h];for(A=0,C=l.length;A<C;A++){w=_(l[A],L[A],x);if(!I){N(w.x,w.y,F+H)}else{N(w.x,w.y+r[d-1].y,r[d-1].x+H)}}}}oe();se();function oe(){if(i){var e=0;var t=M*e;for(A=0;A<q;A++){S=T[A];he(S[2]+t,S[1]+t,S[0]+t,true)}e=d+u*2;t=M*e;for(A=0;A<q;A++){S=T[A];he(S[0]+t,S[1]+t,S[2]+t,false)}}else{for(A=0;A<q;A++){S=T[A];he(S[2],S[1],S[0],true)}for(A=0;A<q;A++){S=T[A];he(S[0]+M*d,S[1]+M*d,S[2]+M*d,false)}}}function se(){var e=0;le(y,e);e+=y.length;for(h=0,p=v.length;h<p;h++){l=v[h];le(l,e);e+=l.length}}function le(e,t){var i,r;A=e.length;while(--A>=0){i=A;r=A-1;if(r<0)r=e.length-1;var n=0,a=d+u*2;for(n=0;n<a;n++){var o=M*n;var s=M*(n+1);var l=t+i+o,h=t+r+o,f=t+r+s,c=t+i+s;fe(l,h,f,c,e,n,a,i,r)}}}function N(e,t,i){m.vertices.push(new THREE.Vector3(e,t,i))}function he(e,t,i,r){e+=E;t+=E;i+=E;m.faces.push(new THREE.Face3(e,t,i,null,null,V));var n=r?B.generateBottomUV(m,f,c,e,t,i):B.generateTopUV(m,f,c,e,t,i);m.faceVertexUvs[0].push(n)}function fe(e,t,i,r,n,a,o,s,l){e+=E;t+=E;i+=E;r+=E;m.faces.push(new THREE.Face4(e,t,i,r,null,null,k));var h=B.generateSideWallUV(m,f,n,c,e,t,i,r,a,o,s,l);m.faceVertexUvs[0].push(h)}};THREE.ExtrudeGeometry.WorldUVGenerator={generateTopUV:function(e,t,i,r,n,a){var o=e.vertices[r].x,s=e.vertices[r].y,l=e.vertices[n].x,h=e.vertices[n].y,f=e.vertices[a].x,c=e.vertices[a].y;return[new THREE.Vector2(o,s),new THREE.Vector2(l,h),new THREE.Vector2(f,c)]},generateBottomUV:function(e,t,i,r,n,a){return this.generateTopUV(e,t,i,r,n,a)},generateSideWallUV:function(e,t,i,r,n,a,o,s,l,h,f,c){var u=e.vertices[n].x,d=e.vertices[n].y,p=e.vertices[n].z,m=e.vertices[a].x,E=e.vertices[a].y,g=e.vertices[a].z,v=e.vertices[o].x,T=e.vertices[o].y,y=e.vertices[o].z,_=e.vertices[s].x,R=e.vertices[s].y,x=e.vertices[s].z;if(Math.abs(d-E)<.01){return[new THREE.Vector2(u,1-p),new THREE.Vector2(m,1-g),new THREE.Vector2(v,1-y),new THREE.Vector2(_,1-x)]}else{return[new THREE.Vector2(d,1-p),new THREE.Vector2(E,1-g),new THREE.Vector2(T,1-y),new THREE.Vector2(R,1-x)]}}};THREE.ExtrudeGeometry.__v1=new THREE.Vector2;THREE.ExtrudeGeometry.__v2=new THREE.Vector2;THREE.ExtrudeGeometry.__v3=new THREE.Vector2;THREE.ExtrudeGeometry.__v4=new THREE.Vector2;THREE.ExtrudeGeometry.__v5=new THREE.Vector2;THREE.ExtrudeGeometry.__v6=new THREE.Vector2;THREE.ShapeGeometry=function(e,t){THREE.Geometry.call(this);if(e instanceof Array===false)e=[e];this.shapebb=e[e.length-1].getBoundingBox();this.addShapeList(e,t);this.computeCentroids();this.computeFaceNormals()};THREE.ShapeGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.ShapeGeometry.prototype.addShapeList=function(e,t){for(var i=0,r=e.length;i<r;i++){this.addShape(e[i],t)}return this};THREE.ShapeGeometry.prototype.addShape=function(e,t){if(t===undefined)t={};var i=t.curveSegments!==undefined?t.curveSegments:12;var r=t.material;var n=t.UVGenerator===undefined?THREE.ExtrudeGeometry.WorldUVGenerator:t.UVGenerator;var a=this.shapebb;var o,s,l,h;var f=this.vertices.length;var c=e.extractPoints(i);var u=c.shape;var d=c.holes;var p=!THREE.Shape.Utils.isClockWise(u);if(p){u=u.reverse();for(o=0,s=d.length;o<s;o++){l=d[o];if(THREE.Shape.Utils.isClockWise(l)){d[o]=l.reverse()}}p=false}var m=THREE.Shape.Utils.triangulateShape(u,d);var E=u;for(o=0,s=d.length;o<s;o++){l=d[o];u=u.concat(l)}var g,v=u.length;var T,y=m.length;var _,R=E.length;for(o=0;o<v;o++){g=u[o];this.vertices.push(new THREE.Vector3(g.x,g.y,0))}for(o=0;o<y;o++){T=m[o];var x=T[0]+f;var b=T[1]+f;var H=T[2]+f;this.faces.push(new THREE.Face3(x,b,H,null,null,r));this.faceVertexUvs[0].push(n.generateBottomUV(this,e,t,x,b,H))}};THREE.LatheGeometry=function(e,t,i,r){THREE.Geometry.call(this);t=t||12;i=i||0;r=r||2*Math.PI;var n=1/(e.length-1);var a=1/t;for(var o=0,s=t;o<=s;o++){var l=i+o*a*r;var h=Math.cos(l),f=Math.sin(l);for(var c=0,u=e.length;c<u;c++){var d=e[c];var p=new THREE.Vector3;p.x=h*d.x-f*d.y;p.y=f*d.x+h*d.y;p.z=d.z;this.vertices.push(p)}}var m=e.length;for(var o=0,s=t;o<s;o++){for(var c=0,u=e.length-1;c<u;c++){var E=c+m*o;var g=E;var v=E+m;var h=E+1+m;var T=E+1;this.faces.push(new THREE.Face4(g,v,h,T));var y=o*a;var _=c*n;var R=y+a;var x=_+n;this.faceVertexUvs[0].push([new THREE.Vector2(y,_),new THREE.Vector2(R,_),new THREE.Vector2(R,x),new THREE.Vector2(y,x)])}}this.mergeVertices();this.computeCentroids();this.computeFaceNormals();this.computeVertexNormals()};THREE.LatheGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.PlaneGeometry=function(e,t,i,r){THREE.Geometry.call(this);this.width=e;this.height=t;this.widthSegments=i||1;this.heightSegments=r||1;var n,a;var o=e/2;var s=t/2;var l=this.widthSegments;var h=this.heightSegments;var f=l+1;var c=h+1;var u=this.width/l;var d=this.height/h;var p=new THREE.Vector3(0,0,1);for(a=0;a<c;a++){for(n=0;n<f;n++){var m=n*u-o;var E=a*d-s;this.vertices.push(new THREE.Vector3(m,-E,0))}}for(a=0;a<h;a++){for(n=0;n<l;n++){var g=n+f*a;var v=n+f*(a+1);var T=n+1+f*(a+1);var y=n+1+f*a;var _=new THREE.Face4(g,v,T,y);_.normal.copy(p);_.vertexNormals.push(p.clone(),p.clone(),p.clone(),p.clone());this.faces.push(_);this.faceVertexUvs[0].push([new THREE.Vector2(n/l,1-a/h),new THREE.Vector2(n/l,1-(a+1)/h),new THREE.Vector2((n+1)/l,1-(a+1)/h),new THREE.Vector2((n+1)/l,1-a/h)])}}this.computeCentroids()};THREE.PlaneGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.RingGeometry=function(e,t,i,r,n,a){THREE.Geometry.call(this);e=e||0;t=t||50;n=n!==undefined?n:0;a=a!==undefined?a:Math.PI*2;i=i!==undefined?Math.max(3,i):8;r=r!==undefined?Math.max(1,r):8;var o,s,l=[],h=e,f=(t-e)/r;for(o=0;o<=r;o++){for(s=0;s<=i;s++){var c=new THREE.Vector3;var u=n+s/i*a;c.x=h*Math.cos(u);c.y=h*Math.sin(u);this.vertices.push(c);l.push(new THREE.Vector2(s/i,1-o/r))}h+=f}var d=new THREE.Vector3(0,0,1);for(let e=0;e<r;e++){const p=e*(i+1);for(let e=0;e<i;e++){const u=e+p;const m=u;const E=u+i+1;const g=u+i+2;const v=u+1;this.faces.push(new THREE.Face3(m,E,v,[d,d,d]));this.faceVertexUvs[0].push([l[m],l[E],l[v]]);this.faces.push(new THREE.Face3(E,g,v,[d,d,d]));this.faceVertexUvs[0].push([l[E],l[g],l[v]])}}this.computeCentroids();this.computeFaceNormals();this.boundingSphere=new THREE.Sphere(new THREE.Vector3,h)};THREE.RingGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.SphereGeometry=function(e,t,i,r,n,a,o){THREE.Geometry.call(this);this.radius=e=e||50;this.widthSegments=t=Math.max(3,Math.floor(t)||8);this.heightSegments=i=Math.max(2,Math.floor(i)||6);this.phiStart=r=r!==undefined?r:0;this.phiLength=n=n!==undefined?n:Math.PI*2;this.thetaStart=a=a!==undefined?a:0;this.thetaLength=o=o!==undefined?o:Math.PI;var s,l,h=[],f=[];for(l=0;l<=i;l++){var c=[];var u=[];for(s=0;s<=t;s++){var d=s/t;var p=l/i;var m=new THREE.Vector3;m.x=-e*Math.cos(r+d*n)*Math.sin(a+p*o);m.y=e*Math.cos(a+p*o);m.z=e*Math.sin(r+d*n)*Math.sin(a+p*o);this.vertices.push(m);c.push(this.vertices.length-1);u.push(new THREE.Vector2(d,1-p))}h.push(c);f.push(u)}for(l=0;l<this.heightSegments;l++){for(s=0;s<this.widthSegments;s++){var E=h[l][s+1];var g=h[l][s];var v=h[l+1][s];var T=h[l+1][s+1];var y=this.vertices[E].clone().normalize();var _=this.vertices[g].clone().normalize();var R=this.vertices[v].clone().normalize();var x=this.vertices[T].clone().normalize();var b=f[l][s+1].clone();var H=f[l][s].clone();var w=f[l+1][s].clone();var M=f[l+1][s+1].clone();if(Math.abs(this.vertices[E].y)===this.radius){this.faces.push(new THREE.Face3(E,v,T,[y,R,x]));this.faceVertexUvs[0].push([b,w,M])}else if(Math.abs(this.vertices[v].y)===this.radius){this.faces.push(new THREE.Face3(E,g,v,[y,_,R]));this.faceVertexUvs[0].push([b,H,w])}else{this.faces.push(new THREE.Face4(E,g,v,T,[y,_,R,x]));this.faceVertexUvs[0].push([b,H,w,M])}}}this.computeCentroids();this.computeFaceNormals();this.boundingSphere=new THREE.Sphere(new THREE.Vector3,e)};THREE.SphereGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.TextGeometry=function(e,t){t=t||{};var i=THREE.FontUtils.generateShapes(e,t);t.amount=t.height!==undefined?t.height:50;if(t.bevelThickness===undefined)t.bevelThickness=10;if(t.bevelSize===undefined)t.bevelSize=8;if(t.bevelEnabled===undefined)t.bevelEnabled=false;THREE.ExtrudeGeometry.call(this,i,t)};THREE.TextGeometry.prototype=Object.create(THREE.ExtrudeGeometry.prototype);THREE.TorusGeometry=function(e,t,i,r,n){THREE.Geometry.call(this);var a=this;this.radius=e||100;this.tube=t||40;this.radialSegments=i||8;this.tubularSegments=r||6;this.arc=n||Math.PI*2;var o=new THREE.Vector3,s=[],l=[];for(var h=0;h<=this.radialSegments;h++){for(var f=0;f<=this.tubularSegments;f++){var c=f/this.tubularSegments*this.arc;var u=h/this.radialSegments*Math.PI*2;o.x=this.radius*Math.cos(c);o.y=this.radius*Math.sin(c);var d=new THREE.Vector3;d.x=(this.radius+this.tube*Math.cos(u))*Math.cos(c);d.y=(this.radius+this.tube*Math.cos(u))*Math.sin(c);d.z=this.tube*Math.sin(u);this.vertices.push(d);s.push(new THREE.Vector2(f/this.tubularSegments,h/this.radialSegments));l.push(d.clone().sub(o).normalize())}}for(var h=1;h<=this.radialSegments;h++){for(var f=1;f<=this.tubularSegments;f++){var p=(this.tubularSegments+1)*h+f-1;var m=(this.tubularSegments+1)*(h-1)+f-1;var E=(this.tubularSegments+1)*(h-1)+f;var g=(this.tubularSegments+1)*h+f;var v=new THREE.Face4(p,m,E,g,[l[p],l[m],l[E],l[g]]);v.normal.add(l[p]);v.normal.add(l[m]);v.normal.add(l[E]);v.normal.add(l[g]);v.normal.normalize();this.faces.push(v);this.faceVertexUvs[0].push([s[p].clone(),s[m].clone(),s[E].clone(),s[g].clone()])}}this.computeCentroids()};THREE.TorusGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.TorusKnotGeometry=function(e,t,i,r,n,a,o){THREE.Geometry.call(this);var s=this;this.radius=e||100;this.tube=t||40;this.radialSegments=i||64;this.tubularSegments=r||8;this.p=n||2;this.q=a||3;this.heightScale=o||1;this.grid=new Array(this.radialSegments);var l=new THREE.Vector3;var h=new THREE.Vector3;var f=new THREE.Vector3;for(var c=0;c<this.radialSegments;++c){this.grid[c]=new Array(this.tubularSegments);for(var u=0;u<this.tubularSegments;++u){var d=c/this.radialSegments*2*this.p*Math.PI;var p=u/this.tubularSegments*2*Math.PI;var m=C(d,p,this.q,this.p,this.radius,this.heightScale);var E=C(d+.01,p,this.q,this.p,this.radius,this.heightScale);var g,v;l.subVectors(E,m);h.addVectors(E,m);f.crossVectors(l,h);h.crossVectors(f,l);f.normalize();h.normalize();g=-this.tube*Math.cos(p);v=this.tube*Math.sin(p);m.x+=g*h.x+v*f.x;m.y+=g*h.y+v*f.y;m.z+=g*h.z+v*f.z;this.grid[c][u]=A(m.x,m.y,m.z)}}for(var c=0;c<this.radialSegments;++c){for(var u=0;u<this.tubularSegments;++u){var T=(c+1)%this.radialSegments;var y=(u+1)%this.tubularSegments;var _=this.grid[c][u];var R=this.grid[T][u];var x=this.grid[T][y];var b=this.grid[c][y];var H=new THREE.Vector2(c/this.radialSegments,u/this.tubularSegments);var w=new THREE.Vector2((c+1)/this.radialSegments,u/this.tubularSegments);var M=new THREE.Vector2((c+1)/this.radialSegments,(u+1)/this.tubularSegments);var S=new THREE.Vector2(c/this.radialSegments,(u+1)/this.tubularSegments);this.faces.push(new THREE.Face4(_,R,x,b));this.faceVertexUvs[0].push([H,w,M,S])}}this.computeCentroids();this.computeFaceNormals();this.computeVertexNormals();function A(e,t,i){return s.vertices.push(new THREE.Vector3(e,t,i))-1}function C(e,t,i,r,n,a){var o=Math.cos(e);var s=Math.cos(t);var l=Math.sin(e);var h=i/r*e;var f=Math.cos(h);var c=n*(2+f)*.5*o;var u=n*(2+f)*l*.5;var d=a*n*Math.sin(h)*.5;return new THREE.Vector3(c,u,d)}};THREE.TorusKnotGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.TubeGeometry=function(e,t,i,r,n,a){THREE.Geometry.call(this);this.path=e;this.segments=t||64;this.radius=i||1;this.radiusSegments=r||8;this.closed=n||false;if(a)this.debug=new THREE.Object3D;this.grid=[];var o=this,s,l,h,f=this.segments+1,c,N,F,O,z,I,u,d,p,m,E,g=new THREE.Vector3,v,T,y,_,R,x,b,H,w,M,S,A;var C=new THREE.TubeGeometry.FrenetFrames(this.path,this.segments,this.closed),D=C.tangents,P=C.normals,L=C.binormals;this.tangents=D;this.normals=P;this.binormals=L;function U(e,t,i){return o.vertices.push(new THREE.Vector3(e,t,i))-1}for(v=0;v<f;v++){this.grid[v]=[];u=v/(f-1);E=e.getPointAt(u);s=D[v];l=P[v];h=L[v];if(this.debug){this.debug.add(new THREE.ArrowHelper(s,E,i,255));this.debug.add(new THREE.ArrowHelper(l,E,i,16711680));this.debug.add(new THREE.ArrowHelper(h,E,i,65280))}for(T=0;T<this.radiusSegments;T++){d=T/this.radiusSegments*2*Math.PI;p=-this.radius*Math.cos(d);m=this.radius*Math.sin(d);g.copy(E);g.x+=p*l.x+m*h.x;g.y+=p*l.y+m*h.y;g.z+=p*l.z+m*h.z;this.grid[v][T]=U(g.x,g.y,g.z)}}for(v=0;v<this.segments;v++){for(T=0;T<this.radiusSegments;T++){y=this.closed?(v+1)%this.segments:v+1;_=(T+1)%this.radiusSegments;R=this.grid[v][T];x=this.grid[y][T];b=this.grid[y][_];H=this.grid[v][_];w=new THREE.Vector2(v/this.segments,T/this.radiusSegments);M=new THREE.Vector2((v+1)/this.segments,T/this.radiusSegments);S=new THREE.Vector2((v+1)/this.segments,(T+1)/this.radiusSegments);A=new THREE.Vector2(v/this.segments,(T+1)/this.radiusSegments);this.faces.push(new THREE.Face4(R,x,b,H));this.faceVertexUvs[0].push([w,M,S,A])}}this.computeCentroids();this.computeFaceNormals();this.computeVertexNormals()};THREE.TubeGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.TubeGeometry.FrenetFrames=function(t,e,i){var r=new THREE.Vector3,n=new THREE.Vector3,a=new THREE.Vector3,o=[],s=[],l=[],h=new THREE.Vector3,f=new THREE.Matrix4,c=e+1,u,d=1e-4,p,m,E,g,v,T,y;this.tangents=o;this.normals=s;this.binormals=l;for(v=0;v<c;v++){T=v/(c-1);o[v]=t.getTangentAt(T);o[v].normalize()}x();function _(e){s[0]=new THREE.Vector3;l[0]=new THREE.Vector3;if(e===undefined)e=new THREE.Vector3(0,0,1);s[0].crossVectors(e,o[0]).normalize();l[0].crossVectors(o[0],s[0]).normalize()}function R(){var e=t.getTangentAt(d);s[0]=(new THREE.Vector3).subVectors(e,o[0]).normalize();l[0]=(new THREE.Vector3).crossVectors(o[0],s[0]);s[0].crossVectors(l[0],o[0]).normalize();l[0].crossVectors(o[0],s[0]).normalize()}function x(){s[0]=new THREE.Vector3;l[0]=new THREE.Vector3;p=Number.MAX_VALUE;m=Math.abs(o[0].x);E=Math.abs(o[0].y);g=Math.abs(o[0].z);if(m<=p){p=m;n.set(1,0,0)}if(E<=p){p=E;n.set(0,1,0)}if(g<=p){n.set(0,0,1)}h.crossVectors(o[0],n).normalize();s[0].crossVectors(o[0],h);l[0].crossVectors(o[0],s[0])}for(v=1;v<c;v++){s[v]=s[v-1].clone();l[v]=l[v-1].clone();h.crossVectors(o[v-1],o[v]);if(h.length()>d){h.normalize();u=Math.acos(o[v-1].dot(o[v]));s[v].applyMatrix4(f.makeRotationAxis(h,u))}l[v].crossVectors(o[v],s[v])}if(i){u=Math.acos(s[0].dot(s[c-1]));u/=c-1;if(o[0].dot(h.crossVectors(s[0],s[c-1]))>0){u=-u}for(v=1;v<c;v++){s[v].applyMatrix4(f.makeRotationAxis(o[v],u*v));l[v].crossVectors(o[v],s[v])}}};THREE.PolyhedronGeometry=function(e,t,i,r){THREE.Geometry.call(this);i=i||1;r=r||0;var p=this;for(var n=0,a=e.length;n<a;n++){T(new THREE.Vector3(e[n][0],e[n][1],e[n][2]))}var o=[],s=this.vertices;var l=[];for(var n=0,a=t.length;n<a;n++){var h=s[t[n][0]];var f=s[t[n][1]];var c=s[t[n][2]];l[n]=new THREE.Face3(h.index,f.index,c.index,[h.clone(),f.clone(),c.clone()])}for(var n=0,a=l.length;n<a;n++){_(l[n],r)}for(var n=0,a=this.faceVertexUvs[0].length;n<a;n++){var u=this.faceVertexUvs[0][n];var d=u[0].x;var m=u[1].x;var E=u[2].x;var g=Math.max(d,Math.max(m,E));var v=Math.min(d,Math.min(m,E));if(g>.9&&v<.1){if(d<.2)u[0].x+=1;if(m<.2)u[1].x+=1;if(E<.2)u[2].x+=1}}this.mergeVertices();for(var n=0,a=this.vertices.length;n<a;n++){this.vertices[n].multiplyScalar(i)}function T(e){var t=e.normalize().clone();t.index=p.vertices.push(t)-1;var i=R(e)/2/Math.PI+.5;var r=x(e)/Math.PI+.5;t.uv=new THREE.Vector2(i,1-r);return t}function y(e,t,i){var r=new THREE.Face3(e.index,t.index,i.index,[e.clone(),t.clone(),i.clone()]);r.centroid.add(e).add(t).add(i).divideScalar(3);r.normal.copy(r.centroid).normalize();p.faces.push(r);var n=R(r.centroid);p.faceVertexUvs[0].push([b(e.uv,e,n),b(t.uv,t,n),b(i.uv,i,n)])}function _(e,t){var i=Math.pow(2,t);var r=Math.pow(4,t);var n=T(p.vertices[e.a]);var a=T(p.vertices[e.b]);var o=T(p.vertices[e.c]);var s=[];for(var l=0;l<=i;l++){s[l]=[];var h=T(n.clone().lerp(o,l/i));var f=T(a.clone().lerp(o,l/i));var c=i-l;for(var u=0;u<=c;u++){if(u==0&&l==i){s[l][u]=h}else{s[l][u]=T(h.clone().lerp(f,u/c))}}}for(var l=0;l<i;l++){for(var u=0;u<2*(i-l)-1;u++){var d=Math.floor(u/2);if(u%2==0){y(s[l][d+1],s[l+1][d],s[l][d])}else{y(s[l][d+1],s[l+1][d+1],s[l+1][d])}}}}function R(e){return Math.atan2(e.z,-e.x)}function x(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}function b(e,t,i){if(i<0&&e.x===1)e=new THREE.Vector2(e.x-1,e.y);if(t.x===0&&t.z===0)e=new THREE.Vector2(i/2/Math.PI+.5,e.y);return e.clone()}this.computeCentroids();this.boundingSphere=new THREE.Sphere(new THREE.Vector3,i)};THREE.PolyhedronGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.IcosahedronGeometry=function(e,t){this.radius=e;this.detail=t;var i=(1+Math.sqrt(5))/2;var r=[[-1,i,0],[1,i,0],[-1,-i,0],[1,-i,0],[0,-1,i],[0,1,i],[0,-1,-i],[0,1,-i],[i,0,-1],[i,0,1],[-i,0,-1],[-i,0,1]];var n=[[0,11,5],[0,5,1],[0,1,7],[0,7,10],[0,10,11],[1,5,9],[5,11,4],[11,10,2],[10,7,6],[7,1,8],[3,9,4],[3,4,2],[3,2,6],[3,6,8],[3,8,9],[4,9,5],[2,4,11],[6,2,10],[8,6,7],[9,8,1]];THREE.PolyhedronGeometry.call(this,r,n,e,t)};THREE.IcosahedronGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.OctahedronGeometry=function(e,t){var i=[[1,0,0],[-1,0,0],[0,1,0],[0,-1,0],[0,0,1],[0,0,-1]];var r=[[0,2,4],[0,4,3],[0,3,5],[0,5,2],[1,2,5],[1,5,3],[1,3,4],[1,4,2]];THREE.PolyhedronGeometry.call(this,i,r,e,t)};THREE.OctahedronGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.TetrahedronGeometry=function(e,t){var i=[[1,1,1],[-1,-1,1],[-1,1,-1],[1,-1,-1]];var r=[[2,1,0],[0,3,2],[1,3,0],[2,3,1]];THREE.PolyhedronGeometry.call(this,i,r,e,t)};THREE.TetrahedronGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.ParametricGeometry=function(e,t,i,r){THREE.Geometry.call(this);var n=this.vertices;var a=this.faces;var o=this.faceVertexUvs[0];r=r===undefined?false:r;var s,l,h,f;var c,u;var d=i+1;var p=t+1;for(s=0;s<=i;s++){u=s/i;for(h=0;h<=t;h++){c=h/t;f=e(c,u);n.push(f)}}var m,E,g,v;var T,y,_,R;for(s=0;s<i;s++){for(h=0;h<t;h++){m=s*p+h;E=s*p+h+1;g=(s+1)*p+h;v=(s+1)*p+h+1;T=new THREE.Vector2(h/t,s/i);y=new THREE.Vector2((h+1)/t,s/i);_=new THREE.Vector2(h/t,(s+1)/i);R=new THREE.Vector2((h+1)/t,(s+1)/i);if(r){a.push(new THREE.Face3(m,E,g));a.push(new THREE.Face3(E,v,g));o.push([T,y,_]);o.push([y,R,_])}else{a.push(new THREE.Face4(m,E,v,g));o.push([T,y,R,_])}}}this.computeCentroids();this.computeFaceNormals();this.computeVertexNormals()};THREE.ParametricGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.ConvexGeometry=function(f){THREE.Geometry.call(this);var c=[[0,1,2],[0,2,1]];for(var e=3;e<f.length;e++){t(e)}function t(e){var t=f[e].clone();var i=t.length();t.x+=i*p();t.y+=i*p();t.z+=i*p();var r=[];for(var n=0;n<c.length;){var a=c[n];if(u(a,t)){for(var o=0;o<3;o++){var s=[a[o],a[(o+1)%3]];var l=true;for(var h=0;h<r.length;h++){if(d(r[h],s)){r[h]=r[r.length-1];r.pop();l=false;break}}if(l){r.push(s)}}c[n]=c[c.length-1];c.pop()}else{n++}}for(var h=0;h<r.length;h++){c.push([r[h][0],r[h][1],e])}}function u(e,t){var i=f[e[0]];var r=f[e[1]];var n=f[e[2]];var a=s(i,r,n);var o=a.dot(i);return a.dot(t)>=o}function s(e,t,i){var r=new THREE.Vector3;var n=new THREE.Vector3;r.subVectors(i,t);n.subVectors(e,t);r.cross(n);r.normalize();return r}function d(e,t){return e[0]===t[1]&&e[1]===t[0]}function p(){return(Math.random()-.5)*2*1e-6}function i(e){var t=e.length();return new THREE.Vector2(e.x/t,e.y/t)}var r=0;var n=new Array(f.length);for(var e=0;e<c.length;e++){var a=c[e];for(var o=0;o<3;o++){if(n[a[o]]===undefined){n[a[o]]=r++;this.vertices.push(f[a[o]])}a[o]=n[a[o]]}}for(var e=0;e<c.length;e++){this.faces.push(new THREE.Face3(c[e][0],c[e][1],c[e][2]))}for(var e=0;e<this.faces.length;e++){var a=this.faces[e];this.faceVertexUvs[0].push([i(this.vertices[a.a]),i(this.vertices[a.b]),i(this.vertices[a.c])])}this.computeCentroids();this.computeFaceNormals();this.computeVertexNormals()};THREE.ConvexGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.ImmediateRenderObject=function(){THREE.Object3D.call(this);this.render=function(e){}};THREE.ImmediateRenderObject.prototype=Object.create(THREE.Object3D.prototype);THREE.MorphBlendMesh=function(e,t){THREE.Mesh.call(this,e,t);this.animationsMap={};this.animationsList=[];var i=this.geometry.morphTargets.length;var r="__default";var n=0;var a=i-1;var o=i/1;this.createAnimation(r,n,a,o);this.setAnimationWeight(r,1)};THREE.MorphBlendMesh.prototype=Object.create(THREE.Mesh.prototype);THREE.MorphBlendMesh.prototype.createAnimation=function(e,t,i,r){var n={startFrame:t,endFrame:i,length:i-t+1,fps:r,duration:(i-t)/r,lastFrame:0,currentFrame:0,active:false,time:0,direction:1,weight:1,directionBackwards:false,mirroredLoop:false};this.animationsMap[e]=n;this.animationsList.push(n)};THREE.MorphBlendMesh.prototype.autoCreateAnimations=function(e){var t=/([a-z]+)(\d+)/;var i,r={};var n=this.geometry;for(var a=0,o=n.morphTargets.length;a<o;a++){var s=n.morphTargets[a];var l=s.name.match(t);if(l&&l.length>1){var h=l[1];var f=l[2];if(!r[h])r[h]={start:Infinity,end:-Infinity};var c=r[h];if(a<c.start)c.start=a;if(a>c.end)c.end=a;if(!i)i=h}}for(var h in r){var c=r[h];this.createAnimation(h,c.start,c.end,e)}this.firstAnimation=i};THREE.MorphBlendMesh.prototype.setAnimationDirectionForward=function(e){var t=this.animationsMap[e];if(t){t.direction=1;t.directionBackwards=false}};THREE.MorphBlendMesh.prototype.setAnimationDirectionBackward=function(e){var t=this.animationsMap[e];if(t){t.direction=-1;t.directionBackwards=true}};THREE.MorphBlendMesh.prototype.setAnimationFPS=function(e,t){var i=this.animationsMap[e];if(i){i.fps=t;i.duration=(i.end-i.start)/i.fps}};THREE.MorphBlendMesh.prototype.setAnimationDuration=function(e,t){var i=this.animationsMap[e];if(i){i.duration=t;i.fps=(i.end-i.start)/i.duration}};THREE.MorphBlendMesh.prototype.setAnimationWeight=function(e,t){var i=this.animationsMap[e];if(i){i.weight=t}};THREE.MorphBlendMesh.prototype.setAnimationTime=function(e,t){var i=this.animationsMap[e];if(i){i.time=t}};THREE.MorphBlendMesh.prototype.getAnimationTime=function(e){var t=0;var i=this.animationsMap[e];if(i){t=i.time}return t};THREE.MorphBlendMesh.prototype.getAnimationDuration=function(e){var t=-1;var i=this.animationsMap[e];if(i){t=i.duration}return t};THREE.MorphBlendMesh.prototype.playAnimation=function(e){var t=this.animationsMap[e];if(t){t.time=0;t.active=true}};THREE.MorphBlendMesh.prototype.stopAnimation=function(e){var t=this.animationsMap[e];if(t){t.active=false}};THREE.MorphBlendMesh.prototype.update=function(e){for(var t=0,i=this.animationsList.length;t<i;t++){var r=this.animationsList[t];if(!r.active)continue;var n=r.duration/r.length;r.time+=r.direction*e;if(r.mirroredLoop){if(r.time>r.duration||r.time<0){r.direction*=-1;if(r.time>r.duration){r.time=r.duration;r.directionBackwards=true}if(r.time<0){r.time=0;r.directionBackwards=false}}}else{r.time=r.time%r.duration;if(r.time<0)r.time+=r.duration}var a=r.startFrame+THREE.Math.clamp(Math.floor(r.time/n),0,r.length-1);var o=r.weight;if(a!==r.currentFrame){this.morphTargetInfluences[r.lastFrame]=0;this.morphTargetInfluences[r.currentFrame]=1*o;this.morphTargetInfluences[a]=0;r.lastFrame=r.currentFrame;r.currentFrame=a}var s=r.time%n/n;if(r.directionBackwards)s=1-s;this.morphTargetInfluences[r.currentFrame]=s*o;this.morphTargetInfluences[r.lastFrame]=(1-s)*o}};THREE.SpritePlugin=function(){var _,R,i,x={};this.init=function(e){_=e.context;R=e;i=e.getPrecision();x.vertices=new Float32Array(8+8);x.faces=new Uint16Array(6);var t=0;x.vertices[t++]=-1;x.vertices[t++]=-1;x.vertices[t++]=0;x.vertices[t++]=0;x.vertices[t++]=1;x.vertices[t++]=-1;x.vertices[t++]=1;x.vertices[t++]=0;x.vertices[t++]=1;x.vertices[t++]=1;x.vertices[t++]=1;x.vertices[t++]=1;x.vertices[t++]=-1;x.vertices[t++]=1;x.vertices[t++]=0;x.vertices[t++]=1;t=0;x.faces[t++]=0;x.faces[t++]=1;x.faces[t++]=2;x.faces[t++]=0;x.faces[t++]=2;x.faces[t++]=3;x.vertexBuffer=_.createBuffer();x.elementBuffer=_.createBuffer();_.bindBuffer(_.ARRAY_BUFFER,x.vertexBuffer);_.bufferData(_.ARRAY_BUFFER,x.vertices,_.STATIC_DRAW);_.bindBuffer(_.ELEMENT_ARRAY_BUFFER,x.elementBuffer);_.bufferData(_.ELEMENT_ARRAY_BUFFER,x.faces,_.STATIC_DRAW);x.program=r(THREE.ShaderSprite["sprite"],i);x.attributes={};x.uniforms={};x.attributes.position=_.getAttribLocation(x.program,"position");x.attributes.uv=_.getAttribLocation(x.program,"uv");x.uniforms.uvOffset=_.getUniformLocation(x.program,"uvOffset");x.uniforms.uvScale=_.getUniformLocation(x.program,"uvScale");x.uniforms.rotation=_.getUniformLocation(x.program,"rotation");x.uniforms.scale=_.getUniformLocation(x.program,"scale");x.uniforms.alignment=_.getUniformLocation(x.program,"alignment");x.uniforms.color=_.getUniformLocation(x.program,"color");x.uniforms.map=_.getUniformLocation(x.program,"map");x.uniforms.opacity=_.getUniformLocation(x.program,"opacity");x.uniforms.useScreenCoordinates=_.getUniformLocation(x.program,"useScreenCoordinates");x.uniforms.sizeAttenuation=_.getUniformLocation(x.program,"sizeAttenuation");x.uniforms.screenPosition=_.getUniformLocation(x.program,"screenPosition");x.uniforms.modelViewMatrix=_.getUniformLocation(x.program,"modelViewMatrix");x.uniforms.projectionMatrix=_.getUniformLocation(x.program,"projectionMatrix");x.uniforms.fogType=_.getUniformLocation(x.program,"fogType");x.uniforms.fogDensity=_.getUniformLocation(x.program,"fogDensity");x.uniforms.fogNear=_.getUniformLocation(x.program,"fogNear");x.uniforms.fogFar=_.getUniformLocation(x.program,"fogFar");x.uniforms.fogColor=_.getUniformLocation(x.program,"fogColor");x.uniforms.alphaTest=_.getUniformLocation(x.program,"alphaTest");x.uniforms.depth_render_mode=_.getUniformLocation(x.program,"depth_render_mode")};this.render=function(e,t,i,r){var n=e.__webglSprites,a=n.length;if(!a)return;var o=x.attributes,s=x.uniforms;var l=r/i;var h=i*.5,f=r*.5;_.useProgram(x.program);_.enableVertexAttribArray(o.position);_.enableVertexAttribArray(o.uv);_.disable(_.CULL_FACE);_.enable(_.BLEND);_.bindBuffer(_.ARRAY_BUFFER,x.vertexBuffer);_.vertexAttribPointer(o.position,2,_.FLOAT,false,2*8,0);_.vertexAttribPointer(o.uv,2,_.FLOAT,false,2*8,8);_.bindBuffer(_.ELEMENT_ARRAY_BUFFER,x.elementBuffer);_.uniformMatrix4fv(s.projectionMatrix,false,t.projectionMatrix.elements);_.activeTexture(_.TEXTURE0);_.uniform1i(s.map,0);if(self.MMD_SA)_.uniform1i(s.depth_render_mode,MMD_SA._depth_render_mode_);var c=0;var u=0;var d=e.fog;if(d){_.uniform3f(s.fogColor,d.color.r,d.color.g,d.color.b);if(d instanceof THREE.Fog){_.uniform1f(s.fogNear,d.near);_.uniform1f(s.fogFar,d.far);_.uniform1i(s.fogType,1);c=1;u=1}else if(d instanceof THREE.FogExp2){_.uniform1f(s.fogDensity,d.density);_.uniform1i(s.fogType,2);c=2;u=2}}else{_.uniform1i(s.fogType,0);c=0;u=0}var p,m,E,g,v,T,y=[];for(p=0;p<a;p++){m=n[p];E=m.material;if(!m.visible||E.opacity===0)continue;if(!E.useScreenCoordinates){m._modelViewMatrix.multiplyMatrices(t.matrixWorldInverse,m.matrixWorld);m.z=-m._modelViewMatrix.elements[14]}else{m.z=-m.position.z}}n.sort(b);for(p=0;p<a;p++){m=n[p];E=m.material;if(!m.visible||E.opacity===0)continue;if(E.map&&E.map.image&&E.map.image.width){_.uniform1f(s.alphaTest,E.alphaTest);if(E.useScreenCoordinates===true){_.uniform1i(s.useScreenCoordinates,1);_.uniform3f(s.screenPosition,(m.position.x*R.devicePixelRatio-h)/h,(f-m.position.y*R.devicePixelRatio)/f,Math.max(0,Math.min(1,m.position.z)));y[0]=R.devicePixelRatio;y[1]=R.devicePixelRatio}else{_.uniform1i(s.useScreenCoordinates,0);_.uniform1i(s.sizeAttenuation,E.sizeAttenuation?1:0);_.uniformMatrix4fv(s.modelViewMatrix,false,m._modelViewMatrix.elements);y[0]=1;y[1]=1}if(e.fog&&E.fog){T=u}else{T=0}if(c!==T){_.uniform1i(s.fogType,T);c=T}v=1/(E.scaleByViewport?r:1);y[0]*=v*l*m.scale.x;y[1]*=v*m.scale.y;_.uniform2f(s.uvScale,E.uvScale.x,E.uvScale.y);_.uniform2f(s.uvOffset,E.uvOffset.x,E.uvOffset.y);_.uniform2f(s.alignment,E.alignment.x,E.alignment.y);_.uniform1f(s.opacity,E.opacity);_.uniform3f(s.color,E.color.r,E.color.g,E.color.b);_.uniform1f(s.rotation,m.rotation);_.uniform2fv(s.scale,y);R.setBlending(E.blending,E.blendEquation,E.blendSrc,E.blendDst);R.setDepthTest(E.depthTest);R.setDepthWrite(E.depthWrite);R.setTexture(E.map,0);_.drawElements(_.TRIANGLES,6,_.UNSIGNED_SHORT,0)}}_.enable(_.CULL_FACE)};function r(e,t){var i=_.createProgram();var r=_.createShader(_.FRAGMENT_SHADER);var n=_.createShader(_.VERTEX_SHADER);var a="precision "+t+" float;\n";if(self.MMD_SA&&MMD_SA.use_webgl2){_.shaderSource(r,MMD_SA.webgl2_fshader_prefix_convert(a)+MMD_SA.webgl2_fshader_main_convert(e.fragmentShader));_.shaderSource(n,MMD_SA.webgl2_vshader_prefix_convert(a)+MMD_SA.webgl2_vshader_main_convert(e.vertexShader))}else{_.shaderSource(r,a+e.fragmentShader);_.shaderSource(n,a+e.vertexShader)}_.compileShader(r);_.compileShader(n);if(!_.getShaderParameter(r,_.COMPILE_STATUS)){console.error(_.getShaderInfoLog(r))}if(!_.getShaderParameter(n,_.COMPILE_STATUS)){console.error(_.getShaderInfoLog(r))}_.attachShader(i,r);_.attachShader(i,n);_.linkProgram(i);return i}function b(e,t){if(e.z!==t.z){return t.z-e.z}else{return t.id-e.id}}};THREE.ShaderSprite={sprite:{vertexShader:["uniform int useScreenCoordinates;","uniform int sizeAttenuation;","uniform vec3 screenPosition;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 scale;","uniform vec2 alignment;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uvOffset + uv * uvScale;","vec2 alignedPosition = position + alignment;","vec2 rotatedPosition;","rotatedPosition.x = ( cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y ) * scale.x;","rotatedPosition.y = ( sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y ) * scale.y;","vec4 finalPosition;","if( useScreenCoordinates != 0 ) {","finalPosition = vec4( screenPosition.xy + rotatedPosition, screenPosition.z, 1.0 );","} else {","finalPosition = projectionMatrix * modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","finalPosition.xy += rotatedPosition * ( sizeAttenuation == 1 ? 1.0 : finalPosition.z );","}","gl_Position = finalPosition;","}"].join("\n"),fragmentShader:["uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","#define SKIP_SAO_DEPTH",THREE.ShaderChunk["AT_depth_render_mode_pars_fragment"],"void main() {",THREE.ShaderChunk["AT_depth_render_mode_fragment"],"vec4 texture = texture2D( map, vUV );","if ( texture.a < alphaTest ) discard;","gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","if ( fogType > 0 ) {","float depth = gl_FragCoord.z / gl_FragCoord.w;","float fogFactor = 0.0;","if ( fogType == 1 ) {","fogFactor = smoothstep( fogNear, fogFar, depth );","} else {","const float LOG2 = 1.442695;","float fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );","fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","}","gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );","}","}"].join("\n")}};THREE.AxisHelper=function(e){e=e||1;var t=new THREE.Geometry;t.vertices.push(new THREE.Vector3,new THREE.Vector3(e,0,0),new THREE.Vector3,new THREE.Vector3(0,e,0),new THREE.Vector3,new THREE.Vector3(0,0,e));t.colors.push(new THREE.Color(16711680),new THREE.Color(16755200),new THREE.Color(65280),new THREE.Color(11206400),new THREE.Color(255),new THREE.Color(43775));var i=new THREE.LineBasicMaterial({vertexColors:THREE.VertexColors});THREE.Line.call(this,t,i,THREE.LinePieces)};THREE.AxisHelper.prototype=Object.create(THREE.Line.prototype);(function(e){function c(){this.header=null;this.offset=0;this.use_rle=false;this.use_pal=false;this.use_rgb=false;this.use_grey=false}c.TYPE_NO_DATA=0;c.TYPE_INDEXED=1;c.TYPE_RGB=2;c.TYPE_GREY=3;c.TYPE_RLE_INDEXED=9;c.TYPE_RLE_RGB=10;c.TYPE_RLE_GREY=11;c.ORIGIN_MASK=48;c.ORIGIN_SHIFT=4;c.ORIGIN_BL=0;c.ORIGIN_BR=1;c.ORIGIN_UL=2;c.ORIGIN_UR=3;c.prototype.open=function a(e,t,i){var r,n=this;r=new XMLHttpRequestZIP;r.open("GET",e,true);r.responseType="arraybuffer";r.onload=function(e){if(1||this.status===200){n.load(new Uint8Array(r.response));if(t)t.call(n)}else{i&&i.call(n)}};r.onerror=function(){i&&i.call(n)};r.send(null)};c.prototype.load=function t(e){if(e.length<19)throw new Error("Targa::load() - Not enough data to contain header.");this.offset=0;this.header={id_length:e[this.offset++],colormap_type:e[this.offset++],image_type:e[this.offset++],colormap_index:e[this.offset++]|e[this.offset++]<<8,colormap_length:e[this.offset++]|e[this.offset++]<<8,colormap_size:e[this.offset++],origin:[e[this.offset++]|e[this.offset++]<<8,e[this.offset++]|e[this.offset++]<<8],width:e[this.offset++]|e[this.offset++]<<8,height:e[this.offset++]|e[this.offset++]<<8,pixel_size:e[this.offset++],flags:e[this.offset++]};this.checkHeader();if(this.header.id_length+this.offset>e.length){throw new Error("Targa::load() - No data ?")}this.offset+=this.header.id_length;switch(this.header.image_type){case c.TYPE_RLE_INDEXED:this.use_rle=true;case c.TYPE_INDEXED:this.use_pal=true;break;case c.TYPE_RLE_RGB:this.use_rle=true;case c.TYPE_RGB:this.use_rgb=true;break;case c.TYPE_RLE_GREY:this.use_rle=true;case c.TYPE_GREY:this.use_grey=true;break}this.parse(e)};c.prototype.checkHeader=function i(){switch(this.header.image_type){case c.TYPE_INDEXED:case c.TYPE_RLE_INDEXED:if(this.header.colormap_length>256||this.header.colormap_size!==24||this.header.colormap_type!==1){throw new Error("Targa::checkHeader() - Invalid type colormap data for indexed type")}break;case c.TYPE_RGB:case c.TYPE_GREY:case c.TYPE_RLE_RGB:case c.TYPE_RLE_GREY:if(this.header.colormap_type){throw new Error("Targa::checkHeader() - Invalid type colormap data for colormap type")}break;case c.TYPE_NO_DATA:throw new Error("Targa::checkHeader() - No data on this TGA file");default:throw new Error("Targa::checkHeader() - Invalid type '"+this.header.image_type+"'")}if(this.header.width<=0||this.header.height<=0){throw new Error("Targa::checkHeader() - Invalid image size")}if(this.header.pixel_size!==8&&this.header.pixel_size!==16&&this.header.pixel_size!==24&&this.header.pixel_size!==32){throw new Error("Targa::checkHeader() - Invalid pixel size '"+this.header.pixel_size+"'")}};c.prototype.parse=function u(e){var t,i,r,n,a;t=this.header;i=t.flags&15;n=t.pixel_size>>3;a=t.width*t.height*n;if(this.use_pal){this.palettes=e.subarray(this.offset,this.offset+=t.colormap_length*n)}if(this.use_rle){r=new Uint8Array(a);var o,s,l;var h=0;var f=new Uint8Array(n);while(h<a){o=e[this.offset++];s=(o&127)+1;if(o&128){for(l=0;l<n;++l){f[l]=e[this.offset++]}for(l=0;l<s;++l){r.set(f,h+l*n)}h+=n*s}else{s*=n;for(l=0;l<s;++l){r[h+l]=e[this.offset++]}h+=s}}}else{r=e.subarray(this.offset,this.offset+=this.use_pal?t.width*t.height:a)}this.image=r};c.prototype.getImageData=function d(e){var t=this.header.width,i=this.header.height,r,n,a,o,s,l,h,f;f=e||document&&document.createElement("canvas").getContext("2d").createImageData(t,i)||{width:t,height:i,data:new Uint8Array(t*i*4)};switch((this.header.flags&c.ORIGIN_MASK)>>c.ORIGIN_SHIFT){default:case c.ORIGIN_UL:r=0;a=1;l=t;n=0;o=1;s=i;break;case c.ORIGIN_BL:r=0;a=1;l=t;n=i-1;o=-1;s=-1;break;case c.ORIGIN_UR:r=t-1;a=-1;l=-1;n=0;o=1;s=i;break;case c.ORIGIN_BR:r=t-1;a=-1;l=-1;n=i-1;o=-1;s=-1;break}h="getImageData"+(this.use_grey?"Grey":"")+this.header.pixel_size+"bits";this[h](f.data,n,o,s,r,a,l);return f};c.prototype.getCanvas=function r(){var e=document.createElement("canvas");var t=e.getContext("2d");var i=t.createImageData(this.header.width,this.header.height);e.width=this.header.width;e.height=this.header.height;t.putImageData(this.getImageData(i),0,0);return e};c.prototype.getDataURL=function n(e){return this.getCanvas().toDataURL(e||"image/png")};c.prototype.getImageData8bits=function m(e,t,i,r,n,a,o){var s=this.image,l=this.palettes;var h=this.header.width,f=this.header.height;var c,u=0,d,p;for(p=t;p!==r;p+=i){for(d=n;d!==o;d+=a,u++){c=s[u];e[(d+h*p)*4+3]=255;e[(d+h*p)*4+2]=l[c*3+0];e[(d+h*p)*4+1]=l[c*3+1];e[(d+h*p)*4+0]=l[c*3+2]}}return e};c.prototype.getImageData16bits=function p(e,t,i,r,n,a,o){var s=this.image;var l=this.header.width,h=this.header.height;var f,c=0,u,d;for(d=t;d!==r;d+=i){for(u=n;u!==o;u+=a,c+=2){f=s[c+0]+(s[c+1]<<8);e[(u+l*d)*4+0]=(f&31744)>>7;e[(u+l*d)*4+1]=(f&992)>>2;e[(u+l*d)*4+2]=(f&31)>>3;e[(u+l*d)*4+3]=f&32768?0:255}}return e};c.prototype.getImageData24bits=function E(e,t,i,r,n,a,o){var s=this.image;var l=this.header.width,h=this.header.height;var f=0,c,u;for(u=t;u!==r;u+=i){for(c=n;c!==o;c+=a,f+=3){e[(c+l*u)*4+3]=255;e[(c+l*u)*4+2]=s[f+0];e[(c+l*u)*4+1]=s[f+1];e[(c+l*u)*4+0]=s[f+2]}}return e};c.prototype.getImageData32bits=function g(e,t,i,r,n,a,o){var s=this.image;var l=this.header.width,h=this.header.height;var f=0,c,u;for(u=t;u!==r;u+=i){for(c=n;c!==o;c+=a,f+=4){e[(c+l*u)*4+2]=s[f+0];e[(c+l*u)*4+1]=s[f+1];e[(c+l*u)*4+0]=s[f+2];e[(c+l*u)*4+3]=s[f+3]}}return e};c.prototype.getImageDataGrey8bits=function v(e,t,i,r,n,a,o){var s=this.image;var l=this.header.width,h=this.header.height;var f,c=0,u,d;for(d=t;d!==r;d+=i){for(u=n;u!==o;u+=a,c++){f=s[c];e[(u+l*d)*4+0]=f;e[(u+l*d)*4+1]=f;e[(u+l*d)*4+2]=f;e[(u+l*d)*4+3]=255}}return e};c.prototype.getImageDataGrey16bits=function T(e,t,i,r,n,a,o){var s=this.image;var l=this.header.width,h=this.header.height;var f=0,c,u;for(u=t;u!==r;u+=i){for(c=n;c!==o;c+=a,f+=2){e[(c+l*u)*4+0]=s[f+0];e[(c+l*u)*4+1]=s[f+0];e[(c+l*u)*4+2]=s[f+0];e[(c+l*u)*4+3]=s[f+1]}}return e};if(typeof e!=="undefined"){e.TGA=c}})(THREE);(function(me,Ee,ge){"use strict";var ve={},a,o,e;ve.Util={};ve.Util.log=function(e){if(ve.logging&&me.console&&me.console.log){me.console.log(e)}};ve.Util.trimText=function(t){return function(e){return t?t.apply(e):((e||"")+"").replace(/^\s+|\s+$/g,"")}}(String.prototype.trim);ve.Util.asFloat=function(e){return parseFloat(e)};(function(){var a=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g;var o=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g;ve.Util.parseTextShadows=function(e){if(!e||e==="none"){return[]}var t=e.match(a),i=[];for(var r=0;t&&r<t.length;r++){var n=t[r].match(o);i.push({color:n[0],offsetX:n[1]?n[1].replace("px",""):0,offsetY:n[2]?n[2].replace("px",""):0,blur:n[3]?n[3].replace("px",""):0})}return i}})();ve.Util.parseBackgroundImage=function(e){var t=" \r\n\t",i,r,n,a,o,s=[],l,h=0,f=0,c,u;var d=function(){if(i){if(r.substr(0,1)==='"'){r=r.substr(1,r.length-2)}if(r){u.push(r)}if(i.substr(0,1)==="-"&&(a=i.indexOf("-",1)+1)>0){n=i.substr(0,a);i=i.substr(a)}s.push({prefix:n,method:i.toLowerCase(),value:o,args:u})}u=[];i=n=r=o=""};d();for(var p=0,m=e.length;p<m;p++){l=e[p];if(h===0&&t.indexOf(l)>-1){continue}switch(l){case'"':if(!c){c=l}else if(c===l){c=null}break;case"(":if(c){break}else if(h===0){h=1;o+=l;continue}else{f++}break;case")":if(c){break}else if(h===1){if(f===0){h=0;o+=l;d();continue}else{f--}}break;case",":if(c){break}else if(h===0){d();continue}else if(h===1){if(f===0&&!i.match(/^url$/i)){u.push(r);r="";o+=l;continue}}break}o+=l;if(h===0){i+=l}else{r+=l}}d();return s};ve.Util.Bounds=function(e){var t,i={};if(e.getBoundingClientRect){t=e.getBoundingClientRect();i.top=t.top;i.bottom=t.bottom||t.top+t.height;i.left=t.left;i.width=e.offsetWidth;i.height=e.offsetHeight}return i};ve.Util.OffsetBounds=function(e){var t=e.offsetParent?ve.Util.OffsetBounds(e.offsetParent):{top:0,left:0};return{top:e.offsetTop+t.top,bottom:e.offsetTop+e.offsetHeight+t.top,left:e.offsetLeft+t.left,width:e.offsetWidth,height:e.offsetHeight}};function n(e,t,i){var r=e.runtimeStyle&&e.runtimeStyle[t],n,a=e.style;if(!/^-?[0-9]+\.?[0-9]*(?:px)?$/i.test(i)&&/^-?\d/.test(i)){n=a.left;if(r){e.runtimeStyle.left=e.currentStyle.left}a.left=t==="fontSize"?"1em":i||0;i=a.pixelLeft+"px";a.left=n;if(r){e.runtimeStyle.left=r}}if(!/^(thin|medium|thick)$/i.test(i)){return Math.round(parseFloat(i))+"px"}return i}function s(e){return parseInt(e,10)}function l(e,t,i,r){e=(e||"").split(",");e=e[r||0]||e[0]||"auto";e=ve.Util.trimText(e).split(" ");if(i==="backgroundSize"&&(!e[0]||e[0].match(/cover|contain|auto/))){}else{e[0]=e[0].indexOf("%")===-1?n(t,i+"X",e[0]):e[0];if(e[1]===ge){if(i==="backgroundSize"){e[1]="auto";return e}else{e[1]=e[0]}}e[1]=e[1].indexOf("%")===-1?n(t,i+"Y",e[1]):e[1]}return e}ve.Util.getCSS=function(e,t,i){if(a!==e){o=Ee.defaultView.getComputedStyle(e,null)}var r=o[t];if(/^background(Size|Position)$/.test(t)){return l(r,e,t,i)}else if(/border(Top|Bottom)(Left|Right)Radius/.test(t)){var n=r.split(" ");if(n.length<=1){n[1]=n[0]}return n.map(s)}return r};ve.Util.resizeBounds=function(e,t,i,r,n){var a=i/r,o=e/t,s,l;if(!n||n==="auto"){s=i;l=r}else if(a<o^n==="contain"){l=r;s=r*o}else{s=i;l=i/o}return{width:s,height:l}};function h(e,t,i,r,n,a){var o=ve.Util.getCSS(t,e,n),s,l,h,f;if(o.length===1){f=o[0];o=[];o[0]=f;o[1]=f}if(o[0].toString().indexOf("%")!==-1){h=parseFloat(o[0])/100;l=i.width*h;if(e!=="backgroundSize"){l-=(a||r).width*h}}else{if(e==="backgroundSize"){if(o[0]==="auto"){l=r.width}else{if(/contain|cover/.test(o[0])){var c=ve.Util.resizeBounds(r.width,r.height,i.width,i.height,o[0]);l=c.width;s=c.height}else{l=parseInt(o[0],10)}}}else{l=parseInt(o[0],10)}}if(o[1]==="auto"){s=l/r.width*r.height}else if(o[1].toString().indexOf("%")!==-1){h=parseFloat(o[1])/100;s=i.height*h;if(e!=="backgroundSize"){s-=(a||r).height*h}}else{s=parseInt(o[1],10)}return[l,s]}ve.Util.BackgroundPosition=function(e,t,i,r,n){var a=h("backgroundPosition",e,t,i,r,n);return{left:a[0],top:a[1]}};ve.Util.BackgroundSize=function(e,t,i,r){var n=h("backgroundSize",e,t,i,r);return{width:n[0],height:n[1]}};ve.Util.Extend=function(e,t){for(var i in e){if(e.hasOwnProperty(i)){t[i]=e[i]}}return t};ve.Util.Children=function(e){var t;try{t=e.nodeName&&e.nodeName.toUpperCase()==="IFRAME"?e.contentDocument||e.contentWindow.document:function(e){var t=[];if(e!==null){(function(e,t){var i=e.length,r=0;if(typeof t.length==="number"){for(var n=t.length;r<n;r++){e[i++]=t[r]}}else{while(t[r]!==ge){e[i++]=t[r++]}}e.length=i;return e})(t,e)}return t}(e.childNodes)}catch(i){ve.Util.log("html2canvas.Util.Children failed with exception: "+i.message);t=[]}return t};ve.Util.isTransparent=function(e){return e==="transparent"||e==="rgba(0, 0, 0, 0)"};ve.Util.Font=function(){var f={};return function(e,t,i){if(f[e+"-"+t]!==ge){return f[e+"-"+t]}var r=i.createElement("div"),n=i.createElement("img"),a=i.createElement("span"),o="Hidden Text",s,l,h;r.style.visibility="hidden";r.style.fontFamily=e;r.style.fontSize=t;r.style.margin=0;r.style.padding=0;i.body.appendChild(r);n.src="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACwAAAAAAQABAAACAkQBADs=";n.width=1;n.height=1;n.style.margin=0;n.style.padding=0;n.style.verticalAlign="baseline";a.style.fontFamily=e;a.style.fontSize=t;a.style.margin=0;a.style.padding=0;a.appendChild(i.createTextNode(o));r.appendChild(a);r.appendChild(n);s=n.offsetTop-a.offsetTop+1;r.removeChild(a);r.appendChild(i.createTextNode(o));r.style.lineHeight="normal";n.style.verticalAlign="super";l=n.offsetTop-r.offsetTop+1;h={baseline:s,lineWidth:1,middle:l};f[e+"-"+t]=h;i.body.removeChild(r);return h}}();(function(){var r=ve.Util,e={};ve.Generate=e;var m=[/^(-webkit-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-gradient)\((linear|radial),\s((?:\d{1,3}%?)\s(?:\d{1,3}%?),\s(?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)\-]+)\)$/,/^(-moz-linear-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-moz-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s?([a-z\-]*)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/];e.parseGradient=function(e,t){var i,r,n=m.length,a,o,s,l,h,f,c,u,d,p;for(r=0;r<n;r+=1){a=e.match(m[r]);if(a){break}}if(a){switch(a[1]){case"-webkit-linear-gradient":case"-o-linear-gradient":i={type:"linear",x0:null,y0:null,x1:null,y1:null,colorStops:[]};s=a[2].match(/\w+/g);if(s){l=s.length;for(r=0;r<l;r+=1){switch(s[r]){case"top":i.y0=0;i.y1=t.height;break;case"right":i.x0=t.width;i.x1=0;break;case"bottom":i.y0=t.height;i.y1=0;break;case"left":i.x0=0;i.x1=t.width;break}}}if(i.x0===null&&i.x1===null){i.x0=i.x1=t.width/2}if(i.y0===null&&i.y1===null){i.y0=i.y1=t.height/2}s=a[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g);if(s){l=s.length;h=1/Math.max(l-1,1);for(r=0;r<l;r+=1){f=s[r].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/);if(f[2]){o=parseFloat(f[2]);if(f[3]==="%"){o/=100}else{o/=t.width}}else{o=r*h}i.colorStops.push({color:f[1],stop:o})}}break;case"-webkit-gradient":i={type:a[2]==="radial"?"circle":a[2],x0:0,y0:0,x1:0,y1:0,colorStops:[]};s=a[3].match(/(\d{1,3})%?\s(\d{1,3})%?,\s(\d{1,3})%?\s(\d{1,3})%?/);if(s){i.x0=s[1]*t.width/100;i.y0=s[2]*t.height/100;i.x1=s[3]*t.width/100;i.y1=s[4]*t.height/100}s=a[4].match(/((?:from|to|color-stop)\((?:[0-9\.]+,\s)?(?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)\))+/g);if(s){l=s.length;for(r=0;r<l;r+=1){f=s[r].match(/(from|to|color-stop)\(([0-9\.]+)?(?:,\s)?((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\)/);o=parseFloat(f[2]);if(f[1]==="from"){o=0}if(f[1]==="to"){o=1}i.colorStops.push({color:f[3],stop:o})}}break;case"-moz-linear-gradient":i={type:"linear",x0:0,y0:0,x1:0,y1:0,colorStops:[]};s=a[2].match(/(\d{1,3})%?\s(\d{1,3})%?/);if(s){i.x0=s[1]*t.width/100;i.y0=s[2]*t.height/100;i.x1=t.width-i.x0;i.y1=t.height-i.y0}s=a[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}%)?)+/g);if(s){l=s.length;h=1/Math.max(l-1,1);for(r=0;r<l;r+=1){f=s[r].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%)?/);if(f[2]){o=parseFloat(f[2]);if(f[3]){o/=100}}else{o=r*h}i.colorStops.push({color:f[1],stop:o})}}break;case"-webkit-radial-gradient":case"-moz-radial-gradient":case"-o-radial-gradient":i={type:"circle",x0:0,y0:0,x1:t.width,y1:t.height,cx:0,cy:0,rx:0,ry:0,colorStops:[]};s=a[2].match(/(\d{1,3})%?\s(\d{1,3})%?/);if(s){i.cx=s[1]*t.width/100;i.cy=s[2]*t.height/100}s=a[3].match(/\w+/);f=a[4].match(/[a-z\-]*/);if(s&&f){switch(f[0]){case"farthest-corner":case"cover":case"":c=Math.sqrt(Math.pow(i.cx,2)+Math.pow(i.cy,2));u=Math.sqrt(Math.pow(i.cx,2)+Math.pow(i.y1-i.cy,2));d=Math.sqrt(Math.pow(i.x1-i.cx,2)+Math.pow(i.y1-i.cy,2));p=Math.sqrt(Math.pow(i.x1-i.cx,2)+Math.pow(i.cy,2));i.rx=i.ry=Math.max(c,u,d,p);break;case"closest-corner":c=Math.sqrt(Math.pow(i.cx,2)+Math.pow(i.cy,2));u=Math.sqrt(Math.pow(i.cx,2)+Math.pow(i.y1-i.cy,2));d=Math.sqrt(Math.pow(i.x1-i.cx,2)+Math.pow(i.y1-i.cy,2));p=Math.sqrt(Math.pow(i.x1-i.cx,2)+Math.pow(i.cy,2));i.rx=i.ry=Math.min(c,u,d,p);break;case"farthest-side":if(s[0]==="circle"){i.rx=i.ry=Math.max(i.cx,i.cy,i.x1-i.cx,i.y1-i.cy)}else{i.type=s[0];i.rx=Math.max(i.cx,i.x1-i.cx);i.ry=Math.max(i.cy,i.y1-i.cy)}break;case"closest-side":case"contain":if(s[0]==="circle"){i.rx=i.ry=Math.min(i.cx,i.cy,i.x1-i.cx,i.y1-i.cy)}else{i.type=s[0];i.rx=Math.min(i.cx,i.x1-i.cx);i.ry=Math.min(i.cy,i.y1-i.cy)}break}}s=a[5].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g);if(s){l=s.length;h=1/Math.max(l-1,1);for(r=0;r<l;r+=1){f=s[r].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/);if(f[2]){o=parseFloat(f[2]);if(f[3]==="%"){o/=100}else{o/=t.width}}else{o=r*h}i.colorStops.push({color:f[1],stop:o})}}break}}return i};function f(i){return function(e){try{i.addColorStop(e.stop,e.color)}catch(t){r.log(["failed to add color stop: ",t,"; tried to add: ",e])}}}e.Gradient=function(e,t){if(t.width===0||t.height===0){return}var i=Ee.createElement("canvas"),r=i.getContext("2d"),n,a;i.width=t.width;i.height=t.height;n=ve.Generate.parseGradient(e,t);if(n){switch(n.type){case"linear":a=r.createLinearGradient(n.x0,n.y0,n.x1,n.y1);n.colorStops.forEach(f(a));r.fillStyle=a;r.fillRect(0,0,t.width,t.height);break;case"circle":a=r.createRadialGradient(n.cx,n.cy,0,n.cx,n.cy,n.rx);n.colorStops.forEach(f(a));r.fillStyle=a;r.fillRect(0,0,t.width,t.height);break;case"ellipse":var o=Ee.createElement("canvas"),s=o.getContext("2d"),l=Math.max(n.rx,n.ry),h=l*2;o.width=o.height=h;a=s.createRadialGradient(n.rx,n.ry,0,n.rx,n.ry,l);n.colorStops.forEach(f(a));s.fillStyle=a;s.fillRect(0,0,h,h);r.fillStyle=n.colorStops[n.colorStops.length-1].color;r.fillRect(0,0,i.width,i.height);r.drawImage(o,n.cx-n.rx,n.cy-n.ry,2*n.rx,2*n.ry);break}}return i};e.ListAlpha=function(e){var t="",i;do{i=e%26;t=String.fromCharCode(i+64)+t;e=e/26}while(e*26>26);return t};e.ListRoman=function(e){var t=["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"],i=[1e3,900,500,400,100,90,50,40,10,9,5,4,1],r="",n,a=t.length;if(e<=0||e>=4e3){return e}for(n=0;n<a;n+=1){while(e>=i[n]){e-=i[n];r+=t[n]}}return r}})();function Te(e,t){var i=[];return{storage:i,width:e,height:t,clip:function(){i.push({type:"function",name:"clip",arguments:arguments})},translate:function(){i.push({type:"function",name:"translate",arguments:arguments})},fill:function(){i.push({type:"function",name:"fill",arguments:arguments})},save:function(){i.push({type:"function",name:"save",arguments:arguments})},restore:function(){i.push({type:"function",name:"restore",arguments:arguments})},fillRect:function(){i.push({type:"function",name:"fillRect",arguments:arguments})},createPattern:function(){i.push({type:"function",name:"createPattern",arguments:arguments})},drawShape:function(){var e=[];i.push({type:"function",name:"drawShape",arguments:e});return{moveTo:function(){e.push({name:"moveTo",arguments:arguments})},lineTo:function(){e.push({name:"lineTo",arguments:arguments})},arcTo:function(){e.push({name:"arcTo",arguments:arguments})},bezierCurveTo:function(){e.push({name:"bezierCurveTo",arguments:arguments})},quadraticCurveTo:function(){e.push({name:"quadraticCurveTo",arguments:arguments})}}},drawImage:function(){i.push({type:"function",name:"drawImage",arguments:arguments})},fillText:function(){i.push({type:"function",name:"fillText",arguments:arguments})},setVariable:function(e,t){i.push({type:"variable",name:e,arguments:t});return t}}}ve.Parse=function(i,f){me.scroll(0,0);var r=f.elements===ge?Ee.body:f.elements[0],o=0,h=r.ownerDocument,d=ve.Util,s=d.Support(f,h),p=new RegExp("("+f.ignoreElements+")"),l=h.body,m=d.getCSS,c="___html2canvas___pseudoelement",n=h.createElement("style");n.innerHTML="."+c+'-before:before { content: "" !important; display: none !important; }'+"."+c+'-after:after { content: "" !important; display: none !important; }';l.appendChild(n);i=i||{};function u(){return Math.max(Math.max(h.body.scrollWidth,h.documentElement.scrollWidth),Math.max(h.body.offsetWidth,h.documentElement.offsetWidth),Math.max(h.body.clientWidth,h.documentElement.clientWidth))}function E(){return Math.max(Math.max(h.body.scrollHeight,h.documentElement.scrollHeight),Math.max(h.body.offsetHeight,h.documentElement.offsetHeight),Math.max(h.body.clientHeight,h.documentElement.clientHeight))}function g(e,t){var i=parseInt(m(e,t),10);return isNaN(i)?0:i}function a(e,t,i,r,n,a){if(a!=="transparent"){e.setVariable("fillStyle",a);e.fillRect(t,i,r,n);o+=1}}function v(e,t,i){if(e.length>0){return t+i.toUpperCase()}}function z(e,t){switch(t){case"lowercase":return e.toLowerCase();case"capitalize":return e.replace(/(^|\s|:|-|\(|\))([a-z])/g,v);case"uppercase":return e.toUpperCase();default:return e}}function I(e){return/^(normal|none|0px)$/.test(e)}function T(e,t,i,r){if(e!==null&&d.trimText(e).length>0){r.fillText(e,t,i);o+=1}}function y(e,t,i,r){var n=false,a=m(t,"fontWeight"),o=m(t,"fontFamily"),s=m(t,"fontSize"),l=d.parseTextShadows(m(t,"textShadow"));switch(parseInt(a,10)){case 401:a="bold";break;case 400:a="normal";break}e.setVariable("fillStyle",r);e.setVariable("font",[m(t,"fontStyle"),m(t,"fontVariant"),a,s,o].join(" "));e.setVariable("textAlign",n?"right":"left");if(l.length){e.setVariable("shadowColor",l[0].color);e.setVariable("shadowOffsetX",l[0].offsetX);e.setVariable("shadowOffsetY",l[0].offsetY);e.setVariable("shadowBlur",l[0].blur)}if(i!=="none"){return d.Font(o,s,h)}}function V(e,t,i,r,n){switch(t){case"underline":a(e,i.left,Math.round(i.top+r.baseline+r.lineWidth),i.width,1,n);break;case"overline":a(e,i.left,Math.round(i.top),i.width,1,n);break;case"line-through":a(e,i.left,Math.ceil(i.top+r.middle+r.lineWidth),i.width,1,n);break}}function k(e,t,i,r,n){var a;if(s.rangeBounds&&!n){if(i!=="none"||d.trimText(t).length!==0){a=B(t,e.node,e.textOffset)}e.textOffset+=t.length}else if(e.node&&typeof e.node.nodeValue==="string"){var o=r?e.node.splitText(t.length):null;a=j(e.node,n);e.node=o}return a}function B(e,t,i){var r=h.createRange();r.setStart(t,i);r.setEnd(t,i+e.length);return r.getBoundingClientRect()}function j(e,t){var i=e.parentNode,r=h.createElement("wrapper"),n=e.cloneNode(true);r.appendChild(e.cloneNode(true));i.replaceChild(r,e);var a=t?d.OffsetBounds(r):d.Bounds(r);i.replaceChild(n,r);return a}function _(e,t,r){var n=r.ctx,a=m(e,"color"),o=m(e,"textDecoration"),i=m(e,"textAlign"),s,l,h={node:t,textOffset:0};if(d.trimText(t.nodeValue).length>0){t.nodeValue=z(t.nodeValue,m(e,"textTransform"));i=i.replace(["-webkit-auto"],["auto"]);l=!f.letterRendering&&/^(left|right|justify|auto)$/.test(i)&&I(m(e,"letterSpacing"))?t.nodeValue.split(/(\b| )/):t.nodeValue.split("");s=y(n,e,o,a);if(f.chinese){l.forEach(function(e,t){if(/.*[\u4E00-\u9FA5].*$/.test(e)){e=e.split("");e.unshift(t,1);l.splice.apply(l,e)}})}l.forEach(function(e,t){var i=k(h,e,o,t<l.length-1,r.transform.matrix);if(i){T(e,i.left,i.bottom,n);V(n,o,i,s,a)}})}}function G(e,t){var i=h.createElement("boundelement"),r,n;i.style.display="inline";r=e.style.listStyleType;e.style.listStyleType="none";i.appendChild(h.createTextNode(t));e.insertBefore(i,e.firstChild);n=d.Bounds(i);e.removeChild(i);e.style.listStyleType=r;return n}function W(e){var t=-1,i=1,r=e.parentNode.childNodes;if(e.parentNode){while(r[++t]!==e){if(r[t].nodeType===1){i++}}return i}else{return-1}}function X(e,t){var i=W(e),r;switch(t){case"decimal":r=i;break;case"decimal-leading-zero":r=i.toString().length===1?i="0"+i.toString():i.toString();break;case"upper-roman":r=ve.Generate.ListRoman(i);break;case"lower-roman":r=ve.Generate.ListRoman(i).toLowerCase();break;case"lower-alpha":r=ve.Generate.ListAlpha(i).toLowerCase();break;case"upper-alpha":r=ve.Generate.ListAlpha(i);break}return r+". "}function q(e,t,i){var r,n,a=t.ctx,o=m(e,"listStyleType"),s;if(/^(decimal|decimal-leading-zero|upper-alpha|upper-latin|upper-roman|lower-alpha|lower-greek|lower-latin|lower-roman)$/i.test(o)){n=X(e,o);s=G(e,n);y(a,e,"none",m(e,"color"));if(m(e,"listStylePosition")==="inside"){a.setVariable("textAlign","left");r=i.left}else{return}T(n,r,s.bottom,a)}}function R(e){var t=i[e];return t&&t.succeeded===true?t.img:false}function x(e,t){var i=Math.max(e.left,t.left),r=Math.max(e.top,t.top),n=Math.min(e.left+e.width,t.left+t.width),a=Math.min(e.top+e.height,t.top+t.height);return{left:i,top:r,width:n-i,height:a-r}}function Y(e,t,i){var r,n=t.cssPosition!=="static",a=n?m(e,"zIndex"):"auto",o=m(e,"opacity"),s=m(e,"cssFloat")!=="none";t.zIndex=r=ye(a);r.isPositioned=n;r.isFloated=s;r.opacity=o;r.ownStacking=a!=="auto"||o<1;if(i){i.zIndex.children.push(t)}}function b(e,t,i,r,n){var a=g(t,"paddingLeft"),o=g(t,"paddingTop"),s=g(t,"paddingRight"),l=g(t,"paddingBottom");D(e,i,0,0,i.width,i.height,r.left+a+n[3].width,r.top+o+n[0].width,r.width-(n[1].width+n[3].width+a+s),r.height-(n[0].width+n[2].width+o+l))}function $(t){return["Top","Right","Bottom","Left"].map(function(e){return{width:g(t,"border"+e+"Width"),color:m(t,"border"+e+"Color")}})}function K(t){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(e){return m(t,"border"+e+"Radius")})}var H=function(l){return function(e,t,i,r){var n=i*l,a=r*l,o=e+i,s=t+r;return{topLeft:w({x:e,y:s},{x:e,y:s-a},{x:o-n,y:t},{x:o,y:t}),topRight:w({x:e,y:t},{x:e+n,y:t},{x:o,y:s-a},{x:o,y:s}),bottomRight:w({x:o,y:t},{x:o,y:t+a},{x:e+n,y:s},{x:e,y:s}),bottomLeft:w({x:o,y:s},{x:o-n,y:s},{x:e,y:t+a},{x:e,y:t})}}}(4*((Math.sqrt(2)-1)/3));function w(s,l,h,f){var c=function(e,t,i){return{x:e.x+(t.x-e.x)*i,y:e.y+(t.y-e.y)*i}};return{start:s,startControl:l,endControl:h,end:f,subdivide:function(e){var t=c(s,l,e),i=c(l,h,e),r=c(h,f,e),n=c(t,i,e),a=c(i,r,e),o=c(n,a,e);return[w(s,t,n,o),w(o,a,r,f)]},curveTo:function(e){e.push(["bezierCurve",l.x,l.y,h.x,h.y,f.x,f.y])},curveToReversed:function(e){e.push(["bezierCurve",h.x,h.y,l.x,l.y,s.x,s.y])}}}function M(e,t,i,r,n,a,o){if(t[0]>0||t[1]>0){e.push(["line",r[0].start.x,r[0].start.y]);r[0].curveTo(e);r[1].curveTo(e)}else{e.push(["line",a,o])}if(i[0]>0||i[1]>0){e.push(["line",n[0].start.x,n[0].start.y])}}function S(e,t,i,r,n,a,o){var s=[];if(t[0]>0||t[1]>0){s.push(["line",r[1].start.x,r[1].start.y]);r[1].curveTo(s)}else{s.push(["line",e.c1[0],e.c1[1]])}if(i[0]>0||i[1]>0){s.push(["line",a[0].start.x,a[0].start.y]);a[0].curveTo(s);s.push(["line",o[0].end.x,o[0].end.y]);o[0].curveToReversed(s)}else{s.push(["line",e.c2[0],e.c2[1]]);s.push(["line",e.c3[0],e.c3[1]])}if(t[0]>0||t[1]>0){s.push(["line",n[1].end.x,n[1].end.y]);n[1].curveToReversed(s)}else{s.push(["line",e.c4[0],e.c4[1]])}return s}function Q(e,t,i){var r=e.left,n=e.top,a=e.width,o=e.height,s=t[0][0],l=t[0][1],h=t[1][0],f=t[1][1],c=t[2][0],u=t[2][1],d=t[3][0],p=t[3][1],m=a-h,E=o-u,g=a-c,v=o-p;return{topLeftOuter:H(r,n,s,l).topLeft.subdivide(.5),topLeftInner:H(r+i[3].width,n+i[0].width,Math.max(0,s-i[3].width),Math.max(0,l-i[0].width)).topLeft.subdivide(.5),topRightOuter:H(r+m,n,h,f).topRight.subdivide(.5),topRightInner:H(r+Math.min(m,a+i[3].width),n+i[0].width,m>a+i[3].width?0:h-i[3].width,f-i[0].width).topRight.subdivide(.5),bottomRightOuter:H(r+g,n+E,c,u).bottomRight.subdivide(.5),bottomRightInner:H(r+Math.min(g,a+i[3].width),n+Math.min(E,o+i[0].width),Math.max(0,c-i[1].width),Math.max(0,u-i[2].width)).bottomRight.subdivide(.5),bottomLeftOuter:H(r,n+v,d,p).bottomLeft.subdivide(.5),bottomLeftInner:H(r+i[3].width,n+v,Math.max(0,d-i[3].width),Math.max(0,p-i[2].width)).bottomLeft.subdivide(.5)}}function Z(e,t,i,r,n){var a=m(e,"backgroundClip"),o=[];switch(a){case"content-box":case"padding-box":M(o,r[0],r[1],t.topLeftInner,t.topRightInner,n.left+i[3].width,n.top+i[0].width);M(o,r[1],r[2],t.topRightInner,t.bottomRightInner,n.left+n.width-i[1].width,n.top+i[0].width);M(o,r[2],r[3],t.bottomRightInner,t.bottomLeftInner,n.left+n.width-i[1].width,n.top+n.height-i[2].width);M(o,r[3],r[0],t.bottomLeftInner,t.topLeftInner,n.left+i[3].width,n.top+n.height-i[2].width);break;default:M(o,r[0],r[1],t.topLeftOuter,t.topRightOuter,n.left,n.top);M(o,r[1],r[2],t.topRightOuter,t.bottomRightOuter,n.left+n.width,n.top);M(o,r[2],r[3],t.bottomRightOuter,t.bottomLeftOuter,n.left+n.width,n.top+n.height);M(o,r[3],r[0],t.bottomLeftOuter,t.topLeftOuter,n.left,n.top+n.height);break}return o}function J(e,t,i){var r=t.left,n=t.top,a=t.width,o=t.height,s,l,h,f,c,u,d=K(e),p=Q(t,d,i),m={clip:Z(e,p,i,d,t),borders:[]};for(s=0;s<4;s++){if(i[s].width>0){l=r;h=n;f=a;c=o-i[2].width;switch(s){case 0:c=i[0].width;u=S({c1:[l,h],c2:[l+f,h],c3:[l+f-i[1].width,h+c],c4:[l+i[3].width,h+c]},d[0],d[1],p.topLeftOuter,p.topLeftInner,p.topRightOuter,p.topRightInner);break;case 1:l=r+a-i[1].width;f=i[1].width;u=S({c1:[l+f,h],c2:[l+f,h+c+i[2].width],c3:[l,h+c],c4:[l,h+i[0].width]},d[1],d[2],p.topRightOuter,p.topRightInner,p.bottomRightOuter,p.bottomRightInner);break;case 2:h=h+o-i[2].width;c=i[2].width;u=S({c1:[l+f,h+c],c2:[l,h+c],c3:[l+i[3].width,h],c4:[l+f-i[3].width,h]},d[2],d[3],p.bottomRightOuter,p.bottomRightInner,p.bottomLeftOuter,p.bottomLeftInner);break;case 3:f=i[3].width;u=S({c1:[l,h+c+i[2].width],c2:[l,h],c3:[l+f,h+i[0].width],c4:[l+f,h+c]},d[3],d[0],p.bottomLeftOuter,p.bottomLeftInner,p.topLeftOuter,p.topLeftInner);break}m.borders.push({args:u,color:i[s].color})}}return m}function A(e,t){var i=e.drawShape();t.forEach(function(e,t){i[t===0?"moveTo":e[0]+"To"].apply(null,e.slice(1))});return i}function ee(e,t,i){if(i!=="transparent"){e.setVariable("fillStyle",i);A(e,t);e.fill();o+=1}}function C(i,e,t){var r=h.createElement("valuewrap"),n=["lineHeight","textAlign","fontFamily","color","fontSize","paddingLeft","paddingTop","width","height","border","borderLeftWidth","borderTopWidth"],a,o;n.forEach(function(e){try{r.style[e]=m(i,e)}catch(t){d.log("html2canvas: Parse: Exception caught in renderFormValue: "+t.message)}});r.style.borderColor="black";r.style.borderStyle="solid";r.style.display="block";r.style.position="absolute";if(/^(submit|reset|button|text|password)$/.test(i.type)||i.nodeName==="SELECT"){r.style.lineHeight=m(i,"height")}r.style.top=e.top+"px";r.style.left=e.left+"px";a=i.nodeName==="SELECT"?(i.options[i.selectedIndex]||0).text:i.value;if(!a){a=i.placeholder}o=h.createTextNode(a);r.appendChild(o);l.appendChild(r);_(i,o,t);l.removeChild(r)}function D(e){e.drawImage.apply(e,Array.prototype.slice.call(arguments,1));o+=1}function P(e,t){var i=me.getComputedStyle(e,t);if(!i||!i.content||i.content==="none"||i.content==="-moz-alt-content"||i.display==="none"){return}var r=i.content+"",n=r.substr(0,1);if(n===r.substr(r.length-1)&&n.match(/'|"/)){r=r.substr(1,r.length-2)}var a=r.substr(0,3)==="url",o=Ee.createElement(a?"img":"span");o.className=c+"-before "+c+"-after";Object.keys(i).filter(te).forEach(function(e){try{o.style[e]=i[e]}catch(t){d.log(["Tried to assign readonly property ",e,"Error:",t])}});if(a){o.src=d.parseBackgroundImage(r)[0].args[0]}else{o.innerHTML=r}return o}function te(e){return isNaN(me.parseInt(e,10))}function ie(e,t){var i=P(e,":before"),r=P(e,":after");if(!i&&!r){return}if(i){e.className+=" "+c+"-before";e.parentNode.insertBefore(i,e);F(i,t,true);e.parentNode.removeChild(i);e.className=e.className.replace(c+"-before","").trim()}if(r){e.className+=" "+c+"-after";e.appendChild(r);F(r,t,true);e.removeChild(r);e.className=e.className.replace(c+"-after","").trim()}}function L(e,t,i,r){var n=Math.round(r.left+i.left),a=Math.round(r.top+i.top);e.createPattern(t);e.translate(n,a);e.fill();e.translate(-n,-a)}function U(e,t,i,r,n,a,o,s){var l=[];l.push(["line",Math.round(n),Math.round(a)]);l.push(["line",Math.round(n+o),Math.round(a)]);l.push(["line",Math.round(n+o),Math.round(s+a)]);l.push(["line",Math.round(n),Math.round(s+a)]);A(e,l);e.save();e.clip();L(e,t,i,r);e.restore()}function re(e,t,i){a(e,t.left,t.top,t.width,t.height,i)}function ne(e,t,i,r,n){var a=d.BackgroundSize(e,t,r,n),o=d.BackgroundPosition(e,t,r,n,a),s=m(e,"backgroundRepeat").split(",").map(d.trimText);r=oe(r,a);s=s[n]||s[0];switch(s){case"repeat-x":U(i,r,o,t,t.left,t.top+o.top,99999,r.height);break;case"repeat-y":U(i,r,o,t,t.left+o.left,t.top,r.width,99999);break;case"no-repeat":U(i,r,o,t,t.left+o.left,t.top+o.top,r.width,r.height);break;default:L(i,r,o,{top:t.top,left:t.left,width:r.width,height:r.height});break}}function ae(e,t,i){var r=m(e,"backgroundImage"),n=d.parseBackgroundImage(r),a,o=n.length;while(o--){r=n[o];if(!r.args||r.args.length===0){continue}var s=r.method==="url"?r.args[0]:r.value;a=R(s);if(a){ne(e,t,i,a,o)}else{d.log("html2canvas: Error loading background:",r)}}}function oe(e,t){if(e.width===t.width&&e.height===t.height){return e}var i,r=h.createElement("canvas");r.width=t.width;r.height=t.height;i=r.getContext("2d");D(i,e,0,0,e.width,e.height,0,0,t.width,t.height);return r}function se(e,t,i){return e.setVariable("globalAlpha",m(t,"opacity")*(i?i.opacity:1))}function le(e){return e.replace("px","")}var he=/(matrix)\((.+)\)/;function fe(e,t){var i=m(e,"transform")||m(e,"-webkit-transform")||m(e,"-moz-transform")||m(e,"-ms-transform")||m(e,"-o-transform");var r=m(e,"transform-origin")||m(e,"-webkit-transform-origin")||m(e,"-moz-transform-origin")||m(e,"-ms-transform-origin")||m(e,"-o-transform-origin")||"0px 0px";r=r.split(" ").map(le).map(d.asFloat);var n;if(i&&i!=="none"){var a=i.match(he);if(a){switch(a[1]){case"matrix":n=a[2].split(",").map(d.trimText).map(d.asFloat);break}}}return{origin:r,matrix:n}}function ce(e,t,i,r){var n=Te(!t?u():i.width,!t?E():i.height),a={ctx:n,opacity:se(n,e,t),cssPosition:m(e,"position"),borders:$(e),transform:r,clip:t&&t.clip?d.Extend({},t.clip):null};Y(e,a,t);if(f.useOverflow===true&&/(hidden|scroll|auto)/.test(m(e,"overflow"))===true&&/(BODY)/i.test(e.nodeName)===false){a.clip=a.clip?x(a.clip,i):i}return a}function ue(e,t,i){var r={left:t.left+e[3].width,top:t.top+e[0].width,width:t.width-(e[1].width+e[3].width),height:t.height-(e[0].width+e[2].width)};if(i){r=x(r,i)}return r}function de(e,t){var i=t.matrix?d.OffsetBounds(e):d.Bounds(e);t.origin[0]+=i.left;t.origin[1]+=i.top;return i}function N(e,t,i,r){var n=fe(e,t),a=de(e,n),o,s=ce(e,t,a,n),l=s.borders,h=s.ctx,f=ue(l,a,s.clip),c=J(e,a,l),u=p.test(e.nodeName)?"#efefef":m(e,"backgroundColor");A(h,c.clip);h.save();h.clip();if(f.height>0&&f.width>0&&!r){re(h,a,u);ae(e,f,h)}else if(r){s.backgroundColor=u}h.restore();c.borders.forEach(function(e){ee(h,e.args,e.color)});if(!i){ie(e,s)}switch(e.nodeName){case"IMG":if(o=R(e.getAttribute("src"))){b(h,e,o,a,l)}else{d.log("html2canvas: Error loading <img>:"+e.getAttribute("src"))}break;case"INPUT":if(/^(text|url|email|submit|button|reset)$/.test(e.type)&&(e.value||e.placeholder||"").length>0){C(e,a,s)}break;case"TEXTAREA":if((e.value||e.placeholder||"").length>0){C(e,a,s)}break;case"SELECT":if((e.options||e.placeholder||"").length>0){C(e,a,s)}break;case"LI":q(e,s,f);break;case"CANVAS":b(h,e,e,a,l);break}return s}function pe(e){return m(e,"display")!=="none"&&m(e,"visibility")!=="hidden"&&!e.hasAttribute("data-html2canvas-ignore")}function F(e,t,i){if(pe(e)){t=N(e,t,i,false)||t;if(!p.test(e.nodeName)){O(e,t,i)}}}function O(t,i,r){d.Children(t).forEach(function(e){if(e.nodeType===e.ELEMENT_NODE){F(e,i,r)}else if(e.nodeType===e.TEXT_NODE){_(t,e,i)}})}function e(){var e=m(Ee.documentElement,"backgroundColor"),t=d.isTransparent(e)&&r===Ee.body,i=N(r,null,false,t);O(r,i);if(t){e=i.backgroundColor}l.removeChild(n);return{backgroundColor:e,stack:i}}return e()};function ye(e){return{zindex:e,children:[]}}ve.Preload=function(o){var s={numLoaded:0,numFailed:0,numTotal:0,cleanupDone:false},i,n=ve.Util,a,e,l=0,t=o.elements[0]||Ee.body,h=t.ownerDocument,r=t.getElementsByTagName("img"),f=r.length,c=h.createElement("a"),u=function(e){return e.crossOrigin!==ge}(new Image),d;c.href=me.location.href;i=c.protocol+c.host;function p(e){c.href=e;c.href=c.href;var t=c.protocol+c.host;return t===i}function m(){n.log("html2canvas: start: images: "+s.numLoaded+" / "+s.numTotal+" (failed: "+s.numFailed+")");if(!s.firstRun&&s.numLoaded>=s.numTotal){n.log("Finished loading images: # "+s.numTotal+" (failed: "+s.numFailed+")");if(typeof o.complete==="function"){o.complete(s)}}}function E(e,i,r){var n,t=o.proxy,a;c.href=e;e=c.href;n="html2canvas_"+l++;r.callbackname=n;if(t.indexOf("?")>-1){t+="&"}else{t+="?"}t+="url="+encodeURIComponent(e)+"&callback="+n;a=h.createElement("script");me[n]=function(e){if(e.substring(0,6)==="error:"){r.succeeded=false;s.numLoaded++;s.numFailed++;m()}else{x(i,r);i.src=e}me[n]=ge;try{delete me[n]}catch(t){}a.parentNode.removeChild(a);a=null;delete r.script;delete r.callbackname};a.setAttribute("type","text/javascript");a.setAttribute("src",t);r.script=a;me.document.body.appendChild(a)}function g(e,t){var i=me.getComputedStyle(e,t),r=i.content;if(r.substr(0,3)==="url"){a.loadImage(ve.Util.parseBackgroundImage(r)[0].args[0])}_(i.backgroundImage,e)}function v(e){g(e,":before");g(e,":after")}function T(e,t){var i=ve.Generate.Gradient(e,t);if(i!==ge){s[e]={img:i,succeeded:true};s.numTotal++;s.numLoaded++;m()}}function y(e){return e&&e.method&&e.args&&e.args.length>0}function _(e,t){var i;ve.Util.parseBackgroundImage(e).filter(y).forEach(function(e){if(e.method==="url"){a.loadImage(e.args[0])}else if(e.method.match(/\-?gradient$/)){if(i===ge){i=ve.Util.Bounds(t)}T(e.value,i)}})}function R(e){var t=false;try{n.Children(e).forEach(R)}catch(i){}try{t=e.nodeType}catch(r){t=false;n.log("html2canvas: failed to access some element's nodeType - Exception: "+r.message)}if(t===1||t===ge){v(e);try{_(n.getCSS(e,"backgroundImage"),e)}catch(i){n.log("html2canvas: failed to get background-image - Exception: "+i.message)}_(e)}}function x(t,i){t.onload=function(){if(i.timer!==ge){me.clearTimeout(i.timer)}s.numLoaded++;i.succeeded=true;t.onerror=t.onload=null;m()};t.onerror=function(){if(t.crossOrigin==="anonymous"){me.clearTimeout(i.timer);if(o.proxy){var e=t.src;t=new Image;i.img=t;t.src=e;E(t.src,t,i);return}}s.numLoaded++;s.numFailed++;i.succeeded=false;t.onerror=t.onload=null;m()}}a={loadImage:function(e){var t,i;if(e&&s[e]===ge){t=new Image;if(e.match(/data:image\/.*;base64,/i)){t.src=e.replace(/url\(['"]{0,}|['"]{0,}\)$/gi,"");i=s[e]={img:t};s.numTotal++;x(t,i)}else if(p(e)||o.allowTaint===true){i=s[e]={img:t};s.numTotal++;x(t,i);t.src=e}else if(u&&!o.allowTaint&&o.useCORS){t.crossOrigin="anonymous";i=s[e]={img:t};s.numTotal++;x(t,i);t.src=e}else if(o.proxy){i=s[e]={img:t};s.numTotal++;E(e,t,i)}}},cleanupDOM:function(e){var t,i;if(!s.cleanupDone){if(e&&typeof e==="string"){n.log("html2canvas: Cleanup because: "+e)}else{n.log("html2canvas: Cleanup after timeout: "+o.timeout+" ms.")}for(i in s){if(s.hasOwnProperty(i)){t=s[i];if(typeof t==="object"&&t.callbackname&&t.succeeded===ge){me[t.callbackname]=ge;try{delete me[t.callbackname]}catch(r){}if(t.script&&t.script.parentNode){t.script.setAttribute("src","about:blank");t.script.parentNode.removeChild(t.script)}s.numLoaded++;s.numFailed++;n.log("html2canvas: Cleaned up failed img: '"+i+"' Steps: "+s.numLoaded+" / "+s.numTotal)}}}if(me.stop!==ge){me.stop()}else if(Ee.execCommand!==ge){Ee.execCommand("Stop",false)}if(Ee.close!==ge){Ee.close()}s.cleanupDone=true;if(!(e&&typeof e==="string")){m()}}},renderingDone:function(){if(d){me.clearTimeout(d)}}};if(o.timeout>0){d=me.setTimeout(a.cleanupDOM,o.timeout)}n.log("html2canvas: Preload starts: finding background-images");s.firstRun=true;R(t);n.log("html2canvas: Preload: Finding images");for(e=0;e<f;e+=1){a.loadImage(r[e].getAttribute("src"))}s.firstRun=false;n.log("html2canvas: Preload: Done.");if(s.numTotal===s.numLoaded){m()}return a};ve.Renderer=function(e,i){function t(e){var s=[],t;t=function i(e){var t={};function h(e,t,i){var r=t.zIndex.zindex==="auto"?0:Number(t.zIndex.zindex),n=e,a=t.zIndex.isPositioned,o=t.zIndex.isFloated,s={node:t},l=i;if(t.zIndex.ownStacking){n=s.context={"!":[{node:t,children:[]}]};l=ge}else if(a||o){l=s.children=[]}if(r===0&&i){i.push(s)}else{if(!e[r]){e[r]=[]}e[r].push(s)}t.zIndex.children.forEach(function(e){h(n,e,l)})}h(t,e);return t}(e);function l(o){Object.keys(o).sort().forEach(function(e){var t=[],i=[],r=[],n=[];o[e].forEach(function(e){if(e.node.zIndex.isPositioned||e.node.zIndex.opacity<1){r.push(e)}else if(e.node.zIndex.isFloated){i.push(e)}else{t.push(e)}});(function a(e){e.forEach(function(e){n.push(e);if(e.children){a(e.children)}})})(t.concat(i,r));n.forEach(function(e){if(e.context){l(e.context)}else{s.push(e.node)}})})}l(t);return s}function r(e){var t;if(typeof i.renderer==="string"&&ve.Renderer[e]!==ge){t=ve.Renderer[e](i)}else if(typeof e==="function"){t=e(i)}else{throw new Error("Unknown renderer")}if(typeof t!=="function"){throw new Error("Invalid renderer defined")}return t}return r(i.renderer)(e,i,Ee,t(e.stack),ve)};ve.Util.Support=function(e,a){function t(){var e=new Image,t=a.createElement("canvas"),i=t.getContext===ge?false:t.getContext("2d");if(i===false){return false}t.width=t.height=10;e.src=["data:image/svg+xml,","<svg xmlns='http://www.w3.org/2000/svg' width='10' height='10'>","<foreignObject width='10' height='10'>","<div xmlns='http://www.w3.org/1999/xhtml' style='width:10;height:10;'>","sup","</div>","</foreignObject>","</svg>"].join("");try{i.drawImage(e,0,0);t.toDataURL()}catch(r){return false}ve.Util.log("html2canvas: Parse: SVG powered rendering available");return true}function i(){var e,t,i,r,n=false;if(a.createRange){e=a.createRange();if(e.getBoundingClientRect){t=a.createElement("boundtest");t.style.height="123px";t.style.display="block";a.body.appendChild(t);e.selectNode(t);i=e.getBoundingClientRect();r=i.height;if(r===123){n=true}a.body.removeChild(t)}}return n}return{rangeBounds:i(),svgRendering:e.svgRendering&&t()}};THREE.html2canvas=function(e,t){e=e.length?e:[e];var i,r,n={logging:false,elements:e,background:"#fff",proxy:null,timeout:0,useCORS:false,allowTaint:false,svgRendering:false,ignoreElements:"IFRAME|OBJECT|PARAM",useOverflow:true,letterRendering:false,chinese:false,width:null,height:null,taintTest:true,renderer:"Canvas"};n=ve.Util.Extend(t,n);ve.logging=n.logging;n.complete=function(e){if(typeof n.onpreloaded==="function"){if(n.onpreloaded(e)===false){return}}i=ve.Parse(e,n);if(typeof n.onparsed==="function"){if(n.onparsed(i)===false){return}}r=ve.Renderer(i,n);if(typeof n.onrendered==="function"){n.onrendered(r)}};me.setTimeout(function(){ve.Preload(n)},0);return{render:function(e,t){return ve.Renderer(e,ve.Util.Extend(t,n))},parse:function(e,t){return ve.Parse(e,ve.Util.Extend(t,n))},preload:function(e){return ve.Preload(ve.Util.Extend(e,n))},log:ve.Util.log}};THREE.html2canvas.log=ve.Util.log;THREE.html2canvas.Renderer={Canvas:ge};ve.Renderer.Canvas=function(r){r=r||{};var i=Ee,n=[],a=Ee.createElement("canvas"),o=a.getContext("2d"),f=ve.Util,c=r.canvas||i.createElement("canvas");function s(t,e){t.beginPath();e.forEach(function(e){t[e.name].apply(t,e["arguments"])});t.closePath()}function l(e){if(n.indexOf(e["arguments"][0].src)===-1){o.drawImage(e["arguments"][0],0,0);try{o.getImageData(0,0,1,1)}catch(t){a=i.createElement("canvas");o=a.getContext("2d");return false}n.push(e["arguments"][0].src)}return true}function u(e,t){switch(t.type){case"variable":e[t.name]=t["arguments"];break;case"function":switch(t.name){case"createPattern":if(t["arguments"][0].width>0&&t["arguments"][0].height>0){try{e.fillStyle=e.createPattern(t["arguments"][0],"repeat")}catch(i){f.log("html2canvas: Renderer: Error creating pattern",i.message)}}break;case"drawShape":s(e,t["arguments"]);break;case"drawImage":if(t["arguments"][8]>0&&t["arguments"][7]>0){if(!r.taintTest||r.taintTest&&l(t)){e.drawImage.apply(e,t["arguments"])}}break;default:e[t.name].apply(e,t["arguments"])}break}}return function(e,t,i,r,n){var a=c.getContext("2d"),o,s,l,h=e.stack;c.width=c.style.width=t.width||h.ctx.width;c.height=c.style.height=t.height||h.ctx.height;l=a.fillStyle;a.fillStyle=f.isTransparent(h.backgroundColor)&&t.background!==ge?t.background:e.backgroundColor;a.fillRect(0,0,c.width,c.height);a.fillStyle=l;r.forEach(function(e){a.textBaseline="bottom";a.save();if(e.transform.matrix){a.translate(e.transform.origin[0],e.transform.origin[1]);a.transform.apply(a,e.transform.matrix);a.translate(-e.transform.origin[0],-e.transform.origin[1])}if(e.clip){a.beginPath();a.rect(e.clip.left,e.clip.top,e.clip.width,e.clip.height);a.clip()}if(e.ctx.storage){e.ctx.storage.forEach(function(e){u(a,e)})}a.restore()});f.log("html2canvas: Renderer: Canvas renderer done - returning canvas obj");if(t.elements.length===1){if(typeof t.elements[0]==="object"&&t.elements[0].nodeName!=="BODY"){s=n.Util.Bounds(t.elements[0]);o=i.createElement("canvas");o.width=Math.ceil(s.width);o.height=Math.ceil(s.height);a=o.getContext("2d");a.drawImage(c,s.left,s.top,s.width,s.height,0,0,s.width,s.height);c=null;return o}}return c}}})(window,document);(function(){var l={VERSION:"0.9_20141123",IS_BETA:true,ALIAS:"WIP_MinorSnow"};l.AudioUnit=function(e){this._status=this.createStatus();this._status.id=e;Object.defineProperties(this,{isAudioUnit:{enumerable:true,get:function(){return this._status.isAudioUnit}},id:{enumerable:true,get:function(){return this._status.id}},connection:{enumerable:true,get:function(){var e=Object.create(this._status.connection);return e}}})};l.AudioUnit.prototype.createStatus=function(){return new l.AudioUnit.Status};l.AudioUnit.prototype.connect=function(e,t,i,r){if(e.id!=null||r!=null){var n=null;if(e.id!=null){n=e.id}else if(r!=null){n=r}n+="["+(t!=null?t:"0")+":"+(i!=null?i:"0")+"]";this._status.connection.push(n)}};l.AudioUnit.prototype.disconnect=function(e,t,i){if(e.id!=null||i!=null){var r=-1;var n="";if(e.id!=null){n=e.id}else if(i!=null){n=i}n+="["+(t!=null?t:"0");for(var a=0;a<this._status.connection.length;a++){if(this._status.connection[a].substring(0,n.length)===n){r=a;break}}if(r>=0){this._status.connection.splice(r,1)}}};l.AudioUnit.Status=function(){this.className="snd.AudioUnit";this.isAudioUnit=true;this.id="";this.connection=[];this.channelCount=2;this.channelCountMode="max";this.channelInterpretation="discrete"};l.Source=function(e){l.AudioUnit.apply(this,arguments);this._gain=l.AUDIO_CONTEXT.createGain();Object.defineProperties(this,{isSource:{get:function(){return this._status.isSource}},volumeParam:{get:function(){var e=this.gain.gain;if(e.id==null){e.id=this.id+".gain"}return e}},volume:{get:function(){return this._gain.gain.value},set:function(e){this._gain.gain.value=e;this._status.volume=e}},status:{get:function(){return this._status.status}}})};l.Source.prototype=Object.create(l.AudioUnit.prototype);l.Source.prototype.constructor=l.Source;l.Source.CLASS_NAME="snd.Source";l.Source.prototype.connect=function(e,t,i,r){l.AudioUnit.prototype.connect.apply(this,arguments);if(e.isAudioUnit||e.getConnector!=null){this._gain.connect(e.getConnector(),t,i)}else{this._gain.connect(e,t,i)}};l.Source.prototype.disconnect=function(e,t){l.AudioUnit.prototype.disconnect.apply(this,arguments);if(e.isAudioUnit||e.getConnector!=null){this._gain.disconnect(e.getConnector())}else{this._gain.disconnect(e)}};l.Source.prototype.getConnector=function(){return this._gain};l.Source.prototype.createStatus=function(){return new l.Source.Status};l.Source.Status=function(){l.AudioUnit.Status.apply(this,arguments);this.status=l.status.NONE;this.volume=1;this.isSource=true;this.className=l.Source.CLASS_NAME};l.MediaElementAudioSource=function(e,t){l.Source.apply(this,arguments);this.id=e;Object.defineProperties(this,{element:{get:function(){return this._element},set:function(e){var t=this;this._source=l.AUDIO_CONTEXT.createMediaElementSource(e);this._source.connect(this._gain);this._element=e;if(this._element.id!=null){this._status.element=this._element.id}this._element.onplay=function(){t._status.status=l.status.STARTED};this._element.onpause=function(){t._status.status=l.status.PAUSED};this._element.onended=function(){t._status.status=l.status.PAUSED};this._element.oncanplay=function(){if(t.status==l.status.NONE){t._status.status=l.status.READY}}}},src:{get:function(){return this._element.src},set:function(e){this._element.src=e}}});if(t!=null){this.element=t}};l.MediaElementAudioSource.prototype=Object.create(l.Source.prototype);l.MediaElementAudioSource.prototype.constructor=l.MediaElementAudioSource;l.MediaElementAudioSource.CLASS_NAME="snd.MediaElementAudioSource";l.MediaElementAudioSource.prototype.createStatus=function(){return new l.MediaElementAudioSource.Status};l.MediaElementAudioSource.Status=function(){l.Source.Status.apply(this,arguments);this.className=l.MediaElementAudioSource.CLASS_NAME;this.status=l.status.NONE;this.element=""};l.MediaElementAudioSource.Status.prototype=Object.create(l.Source.Status.prototype);l.MediaElementAudioSource.Status.prototype.constructor=l.MediaElementAudioSource.Status;l.AudioMaster=function(){this.unitList={};this._gain=l.AUDIO_CONTEXT.createGain();this._gain.channelCount=l.MAX_CHANNEL_COUNT;this._gain.connect(l.AUDIO_CONTEXT.destination);this.id=l.AudioMaster.ID};l.AudioMaster.ID="snd.MASTER";l.AudioMaster.prototype.connectAudioUnit=function(e,t){if(e==null&&t.id==null){throw"key == null && audioUnit.id == null"}if(e==null){if(this.unitList[t.id]==null){this.unitList[t.id]=t;t.connect(this._gain,l.AudioMaster.ID)}}else{this.unitList[e]=t;t.connect(this._gain,l.AudioMaster.ID)}};l.AudioMaster.prototype.disconnectAudioUnit=function(e){var t=this.unitList[e];t.getConnector().disconnect(this._gain);delete this.unitList[e]};l.AudioMaster.prototype.getConnector=function(){return this._gain};l._AUDIO_CONTEXT=null;l._MASTER=null;l.init=function(){if(l._AUDIO_CONTEXT==null){if("AudioContext"in window){l._AUDIO_CONTEXT=new AudioContext}else if("webkitAudioContext"in window){l._AUDIO_CONTEXT=new webkitAudioContext}l._AUDIO_CONTEXT.destination.channelCount=l._AUDIO_CONTEXT.destination.maxChannelCount}Object.defineProperties(l,{MAX_CHANNEL_COUNT:{writable:false,value:l._AUDIO_CONTEXT.destination.maxChannelCount},status:{value:function(){var e={};Object.defineProperties(e,{NONE:{value:"none",writable:false},READY:{value:"ready",writable:false},STARTED:{value:"started",writable:false},PAUSED:{value:"paused",writable:false},STOPPED:{value:"ended",writable:false}});return e}(),writable:false},AUDIO_CONTEXT:{get:function(){return l._AUDIO_CONTEXT}},MASTER:{get:function(){return l._MASTER}}});l._MASTER=new l.AudioMaster;l.SOUND_ENVIRONMENT=new l.SoundEnvironment};l.three={version:.1,beta:true};l.PosDir=function(){this._pos={x:0,y:0,z:0};this._dir={x:0,y:0,z:0};this._up={x:0,y:0,z:0};Object.defineProperties(this,{pos:{get:function(){var t=this;var e={};Object.defineProperties(e,{x:{get:function(){return t._pos.x},set:function(e){t._pos.x=e}},y:{get:function(){return t._pos.y},set:function(e){t._pos.y=e}},z:{get:function(){return t._pos.z},set:function(e){t._pos.z=e}}});return e}},dir:{get:function(){var t=this;var e={};Object.defineProperties(e,{x:{get:function(){return t._dir.x},set:function(e){t._dir.x=e}},y:{get:function(){return t._dir.y},set:function(e){t._dir.y=e}},z:{get:function(){return t._dir.z},set:function(e){t._dir.z=e}}});return e}},up:{get:function(){var t=this;var e={};Object.defineProperties(e,{x:{get:function(){return t._up.x},set:function(e){t._up.x=e}},y:{get:function(){return t._up.y},set:function(e){t._up.y=e}},z:{get:function(){return t._up.z},set:function(e){t._up.z=e}}});return e}}})};l.PosDir.prototype.setPosition=function(e,t,i){this.pos.x=e;this.pos.y=t;this.pos.z=i};l.PosDir.prototype.setOrientation=function(e,t,i,r,n,a){this.dir.x=e;this.dir.y=t;this.dir.z=i;this.up.x=r;this.up.y=n;this.up.z=a};l.Listener=function(e){l.PosDir.apply(this,arguments);this.listener=e;if(e!=null){this.listener.setOrientation(this.dir.x,this.dir.y,this.dir.z,this.up.x,this.up.y,this.up.z)}};l.Listener.prototype=Object.create(l.PosDir.prototype);l.Listener.prototype.constructor=l.Listener;l.Listener.prototype.setListener=function(e){this.listener=e;this.setPosition(this.pos.x,this.pos.y,this.pos.z);this.setOrientation(this.dir.x,this.dir.y,this.dir.z,this.up.x,this.up.y,this.up.z)};l.Listener.prototype.resetListener=function(){this.setListener(null)};l.Listener.prototype.setPosition=function(e,t,i){l.PosDir.prototype.setPosition.call(this,e,t,i);if(this.listener!=null){this.listener.setPosition(l.SOUND_ENVIRONMENT.unit*this.pos.x,l.SOUND_ENVIRONMENT.unit*this.pos.y,l.SOUND_ENVIRONMENT.unit*this.pos.z)}};l.Listener.prototype.setOrientation=function(e,t,i,r,n,a){l.PosDir.prototype.setOrientation.call(this,e,t,i,r,n,a);if(this.listener!=null){this.listener.setOrientation(this.dir.x,this.dir.y,this.dir.z,this.up.x,this.up.y,this.up.z)}};l.SoundEnvironment=function(){this.now=0;this.listener=l.AUDIO_CONTEXT.listener;this.listeners={};this.soundNodes={};this.unit=.1;this.cameras={};this.attaches={};this.linkMap={}};l.SoundEnvironment.DEFAULT_BUFFER_MAX=1800;l.SoundEnvironment.prototype.addListener=function(e,t){this.listeners[e]=new l.PosDirTime(t,1)};l.SoundEnvironment.prototype.removeListener=function(e){if(this.soundNodes[e]!=null){delete this.soundNodes[e]}};l.SoundEnvironment.prototype.addSoundNode=function(e,t){this.soundNodes[e]=new l.PosDirTime(t)};l.SoundEnvironment.prototype.removeSoundNode=function(e){if(this.soundNodes[e]!=null){delete this.soundNodes[e]}};l.SoundEnvironment.prototype.update=function(e){if(this.now>e){throw new l.SoundEnvironment.UpdateError(this,"time < this.now (time: "+e+", this.now: "+this.now)}for(var t in this.listeners){this.listeners[t].update(e)}for(var t in this.soundNodes){this.soundNodes[t].update(e)}};l.SoundEnvironment.UpdateError=function(e,t){this._this=e;this.message=t};l.PosDirTime=function(e,t){this.data=e;this.history=[];this.bufferMax=t};l.PosDirTime.prototype.update=function(e){if(this.history.length==0){this.history.push({time:0,posture:Object.create(this.data)})}if(this.history.length>this.bufferMax){this.history.splice(0,1)}this.history.push({time:e,posture:Object.create(this.data)})};l.PosDirTime.prototype.getPosture=function(e){var t=this.search(e);if(t==null){return null}else if(t.left==t.right){return this.history[t.left]}var i=this.history[i];var r=this.history[r];var n=(e-i.time)/(r.time-i.time);return l.PosDir.interpolation(i,r,n)};l.PosDirTime.prototype.search=function(e){if(this.history.length<=0){return null}else if(this.history.length==1){return{left:0,right:0}}else if(this.history[this.history.length-1].time<e){return{left:this.history.length-1,right:this.history.legnth-1}}else if(this.history[0].time>e){return{left:0,right:0}}var t=0,i=this.history.length-1;var r=Math.floor(i/2);while(true){r=Math.floor((e-this.history[t].time)*(i-t)/(this.history[i].time-this.history[t].time))+t;if(this.history[r].time<e){if(this.history[r+1]>e){return{left:r,right:r+1}}t=r+1}else if(this.history[r].time>e){if(this.history[r-1].time<e){return{left:r-1,right:r}}i=r-1}else{return{left:r,right:r}}}};l.SoundNode=function(e){l.AudioUnit.apply(this,arguments);l.PosDir.apply(this,arguments);this.gain=l.AUDIO_CONTEXT.createGain();this.pannerNode=l.AUDIO_CONTEXT.createPanner();this.gain.connect(this.pannerNode)};l.SoundNode.prototype=Object.create(l.AudioUnit.prototype);l.SoundNode.prototype.constructor=l.SoundNode;l.SoundNode.prototype.connect=function(e,t,i,r){l.AudioUnit.prototype.connect.apply(this,arguments);if(e.isAudioUnit){this.pannerNode.connect(e.getConnector())}else{this.pannerNode.connect(e)}};l.SoundNode.prototype.disconnect=function(e){l.AudioUnit.prototype.disconnect.apply(this,arguments);if(e.isAudioUnit){this.pannerNode.disconnect(e.getConnector())}else{this.pannerNode.disconnect(e)}};l.SoundNode.prototype.getConnector=function(){return this.gain};l.SoundNode.prototype.setPosition=function(e,t,i){l.PosDir.prototype.setPosition.call(this,e,t,i);this.pannerNode.setPosition(l.SOUND_ENVIRONMENT.unit*this.pos.x,l.SOUND_ENVIRONMENT.unit*this.pos.y,l.SOUND_ENVIRONMENT.unit*this.pos.z)};l.SoundNode.prototype.setDir=function(e,t,i){l.PosDir.prototype.setDir.call(this,e,t,i);this.pannerNode.setOrientation(this.dir.x,this.dir.y,this.dir.z)};l.SoundNode.prototype.setUp=function(e,t,i){l.PosDir.prototype.setUp.call(this,e,t,i)};l.SoundNode.prototype.setOrientation=function(e,t,i,r,n,a){l.PosDir.prototype.setOrientation.call(this,e,t,i,r,n,a);this.pannerNode.setOrientation(this.dir.x,this.dir.y,this.dir.z)};l.BufferSoundNode=function(e,t){l.SoundNode.apply(this,arguments);if(t==null){this.source=new l.BufferSource(e+"_src")}else{this.source=t}this.source.connect(this)};l.BufferSoundNode.prototype=Object.create(l.SoundNode.prototype);l.BufferSoundNode.prototype.constructor=l.BufferSoundNode;l.BufferSoundNode.prototype.setAudioBuffer=function(e){this.source.setAudioBuffer(e)};l.three.update=function(e,t){if(l.SOUND_ENVIRONMENT.cameras[e.id]==null){console.log("mainCamera("+e.toString()+") is not added.");return}if(l.SOUND_ENVIRONMENT.cameras[e.id].listener.listener==null){for(var i in l.SOUND_ENVIRONMENT.cameras){l.SOUND_ENVIRONMENT.cameras[i].listener.resetListener()}l.SOUND_ENVIRONMENT.cameras[e.id].listener.setListener(l.AUDIO_CONTEXT.listener)}for(var i in l.SOUND_ENVIRONMENT.cameras){var r=l.SOUND_ENVIRONMENT.cameras[i].camera;var n=l.SOUND_ENVIRONMENT.cameras[i].listener;l.three.link(r,n)}for(var i in l.SOUND_ENVIRONMENT.attaches){var a=l.SOUND_ENVIRONMENT.attaches[i].object;for(var o=0;o<l.SOUND_ENVIRONMENT.attaches[i].sources.length;o++){var s=l.SOUND_ENVIRONMENT.attaches[i].sources[o];l.three.link(a,s)}}};l.three.addCamera=function(e){var t=e.id;if(l.SOUND_ENVIRONMENT.cameras[t]!=null){console.warn("snd.SOUND_ENVIRONMENT already has camera("+e.toString()+").");return}var i=new l.Listener(null);l.SOUND_ENVIRONMENT.cameras[t]={camera:e,listener:i};l.SOUND_ENVIRONMENT.addListener(i)};l.three.removeCamera=function(e){if(l.SOUND_ENVIRONMENT.cameras[e.id]!=null){l.SOUND_ENVIRONMENT.removeListener(l.SOUND_ENVIRONMENT.cameras[e.id].listener);delete l.SOUND_ENVIRONMENT.cameras[e.id]}};l.three.attach=function(e,t){var i=e.id;if(l.SOUND_ENVIRONMENT.attaches[i]==null){l.SOUND_ENVIRONMENT.attaches[i]={object:e,sources:[]}}l.SOUND_ENVIRONMENT.attaches[i].sources.push(t);l.SOUND_ENVIRONMENT.linkMap[t.id]=i};l.three.detach=function(e){var t=e.id;if(l.SOUND_ENVIRONMENT.linkMap[t]!=null){var i=l.SOUND_ENVIRONMENT.linkMap[t];var r=l.SOUND_ENVIRONMENT.attaches[i].sources.indexOf(e);if(r>=0){l.SOUND_ENVIRONMENT.attaches[i].sources.splice(r,1)}delete l.SOUND_ENVIRONMENT.linkMap[t]}};l.three.link=function(e,t){if(!isNaN(e.position.x)&&!isNaN(e.position.y)&&!isNaN(e.position.z)&&!isNaN(e.quaternion.x)&&!isNaN(e.quaternion.y)&&!isNaN(e.quaternion.z)&&!isNaN(e.quaternion.w)){var i=new THREE.Matrix4;i.copy(e.matrixWorld);var r=new THREE.Matrix4;r.copy(i);r.elements[12]=0;r.elements[13]=0;r.elements[14]=0;var n=new THREE.Vector3(i.elements[12],i.elements[13],i.elements[14]);var a=new THREE.Vector3(-i.elements[8],-i.elements[9],-i.elements[10]);var o=new THREE.Vector3;o.copy(e.up);o.applyMatrix4(r);t.setPosition(n.x,n.y,n.z);t.setOrientation(a.x,a.y,a.z,o.x,o.y,o.z)}};THREE.snd=l})();!function(window,$,undefined){var core_version="2.1.2",rootObj,jThree=function(e,t){return new jThree.fn.init(e,t)},dom_state=false,dom_wait=[],goml_state=false,goml_wait=[],src_state=false,src_wait=[];function checkRenderingContext(){var e=document.createElement("canvas");return window.WebGLRenderingContext&&(e.getContext("webgl")||e.getContext("experimental-webgl"))}(function(){function i(e){if(dom_state)return;dom_state=true;if(!checkRenderingContext())return;rootObj=$("<iframe style='display:none;'/>").appendTo("body").contents();var t=$("[type='text/goml']").length;function a(){if(--t)return;goml_state=true;goml_wait.forEach(function(e){e(jThree)});t=a=goml_wait=null;if(MMD_SA_options.MMD_disabled){var e=jThree;MMD_SA.fn.x_object_init();MMD_SA._tray_updatable=true;System._browser.update_tray();if(jThree.Trackball)jThree.trackball=jThree.Trackball;e.trackball();if(!returnBoolean("MMDTrackballCamera"))MMD_SA._trackball_camera.stop();MMD_SA.MMD_started=true;e.MMD.play(true);DEBUG_show("(MMD started)",2);if(MMD_SA.use_webgl2)DEBUG_show("Use WebGL2",2)}}$("[type='text/goml']").each(function(){var e=this.getAttribute("src");var i;if(self.MMD_SA&&!e){i="<goml>\n"+"\t<head>\n"+(MMD_SA.GOML_import?"<import>\n"+MMD_SA.GOML_import+"</import>\n":"")+MMD_SA.GOML_head;if(!MMD_SA_options.MMD_disabled){i+='<model id="mikuPmx0" src="'+(/^(\w+\:|\/)/.test(MMD_SA_options.model_path)?toFileProtocol(MMD_SA_options.model_path):MMD_SA_options.model_path)+'" onLoad="(self.MMD_SA||parent.MMD_SA).fn.setupUI()" />\n';MMD_SA_options.model_path_extra.forEach(function(e,t){i+='<model id="mikuPmx'+(t+1)+'" src="'+toFileProtocol(e)+'" onLoad="(self.MMD_SA||parent.MMD_SA).fn.setupUI()" />\n'});for(var t=0,r=MMD_SA_options.motion.length;t<r;t++){var n=MMD_SA_options.motion[t];if(n.path)i+='<motion id="vmd'+t+'" src="'+toFileProtocol(/^(\w+\:|\/)/.test(n.path)?n.path:System.Gadget.path+"/"+n.path)+'" onLoad="(self.MMD_SA||parent.MMD_SA).fn.setupUI()" />\n'}}i+='\t\t<rdr id="MMD_renderer" param="canvas:SL;antialias:true;clearAlpha:0;preserveDrawingBuffer:true; stencil:false;" frame="MMD_SA" />\n'+"\t</head>\n"+"\t<body>\n"+'\t\t<scene id="MMD_scene">\n';i+='\t\t\t<light id="MMD_AmbLight" type="Amb"'+(MMD_SA_options.ambient_light_color?' param="'+MMD_SA_options.ambient_light_color+'"':"")+" />\n"+'\t\t\t<light id="MMD_DirLight" type="Dir" param="'+MMD_SA_options.light_color+'" style="position:'+MMD_SA_options.light_position.join(" ")+';" />\n';i+=MMD_SA.GOML_scene;if(!MMD_SA_options.MMD_disabled){i+='<mmd model="#mikuPmx0" onLoad="(self.MMD_SA||parent.MMD_SA).fn.setupUI()" />\n';MMD_SA_options.model_path_extra.forEach(function(e,t){i+='<mmd model="#mikuPmx'+(t+1)+'" onLoad="(self.MMD_SA||parent.MMD_SA).fn.setupUI()" />\n'})}i+='\t\t\t<camera id="MMD_camera" '+(MMD_SA_options.camera_type?'type="'+MMD_SA_options.camera_type+'" ':"")+(MMD_SA_options.camera_param?'param="'+(typeof MMD_SA_options.camera_param=="string"?MMD_SA_options.camera_param:MMD_SA_options.camera_param.join(" "))+'" ':"")+'style="position:'+MMD_SA_options.camera_position.join(" ")+"; lookAt:"+(MMD_SA_options.camera_position[0]+" "+MMD_SA_options.camera_position[1])+' 0;" />\n'+"\t\t</scene>\n"+"\t</body>\n"+"</goml>"}jThree.goml(e?e:i||this.innerHTML,a)});$.each(dom_wait,function(e,t){jThree.goml(t[0],t[1],t[2])});if(self.MMD_SA){e&&document.removeEventListener("DOMContentLoaded",i,false);e&&window.removeEventListener("load",i,false);MMD_SA.jThree_ready=null}i=dom_wait=null}if(self.MMD_SA){MMD_SA.jThree_ready=function(){window.dispatchEvent(new CustomEvent("jThree_ready"));i();window.dispatchEvent(new CustomEvent("GOML_ready"))}}else if(document.readyState==="complete"){i()}else{document.addEventListener("DOMContentLoaded",i,false);window.addEventListener("load",i,false)}})();jThree.goml=function(){var o=[];return function(e,t,i,r){if(!checkRenderingContext()){i&&i(jThree);return}else if(i===false){r=false}if(!dom_state){dom_wait.push([e,t,r])}else if(/<.+?>/.test(e)){if(o.length){o.push([e,t,r])}else{parseGOML(e,r);if(src_state){t&&t(jThree)}else{t&&src_wait.push(t)}}}else{var n=[e,t,r];o.push(n);function a(){for(var e=0,t=o.length,i;e<t;e++){i=o[e];if(/<.+?>/.test(i[0])){parseGOML(i[0],i[2]);if(src_state){i[1]&&i[1](jThree)}else{i[1]&&src_wait.push(i[1])}}else{o=o.slice(e);break}}a=n=null}$.ajax({url:e,"async":true,dataType:"text",success:function(e){n[0]=e;if(o[0]!==n)return;a()},error:function(){if(o[0]!==n){o.splice(o.indexOf(n),1)}else{o.shift();a()}}})}}}();$.extend(jThree,$);jThree.fn=jThree.prototype=new $;jThree.fn.extend({jThree:core_version,constructor:jThree,init:function(e,t,i){if(!e){return this}else if(typeof e==="string"){if(/<.+?>/.test(e)){e=parseGOML(e)}else if(t){e=rootObj.find(t).find(e)}else{e=rootObj.find(e)}}else if(e.userData){e=e.userData.dom}else if(e===document){e=rootObj}else if(typeof e==="function"){if(!checkRenderingContext()){t&&t(jThree);return}else if(t===false){i=false}if(i===false){if(goml_state){e(jThree)}else{goml_wait.push(e)}}else{if(src_state){e(jThree)}else{src_wait.push(e)}}return}$.makeArray(e,this)}});jThree.fn.init.prototype=jThree.fn;$.support.webgl=checkRenderingContext();jThree.modelHooks={};jThree.motionHooks={};jThree.geoHooks={};jThree.mtlHooks={};var THREE_obj=[];var tmp_root=$();var importFrame;var importStates="none";jThree.fn.contents=function(){return this[0].tagName==="IMPORT"?importFrame.contents():this};var parseGOML=function(){var tag_name="IMPORT MMD MODEL MOTION SCENE CAMERA TXR MTL GEO LIGHT OBJ PTS SPRITE MESH RDR".split(" ");var loadLength=0;function getDom(){return this.userData.dom}THREE.Object3D.prototype.dom=THREE.Material.prototype.dom=THREE.Geometry.prototype.dom=getDom;function setObj(r,n){r.setAttribute("three",THREE_obj.length);THREE_obj.push(n);if(n instanceof THREE.Object3D){n.userData.dom=r}else{n.userData={};n.userData.dom=r;if(n instanceof THREE.Material){n.userData.clone=[]}else if(!(n instanceof THREE.Geometry)){n.dom=getDom}}$.each(Object.assign({},r.attributes),function(e,t){var i=r.getAttribute(t.name);if(prop[t.name]&&t.value){prop[t.name].call(r,t.value)}});if(n instanceof THREE.Object3D){if(r.getAttribute("jstyle")){$.each(getHash(r.getAttribute("jstyle")),function(e,t){var i=styleAdmin(n,e);if(typeof i==="number"){t=isNaN(+t)?t:+t}else if(Array.isArray(i)){if(i.color){if(/ /.test(t)){t=getArr(t)}}else{t=getArr(t);if(t.length===1){t[1]=t[2]=t[0]}}}styleAdmin(n,e,t)})}}r=n=null}jThree.extend({getCamera:function(e){var t=getObj(e).__camera;return t&&t.userData.dom},getScene:function(e){var t=getObj(e).__camera;return t&&t.userData.scene&&t.userData.scene.userData.dom},getCanvas:function(e){return getObj(e).domElement}});function addCamera(){$.each(this.userData.renderer,function(){animationFrame(this);this.__resize()})}function removeCamera(){$.each(this.userData.renderer,function(){animationFrame(this,false)})}function newCloneNode(e){var t=this.cloneNode(e===undefined?true:e);parseGOML(t);return t}function srcLoaded(){if(!--loadLength){setTimeout(function(){src_state=true;src_wait.forEach(function(e){e(jThree)});src_wait.length=0},0);$.event.remove(this,"load",srcLoaded);$.event.remove(this,"error",srcErrored)}}function srcErrored(){srcLoaded.call(this)}return function(goml,srcWaiting){var tmp,that,obj,waitRdr={},obj3D=[];var html=typeof goml==="string"&&/<\/import>/.test(goml)?goml.match(/<import(.|\n|\r)*?import>/)[0].replace(/^(.+)?>/,"").replace(/<\/import>$/,""):"";var jq=$(typeof goml==="string"?goml.replace(html,"").replace(/^<\?(.+)?\?>/,"").replace(/^[\n\r\s\t]*/,"").replace(/(head|body)>/g,"j$1>").replace(/ style=/g," jstyle="):goml);var isRoot=jq[0].tagName==="GOML";var tmp_list={};$.each(tag_name,function(e,t){tmp_list[t]=[]});jq.add(jq.find("*")).each(function(){this.cloneNode=newCloneNode;if(tag_name.indexOf(this.tagName)===-1)return;tmp_list[this.tagName].push(this);if(srcWaiting!==false&&isRoot&&this.hasAttribute("src")||this.hasAttribute("model")||this.hasAttribute("motion")||this.hasAttribute("html")||this.hasAttribute("video")||this.hasAttribute("canvas")||this.tagName==="IMPORT"){loadLength++;$.event.add(this,"load",srcLoaded);$.event.add(this,"error",srcErrored)}});if(isRoot){rootObj.find("head").append(jq.find("jhead").children());rootObj.find("body").append(jq.find("jbody").children())}tmp_root=tmp_root.add(jq);$.each(tmp_list.IMPORT,function(){if(!importFrame){tmp=getHash(this.getAttribute("param"));importFrame=$('<iframe frameborder="0" style="border: none;position: fixed; top: 110%;" />').appendTo("body").width(tmp.width||1e3).height(tmp.height||1e3)}importStates="loading";var e=this;var t=importFrame.one("load",function(){importStates="success";$.event.trigger("load",undefined,e);e=null}).contents()[0];if(this.hasAttribute("href")){importFrame[0].src=this.getAttribute("href")}else{this.innerText=html;t.open();t.write(html);t.close()}});$.each(tmp_list.MODEL.concat(tmp_list.MOTION),function(){setObj(this,{})});$.each(tmp_list.MMD,function(){setObj(this,new THREE.Object3D)});Array.prototype.push.apply(obj3D,tmp_list.MMD);$.each(tmp_list.SCENE,function(){setObj(this,new THREE.Scene)});if(self.MMD_SA&&!MMD_SA.scene){MMD_SA.scene=THREE_obj[THREE_obj.length-1];MMD_SA.scene._RAF_timestamp_=-1;if(MMD_SA_options.fog){if(MMD_SA_options.fog.linear){MMD_SA.scene.fog=new THREE.Fog(MMD_SA_options.fog.color||0,MMD_SA_options.fog.near||undefined,MMD_SA_options.fog.far||undefined)}else{MMD_SA.scene.fog=new THREE.FogExp2(MMD_SA_options.fog.color||0,MMD_SA_options.fog.density==null?.005:MMD_SA_options.fog.density)}}}$.each(tmp_list.CAMERA,function(){that=this;tmp=that.getAttribute("param");tmp=/:/.test(tmp)?getHash(tmp):getArr(tmp);if(that.getAttribute("type")==="Ort"){if(tmp.length>0){obj=new THREE.OrthographicCamera(tmp[0],tmp[1],tmp[2],tmp[3],tmp[4],tmp[5])}else{if(tmp.width){tmp.right=tmp.width/2;tmp.left=-tmp.width/2}if(tmp.height){tmp.top=tmp.height/2;tmp.bottom=-tmp.height/2}obj=new THREE.OrthographicCamera(tmp.left,tmp.right,tmp.top,tmp.bottom,tmp.near,tmp.far);obj.userData.__width=tmp.right;obj.userData.__height=tmp.top}}else{if(tmp.length>0){obj=new THREE.PerspectiveCamera(tmp[0],tmp[1],tmp[2],tmp[3])}else{obj=new THREE.PerspectiveCamera(tmp.fov,tmp.aspect,tmp.near,tmp.far);self.MMD_SA&&MMD_SA.THREEX.camera.clone(obj)}}obj.useQuaternion=true;setObj(that,obj);obj.userData.renderer=[];obj.addEventListener("added",addCamera);obj.addEventListener("removed",removeCamera);if(self.MMD_SA){MMD_SA.camera_list.push(obj)}});Array.prototype.push.apply(obj3D,tmp_list.CAMERA);$.each(tmp_list.TXR,function(){tmp=getHash(this.getAttribute("param"));if(this.hasAttribute("src")){obj=THREE.ImageUtils.loadTexture(this.getAttribute("src"));this.removeAttribute("src")}else if(this.hasAttribute("video")){obj=new THREE.Texture(document.createElement("video"));obj.generateMipmaps=false}else if(this.hasAttribute("html")||this.hasAttribute("canvas")){obj=new THREE.Texture(document.createElement("canvas"));obj.image.width=1;obj.image.height=1;obj.generateMipmaps=false;obj.minFilter=obj.magFilter}else if(this.hasAttribute("camera")){obj=new THREE.WebGLRenderTarget(tmp.width||1024,tmp.height||1024);tmp.rdr=tmp.rdr||"rdr";waitRdr[tmp.rdr]=waitRdr[tmp.rdr]||[];waitRdr[tmp.rdr].push(obj);delete tmp.camera;delete tmp.rdr}if(tmp.repeat){if(typeof tmp.repeat==="number"){tmp.repeat=[tmp.repeat,tmp.repeat]}else tmp.repeat=eval("["+tmp.repeat.split(/\s+/)+"]");obj.repeat.set(tmp.repeat[0],tmp.repeat[1])}if(tmp.offset){if(typeof tmp.offset==="number"){tmp.offset=[tmp.offset,tmp.offset]}obj.offset.set(tmp.offset[0],tmp.offset[1])}if(tmp.wrap!==undefined){if(typeof tmp.wrap==="number"){tmp.wrap=[tmp.wrap,tmp.wrap]}obj.wrapS=tmp.wrap[0]+1e3;obj.wrapT=tmp.wrap[1]+1e3}else if(tmp.repeat){obj.wrapS=obj.wrapT=1e3}delete tmp.repeat;delete tmp.offset;delete tmp.wrap;delete tmp.height;delete tmp.width;$.extend(obj,tmp);setObj(this,obj)});var _mirror=[];$.each(tmp_list.MTL,function(){that=this;tmp=getHash(that.getAttribute("param"));if(tmp.map){tmp.map=getReferent(tmp.map)}if(tmp.lightMap){tmp.lightMap=getReferent(tmp.lightMap)}if(tmp.specularMap){tmp.specularMap=getReferent(tmp.specularMap)}if(tmp.displacementMap){tmp.displacementMap=getReferent(tmp.displacementMap)}if(tmp.normalMap){tmp.normalMap=getReferent(tmp.normalMap)}if(tmp.waveBaseSpeed!=null){tmp.waveNoiseTexture=getReferent("#waveNoiseTexture")}if(tmp.bumpMap){tmp.bumpMap=getReferent(tmp.bumpMap)}else if(tmp.bumpScale&&tmp.map){tmp.bumpMap=tmp.map}if(tmp.AT_process){MMD_SA_options[tmp.AT_process](this,tmp);delete tmp.AT_process}$.each(tmp,function(e,t){if(typeof t==="string"&&/ /.test(t)){tmp[e]=getArr(t)}});if(that.getAttribute("type")&&that.getAttribute("type")=="Mirror"){setObj(that,new THREE.MirrorMaterial(tmp));_mirror.push(MMD_SA._THREE_mirror[MMD_SA._THREE_mirror.length-1])}else{let e=new THREE[(that.getAttribute("type")||"")+"Material"](tmp);if("uniTexture"in tmp){e.uniTexture=tmp.uniTexture}setObj(that,e)}});$.each(tmp_list.GEO,function(){if(this.getAttribute("type")){tmp=getArr(this.getAttribute("param"));obj=new THREE[this.getAttribute("type")+"Geometry"](tmp[0],tmp[1],tmp[2],tmp[3],tmp[4],tmp[5],tmp[6])}else if(this.getAttribute("src")){obj=new THREE.Geometry}else{obj=new THREE.Geometry;for(var e=+this.getAttribute("param");e;e--){obj.vertices.push(new THREE.Vector3)}}setObj(this,obj)});$.each(tmp_list.LIGHT,function(){tmp=getArr(this.getAttribute("param"));setObj(this,new THREE[light_type[this.getAttribute("type")]](tmp[0],tmp[1],tmp[2],tmp[3],tmp[4]));if(self.MMD_SA){var e=THREE_obj[THREE_obj.length-1];MMD_SA.THREEX.light.clone(e);MMD_SA.light_list.push({obj:e});if(MMD_SA.light_list.length==2){Object.defineProperty(MMD_SA.light_list[1],"pos",{get:function(){var e=new THREE.Vector3;return function(){return e.fromArray(MMD_SA_options.light_position)}}(),set:function(e){}})}}});Array.prototype.push.apply(obj3D,tmp_list.LIGHT);$.each(tmp_list.OBJ,function(){setObj(this,new THREE.Object3D)});Array.prototype.push.apply(obj3D,tmp_list.OBJ);$.each(tmp_list.SPRITE,function(){setObj(this,new THREE.Sprite(new THREE.Material))});Array.prototype.push.apply(obj3D,tmp_list.SPRITE);$.each(tmp_list.MESH,function(){let e=new THREE.Mesh(new THREE.Geometry,new THREE.Material);let t=this.getAttribute("instanced_drawing");if(t){}setObj(this,e)});Array.prototype.push.apply(obj3D,tmp_list.MESH);$.each(obj3D,function(){if(this.parentNode.tagName&&this.parentNode.tagName!=="GOML"){getObj(this.parentNode).add(getObj(this))}});$.each(tmp_list.RDR,function(){tmp=getHash(this.getAttribute("param"));if(tmp.clearAlpha===undefined)tmp.clearAlpha=1;obj=new THREE.WebGLRenderer(tmp);obj.__renderTarget=[];if(!this.getAttribute("camera"))this.setAttribute("camera","camera:first");if(!this.getAttribute("frame"))this.setAttribute("frame","body");jThree.MMD&&obj.renderPluginsPre.unshift(jThree.MMD._simulate);setObj(this,obj);obj.__updateFn=[]});if(self.MMD_SA&&!MMD_SA.renderer){MMD_SA.renderer=jThree("#MMD_renderer").three(0);if(MMD_SA.renderer){MMD_SA.renderer.shadowMapEnabled=true;MMD_SA.renderer.shadowMapType=THREE.PCFSoftShadowMap;_mirror.forEach(function(e){e.renderer=jThree(e._renderer_id).three(0);jThree(e._mesh_id).three(0).add(e)})}}$.each(waitRdr,function(e){obj=getReferent(e);obj.__renderTarget=obj.__renderTarget.concat(this);$.each(this,function(){prop.invisible.call(this,this.userData.dom.getAttribute("invisible"))});obj.__resize()});tmp=that=obj=waitRdr=srcWaiting=null;tmp_root=tmp_root.not(jq);$.each(tmp_list,function(e){tmp_list[e].length=0});if(isRoot){if(!loadLength){src_state=true;src_wait.forEach(function(e){e(jThree)});src_wait.length=0}else{src_state=false}return rootObj}else{return jq}}}();THREE.PerspectiveCamera.prototype.resize=function(e,t){this.aspect=e/t;this.updateProjectionMatrix()};THREE.OrthographicCamera.prototype.resize=function(e,t){var i=this.userData;if(i.__width&&i.__height)return;if(i.__width){i=i.__width*t/e;this.top=i;this.bottom=-i}else if(i.__height){i=i.__height*e/t;this.right=i;this.left=-i}else{i=50*t/e;this.top=i;this.bottom=-i;i=i*e/t;this.right=i;this.left=-i}this.updateProjectionMatrix()};function getReferent(e){var t=tmp_root.find(e);$.makeArray(rootObj.find(e),t);if(t.length){if(t.length>1){var i=[];$.each(t,function(){i.push(getObj(this))});return i}else{return getObj(t[0])}}}function getObj(e){if(e&&e.nodeType){e=THREE_obj[e.getAttribute("three")]}return e}function replaceObj(e,t){if(e.userData.clone){e.userData.clone.length=0;e.userData.original=null}t.userData=$.extend(e.userData,t.userData);THREE_obj[THREE_obj.indexOf(e)]=t}function removeObj(e,i){$.each($.merge([e],e.getElementsByTagName("*")),function(e){var t=getObj(this);if(e==0&&t instanceof THREE.Object3D&&!(t instanceof THREE.Scene)){t.parent.remove(t)}if(t&&t.userData&&!i){THREE_obj[this.getAttribute("three")]=t.userData.dom=null}})}function getFn(e){return new Function("a","b","c",e)}function getHash(e){return e?JSON.parse("{"+$.trim(e).replace(/([^\s;]+)?\s*:/g,'"$1":').replace(/:\s*([^;]+);+/g,':"$1",').replace(/\s+/g," ").replace(/:"(true|false)",/g,":$1,").replace(/:"(-?(\d+\.\d+|\d+))",/g,":$1,").replace(/\:"\{([^\:\}]*)\}"/g,(e,t)=>":{"+decodeURIComponent(t)+"}").slice(0,-1)+"}"):{}}function getArr(e){if(e){var i=$.trim(e).split(" ");return $.each(i,function(e,t){if(/^-?(\d*\.\d+|\d+)$/.test(t)){i[e]=parseFloat(t)}})}else if(e===0){return[0]}else{return[]}}function urlToExtension(e){let t=!/^\.[^\/^\.]/.test(e)&&e.split(".").pop().split("?")[0].toLowerCase();if(/bvh|fbx/.test(t))t="vmd";return t}function getHtmlObj(e){return/^html /.test(e)?$(e):importFrame.contents().find(e)}var prop={src:function(e){var t=getObj(this);if(t instanceof THREE.Texture){t.sourceFile=e;delete t.image.crossOrigin;if(/^(tga|TGA)/.test(e.split(".").pop())){var i=new THREE.TGA;i.open(e,function(){t.image.src=i.getDataURL();t.needsUpdate=true;i=null})}else{if(!/^data:image/.test(e)){t.image.crossOrigin="anonymous"}t.image.src=e}}else{var r=urlToExtension(e);var n=this.tagName.toLowerCase();if(jThree[n+"Hooks"][r]){this.setAttribute("type",r);var a=this;jThree[n+"Hooks"][r].call(this,e,function(e){if(e instanceof THREE.Geometry||e instanceof THREE.Material){replaceObj(getObj(a),e)}else{getObj(a)._srcObj=e;if(self.MMD_SA&&a.id){MMD_SA._j3_obj_by_id[a.id]=e}}a.setAttribute("loadStates","success");$.event.trigger("load",undefined,a);a=null},function(){a.setAttribute("loadStates","error");$.event.trigger("error",undefined,a);a=null});this.setAttribute("loadStates","loading")}else{this.setAttribute("loadStates","error");$.event.trigger("error",undefined,this)}}},html:function(e){if(!/^html /.test(e)&&importStates!=="success"){var t=this;importFrame.one("load",function(){prop.html.call(t,e);t=e=null});return}var i=getHtmlObj(e)[0];var r=getObj(this);r._htmlReset&&r._htmlReset();r._htmlReset=function(){jThree.update(r._htmlUpdate,false);i=r=null};r._htmlUpdate=function(){THREE.html2canvas(i,{onrendered:function(e){if(!r)return;r.image=e;r.needsUpdate=true}})};THREE.html2canvas(i,{onrendered:function(e){r.image=e;r.needsUpdate=true;$.event.trigger("load",undefined,r.dom())}});jThree.update(r._htmlUpdate,this.getAttribute("animation")==="true")},video:function(e){if(!/^html /.test(e)&&importStates!=="success"){var t=this;importFrame.one("load",function(){prop.video.call(t,e);t=e=null});return}var i=getHtmlObj(e);var r=i[0];r.crossOrigin="anonymous";var n=getObj(this);n.image=r;n._videoReset&&n._videoReset();function a(){n.needsUpdate=true}function o(){n.image.width=r.videoWidth;n.image.height=r.videoHeight;jThree.update(a)}function s(){jThree.update(a,false)}i.on("play",o).on("ended pause error",s);if(!r.paused&&!r.ended)o();n._videoReset=function(){i.off("play",o).off("ended pause error",s);jThree.update(a,false);i=r=n=a=null};$.event.trigger("load",undefined,this)},canvas:function(e){if(!/^html /.test(e)&&importStates!=="success"){var t=this;importFrame.one("load",function(){prop.canvas.call(t,e);t=e=null});return}var i=getObj(this);i._canvasReset&&i._canvasReset();i._canvasReset=function(){jThree.update(i._canvasUpdate,false);i=null};i._canvasUpdate=function(){i.needsUpdate=true};i.image=getHtmlObj(e)[0];i.needsUpdate=true;jThree.update(i._canvasUpdate,this.getAttribute("animation")==="true");$.event.trigger("load",undefined,this)},audio:function(){var o=0;return function(e){if(!window.AudioContext&&!window.webkitAudioContext)return;if(!/^html /.test(e)&&importStates!=="success"){var t=this;importFrame.one("load",function(){prop.audio.call(t,e);t=e=null});return}var i=getHtmlObj(e);var r=getObj(this);var n=getReferent(jThree("rdr").attr("camera")||"camera");!THREE.snd._AUDIO_CONTEXT&&THREE.snd.init();r._sndReset&&r._sndReset();var a=[];r._sndReset=function(){a.forEach(function(e){THREE.snd.MASTER.disconnectAudioUnit(e.id);THREE.snd.three.detach(e)});a=null};if(!THREE.snd.SOUND_ENVIRONMENT.cameras[n.id]){!function(){var e=n;THREE.snd.three.addCamera(e);jThree.update(function(){THREE.snd.three.update(e)})}()}i.each(function(){this.crossOrigin="anonymous";var e=o++;var t=new THREE.snd.BufferSoundNode(e,new THREE.snd.MediaElementAudioSource(e+.5,this));a.push(t);THREE.snd.MASTER.connectAudioUnit(t.id,t);THREE.snd.three.attach(r,t)})}}(),animation:function(e){var t=getObj(this);var i=t._htmlUpdate?t._htmlUpdate:t._canvasUpdate?t._canvasUpdate:false;i&&jThree.update(i,e==="true"||e===true)},invisible:function(e){e=getReferent(e);getObj(this).__invisible=!e||Array.isArray(e)?e:[e]},geo:function(){var c={};return function(e){var a=this;var t=urlToExtension(e);if(jThree.geoHooks[t]){var i=c[e]=c[e]||parseGOML('<geo src="'+e+'" />')}else{var i=tmp_root.find(e);if(!i.length)i=rootObj.find(e)}if(i.attr("src")){function r(){var e=getObj(a);var t=e.parent;!e.geometry.dom()&&e.geometry.dispose();e.geometry=getObj(this);if(t){var i=e.userData.scene;if(i)for(var r=i.__webglObjects,n=r.length-1;n>=0;n--){if(r[n].object===e){r.splice(n,1)}}t.remove(e);delete e.__webglActive;delete e.__webglInit;t.add(e)}$.event.trigger("load",undefined,a);o()}function o(e){$.event.remove(i,"load",r);$.event.remove(i,"error",o);e&&$.event.trigger("error",undefined,a);r=o=i=a=null}switch(i.attr("loadStates")){case"loading":i.load(r);i.error(o);break;case"success":r.call(i[0]);break;default:$.event.trigger("error",undefined,this);break}}else{var n=getObj(this);var s=n.parent;!n.geometry.dom()&&n.geometry.dispose();n.geometry=getObj(i[0]);if(s){var l=n.userData.scene;if(l)for(var h=l.__webglObjects,f=h.length-1;f>=0;f--){if(h[f].object===n){h.splice(f,1)}}s.remove(n);delete n.__webglActive;delete n.__webglInit;s.add(n)}}}}(),mtl:function(){var s={};return function(e){var t=this;var i=urlToExtension(e);if(jThree.mtlHooks[i]){var r=s[e]=s[e]||parseGOML('<mtl src="'+e+'" />')}else{var r=tmp_root.find(e);if(!r.length)r=rootObj.find(e)}if(r.attr("src")){function n(){var e=getObj(t);e.material.dispose();e.material=getObj(this).clone();if(e instanceof THREE.Sprite){e.material.useScreenCoordinates=false;e.material.scaleByViewport=false}$.each(e.material,function(){if(this instanceof THREE.Texture){this.needsUpdate=true}});$.event.trigger("load",undefined,t);a()}function a(e){$.event.remove(r,"load",n);$.event.remove(r,"error",a);e&&$.event.trigger("error",undefined,t);n=a=r=t=null}switch(r.attr("loadStates")){case"loading":r.load(n);r.error(a);break;case"success":n.call(r[0]);break;default:$.event.trigger("error",undefined,this);break}}else{var o=getObj(this);o.material.dispose();o.material=(getObj(r[0])||MMD_SA.THREEX.mesh_obj.get_three(r.selector)).clone();if(o instanceof THREE.Sprite){o.material.useScreenCoordinates=false;o.material.scaleByViewport=false}$.each(o.material,function(){if(this instanceof THREE.Texture){this.needsUpdate=true}})}}}(),model:function(){var r={};var h={};return function(e){var o=this;var t=urlToExtension(e);if(jThree.modelHooks[t]){var i=r[e]=r[e]||parseGOML('<model src="'+e+'" />')}else{var i=tmp_root.find(e);if(!i.length)i=rootObj.find(e)}function s(e){var t=getObj(o);var i=getObj(this)._srcObj;if(o.tagName!=="MMD"){i=i.clone();t._modelObj&&t.remove(t._modelObj);t._modelObj=i;getObj(o).add(i);$.event.trigger("load",undefined,o);o=t=null}else{var r=o.getAttribute("motion");var n;if(r){var a=urlToExtension(r);if(jThree.motionHooks[a]){n=h[r]=h[r]||parseGOML('<motion src="'+r+'" />')}else{n=tmp_root.find(r);if(!n.length)n=rootObj.find(r)}if(self.MMD_SA&&/^\#/.test(r)){n._id=r.replace(/^\#/,"")}}jThree.mmdHook.call(o,i,n,function(e){t._modelObj&&t.remove(t._modelObj);t._modelObj=e;getObj(o).add(e);$.event.trigger("load",undefined,o);o=t=null})}if(e){$.event.remove(this,"load",s);$.event.remove(this,"error",l)}}function l(){$.event.remove(this,"load",s);$.event.remove(this,"error",l);$.event.trigger("error",undefined,o);o=null}switch(i.attr("loadStates")){case"loading":i.load(s);i.error(l);break;case"success":s.call(i[0]);break;default:$.event.trigger("error",undefined,this);break}}}(),motion:function(){var r={};return function(e){if(this.tagName==="MMD")return;var t=urlToExtension(e);if(jThree.motionHooks[t]){var i=r[e]=r[e]||parseGOML('<motion src="'+e+'" />')}else{var i=tmp_root.find(e);if(!i.length)i=rootObj.find(e)}jThree.otherMmdHook.call(this,i)}}(),frame:function(e){if(e=="MMD_SA"){var a=getObj(this);animationFrame(a);(function(){var i,r,n=a,e=jThree(a),t;MMD_SA._renderer=a;t=function(e,t){i=e||MMD_SA_options.width;r=t||MMD_SA_options.height;MMD_SA.THREEX.renderer.setSize(i,r);window.dispatchEvent(new CustomEvent("SA_MMD_SL_resize"));if(n.__camera){MMD_SA.THREEX.camera.resize(i,r)}n.__renderTarget.forEach(function(e){if(e.__camera){e.__camera.resize(i,r)}})};e.resize(t).resize();n.__resize=t})();return}var a=getObj(this),t=$(e)[0];if(a.frameElement){t.insertBefore(a.frameElement[0],t.firstChild)}else{a.frameElement=$('<div style="position:relative;margin:0;padding:0;height:100%;"><iframe name="jthreeIframe" frameborder="0" scrolling="no" style="position:absolute;top:0;left:0;width: 100%; height: 100%; margin: 0; padding: 0; vertical-align: bottom;" /></div>');t.insertBefore(a.frameElement[0],t.firstChild);a.domElement.style.position="relative";a.frameElement.append(a.domElement);a.frameWindow=jthreeIframe;a.frameElement.find("iframe").attr("name","");animationFrame(a);(function(){var t,i,e=a,r=jThree(a);function n(){t=e.domElement.parentNode.clientWidth;i=e.domElement.parentNode.clientHeight;e.setSize(t,i);if(e.__camera){e.__camera.resize(t,i)}e.__renderTarget.forEach(function(e){if(e.__camera){e.__camera.resize(t,i)}})}r.resize(n).resize();$(a.frameWindow).resize(function(){r.resize()});e.__resize=n})()}},camera:function(e){var t=getReferent(e),i=getObj(this),r=i.__camera;i.__camera=t;if(i instanceof THREE.WebGLRenderTarget)return;var n=$(i.domElement);if(r){var a=r.userData.renderer;a.splice(a.indexOf(i),1);animationFrame(i,false);var o=r.userData.scene;if(o){var s=o.userData._events;s&&$.each(s,function(e){n.off(e!=="mousewheel"?e:"DOMMouseScroll mousewheel",canvasEvent)})}}if(t){animationFrame(i);t.userData.renderer.push(i);i.__resize&&i.__resize();var o=t.userData.scene;if(o){var s=o.userData._events;s&&$.each(s,function(e){n.on(e!=="mousewheel"?e:"DOMMouseScroll mousewheel",canvasEvent)})}}n=null},rendering:function(e){animationFrame(getObj(this),e==="true"||e===true)},fog:function(e){e=getArr(e);getObj(this).fog=new THREE[e.length===2?"FogExp2":"Fog"](e[0],e[1],e[2])}},light_type={};$.each(THREE,function(e){if(/.+?Light$/.test(e)){light_type[e.slice(0,3)]=e}});jThree.three=function(e){return getObj(e)};jThree.fn.three=function(e){return e!==undefined?getObj(this.get(e)):$.map(this,function(e){return getObj(e)})};var animationFrame=function(){var r=[],n=[],t,i,a,o=0,s=[],l,h;self.animationFrame_RAF=function(e){l=e-o;o=e;for(t=n.length;t;){n[--t](l,e)}for(t=r.length;t;){h=r[--t];for((i=h.__updateFn.length)&&(a=h.userData.dom);i;){h.__updateFn[--i].call(a,l,e)}for(i=h.__renderTarget.length;i;){a=h.__renderTarget[--i];a.__invisible&&a.__invisible.forEach(function(e){if(jThree.styleHooks.display.get(e)){s.push(e);jThree.styleHooks.display.set(e,false)}});h.render(a.__camera.userData.scene,a.__camera,a);s.forEach(function(e){jThree.styleHooks.display.set(e,true)});s.length=0}if(!self.MMD_SA||!MMD_SA.render(h))h.render(h.__camera.userData.scene,h.__camera)}};if(self.Animate_RAF){self.EV_animate_full=animationFrame_RAF;animationFrame_RAF(0)}else{(function(e){requestAnimationFrame(arguments.callee);animationFrame_RAF(e)})(0)}return function(e,t){if(typeof e==="function"){var i=n.indexOf(e);if(t===false){if(i!==-1){n.splice(i,1)}}else if(i===-1){n.unshift(e)}}else{var i=r.indexOf(e);if(t===false){hasRenderObj(e);if(i!==-1){r.splice(i,1)}}else if(i===-1&&hasRenderObj(e)){r.unshift(e)}}}}();jThree.fn.update=function(e,t){return this.each(function(){jThree.update(this,e,t)})};jThree.update=function(e,t,i){if(!t||t===true){animationFrame(e,t)}else if(i===false){var r;e=getObj(e);if(e.__updateFn&&(r=e.__updateFn.indexOf(t))!==-1){e.__updateFn.splice(r,1)}}else{e=getObj(e);if(e.__updateFn&&e.__updateFn.indexOf(t)===-1){e.__updateFn.unshift(t)}}};function hasRenderObj(e){return e.__renderable=e.__camera&&e.__camera.userData.scene}jThree.fn.attr=jThree.fn.prop=function(r,n){if(typeof r==="string"){if(n===undefined){return this[0].getAttribute(r)}this.each(function(e){var t=this.getAttribute(r),i=typeof n==="function"?n.call(this,e):n;if(/^data-/.test(r)){jThree.dataHooks[r.slice(5)]&&jThree.dataHooks[r.slice(5)].call(this,i)}else{prop[r]&&prop[r].call(this,i)}this.setAttribute(r,i);jThree.event.trigger($.Event("attrChange",{attrName:r,oldValue:t,newValue:i}),undefined,this)})}else if(typeof r==="object"){var i=this;$.each(r,function(e,t){i.attr(e,t)})}return this};jThree.fn.add=function(e,t){var i=typeof e==="string"?jThree(e,t):$.makeArray(e&&e.nodeType?[e]:e),r=$.merge(this.get(),i);return this.pushStack($.unique(r))};var axis_symbol=["x","y","z"],style_menu=["position","scale","up"];jThree.styleHooks={};function cssMethod(t,i){return function(e){return e&&(e instanceof jThree||e.nodeType)?this.css(t,e):this.css(t,Array.isArray(e)||e===undefined||i?e:arguments.length>1?arguments:/^qua/.test(t)?[e,e,e,e]:[e,e,e])}}$.each(axis_symbol,function(e,r){var t="lookAt"+r.toUpperCase();jThree.styleHooks[t]={get:function(e){return e._lookAt[r]},set:function(e,t){var i=e._lookAt;i[r]=t;e.lookAt(i)}};jThree.fn[t]=cssMethod(t,true);t="translate"+r.toUpperCase();jThree.styleHooks[t]={get:function(){return 0},set:function(e,t){e["translate"+r.toUpperCase()](t)}};jThree.fn[t]=cssMethod(t,true);t="rotate"+r.toUpperCase();jThree.styleHooks[t]={get:function(e){return e.rotate[r]},set:function(e,t){e.useQuaternion&&(e.useQuaternion=false);e.rotate[r]=t}};jThree.fn[t]=cssMethod(t,true);$.each(style_menu,function(e,i){t=i+r.toUpperCase();jThree.styleHooks[t]={get:function(e){return e[i][r]},set:function(e,t){e[i][r]=t}};jThree.fn[t]=cssMethod(t,true)})});axis_symbol.push("w");$.each(axis_symbol,function(e,r){var t="quaternion"+r.toUpperCase();jThree.styleHooks[t]={get:function(e){return e.quaternion[r]},set:function(e,t){!e.useQuaternion&&(e.useQuaternion=true);e.quaternion[r]=t}};jThree.fn[t]=cssMethod(t,true);t="qtAxisAngle"+r.toUpperCase();jThree.styleHooks[t]={get:function(e){return e.qtAxisAngle[r]},set:function(){var i=new THREE.Vector3;return function(e,t){!e.useQuaternion&&(e.useQuaternion=true);e.qtAxisAngle[r]=t;e.quaternion.setFromAxisAngle(i.copy(e.qtAxisAngle).normalize(),e.qtAxisAngle.w)}}()};jThree.fn[t]=cssMethod(t,true)});jThree.styleHooks.lookAt={get:function(e){var t=e._lookAt;return[t.x,t.y,t.z]},set:function(e,t){var i=e._lookAt;i.set(t[0],t[1],t[2]);e.lookAt(i)}};jThree.fn.lookAt=cssMethod("lookAt");jThree.styleHooks.translate={get:function(){return[0,0,0]},set:function(){var i=new THREE.Vector3;return function(e,t){e.position.add(i.set(t[0],t[1],t[2]).applyEuler(e.rotation,e.eulerOrder))}}()};jThree.fn.translate=cssMethod("translate");jThree.styleHooks.rotate={get:function(e){var t=e.rotate;return[t.x,t.y,t.z]},set:function(e,t){e.useQuaternion&&(e.useQuaternion=false);e.rotate.set(t[0],t[1],t[2])}};jThree.fn.rotate=cssMethod("rotate");jThree.styleHooks.quaternion={get:function(e){var t=e.quaternion;return[t.x,t.y,t.z,t.w]},set:function(e,t){!e.useQuaternion&&(e.useQuaternion=true);e.quaternion.set(t[0],t[1],t[2],t[3])}};jThree.fn.quaternion=cssMethod("quaternion");jThree.styleHooks.qtAxisAngle={get:function(e){var t=e.qtAxisAngle;return[t.x,t.y,t.z,t.w]},set:function(){var i=new THREE.Vector3;return function(e,t){!e.useQuaternion&&(e.useQuaternion=true);e.qtAxisAngle.set(t[0],t[1],t[2],t[3]);e.quaternion.setFromAxisAngle(i.copy(e.qtAxisAngle).normalize(),e.qtAxisAngle.w)}}()};jThree.fn.qtAxisAngle=cssMethod("qtAxisAngle");$.each(style_menu,function(e,i){jThree.styleHooks[i]={get:function(e){var t=e[i];return[t.x,t.y,t.z]},set:function(e,t){e[i].set(t[0],t[1],t[2])}};jThree.fn[i]=cssMethod(i)});$.extend(jThree.styleHooks,{axis:{get:function(e){return!e.userData.__axis?0:e.userData.__axis.geometry.vertices[1].x},set:function(e,t){var i=e.userData.__axis;if(i){e.remove(i)}if(t){i=new THREE.AxisHelper(t);e.userData.__axis=i;e.add(i)}}},display:{get:function(e){return e.userData.__display===false?false:true},set:function(e,t){if(t!==undefined){e.userData.__display=t=!!t}else{t=e.userData.__display===false||e.parent.visible===false?false:true}if(!t){e.traverse(function(e){if(e instanceof THREE.Bone)return false;e.visible=false})}else{e.traverse(function(e){if(e instanceof THREE.Bone)return false;e.visible=e.userData.__display===false||e.parent&&e.parent.visible===false?false:true})}}},opacity:{get:function(e){return e.userData.__opacity===undefined?1:e.userData.__opacity},set:function(e,t){if(t!==undefined){e.userData.__opacity=t}e.traverse(function(e){if(!e.material)return;if(e instanceof THREE.Bone)return false;e.material.opacity=(e.parent&&e.parent.material?e.parent.material.opacity:1)*(e.userData.__opacity===undefined?1:e.userData.__opacity)})}}});function objToLocal(e,t,i){if(i&&(i instanceof jThree||i.nodeType)){var r=getObj(i instanceof jThree?i[0]:i);if(/(position|lookAt)/.test(t)){var n=new THREE.Vector3;i=styleAdmin(r,"position");if(/(X|Y|Z)/.test(t)){var a=t.slice(-1).toLowerCase();n[a]=i[a];var o=e.parent.worldToLocal(r.parent.localToWorld(n));i=o[a]}else{n.set(i[0],i[1],i[2]);var o=e.parent.worldToLocal(r.parent.localToWorld(n));i=[o.x,o.y,o.z]}}else{i=styleAdmin(r,t)}}return i}function styleAdmin(e,t,i){i=objToLocal(e,t,i);if(!jThree.styleHooks[t]&&/^mtl/.test(t)){var n=t.charAt(3).toLowerCase()+t.slice(4);var r=e.material[n];if(typeof r==="number"||typeof r==="boolean"||typeof r==="string"){(function(){var i=n;jThree.styleHooks[t]={get:function(e){return e.material[i]},set:function(e,t){e.material[i]=t}}})()}else if(r instanceof THREE.Color){(function(){var r=n;jThree.styleHooks[t]={get:function(e){var t=e.material[r];var i=[t.r*255,t.g*255,t.b*255];i.color=true;return i},set:function(e,t){e.material[r].set(t)}}})()}else if(/(map|Map)$/.test(t)||r instanceof THREE.Texture){(function(){var r=n;jThree.styleHooks[t]={get:function(e){return e.material[r]&&e.material[r][r+"Selector"]},set:function(e,t){var i=getReferent(t);e.material[r]=i;e.material[r][r+"Selector"]=t;i.needsUpdate=true}}})()}else if(r instanceof THREE.Vector3||r instanceof THREE.Vector2){(function(){var i=n;jThree.styleHooks[t]={get:function(e){var t=e.material[i];return arguments.length===2?[t.x,t.y]:[t.x,t.y,t.z]},set:function(e,t){e.material[i].set(t[0],t[1],t[2])}}})()}}if(i===undefined){return jThree.styleHooks[t].get(e)}else{jThree.styleHooks[t].set(e,i)}}jThree.fn.extend({css:function(e,t){if(typeof t==="string"){t=getArr(t);if(t.length===1){t=t[0]}}if(typeof e==="string"){if(t===undefined)return styleAdmin(getObj(this[0]),e);this.each(function(){styleAdmin(getObj(this),e,t)})}else{var i;this.each(function(){i=getObj(this);$.each(e,function(e,t){styleAdmin(i,e,t)})});i=null}return this}});axis_symbol=style_menu=null;["intensity","distance","angle","exponent"].forEach(function(i){jThree.styleHooks["light"+i.charAt(0).toUpperCase()+i.slice(1)]={get:function(e){return e[i]},set:function(e,t){e[i]=t}}});["color","ground","sky"].forEach(function(r){jThree.styleHooks["light"+r.charAt(0).toUpperCase()+r.slice(1)]={get:function(e){var t=e[r];var i=[t.r*255,t.g*255,t.b*255];i.color=true;return i},set:function(e,t){e[r].set(t)}}});["width","height"].forEach(function(a){jThree.styleHooks["camera"+a.charAt(0).toUpperCase()+a.slice(1)]={get:function(e){return e instanceof THREE.OrthographicCamera?e.userData["__"+a]*2||(a=="width"?e.right-e.left:e.top-e.bottom):undefined},set:function(e,t){var i=a==="width"?{right:t/2,left:-t/2}:{top:t/2,bottom:-t/2};var r=e.right-e.left,n=e.top-e.bottom;e.userData["__"+a]=isNaN(i.right)?i.top:i.right;$.extend(e,i);e.resize(r,n)}}});["left","right","top","bottom","near","far","fov","aspect"].forEach(function(i){jThree.styleHooks["camera"+i.charAt(0).toUpperCase()+i.slice(1)]={get:function(e){return e instanceof THREE.Camera?e[i]:undefined},set:function(e,t){e[i]=t;e.updateProjectionMatrix()}}});function checkText(i){if(i instanceof jThree||i.nodeType)return i;if(typeof i==="string")return $(parseGOML(i));$.each(i,function(e,t){if(typeof t==="string"){i[e]=$(parseGOML(t))}});return i}function addToScene(t,e){t=getObj(t);if(e.nodeName==="#document-fragment"){$(e).children().each(function(){var e=getObj(this);if(e instanceof THREE.Object3D&&!(e instanceof THREE.Scene)){t.add(e)}})}else{var i=getObj(e);if(i instanceof THREE.Object3D&&!(i instanceof THREE.Scene)){t.add(i)}}return e}jThree.fn.extend({append:function(){return this.domManip(checkText(arguments),function(e){this.appendChild(addToScene(this,e))})},prepend:function(){return this.domManip(checkText(arguments),function(e){this.insertBefore(addToScene(this,e),this.firstChild)})},before:function(){return this.domManip(checkText(arguments),function(e){this.parentNode.insertBefore(addToScene(this.parentNode,e),this)})},after:function(){return this.domManip(checkText(arguments),function(e){this.parentNode.insertBefore(addToScene(this.parentNode,e),this.nextSibling)})},empty:function(){var e,t=0;for(;(e=this[t])!=null;t++){if(e.nodeType===1){$.cleanData($.merge([e],e.getElementsByTagName("*")));$.each(e.children,function(){removeObj(this,false)});e.textContent=""}}return this},remove:function(e,t){var i,r=e?$.filter(e,this):this,n=0;for(;(i=r[n])!=null;n++){if(!t&&i.nodeType===1){$.cleanData($.merge([i],i.getElementsByTagName("*")))}if(i.parentNode){i.parentNode.removeChild(i);removeObj(i,t)}}return this},replaceWith:function(){var r=$.map(this,function(e){return[e.nextElementSibling||e,e.parentNode]}),n=0;this.domManip(checkText(arguments),function(e){var t=r[n++],i=r[n++];if(i){i.insertBefore(addToScene(i,e),t);jThree(this).remove()}},true);return n?this:this.remove()}});$.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,o){jThree.fn[e]=function(e){var t,i=[],r=jThree(e),n=r.length-1,a=0;for(;a<=n;a++){t=a===n?this:this.clone(true);jThree(r[a])[o](t);Array.prototype.push.apply(i,t.get())}return this.pushStack(i)}});jThree.fn.extend({wrapAll:function(t){var e;if(typeof t==="function"){return this.each(function(e){jThree(this).wrapAll(t.call(this,e))})}if(this[0]){e=jThree(t).eq(0).clone(true);if(this[0].parentNode){e.insertBefore(this[0])}e.map(function(){var e=this;while(e.firstElementChild){e=e.firstElementChild}return e}).append(this)}return this},wrapInner:function(i){if(typeof i==="function"){return this.each(function(e){jThree(this).wrapInner(i.call(this,e))})}return this.each(function(){var e=jThree(this),t=e.contents().not("text");if(t.length){t.wrapAll(i)}else{e.append(i)}})},wrap:function(t){return this.each(function(e){jThree(this).wrapAll(typeof t==="function"?t.call(this,e):t)})},unwrap:function(){return this.parent().each(function(){if(this.nodeName!=="body"){jThree(this).replaceWith(jThree(this).children())}}).end()}});jThree._animate=[];var animate_id=0,AnimateObj=function(h,e,f,t,i){var c=f.duration>0?f.duration:false,r=!f.easing||f.easing==="linear"?false:jThree.easing[f.easing],u="return function(delta,elapsed){",n=animate_id++,a=jThree._animate[n]={},o={},s,d=this;if(e){u="var storage=jThree._animate["+n+"],"+"jthree=storage.jthree,"+"data=storage.data,"+"easing=storage.easing;"+u;$.each(e,function(i,e){s=styleAdmin(h,i);e=objToLocal(h,i,e);if(s.color){if(/^#/.test(e)){if(e.length===4){e=e.replace(/^#(.)(.)(.)/,"#$1$1$2$2$3$3")}e=+("0x"+e.slice(1))}else if(typeof e==="string"&&/ /.test(e)){e=getArr(e)}if(typeof e==="number"){e=[e>>16&255,e>>8&255,e&255]}}u+="jThree.styleHooks."+i+".set(jthree,";if(typeof s==="number"){if(typeof e==="string"){e=e.charAt(0)==="+"?s+ +e.slice(2):s-+e.slice(2)}if(c){if(/^translate/.test(i)){u+="delta*"+e/c}else{u+=(r?"easing(elapsed/"+c+",elapsed,0,1,"+c+")*"+(e-s):"elapsed*"+(e-s)/c)+(s!==0?"+"+s:"")}}else{u+=e}}else{var t=[];u+="[";if(typeof e==="string"){e=getArr(e)}$.each(e,function(e,t){if(typeof t==="string"){t=t.charAt(0)==="+"?s[e]+ +t.slice(2):s[e]-+t.slice(2)}if(c){if(i==="translate"){u+="delta*"+t/c}else{u+=(r?"easing(elapsed/"+c+",elapsed,0,1,"+c+")*"+(t-s[e]):"elapsed*"+(t-s[e])/c)+(s[e]!==0?"+"+s[e]:"");if(r)s.easing=r}}else{u+=t}u+=","});u=u.replace(/,$/,"")+"]";s=t}o[i]=s;u+=");"})}u+="return "+(f.tween&&c&&r?"easing(elapsed/"+c+",elapsed,0,1,"+c+")":c?"elapsed/"+c:"elapsed")+";};";a.jthree=h;a.data=o;a.easing=r;d.update=function(){var i=h,t=d,r=0,n=new Function(u)(),a=f.step,o=a?function(e,t){a.call(i,n(e,t))}:function(e,t){n(e,t)},s=c,l=s?function(e){if(s-e<0){r=s;t.update(0)}else if(s===e){t.stop()}}:function(){};t.gotoEnd=function(){o(s-r,s);t.stop()};return function(e){o(e,r+=e);l(r)}}();d.dequeue=t;d.queue=i;d.obj=h;d.id=n;d.storage=a;d.complete=f.complete||function(){}};AnimateObj.prototype.stop=function(){this.complete.call(this.storage.jthree.userData.dom);delete jThree._animate[this.id];animationFrame(this.update,false);this.obj.userData.__animate.splice(this.obj.userData.__animate.indexOf(this),1);this.dequeue()};function animate(t,i,r){if(!t)return;var n,e=function(e){if(r.start(t,i,r)===false){e();return}n=new AnimateObj(t,i,r,e,r.queue);t.userData.__animate.unshift(n);animationFrame(n.update);i=t=n=r=null};t.userData.__animate=t.userData.__animate||[];if(r.queue!==false){$(t.userData.dom).queue(e,r.queue)}else{e(function(){})}}function optionNormalize(e){if(e.queue===undefined)e.queue="fx";if(e.start===undefined)e.start=function(){};if(typeof e.duration==="string")switch(e.duration){case"slow":e.duration=600;break;case"fast":e.duration=200;break;default:e.duration=400;break}return e}jThree.fn.extend({animate:function(i,e,r,n){var a={};if(typeof arguments[1]==="object"){a=arguments[1]}$.each(arguments,function(e,t){if(e===1){if(typeof t==="function"){a.step=t}else if(typeof t!=="object"){a.duration=t;if(typeof r==="function"){a.complete=r}else{a.easing=r;a.complete=n}}return false}else if(typeof t!=="object"){i=false;if(typeof t==="function"){a.step=t}}});optionNormalize(a);this.each(function(){animate(getObj(this),i,a)});return this},stop:function(t,i){this.each(function(){var e=this;$.each(getObj(e).userData.__animate,function(){if(t&&this.queue){$.queue(e,this.queue,[])}if(i){this.gotoEnd()}else{this.stop()}})});return this},slideDown:function(e,t,i){return genFx(this,"slideDown",e,t,i)},slideUp:function(e,t,i){return genFx(this,"slideUp",e,t,i)},slideToggle:function(e,t,i){this.each(function(){genFx(this,getObj(this).visible?"slideUp":"slideDown",e,t,i)});return this},fadeOut:function(e,t,i){return genFx(this,"fadeOut",e,t,i)},fadeIn:function(e,t,i){return genFx(this,"fadeIn",e,t,i)},fadeToggle:function(e,t,i){this.each(function(){genFx(this,getObj(this).visible?"fadeOut":"fadeIn",e,t,i)});return this},fadeTo:function(e,t,i,r){if(typeof i==="function"){r=i;i=undefined}return this.animate({opacity:t},{easing:i,complete:r,duration:e,start:function(e,t,i){if(!e.visible)e.userData.__opacity=0;e.traverse(function(e){if(!e.material||e.visible)return;e.material.opacity=0});jThree.styleHooks.display.set(e,true)}})},show:function(e,t,i){return e===undefined?this.css("display",true):genFx(this,"show",e,t,i)},hide:function(e,t,i){return e===undefined?this.css("display",false):genFx(this,"hide",e,t,i)},toggle:function(e,t,i){this.each(function(){if(e===undefined){jThree.styleHooks.display.set(getObj(this),!getObj(this).visible)}else if(typeof e==="boolean"){jThree.styleHooks.display.set(getObj(this),e)}else{genFx(this,getObj(this).visible?"hide":"show",e,t,i)}});return this}});function genFx(e,t,i,r,n){if(typeof r==="function"){n=r;r=undefined}var a={duration:i||400,easing:r,complete:n},o={};switch(t){case"slideDown":a.start=function(i,e,r){if(i.visible)return false;e.scale=jThree.styleHooks.scale.get(i);i.scale.set(0,0,0);jThree.styleHooks.display.set(i,true);i.traverse(function(e){if(e===i)return;var t=jThree.styleHooks.position.get(e);e.position.set(0,0,0);animate(e,{position:t},optionNormalize({queue:false,duration:r.duration,easing:r.easing}))})};break;case"slideUp":a.start=function(i,e,r){if(!i.visible)return false;var t=r.complete,n=jThree.styleHooks.scale.get(i);o.scale=[0,0,0];r.complete=function(){jThree.styleHooks.display.set(i,false);jThree.styleHooks.scale.set(i,n);t&&t.call(this)};i.traverse(function(e){if(e===i)return;var t=jThree.styleHooks.position.get(e);animate(e,{position:[0,0,0]},optionNormalize({queue:false,duration:r.duration,easing:r.easing,complete:function(){jThree.styleHooks.position.set(e,t)}}))})};break;case"fadeOut":a.start=function(e,t,i){if(!e.visible)return false;var r=i.complete,n=jThree.styleHooks.opacity.get(e);o.opacity=0;i.complete=function(){jThree.styleHooks.display.set(e,false);jThree.styleHooks.opacity.set(e,n);r&&r.call(this)}};break;case"fadeIn":a.start=function(e,t,i){if(e.visible)return false;t.opacity=jThree.styleHooks.opacity.get(e);jThree.styleHooks.opacity.set(e,0);jThree.styleHooks.display.set(e,true)};break;case"hide":a.start=function(i,e,r){if(!i.visible)return false;var t=r.complete,n=jThree.styleHooks.opacity.get(i),a=jThree.styleHooks.scale.get(i);o.opacity=0;o.scale=[0,0,0];r.complete=function(){jThree.styleHooks.display.set(i,false);jThree.styleHooks.scale.set(i,a);jThree.styleHooks.opacity.set(i,n);t&&t.call(this)};i.traverse(function(e){if(e===i)return;var t=jThree.styleHooks.position.get(e);animate(e,{position:[0,0,0]},optionNormalize({queue:false,duration:r.duration,easing:r.easing,complete:function(){jThree.styleHooks.position.set(e,t)}}))})};break;case"show":a.start=function(i,e,r){if(i.visible)return false;e.opacity=jThree.styleHooks.opacity.get(i);jThree.styleHooks.opacity.set(i,0);e.scale=jThree.styleHooks.scale.get(i);i.scale.set(0,0,0);jThree.styleHooks.display.set(i,true);i.traverse(function(e){if(e===i)return;var t=jThree.styleHooks.position.get(e);e.position.set(0,0,0);animate(e,{position:t},optionNormalize({queue:false,duration:r.duration,easing:r.easing}))})};break}return e instanceof jThree?e.animate(o,a):animate(getObj(e),o,optionNormalize(a))}jThree.easing=Object.create($.easing);var projector=new THREE.Projector,pickingVector=new THREE.Vector3,eventReg=/^(currentTarget|data|delegateTarget|handleObj|jQuery\d+|target|timeStamp|type)$/;function canvasEvent(e){var i=e.data.renderer;if(!i.__renderable)return;i=projector.pickingRay(pickingVector.set(2*(e.offsetX===undefined?e.originalEvent.layerX:e.offsetX)/i.domElement.clientWidth-1,-2*(e.offsetY===undefined?e.originalEvent.layerY:e.offsetY)/i.domElement.clientHeight+1),i.__camera).intersectObjects(pickingObj(i),false)[0];if(i){$.each(e,function(e,t){if(!eventReg.test(e))i[e]=t});$(i.object.userData.dom||i.object.parent.userData.dom).trigger($.Event(e.type==="DOMMouseScroll"?"mousewheel":e.type,i))}}function pickingObj(e){var t=[];$.each(e.__camera.userData.scene.__webglObjects,function(){this.render&&t.push(this.object)});return t}THREE.Scene.prototype.eventChange=function(i,r){var n=this.userData._events=this.userData._events||{};var e=this;var a=[];var o=[];if(i){$.each(i,function(e){if(!n[e]){n[e]=[];a.push(e)}if(n[e].indexOf(r)!==-1)return;n[e].push(r)});$.each(n,function(e){var t=n[e].indexOf(r);if(i[e]||t===-1)return;if(n[e].length===1){delete n[e];o.push(e)}else{n[e].splice(t,1)}})}else{$.each(n,function(e){var t=n[e].indexOf(r);if(t===-1)return;if(n[e].length===1){delete n[e];o.push(e)}else{n[e].splice(t,1)}})}jThree("rdr").three().forEach(function(t){if(!t.__camera||t.__camera.userData.scene!==e)return;var i=$(t.domElement);a.forEach(function(e){i.on(e!=="mousewheel"?e:"DOMMouseScroll mousewheel",{renderer:t},canvasEvent)});o.forEach(function(e){i.off(e!=="mousewheel"?e:"DOMMouseScroll mousewheel",canvasEvent)});t=i=null});n=r=e=i=a=o=null};(function(){function e(){var e=$._data(this,"events");var t=jThree.three(this);if(this.tagName==="BODY"){var i=jThree("scene").three();$.each(i,function(){this.eventChange(e,t)})}else if(t instanceof THREE.Object3D){var i=this.tagName==="SCENE"?t:t.userData.scene;i.eventChange(e,t)}e=t=null}jThree.fn.on=function(){$.fn.on.apply(this,arguments);this.each(e);return this};jThree.fn.off=function(){$.fn.off.apply(this,arguments);this.each(e);return this}})();jThree.fn.mousewheel=function(e,t){return arguments.length>0?this.on("mousewheel",null,e,t):this.trigger("mousewheel")};jThree.fn.load=function(e,t,i){if(typeof e!=="string"){return $.fn.load.apply(this,arguments)}var r,n,a,o=this,s=e.indexOf(" ");if(s>=0){r=e.slice(s);e=e.slice(0,s)}if(typeof t==="function"){i=t;t=undefined}else if(t&&typeof t==="object"){n="POST"}if(o.length>0){$.ajax({url:e,type:n,dataType:"text",data:t}).done(function(e){a=arguments;o.empty().append(r?jThree(/<goml/.test(e)?e:"<obj>"+e+"</obj>").find(r):e)}).complete(i&&function(e,t){o.each(i,a||[e.responseText,t,e])})}return this};window.jThree=jThree}(window,jQuery);
jThree.MMD=jThree.mmd={_onLoop:false,_delta:0,_animate:function(_){jThree.MMD._delta=_=_*.001;if(self.MMD_SA){if(MMD_SA._rendered_once&&!MMD_SA._x_object_displayed_once){MMD_SA._x_object_displayed_once=true;MMD_SA_options.mesh_obj_all.forEach(function(e){var t=e._obj;if(!e.use_child_animation_texture)t.scale.x=t.scale.y=t.scale.z=e.scale;if(MMD_SA_options.Dungeon){e.visible=t.visible;return}e.visible=e.hidden_on_start&&!t.visible?false:t.scale.x>0;if(/^\#mikuPmx(\d+)$/.test(e.id)){var i=MMD_SA_options.model_para_obj_all[RegExp.$1];e.visible=!(i.hidden_on_start||MMD_SA_options.hidden_on_start)}if(e.visible)e.show(true);else e.hide(true)});if(MMD_SA_options.use_speech_bubble&&!MMD_SA_options.MMD_disabled){const H=MMD_SA.SpeechBubble;H._mesh.scale.x=H._mesh.scale.y=H._mesh.scale.z=1;if(!H.visible)MMD_SA.THREEX.mesh_obj.get("SpeechBubbleMESH").hide()}}MMD_SA_options.model_para_obj_all.forEach(function(e,t){if(e.scale)THREE.MMD.getModels()[t].mesh.scale.set(e.scale,e.scale,e.scale)});let t=MMD_SA_options.mesh_obj_by_id["CircularSpectrumMESH"];if(t){if(MMD_SA_options.use_CircularSpectrum&&(MMD_SA.music_mode||WallpaperEngine_CEF_mode&&MMD_SA.AudioFFT&&MMD_SA.AudioFFT._has_audio)){if(MMD_SA.AudioFFT&&MMD_SA.AudioFFT._fft128){let e=MMD_SA_options.CircularSpectrum_position;if(!e){e=MMD_SA.center_view;e[1]+=10}if(MMD_SA_options.Dungeon){if(!t.pos_base)t.pos_base=t._obj.position.clone();if(!t.rot_base)t.rot_base={x:0,y:0,z:0};if(!t._pos_updated_){MMD_SA_options.Dungeon.character.pos_update();t._pos_updated_=true;t._obj.position.add(MMD_SA.TEMP_v3.fromArray(e))}}else{t._obj.position.fromArray(e)}const U=t._obj.scale;U.x=U.y=U.z=1;t.show();const o1=MMD_SA.AudioFFT._fft128;const n1=MMD_SA.AudioFFT._fft_last128;for(let i=0,e=o1.length;i<e;i++){let e=o1[i];let t=n1[i]||0;if(e>100)e=100;if(e<t-10)e=t-10;n1[i]=e;const s=MMD_SA.THREEX.mesh_obj.get_three("CircularSpectrum"+i+"MESH");s.material.opacity=MMD_SA_options.CircularSpectrum_opacity||.8;s.scale.y=.5+e/100*19.5}}}else{t.hide();if(MMD_SA_options.Dungeon)t._pos_updated_=undefined}}MMD_SA._rendered_once=true}if(self.MMD_SA&&!MMD_SA_options.MMD_disabled){if(MMD_SA._gravity_){let e;if(MMD_SA._gravity_factor<=0){MMD_SA._gravity_factor=null;MMD_SA._gravity_=null;e=MMD_SA.gravity}else{e=[];var L=MMD_SA.MMD.motionManager.para_SA.gravity||[0,-1,0];for(var i=0;i<3;i++)e[i]=MMD_SA._gravity_[i]*MMD_SA._gravity_factor+L[i]*(1-MMD_SA._gravity_factor);MMD_SA._gravity_factor-=1/60}THREE.MMD.setGravity(e[0]*9.8*10,e[1]*9.8*10,e[2]*9.8*10);if(MMD_SA.THREEX.enabled&&e.every((e,t)=>e==MMD_SA.gravity[t])){MMD_SA.THREEX.models.forEach(e=>{e.resetPhysics()})}}var l=_;var d=MMD_SA.MMD;var f=Audio_BPM.vo;var F=f.motion_by_song_name_mode;var h,m,p,c,u;h=d.motionManager;m=!F&&h.para_SA.BPM||{};p=m.BPM||120;c=f.BPM_mode?f._sender.playbackRate:120/p;u=c*(m._playbackRate||1)*MMD_SA.playbackRate;jThree.MMD._delta=_=l*u;var M=THREE.MMD.getModels()[0];var t=M.skin;MMD_SA._motion_time_=t.time+_;var O;if(!MMD_SA._force_motion_shuffle&&MMD_SA.motion_shuffle_started){let e={return_value:null};if(t.time+_>h.lastFrame_/30){window.dispatchEvent(new CustomEvent("SA_MMD_model0_onmotionended",{detail:{is_loop:true,result:e}}));if(!e.return_value){h.para_SA.onended&&h.para_SA.onended(true)}if(MMD_SA._freeze_onended){t.time=h.lastFrame_/30-_-1/59/1e3;MMD_SA._freeze_onended=null}else{O=true}}else{window.dispatchEvent(new CustomEvent("SA_MMD_model0_onmotionplaying",{detail:{result:e}}));if(!e.return_value){h.para_SA.onplaying&&h.para_SA.onplaying(0)}}}if(MMD_SA_options.custom_motion_shuffle)MMD_SA_options.custom_motion_shuffle();var j=[];var A=[];for(var i=0,g=MMD_SA_options.model_para_obj_all.length;i<g;i++){j[i]=true;A[i]=!MMD_SA.motion_shuffle_started||MMD_SA_options.model_para_obj_all[i]._motion_name_next}var v=Math.max(Math.min(t.time+_-h.lastFrame_/30,.1),0);if(MMD_SA._force_motion_shuffle||A[0]||v){let o=!MMD_SA.motion_shuffle_started;d.frame_time_ref=0;if(!O){let e={return_value:null};window.dispatchEvent(new CustomEvent("SA_MMD_model0_onmotionended",{detail:{result:e}}));if(!e.return_value){h.para_SA.onended&&h.para_SA.onended()}}let n=!MMD_SA.motion_shuffle_started;let a=h;let e=!MMD_SA.motion_shuffle_started;if(MMD_SA.motion_shuffle())e=true;MMD_SA_options.onmotionended&&MMD_SA_options.onmotionended(e);let t=MMD_SA_options.motion_shuffle||MMD_SA_options._motion_shuffle_list_default?MMD_SA_options.motion_shuffle_list[MMD_SA.motion_shuffle_index]:0;let r=MMD_SA_options.motion[t];window.dispatchEvent(new CustomEvent("SA_MMD_model0_onmotionchange",{detail:{motion_old:a,motion_new:d.motionManager}}));if(MMD_SA._force_motion_shuffle)o=true;MMD_SA._force_motion_shuffle=null;l=1/59/1e3;let s;if(e){o=true;h=d.motionManager;m=!F&&h.para_SA.BPM||{};p=m.BPM||120;c=f.BPM_mode?f._sender.playbackRate:120/p;u=c*(m._playbackRate||1)*MMD_SA.playbackRate;let e=h.para_SA;let t=a.para_SA;s=!n&&(t.motion_blending&&t.motion_blending.fadeout&&(!t.motion_blending.fadeout.condition||t.motion_blending.fadeout.condition(a,h))&&(!e.motion_blending||!e.motion_blending.fadein||!e.motion_blending.fadein.condition||e.motion_blending.fadein.condition(a,h))&&t.motion_blending.fadeout||e.motion_blending&&e.motion_blending.fadein&&(!e.motion_blending.fadein.condition||e.motion_blending.fadein.condition(a,h))&&(!t.motion_blending||!t.motion_blending.fadeout||!t.motion_blending.fadeout.condition||t.motion_blending.fadeout.condition(a,h))&&e.motion_blending.fadein);if(s){let e=Object.create(M.skin);e._is_skin=true;e._motion_index_MMD_SA_extra=0;e._is_MMD_SA_custom_animation=e._is_MMD_SA_animation=e._MMD_SA_disabled=e.freeze_onended=true;M.skin_MMD_SA_extra[0]=e;let t=MMD_SA_options.custom_action[0];t.blending_options=s;t._time_ini=RAF_timestamp;t._seek_time_=a.para_SA.loop_on_blending&&!a.para_SA.freeze_onended&&v&&v+(a.firstFrame_&&a.firstFrame_/30||0)||Math.min(e.time+_,a.lastFrame_/30-1/59/1e3);MMD_SA._ignore_physics_reset=true}let i=M._MMD_SA_cache_current=M._MMD_SA_cache[r.path];M.skin=i.skin;M.morph=i.morph;M.camera=i.camera;THREE.MMD.setupCameraMotion(M.camera);M.resetMotion(h.para_SA.initial_physics_reset!=null?!h.para_SA.initial_physics_reset:MMD_SA._ignore_physics_reset);MMD_SA.reset_skin(0);MMD_SA.reset_morph(0);THREE.MMD.adjustMotionDuration();MMD_SA_options.model_para_obj.onMotionChange&&MMD_SA_options.model_para_obj.onMotionChange();v=0;if(MMD_SA.THREEX.enabled)MMD_SA.THREEX.get_model(0)._reset_physics_=true}else{let e=h.para_SA.loopback_physics_reset==false||h.lastFrame_==h.lastFrame&&!h.firstFrame_&&!h.para_SA.loopback_fading;M.resetMotion(e||MMD_SA._ignore_physics_reset)}if(s){MMD_SA.fadeout_opacity=null}if(MMD_SA.fadeout_opacity==1){MMD_SA.fadeout_texture_uploaded=false;const a1=SL.width;const r1=SL.height;MMD_SA.fadeout_canvas.width=SL.width;MMD_SA.fadeout_canvas.height=SL.height;const C=MMD_SA.fadeout_canvas.getContext("2d");C.globalCompositeOperation="copy";C.drawImage(MMD_SA.THREEX.SL,0,0);MMD_SA.fadeout_opacity=.95}M.skin._loop_timestamp=RAF_timestamp;if(!s){M.skin_MMD_SA_extra[0]=M.morph_MMD_SA_extra[0]=MMD_SA.Animation_dummy}for(var i=1,g=MMD_SA_options.model_para_obj_all.length;i<g;i++){if(MMD_SA_options.model_para_obj_all[i].mirror_motion_from_first_model)A[i]=true}h.para_SA.onstart&&h.para_SA.onstart(e);if(o&&!h.para_SA.adjust_center_view_disabled){MMD_SA.reset_camera()}jThree.MMD._delta=_=l*u;M.playMotion();if(v||h.firstFrame_){M.seekMotion(v+(h.firstFrame_&&h.firstFrame_/30||0))}}else{v=0}for(var i=1,g=THREE.MMD.getModels().length;i<g;i++){if(!j[i])continue;var e=THREE.MMD.getModels()[i];if(!e.skin)continue;var h,o;h=o=MMD_SA.motion[e.skin._motion_index];var n=MMD_SA_options.model_para_obj_all[i];var z=n.is_OPC&&h.para_SA.BPM?h.lastFrame:h.lastFrame_;var a=Math.max(Math.min(e.skin.time+_-z/30,.1),0);if(!A[i]){if(!a)continue;!h.para_SA.is_OPC&&h.para_SA.onended_NPC&&h.para_SA.onended_NPC(i)}else{a=0}var r=false;var s;if(n._motion_name_next||A[i]&&n.mirror_motion_from_first_model){o=d.motionManager;a=v;var V=n._motion_name_next||o.para_SA.multi_model_motion_list&&o.para_SA.multi_model_motion_list[i-1];n._motion_name_next=null;var B=(V&&MMD_SA_options.motion_para[V]||o.para_SA)._path;var s=e._MMD_SA_cache[B];r=s&&s.skin._motion_index!=e.skin._motion_index}if(r){e._MMD_SA_cache_current=s;e.skin=s.skin;e.morph=s.morph;h=MMD_SA.motion[s.skin._motion_index];if(!n.mirror_motion_from_first_model)o=h;e.resetMotion(h.para_SA.initial_physics_reset!=null?!h.para_SA.initial_physics_reset:MMD_SA._ignore_physics_reset);MMD_SA.reset_skin(i);MMD_SA.reset_morph(i);THREE.MMD.adjustMotionDuration();n.onMotionChange&&n.onMotionChange();if(h.para_SA.NPC_turns_to_you){var y=e.mesh;var K=THREE.MMD.getModels()[0].mesh;MMD_SA.TEMP_v3.set(0,Math.PI/2-Math.atan2(K.position.z-y.position.z,K.position.x-y.position.x),0);y.quaternion.setFromEuler(MMD_SA.TEMP_v3)}}else{var N=e.skin.time&&(h.para_SA.loopback_physics_reset==false||z==h.lastFrame&&!(n._firstFrame_||h.firstFrame_)&&!h.para_SA.loopback_fading);e.resetMotion(N||MMD_SA._ignore_physics_reset)}e.skin._loop_timestamp=RAF_timestamp;h.para_SA.onstart&&h.para_SA.onstart(r);e.playMotion();if(a||(n._firstFrame_||o.firstFrame_)){e.seekMotion(a+((n._firstFrame_||o.firstFrame_)&&(n._firstFrame_||o.firstFrame_)/30||0))}n._firstFrame_=null}MMD_SA._ignore_physics_reset=null;var G=window.performance?performance.now():Date.now();if(d.frame_time_ref){if(m._playbackRate){var S=G-d.frame_time_ref;if(S>=m._playbackRate_countdown){var X=m._playbackRate_countdown/S;u=c*(m._playbackRate*X+(1-X));jThree.MMD._delta=_=l*u;m._playbackRate=null}else m._playbackRate_countdown-=S}}else if(use_SVG_Clock||f.BPM_mode){var W=m.beat_frame;if(W!=null){var q=(M.skin.time+_)*30;var Q=60/p;var Y=(q-W)/30;if(f.BPM_mode){var $=f.audio_obj;Y-=($.currentTime-$.beat_reference)*c}var x,D;x=D=Y/Q;x-=~~x;if(x<0)x++;if(x<.5)x=-x;else x=1-x;D=Math.round(D+x);if(D%2&&(!f.BPM_mode||m.match_even_beats_only)){if(x<0){x++;D++}else{x--;D--}}var J="/"+(D%2?"odd":"even");var b=x*Q;if(!f.BPM_mode){b/=c;var Z=(new Date).getMilliseconds()/1e3;b+=Z;if(b>.5)b-=1;else if(b<-.5)b+=1;b*=c;x=b/Q}b/=c;if(Math.abs(b)>.05){var e1=Math.abs(x)>.5?2:1;m._playbackRate=1+b/e1;m._playbackRate_countdown=1e3*e1;var t1=Math.abs(~~(x*100)/100)+"beat"+J;DEBUG_show("BPM sync("+(b>0?"+":"-")+t1+")",2)}else{}}}d.frame_time_ref=G;if(MMD_SA.fadeout_opacity!=null){MMD_SA.fadeout_opacity-=_;let o=SL_2D_front.getContext("2d");if(MMD_SA.fadeout_opacity>0){let e,t,i;e=MMD_SA.fadeout_canvas.width;t=MMD_SA.fadeout_canvas.height;if(SL_2D_front.width!=e||SL_2D_front.height!=t){i=true;SL_2D_front.width=e;SL_2D_front.height=t}o.globalCompositeOperation="copy";o.globalAlpha=MMD_SA.fadeout_opacity;o.drawImage(MMD_SA.fadeout_canvas,0,0);if(use_WebGL_2D){if(SL_2D_front._WebGL_2D.canvas.style.display!="inline")SL_2D_front._WebGL_2D.canvas.style.display="inline";SL_2D_front._WebGL_2D.draw();if(i){SL_2D_front._WebGL_2D.canvas.style.width=SL.style.width;SL_2D_front._WebGL_2D.canvas.style.height=SL.style.height}}else{if(SL_2D_front.style.display!="inline")SL_2D_front.style.display="inline";if(i){SL_2D_front.style.width=SL.style.width;SL_2D_front.style.height=SL.style.height}}}else{MMD_SA.fadeout_opacity=null;o.globalCompositeOperation="copy";o.globalAlpha=1;o.clearRect(0,0,SL_2D_front.width,SL_2D_front.height);SL_2D_front.style.display="none";if(use_WebGL_2D){let e=SL_2D_front._WebGL_2D;e.gl.clear(e.gl.COLOR_BUFFER_BIT);e.canvas.style.display="none"}}}else{SL_2D_front.style.display="none"}MMD_SA._playbackRate=u}if(!is_SA_child_animation&&MMD_SA_options.child_animation_as_texture){var i1;var E=0;for(var i=0;i<SA_child_animation_max;i++){var w=SA_child_animation[i];if(!w)continue;var T=document.getElementById("Ichild_animation"+i);var k,R;if(T){k=T.contentWindow;R=k.SL;if(!R)continue}else continue;if(!R._drawn_id||w._SL_drawn_id!=R._drawn_id){w._SL_drawn_id=R._drawn_id;i1=true}if(++E>=MMD_SA_options.child_animation_as_texture)break}if(i1){E=0;for(var i=0;i<SA_child_animation_max;i++){var w=SA_child_animation[i];if(!w)continue;var T=document.getElementById("Ichild_animation"+i);var k,R;if(T){k=T.contentWindow;R=k.SL;if(!R)continue}else continue;var P=jThree("import").contents().find("#j3_childAnimationCanvas"+E)[0];P._canvas_ready=true;P.width=MMD_SA_options.child_animation_width;P.height=MMD_SA_options.child_animation_height;var C=P.getContext("2d");C.globalCompositeOperation="copy";C.globalAlpha=MMD_SA_options.child_animation_opacity;try{C.drawImage(R._canvas_for_copy||R,0,0,P.width,P.height);jThree("#ChildAnimation"+E+"TXR").three(0).needsUpdate=true}catch(I){DEBUG_show(I.description)}if(++E>=MMD_SA_options.child_animation_as_texture)break}}}THREE.MMD.updateMotion(_);if(jThree.MMD._onLoop){if(THREE.MMD.motionLoop){jThree.MMD.onLoop&&jThree.MMD.onLoop()}else{THREE.MMD.pauseMotion();jThree.update(arguments.callee,false);jThree.MMD.complete&&jThree.MMD.complete()}jThree.MMD._onLoop=false}},play:function(e){if(e!==undefined)this.loop=e;THREE.MMD.playMotion(e);jThree.update(jThree.MMD._animate);if(MMD_SA.THREEX.enabled){MMD_SA.THREEX.models.forEach(e=>{e.animation.play()})}},pause:function(){THREE.MMD.pauseMotion();jThree.update(jThree.MMD._animate,false);if(MMD_SA.THREEX.enabled){MMD_SA.THREEX.models.forEach(e=>{e.animation.pause()})}},reset:function(){THREE.MMD.resetMotion();jThree.update(jThree.MMD._animate,false)},setup:function(e){jThree.extend(jThree.MMD,e);return this},sync:function(e,t){jThree.MMD._delay=t||0;jQuery(e).on("play",jThree.MMD.play).on("pause ended",jThree.MMD.pause).on("timeupdate",function(){jThree.MMD.seek(this.currentTime+jThree.MMD._delay)})},_edgeScale:1,onLoop:null,onStop:null,_camera:true,get cameraMotion(){return this._camera},set cameraMotion(t){this._camera=t;THREE.MMD.getCameraMotion().forEach(function(e){e[t?"play":"pause"]()})},get edgeScale(){return this._edgeScale},set edgeScale(n){this._edgeScale=n;THREE.MMD.getModels().forEach(function(o){o.mesh.material.materials.forEach(function(e,t){var i=o.pmx.materials[t];if((i.drawFlags&16)!==0){e.mmdEdgeThick=i.edgeSize*n}})})},_shadowDark:.7,get shadowDark(){return this._shadowDark},set shadowDark(n){this._shadowDark=n;THREE.MMD.getModels().forEach(function(o){o.mesh.material.materials.forEach(function(e,t){var i=o.pmx.materials[t];if((i.drawFlags&8)!==0){e.mmdShadowDark=n}})})},_duration:0,get duration(){return this._duration},set duration(e){this._duration=e;THREE.MMD.adjustMotionDuration()},get groundLevel(){return jThree.MMD._ground.getY()},set groundLevel(e){jThree.MMD._ground.setY(e)},toon:["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgAQMAAABJtOi3AAAABlBMVEX////Nzc1XNMFjAAAAD0lEQVQI12OgNvgPBFQkAPcnP8G6A9XkAAAAAElFTkSuQmCC","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgAQMAAABJtOi3AAAABlBMVEX////14eF2pXIGAAAAD0lEQVQI12OgNvgPBFQkAPcnP8G6A9XkAAAAAElFTkSuQmCC","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgAQMAAABJtOi3AAAABlBMVEX///+ampo+MvaSAAAAD0lEQVQI12OgNvgPBFQkAPcnP8G6A9XkAAAAAElFTkSuQmCC","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgAQMAAABJtOi3AAAABlBMVEX////47+sAKyXFAAAAD0lEQVQI12OgNvgPBFQkAPcnP8G6A9XkAAAAAElFTkSuQmCC","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEX/////5t3/6N7/7eX/+fb/9PD//Pv/8Op5dFmOAAAAQklEQVQoz2MYBRQDtjQYgAq4gEAIiEiBCIYiAEjYjaEcBIrLoSA0lMEYDTAooQEGRQgtqAgTEEQD5AgoYQggAFgOAHEkIrrgwCawAAAAAElFTkSuQmCC","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAflBMVEX/7WHDrAPErQT/7mT/7mn66Fj86VvizTLJswz/8of/8Hf/73L+7F7NtxLLtQ7/7mb///z//ez//OL/+9vs2ELk0Db//vX/+L7/723o1DzRvBjFrgX/+sz/+Lr/9qzw3Uj/+tL/97b/9Jf/85D/9Z//8X//6DHFrgb/+MD/5AUNrqVlAAAAwklEQVQ4y+XO226DMAwAUG/OutmhgyQQkgYYl162///BmaoV7UPFc9XzYlu2bMNrQrhS16hyRMxVCLlSgWrNmpkPvP8lDogKutb4Qbvajc5b6xpr92071qbvTMNMPfjCdzgVoulJkx2oNW4wtulqYl8YoIkVaq1lOcB8Sy4hjk4SDHTQd+8tcLokR1jxByuO8CKybDP7uLE5y84AyrKMsaqqz4VUMUZp/AjYbcW3+FrM5VbsBJxSen8kpXSCtxVPMfAPmVcPlflaGvEAAAAASUVORK5CYII=","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgAQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAC0lEQVQI12MY5AAAAKAAAfgHMzoAAAAASUVORK5CYII=","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgAQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAC0lEQVQI12MY5AAAAKAAAfgHMzoAAAAASUVORK5CYII=","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgAQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAC0lEQVQI12MY5AAAAKAAAfgHMzoAAAAASUVORK5CYII=","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgAQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAC0lEQVQI12MY5AAAAKAAAfgHMzoAAAAASUVORK5CYII="]};jThree.fn.MMD=jThree.fn.mmd=function(e,i){if(typeof e==="string"){if(e==="seek"){var t=this.three();t.forEach(function(e){if(e.__mmd){e.__mmd.seekMotion(i)}else if(e instanceof THREE.Light){var t=THREE.MMD.getLightMotion();t&&t.seek(i)}});THREE.MMD.getCameraMotion().forEach(function(e){if(t.indexOf(e.persepectiveCamera)!==-1){e.seek(i)}})}else if(e==="motion"){var o=this.three();THREE.MMD.getCameraMotion().forEach(function(e){if(o.indexOf(e.persepectiveCamera)!==-1){e[i?"play":"pause"]()}})}}else if(typeof e==="object"){var n=this;$.each(e,function(e,t){n.MMD(e,t)})}return this};(function(){var e,d,f,h,m,p,c,u,M,A,o,g,x,t,I,v,y,S,D,b,E,w,T,k,X,W,R=1/60,P;e=function(e,t){var i=new XMLHttpRequestZIP;i.onload=function(){if(1||i.status===200){t(i)}else{console.error(e,i.statusText)}i=null};i.open("GET",e,true);i.responseType="arraybuffer";i.send()};d=function(){this.count=0;this.callback=null};d.prototype.add=function(e){if(e){this.callback=e;this.count=0}this.count++};d.prototype.del=function(){this.count--;if(this.count===0&&this.callback){this.callback();this.callback=null}};f=function(e,t){this.dv=new DataView(e);this.offset=0;this.littleEndian=t};f.prototype.readInt8=function(){var e=this.offset;this.offset+=1;return this.dv.getInt8(e)};f.prototype.readUint8=function(){var e=this.offset;this.offset+=1;return this.dv.getUint8(e)};f.prototype.readInt16=function(){var e=this.offset;this.offset+=2;return this.dv.getInt16(e,this.littleEndian)};f.prototype.readUint16=function(){var e=this.offset;this.offset+=2;return this.dv.getUint16(e,this.littleEndian)};f.prototype.readInt32=function(){var e=this.offset;this.offset+=4;return this.dv.getInt32(e,this.littleEndian)};f.prototype.readUint32=function(){var e=this.offset;this.offset+=4;return this.dv.getUint32(e,this.littleEndian)};f.prototype.readFloat32=function(){var e=this.offset;this.offset+=4;return this.dv.getFloat32(e,this.littleEndian)};f.prototype.readBytes=function(e){var t=this.offset;this.offset+=e;return new Uint8Array(this.dv.buffer).subarray(t,this.offset)};m=function(e){e[2]*=-1;return e};p=function(e,t){var i;m(e);m(t);i=e[2];e[2]=t[2];t[2]=i};c=function(e){e[0]*=-1;e[1]*=-1;return e};u=function(e,t){var i;c(e);c(t);i=e[0];e[0]=t[0];t[0]=i;i=e[1];e[1]=t[1];t[1]=i};h={MAGIC:"IllegalMagicException",DATA:"IllegalDataException"};(function(){var g,v,i,y,S,x,o,t,D,n,a,r,s,_,b,l,E,w,T,k,R,P,C;g=function(e){f.call(this,e,true);if(this.readUint32()!==542657872){throw h.MAGIC}this.version=this.readFloat32();if(this.version!==2){throw h.DATA}if(this.readUint8()!==8){throw h.DATA}this.encode=this.readUint8();this.additionalUvCount=this.readUint8();this.vertexIndexSize=this.readUint8();this.textureIndexSize=this.readUint8();this.materialIndexSize=this.readUint8();this.boneIndexSize=this.readUint8();this.morphIndexSize=this.readUint8();this.rigidIndexSize=this.readUint8()};g.prototype=Object.create(f.prototype);g.prototype.constructor=g;g.prototype.readText=function(){var e=this.readInt32(),t,i;if(e===0){return""}t=[];if(this.encode===0){e/=2;while(e-- >0){t.push(this.readUint16())}}else{while(e>0){i=this.readUint8();if((i&240)===224){i&=15;i=i<<6|this.readUint8()&63;i=i<<6|this.readUint8()&63;e-=3}else if((i&224)===192){i&=31;i=i<<6|this.readUint8()&63;e-=2}else{e--}t.push(i)}}return String.fromCharCode.apply(undefined,t)};g.prototype.readIndex=function(e,t){var i;if(e===1){i=t?this.readUint8():this.readInt8()}else if(e===2){i=t?this.readUint16():this.readInt16()}else if(e===4){i=this.readInt32()}else{throw h.DATA}return i};g.prototype.readVertexIndex=function(){return this.readIndex(this.vertexIndexSize,true)};g.prototype.readTextureIndex=function(){return this.readIndex(this.textureIndexSize)};g.prototype.readMaterialIndex=function(){return this.readIndex(this.materialIndexSize)};g.prototype.readBoneIndex=function(){return this.readIndex(this.boneIndexSize)};g.prototype.readMorphIndex=function(){return this.readIndex(this.morphIndexSize)};g.prototype.readRigidIndex=function(){return this.readIndex(this.rigidIndexSize)};g.prototype.readVector=function(e,t){var i=[];while(e-- >0){i.push(this.readFloat32())}if(t)i=i.map(e=>e*MMD_SA._readVector_scale);return i};v=function(e){this.name=e.readText();this.nameEn=e.readText();this.comment=e.readText();this.commentEn=e.readText()};i=function(t){var e;this.type=t.readUint8();switch(this.type){case 0:this.bones=[i()];this.weights=[1];k++;break;case 1:this.bones=[i(),i()];e=t.readFloat32();this.weights=[e,1-e];R++;break;case 2:this.bones=[i(),i(),i(),i()];this.weights=[t.readFloat32(),t.readFloat32(),t.readFloat32(),t.readFloat32()];P++;break;case 3:this.bones=[i(),i()];e=t.readFloat32();this.weights=[e,1-e];this.sdefC=t.readVector(3);this.sdefR0=t.readVector(3);this.sdefR1=t.readVector(3);C++;break;default:throw h.DATA}function i(){var e=t.readBoneIndex();if(e<0){e=0}return e}};y=function(e){var t;this.pos=m(e.readVector(3,true));this.normal=m(e.readVector(3));this.uv=e.readVector(2);this.additionalUvs=[];t=e.additionalUvCount;while(t-- >0){this.additionalUvs.push(e.readVector(4))}this.skin=new i(e);this.edgeScale=e.readFloat32()};S=function(e){this.path=e.readText(/\\/g,"/")};x=function(e){this.name=e.readText();this.nameEn=e.readText();this.diffuse=e.readVector(3);this.alpha=e.readFloat32();this.specular=e.readVector(3);this.power=e.readFloat32();this.ambient=e.readVector(3);this.drawFlags=e.readUint8();this.edgeColor=e.readVector(4);this.edgeSize=e.readFloat32();this.texture=e.readTextureIndex();this.sphereTexture=e.readTextureIndex();this.sphereMode=e.readUint8();this.sharedToon=e.readUint8();if(this.sharedToon===0){this.toonTexture=e.readTextureIndex()}else{this.toonTexture=e.readUint8()}this.memo=e.readText();this.indexCount=e.readInt32()};o=function(e){this.bone=e.readBoneIndex();if(e.readUint8()===1){this.limits=[e.readVector(3),e.readVector(3)];u(this.limits[0],this.limits[1])}};t=function(e){var t;this.effector=e.readBoneIndex();this.iteration=e.readInt32();this.control=e.readFloat32();this.links=[];t=e.readInt32();while(t-- >0){this.links.push(new o(e))}};D=function(e){this.name=e.readText();this.nameEn=e.readText();this.origin=m(e.readVector(3,true));this.parent=e.readBoneIndex();this.deformHierachy=e.readInt32();this.flags=e.readUint16();if((this.flags&1)!==0){this.end=e.readBoneIndex()}else{this.end=m(e.readVector(3))}if((this.flags&768)!==0){this.additionalTransform=[e.readBoneIndex(),e.readFloat32()]}if((this.flags&1024)!==0){this.fixedAxis=m(e.readVector(3))}if((this.flags&2048)!==0){this.localCoordinate=[m(e.readVector(3)),m(e.readVector(3))]}if((this.flags&4096)!==0){if(self.MMD_SA&&MMD_SA.use_afterPhysics!==false)MMD_SA.use_afterPhysics=true;this.afterPhysics=true}if((this.flags&8192)!==0){this.externalDeform=e.readInt32()}if((this.flags&32)!==0){this.IK=new t(e)}};n=function(e){this.target=e.readVertexIndex();this.offset=m(e.readVector(3,true))};a=function(e){this.target=e.readVertexIndex();this.uv=e.readVector(4)};r=function(e){this.target=e.readBoneIndex();this.pos=e.readVector(3,true);this.rot=e.readVector(4);if(this.pos[0]||this.pos[1]||this.pos[2]){this.pos_v3=new THREE.Vector3(this.pos[0],this.pos[1],-this.pos[2])}if(this.rot[0]||this.rot[1]||this.rot[2]){this.rot_q=new THREE.Quaternion(this.rot[0],this.rot[1],this.rot[2],this.rot[3]);this.rot_q=this.rot_q.setFromEuler(MMD_SA.TEMP_v3.setEulerFromQuaternion(this.rot_q).multiply(MMD_SA._v3a.set(-1,-1,1)),"YXZ")}};s=function(e){this.target=e.readMaterialIndex();this.operator=e.readUint8();this.diffuse=e.readVector(3);this.alpha=e.readFloat32();this.specular=e.readVector(3);this.power=e.readFloat32();this.ambient=e.readVector(3);this.edgeColor=e.readVector(4);this.edgeSize=e.readFloat32();this.texture=e.readVector(4);this.sphereTexture=e.readVector(4);this.toonTexture=e.readVector(4)};_=function(e){this.target=e.readMorphIndex();this.weight=e.readFloat32()};b=function(e,t){var i;this.name=e.readText();if(self.MMD_SA){var o=t.morph_translate;if(o&&o[this.name]){this.name=o[this.name]}}this.nameEn=e.readText();this.panel=e.readUint8();this.type=e.readUint8();this.items=[];i=e.readInt32();while(i-- >0){if(this.type===0){this.items.push(new _(e))}else if(this.type===1){this.items.push(new n(e))}else if(this.type===2){this.items.push(new r(e))}else if(this.type>=3&&this.type<=7){this.items.push(new a(e))}else if(this.type===8){this.items.push(new s(e))}else{throw h.DATA}}};l=function(e){this.type=e.readUint8();if(this.type===0){this.index=e.readBoneIndex()}else if(this.type===1){this.index=e.readMorphIndex()}else{throw h.DATA}};E=function(e){var t;this.name=e.readText();this.nameEn=e.readText();this.special=e.readUint8();this.items=[];t=e.readInt32();while(t-- >0){this.items.push(new l(e))}};w=function(e){this.name=e.readText();this.nameEn=e.readText();this.bone=e.readBoneIndex();this.group=e.readUint8();this.mask=e.readUint16();this.shape=e.readUint8();this.size=e.readVector(3,true);this.pos=m(e.readVector(3,true));this.rot=c(e.readVector(3));this.mass=e.readFloat32();this.posDamping=e.readFloat32();this.rotDamping=e.readFloat32();this.restitution=e.readFloat32();this.friction=e.readFloat32();this.type=e.readUint8()};T=function(e){this.name=e.readText();this.nameEn=e.readText();this.type=e.readUint8();this.rigidA=e.readRigidIndex();this.rigidB=e.readRigidIndex();this.pos=m(e.readVector(3,true));this.rot=c(e.readVector(3));this.posLower=e.readVector(3,true);this.posUpper=e.readVector(3,true);p(this.posLower,this.posUpper);this.rotLower=e.readVector(3);this.rotUpper=e.readVector(3);u(this.rotLower,this.rotUpper);this.posSpring=e.readVector(3,true);this.rotSpring=e.readVector(3)};M=function(){};M.prototype.parse=function(e){var t,i,n;var _=this;var a,o;if(self.MMD_SA){var r=decodeURIComponent(this.url_raw.replace(/^.+[\/\\]/,""));a=MMD_SA_options.model_para_obj_by_filename[r];this._model_index=this._model_index_default=a._model_index;MMD_SA._readVector_scale=(a.model_scale||1)*(MMD_SA_options.WebXR?MMD_SA_options.WebXR.model_scale||1:1);if(/\#clone(\d+)\.pmx$/.test(r)){o=true;var s=r.replace(/\#clone(\d+)\.pmx$/,".pmx");var l=MMD_SA_options.model_para_obj_by_filename[s];var d=l._clone_parent.pmx;var f=Object.assign({},this);Object.assign(this,d,f);this.rigids=this.rigids.map(function(e){return Object.assign({},e)});this.rigid_index_by_bone=d.rigid_index_by_bone}else{t=new g(e);a._clone_parent={pmx:this}}}if(!o){this.vertices=[];this.indices=[];this.textures=[];this.materials=[];this.bones=[];this.morphs=[];this.frames=[];this.rigids=[];this.joints=[];k=R=P=C=0;this.info=new v(t);i=t.readInt32();while(i-- >0){this.vertices.push(new y(t))}i=t.readInt32();while(i-- >0){this.indices.push(t.readVertexIndex())}i=t.readInt32();while(i-- >0){this.textures.push(new S(t))}i=t.readInt32();while(i-- >0){this.materials.push(new x(t))}i=t.readInt32();while(i-- >0){this.bones.push(new D(t))}const A=self.MMD_SA&&!a.is_object&&(a.make_armIK||MMD_SA_options.make_armIK)&&this.bones.findIndex(e=>e.name=="")==-1;if(A){let r=this.bones.length;let s=this.bones.length;this.bones.forEach(e=>e.deformHierachy*=1.1);let e=this.bones.findIndex(e=>e.name=="")<this.bones.findIndex(e=>e.name=="")?["",""]:["",""];e.forEach(function(t){let e,i=[];let o,n;let a=_.bones.findIndex(e=>e.name==t+"");e=768|256;o=_.bones.find(e=>e.name==t+"");n=Object.assign({},o);n.name=n.nameEn=t+"+";n._index_IKAT=a-1+.2-32768;_.bones.push(n);o.flags|=e;o.additionalTransform=[r,1];o._index_IKAT=a+1-32768;i.unshift(r);r++;o=_.bones.find(e=>e.name==t+"");n=Object.assign({},o);n.name=n.nameEn=t+"+";n.parent=r-1;n._index_IKAT=a-1+.3-32768;_.bones.push(n);o.flags|=e;o.additionalTransform=[r,1];o._index_IKAT=a+2-32768;i.unshift(r);r++;o=_.bones.find(e=>e.name==t+"");n=Object.assign({},o);n.name=n.nameEn=t+"+";n.parent=r-1;n._index_IKAT=a-1+.4-32768;_.bones.push(n);n=Object.assign({},o);n.name=n.nameEn=t+"";n.parent=_.bones.findIndex(e=>e.name=="2");n._index_IKAT=a-1+.5-32768;n.IK={control:57.29578/180*Math.PI,effector:r,iteration:20,links:i.map(e=>({bone:e}))};n.flags|=32;_.bones.push(n);e=768|256;o.flags|=e;o.additionalTransform=[r,1];o._index_IKAT=a+3-32768;r+=2;for(let e=a;e<s;e++){_.bones[e].deformHierachy+=.01}})}if(a.skin_weight){let i={};let o=MMD_SA_options.skin_weight_mod||(MMD_SA_options.Dungeon?.5:1);Object.keys(a.skin_weight).forEach(function(t){let e=_.bones.findIndex(e=>e.name==t);if(e>=0)i[e]=a.skin_weight[t]*o});this.vertices.forEach(function(e){let n=e.skin;if(n.weights.length<=1)return;let a;let r=[];let s=n.weights.length;for(let o=0;o<s;o++){let e=i[n.bones[o]];if(e!=null){a=true;let t=n.weights[o]*(1-e);let i=1-n.weights[o];for(let e=0;e<s;e++){r[e]=(r[e]||0)+(e==o?-t:t*(n.weights[e]/i))}}}if(a){for(let e=0;e<s;e++){n.weights[e]+=r[e]}}})}i=t.readInt32();while(i-- >0){this.morphs.push(new b(t,a))}let o=this.morphs.find(e=>e.name=="");if(o&&self.MMD_SA&&MMD_SA_options.user_camera.ML_models.enabled){console.log("Use L/R");let e=Object.assign({},o);let t=Object.assign({},o);e.name=e.nameEn="L";t.name=t.nameEn="R";let i;if(o.type==1){e.items=o.items.filter(e=>_.vertices[e.target].pos[0]>0);t.items=o.items.filter(e=>_.vertices[e.target].pos[0]<0);i=true}if(i){this.morphs.push(e);this.morphs.push(t)}}i=t.readInt32();while(i-- >0){this.frames.push(new E(t))}i=t.readInt32();while(i-- >0){this.rigids.push(new w(t))}i=t.readInt32();while(i-- >0){this.joints.push(new T(t))}if(a&&a.physics_disabled){this.rigids=[];this.joints=[];console.log("Physics OFF: model-"+this._model_index)}n=this.bones;this.rigids.forEach(function(e){var t;if(e.bone>=0){t=n[e.bone].origin;e.ofs=[e.pos[0]-t[0],e.pos[1]-t[1],e.pos[2]-t[2]]}});this.rigids.forEach(function(e,t){e._index=t});this.rigid_index_by_bone={};this.rigids.forEach(function(e,t){_.rigid_index_by_bone[e.bone]=t})}if(self.MMD_SA&&a.morph_default&&!a.morph_default._is_empty){for(var h in a.morph_default){for(var m=0,p=this.morphs.length;m<p;m++){var c=this.morphs[m];if(h!=c.name)continue;var u={};if(c.type==0){c.items.forEach(function(e){if(_.morphs[e.target].type==2)_.morphs[e.target].items.forEach(function(e){u[_.bones[e.target].name]=true})});if(!u.length)continue}else if(c.type==2){c.items.forEach(function(e){u[_.bones[e.target].name]=true})}else continue;for(var M in u){if(!a.skin_default)a.skin_default={};a.skin_default._is_empty=null;if(!a.skin_default[M]){a.skin_default[M]={pos:{x:0,y:0,z:0}}}}break}}}};M.prototype.createMesh=function(u,e){var M,A,g,f,v,y,S,x,D,h;if(!this.vertices){console.error("not parsed");return}M=this;if(u.shadowDark===undefined){u.shadowDark=.3}if(u.edgeScale===undefined){u.edgeScale=1}if(u.textureAlias===undefined){u.textureAlias={}}var b,t;if(self.MMD_SA){b=MMD_SA_options.model_para_obj_all[this._model_index];var i=decodeURIComponent(this.url_raw.replace(/^.+[\/\\]/,""));if(/\#clone(\d+)\.pmx$/.test(i)){t=true;var o=i.replace(/\#clone(\d+)\.pmx$/,".pmx");var n=MMD_SA_options.model_para_obj_by_filename[o];A=n._clone_parent.geo;g=n._clone_parent.materials;this.morphs_index_by_name=A.morphs_index_by_name;e(new THREE.SkinnedMesh(A,new THREE.MeshFaceMaterial(g)));return}}A=new THREE.Geometry;g=[];if(!t){b._clone_parent.geo=A;b._clone_parent.materials=g}f=new d;f.add(function(){e(new THREE.SkinnedMesh(A,new THREE.MeshFaceMaterial(g)))});y=function(e){return new THREE.Vector3(e[0],e[1],e[2])};S=function(e){return new THREE.Vector2(e[0],e[1])};x=function(e){var t=new THREE.Color;t.r=e[0];t.g=e[1];t.b=e[2];return t};h={};var m=function(e,t){if(MMD_SA.use_webgl2)return;if(!t)return;var i=t._uv_bbox;var o=i.max.x-i.min.x;var n=i.max.y-i.min.y;if(o<=1&&n<=1)return;var a=e.image;var r,s;if(a.width>a.height){r=1;s=a.width/a.height}else{r=a.height/a.width;s=1}if(o<r*1.1&&n<s*1.1)return;var a=e.image;var _=a.width;var l=a.height;if((_&_-1)===0&&(l&l-1)===0)return;var d=Math.min(Math.pow(2,Math.round(Math.log2(a.width))),2048);var f=Math.min(Math.pow(2,Math.round(Math.log2(a.height))),2048);var h=e.image=document.createElement("canvas");h.width=d;h.height=f;h.getContext("2d").drawImage(a,0,0,d,f);console.log(t.name);console.log([d,f])};D=function(e,t,i,o){var n,a,r,s;n=e.split(".").pop().toLowerCase();for(a in u.textureAlias){if(a===n){n=u.textureAlias[a];e=e.slice(0,-a.length)+n;break}}if(h.hasOwnProperty(e)){return h[e]}s=function(){f.del();if(t)t()};f.add();let _=M.texturePath;if(/^\.\.[\/\\]/.test(e)){e=e.substring(3);_=_.replace(/[^\/\\]+\/$/,"")}if(n==="dds"){var l=!self.MMD_SA||!MMD_SA_options.flip_DDS||/^data:image/.test(e)?e:e.replace(/[^\/\\]+$/,"flipV/$&");r=THREE.ImageUtils.loadCompressedTexture(/^data:image/.test(e)?l:toFileProtocol(_+l),undefined,function(e){e.hasTransparency=e.format!==THREE.RGB_S3TC_DXT1_Format;e.minFilter=e.magFilter=THREE.LinearFilter;f.del()},s)}else{var d=/^toon\d\d\.bmp$/.test(e)?System.Gadget.path+"\\MMD.js\\data\\":_;r=THREE.ImageUtils.loadTexture(/^data:image/.test(e)?e:toFileProtocol(d+e),undefined,function(){var t=i;return function(e){m(e,t);f.del()}}(),s,o)}r.flipY=false;r.wrapS=r.wrapT=THREE.RepeatWrapping;h[e]=r;return r};this.vertices.forEach(function(e){var t;A.vertices.push(y(e.pos));t=e.skin;switch(t.type){case 0:A.skinWeights.push(new THREE.Vector4(t.weights[0],0,0,0));A.skinIndices.push(new THREE.Vector4(t.bones[0],0,0,0));break;case 1:case 3:A.skinWeights.push(new THREE.Vector4(t.weights[0],t.weights[1],0,0));A.skinIndices.push(new THREE.Vector4(t.bones[0],t.bones[1],0,0));break;case 2:A.skinWeights.push(new THREE.Vector4(t.weights[0],t.weights[1],t.weights[2],t.weights[3]));A.skinIndices.push(new THREE.Vector4(t.bones[0],t.bones[1],t.bones[2],t.bones[3]));break}});A.MMDmorphs=this.morphs;var a=A.morphs_index_by_name=this.morphs_index_by_name={};var r=A.morphs_weight_by_name=this.morphs_weight_by_name={};this.morphs.forEach(function(e,t){a[e.name]=t;r[e.name]=0});v=0;A.faceVertexUvs[0]=[];this.materials.forEach(function(e,t){var o,i,n,a,r,s,_,l,d;o=new I;o.name=e.name;o._xray_pass=self.MMD_SA&&MMD_SA_options._use_xray&&b.material_xray_pass&&b.material_xray_pass.test(o.name);var f=[];if(o._xray_pass){f.push({name:"xray_center",value:{type:"v3",value:new THREE.Vector3(999,999,999)}},{name:"xray_radius",value:{type:"f",value:Math.sqrt(MMD_SA_options._xray_radius*MMD_SA_options._xray_radius*3)}},{name:"xray_opacity",value:{type:"f",value:MMD_SA_options._xray_opacity}})}var h;h=MMD_SA_options.MME.self_overlay;f.push({name:"self_overlay_opacity",value:{type:"f",value:1}},{name:"self_overlay_brightness",value:{type:"f",value:1}},{name:"self_overlay_color_adjust",value:{type:"v3",value:new THREE.Vector3(1.5,1,1)}});h=MMD_SA_options.MME.HDR;f.push({name:"HDR_opacity",value:{type:"f",value:1}});h=MMD_SA_options.MME.serious_shader;f.push({name:"serious_shader_shadow_opacity",value:{type:"f",value:1}},{name:"OverBright",value:{type:"f",value:1}},{name:"ShadowDarkness",value:{type:"f",value:1}},{name:"ToonPower",value:{type:"f",value:1}},{name:"EyeLightPower",value:{type:"f",value:1}},{name:"serious_shader_mode",value:{type:"i",value:1}});if(MMD_SA.MME_shader_inline_switch_mode){["self_overlay","HDR","serious_shader"].forEach(function(e){h=MMD_SA_options.MME[e];f.push({name:e.toUpperCase(),value:{type:"i",value:1}})})}if(f.length){var m={};f.forEach(function(e){m[e.name]=e.value});o.uniforms=THREE.UniformsUtils.merge([o.uniforms,m])}var p=b.material_para||{};p=p[o.name]||p._default_||{};o.lights=true;o.skinning=true;o.ambient=x(p.ambient||e.ambient);o.color=x(p.diffuse||e.diffuse);o.specular=x(p.specular||e.specular);o.shininess=e.power;o.opacity=e.alpha;o.transparent=p.transparent!=null?p.transparent:true;if(p.side!=null){o.side=p.side}else if((e.drawFlags&1)!==0){o.side=THREE.DoubleSide}if((e.drawFlags&2)!==0&&p.castShadow!=false){o.castShadow=true;o.shadowMapCullFace=THREE.CullFaceNone}else{o.castShadow=false}if((e.drawFlags&8)!==0){o.mmdShadowDark=u.shadowDark}if((e.drawFlags&16)!==0){o.mmdEdgeThick=e.edgeSize*u.edgeScale*(b.edgeScale!=null?b.edgeScale:1);o.mmdEdgeColor=new THREE.Vector4(e.edgeColor[0],e.edgeColor[1],e.edgeColor[2],e.edgeColor[3])}if(e.texture>=0){o.map=D(M.textures[e.texture].path,function(){var i=o;return function(){var e=i.map.image=document.createElement("canvas");e.width=e.height=2;var t=e.getContext("2d");t.fillStyle="white";t.fillRect(0,0,2,2);i.map.needsUpdate=true}}(),o)}if(p.normalMap&&b.use_normalMap!==false){o.normalMap=D(p.normalMap,function(){var i=o;return function(){var e=i.map.image=document.createElement("canvas");e.width=e.height=2;var t=e.getContext("2d");t.fillStyle="white";t.fillRect(0,0,2,2);i.map.needsUpdate=true}}(),o,p.normalMap_resolution_limit?{texture_resolution_limit:p.normalMap_resolution_limit}:null);o.normalMap.wrapS=o.normalMap.wrapT=THREE.RepeatWrapping}a=null;if(e.sharedToon===0){if(e.toonTexture>=0){a=M.textures[e.toonTexture].path}}else{a=jThree.MMD.toon[e.toonTexture]}if(a){o.mmdToonMap=D(a,function(){var i=o;return function(){var e=i.mmdToonMap.image=document.createElement("canvas");e.width=e.height=2;var t=e.getContext("2d");t.fillStyle="white";t.fillRect(0,0,2,2);i.mmdToonMap.needsUpdate=true}}())}if(e.sphereMode>0&&e.sphereTexture>=0){o.mmdSphereMode=e.sphereMode;o.mmdSphereMap=D(M.textures[e.sphereTexture].path,function(){var i=o;return function(){var e=i.mmdSphereMap.image=document.createElement("canvas");e.width=e.height=2;var t=e.getContext("2d");t.fillStyle="black";t.fillRect(0,0,2,2);i.mmdSphereMap.needsUpdate=true}}())}o.setup();g.push(o);var c=o._uv_bbox={min:{x:0,y:0},max:{x:1,y:1},face_ini:v/3,face_end:(v+e.indexCount)/3};n=e.indexCount/3;if(!A._face_index_by_vertex){A._face_index_by_vertex=[]}while(n--){a=M.indices[v+2];r=M.indices[v+1];s=M.indices[v];i=new THREE.Face3(a,r,s);i.materialIndex=t;_=M.vertices[a];l=M.vertices[r];d=M.vertices[s];[a,r,s].forEach(function(e,t){if(!A._face_index_by_vertex[e])A._face_index_by_vertex[e]=[];A._face_index_by_vertex[e].push([A.faces.length,t])});A.faceVertexUvs[0].push(e.texture>=0?[S(_.uv),S(l.uv),S(d.uv)]:undefined);if(e.texture>=0&&!MMD_SA.use_webgl2){A.faceVertexUvs[0][v/3].forEach(function(e){if(e.x<c.min.x)c.min.x=e.x;else if(e.x>c.max.x)c.max.x=e.x;if(e.y<c.min.y)c.min.y=e.y;else if(e.y>c.max.y)c.max.y=e.y})}i.vertexNormals=[y(_.normal),y(l.normal),y(d.normal)];A.faces.push(i);v+=3}});A.MMDIKs=[];A.bones=[];this.bones.forEach(function(e,t){var i,o;if(e.IK){e.IK.target=t;A.MMDIKs.push(e.IK)}if(e.parent>=0){i=M.bones[e.parent].origin;i=[e.origin[0]-i[0],e.origin[1]-i[1],e.origin[2]-i[2]]}else{i=e.origin}o={};o.parent=e.parent;o.name=e.name;o.pos=i;o.rotq=[0,0,0,1];A.bones.push(o)});A.MMDjoints=this.joints;A.computeBoundingBox();A.boundingSphere=A.boundingBox.getBoundingSphere();self.MMD_SA&&MMD_SA_options.Dungeon&&MMD_SA_options.Dungeon.utils.adjust_boundingBox(A,b);console.log("boundingBox/Sphere-"+M._model_index,A.boundingBox,A.boundingSphere);f.del()};M.prototype.load=function(t,i){var o=this;this.url_raw=t;this._clone_index=-1;if(/\#clone(\d+)\.pmx$/.test(t)){t=t.replace(/\#clone(\d+)\.pmx$/,".pmx");this._clone_index=parseInt(RegExp.$1)}e(t,function(e){o.url=t;o.texturePath=/[\/\\]/.test(t)?t.replace(/[^\/\\]+$/,""):"";o.parse(e.response);i(o)})}})();x=function(e){var t,i;t={};for(i in e){if(e.hasOwnProperty(i)){t[i]=e[i]}}return t};(function(){var t,o,n,a,r,s,_,l;t=function(e){return e/30};o=function(e){e.sort(function(e,t){return e.time-t.time})};n=[86,111,99,97,108,111,105,100,32,77,111,116,105,111,110,32,68,97,116,97,32,48,48,48,50];a=function(e){var t,i;f.call(this,e,true);this.stringMap={};t=this.readBytes(30);for(i=0;i<n.length;i++){if(n[i]!==t[i]){throw h.MAGIC}}this.name=this.readCString(20)};a.prototype=Object.create(f.prototype);a.prototype.constructor=a;a.prototype.readCString=function(e){var t,i,o;t=this.readBytes(e);for(i=0;i<e;i++){if(t[i]===0){break}}o=String.fromCharCode.apply(undefined,THREE.MMD.Encoding.SJISToUNICODE(t.subarray(0,i)));if(this.stringMap.hasOwnProperty(o)){o=this.stringMap[o]}else{this.stringMap[o]=o}return o};a.prototype.readVector=function(e,t){var i=[];while(e-- >0){i.push(this.readFloat32())}if(t)i=i.map(e=>e*MMD_SA._readVector_scale);return i};r=function(e){this.name=e.readCString(15);this.time=t(e.readUint32());this.pos=m(e.readVector(3));this.rot=c(e.readVector(4));this.interp=e.readBytes(64).subarray(0,16)};s=function(e){this.name=e.readCString(15);this.time=t(e.readUint32());this.weight=e.readFloat32()};_=function(e){this.time=t(e.readUint32());this.distance=-e.readFloat32();this.target=m(e.readVector(3));this.rot=c(e.readVector(3));this.rot[0]*=-1;this.rot[1]*=-1;this.rot[2]*=-1;this.interp=e.readBytes(24);this.fov=e.readUint32();this.ortho=e.readInt8()};l=function(e){this.time=t(e.readUint32());this.color=e.readVector(3);this.dir=m(e.readVector(3))};A=function(){};A.prototype.parse=function(e){var t,i;t=new a(e);this.timeMax=0;this.boneKeys=[];this.morphKeys=[];this.cameraKeys=[];this.lightKeys=[];i=t.readUint32();while(i-- >0){this.boneKeys.push(new r(t))}o(this.boneKeys);i=this.boneKeys.length;if(i>0){this.timeMax=Math.max(this.timeMax,this.boneKeys[i-1].time)}i=t.readUint32();while(i-- >0){this.morphKeys.push(new s(t))}o(this.morphKeys);i=this.morphKeys.length;if(i>0){this.timeMax=Math.max(this.timeMax,this.morphKeys[i-1].time)}if(this.boneKeys.length||this.morphKeys.length){delete t.stringMap;return}i=t.readUint32();while(i-- >0){this.cameraKeys.push(new _(t))}o(this.cameraKeys);i=this.cameraKeys.length;if(i>0){this.timeMax=Math.max(this.timeMax,this.cameraKeys[i-1].time)}i=t.readUint32();while(i-- >0){this.lightKeys.push(new l(t))}o(this.lightKeys);i=this.lightKeys.length;if(i>0){this.timeMax=Math.max(this.timeMax,this.lightKeys[i-1].time)}delete t.stringMap};A.prototype.load=function(t,i){MMD_SA.vmd_by_filename[decodeURIComponent(t.replace(/^.+[\/\\]/,"").replace(/\.([a-z0-9]{1,4})$/i,""))]=this;if(/\.bvh$/i.test(t)){MMD_SA.BVHLoader().then(()=>{BVHLoader.VMD=A;BVHLoader.load(t).then(e=>{i(BVHLoader.toVMD(e))})});return}if(/\.(fbx|glb)$/i.test(t)){new Promise(e=>{if(THREE.MMD.getModels().length){e()}else{window.addEventListener("SA_MMD_model0_onload",()=>{e()},{once:true})}}).then(()=>{MMD_SA.THREEX.utils.load_THREEX_motion(t,THREE.MMD.getModels()[0],A).then(e=>{i(e)})});return}var o=this;e(toFileProtocol(t),function(e){o.url=t;o.parse(e.response);i(o)})};A.prototype.generateSkinAnimation=function(c,n){var u=self.MMD_SA&&MMD_SA_options.model_para_obj_all[c._model_index];const M=/\.vmd$/i.test(this.url)&&MMD_SA.THREEX.get_model(c._model_index).is_T_pose;const e=!M&&/\.(fbx|glb)$/i.test(this.url)&&!MMD_SA.THREEX.get_model(c._model_index).is_T_pose;const A=e||M;var a=self.MMD_SA&&MMD_SA_options.motion_para[decodeURIComponent(this.url.replace(/^.+[\/\\]/,"").replace(/\.([a-z0-9]{1,4})$/i,""))];var r=a&&a.adjustment_per_model&&(a.adjustment_per_model[MMD_SA.THREEX.get_model(c._model_index).model_path.replace(/^.+[\/\\]/,"")]||a.adjustment_per_model[u._filename_cleaned]||a.adjustment_per_model._default_);r=r&&r.skin_default||{};var s=MMD_SA_options.model_para_obj_all.length>1&&a&&(a.model_index_list||a.model_name_RegExp);var _=this;var g,v,y;g=this.boneKeys;if(g.length===0){return null}var S=new RegExp("("+toRegExp(["",""],"|")+")$");var t=this.timeMax;if(a&&a.freeze_onended){a.duration=9999;a.random_range_disabled=true}v=a&&a.duration||this.timeMax;y=[];c.bones.forEach(function(l,e){if(n){if(!n.test(l.name)){y.push({keys:[]});return}}var t=u.skin_default[l.name];var d=self.MMD_SA&&(r[l.name]||t);if(d&&(d.motion_filter&&!d.motion_filter.test(decodeURIComponent(_.url))||d.model_filter&&!d.model_filter.test(u._filename))){d=null}if(A){if(!d&&l.name.indexOf("")==l.name.length-1){d={pos_add:{x:0,y:0,z:0}}}}if(d){let e;if(s&&l.name==""&&(!t||d!=t)&&d.pos_add){e=d.pos_add_absolute=d.pos_add;delete d.pos_add}else{e=d.pos_add_absolute||t&&t.pos_add_absolute}if(e){d=Object.assign({},d);d.pos_add=!d.pos_add?e:{x:d.pos_add.x+e.x,y:d.pos_add.y+e.y,z:d.pos_add.z+e.z}}if(d.rot_scale){if(typeof d.rot_scale=="number"){d.rot_scale={x:d.rot_scale,y:d.rot_scale,z:d.rot_scale}}}}var f,h;f=[];var m=MMD_SA_options.model_para_obj_all.length>1;var p=(u.model_scale||1)*(MMD_SA_options.WebXR?MMD_SA_options.WebXR.model_scale||1:1);g.forEach(function(e){if(l.name===e.name){A&&(M?MMD_SA.THREEX.utils.convert_A_pose_rotation_to_T_pose(l.name,e.rot):MMD_SA.THREEX.utils.convert_T_pose_rotation_to_A_pose(l.name,e.rot));if(m&&d||p!=1){e=Object.assign({},e);e.rot=e.rot.slice();e.pos=e.pos.map(e=>e*p)}h=e;f.push(e);if(d){if(d.rot_slerp){d.rot_slerp._frame_=Math.round(e.time*30);var t=MMD_SA.TEMP_q.set(e.rot[0],e.rot[1],e.rot[2],e.rot[3]).toAxisAngle();e.rot=MMD_SA.TEMP_q.setFromAxisAngle(t[0],t[1]*d.rot_slerp).toArray()}if(d.rot_axis){d.rot_axis._frame_=Math.round(e.time*30);var i=new THREE.Vector3;var o;if(d.rot_axis.x){i.set(1,0,0);o=d.rot_axis.x}MMD_SA._q1.set(e.rot[0],e.rot[1],e.rot[2],e.rot[3]);i.applyQuaternion(MMD_SA._q1);e.rot=MMD_SA.TEMP_q.setFromAxisAngle(i,o*Math.PI/180).multiply(MMD_SA._q1).toArray()}if(d.rot_scale){d.rot_scale._frame_=Math.round(e.time*30);e.rot=MMD_SA.TEMP_q.setFromEuler(MMD_SA.TEMP_v3.setEulerFromQuaternion(MMD_SA._q1.set(e.rot[0],e.rot[1],e.rot[2],e.rot[3]),"YXZ").multiply(d.rot_scale),"YXZ").toArray()}if(d.rot_add){d.rot_add._frame_=Math.round(e.time*30);var n=d.rot_add;e.rot=MMD_SA.TEMP_q.set(e.rot[0],e.rot[1],e.rot[2],e.rot[3]).multiply(MMD_SA._q1.setFromEuler(MMD_SA.TEMP_v3.set(-n.x,n.y,-n.z).multiplyScalar(Math.PI/180),"YXZ")).toArray()}if(d.pos_scale){d.pos_scale._frame_=Math.round(e.time*30);var a=d.pos_scale;if(a.auto_adjust){var r=THREE.MMD.getModels()[c._model_index].mesh.bones_by_name;if(r[""]){var s=u._ref_length=u._ref_length||{};var _=s[e.name];if(!_)_=s[e.name]=c.bones[r[""]._index].origin[1]-(e.name.indexOf("")!=-1&&r[""]?c.bones[r[""]._index].origin[1]:0);e.pos[1]*=(_/a.auto_adjust.ref_length-1)*(a.auto_adjust.scale||1)+1}}else{e.pos[0]*=a.x;e.pos[1]*=a.y;e.pos[2]*=a.z}}if(d.pos_add){d.pos_add._frame_=Math.round(e.time*30);var a=d.pos_add;e.pos[0]+=a.x;e.pos[1]+=a.y;e.pos[2]+=-a.z}}}});if(self.MMD_SA){let a=d&&(d.pos_add||t&&t.pos_add||{x:0,y:0,z:0});let r=d&&(d.rot_add||t&&t.rot_add||{x:0,y:0,z:0});let s=["x","y","z"];if(d&&(d.keys||!f.length&&(d.pos||d.rot||d.pos_add||d.rot_add))){let e=d.keys?d.keys:[{pos:d.pos,rot:d.rot,time:d.time,interp:d.interp}];f=[];e.forEach(function(e){var t=e.pos;var i=e.rot;f.push({name:l.name,time:e.time||0,pos:(t?[t.x,t.y,-t.z]:[0,0,0]).map((e,t)=>e+a[s[t]]*(t==2?-1:1)),rot:MMD_SA.TEMP_q.setFromEuler(MMD_SA.TEMP_v3.fromArray((i?[-i.x,i.y,-i.z]:[0,0,0]).map((e,t)=>e*Math.PI/180+r[s[t]]*(t==1?1:-1))),"YXZ").toArray(),interp:new Uint8Array(e.interp||[20,20,20,20,20,20,20,20,107,107,107,107,107,107,107,107])});A&&(M?MMD_SA.THREEX.utils.convert_A_pose_rotation_to_T_pose(l.name,f[f.length-1].rot):MMD_SA.THREEX.utils.convert_T_pose_rotation_to_A_pose(l.name,f[f.length-1].rot))});h=f[f.length-1]}if(d&&d.keys_mod){d.keys_mod.forEach(function(t){var e=f.find(function(e){return Math.round(e.time*30)==t.frame});if(!e)return;var i=t.pos;var o=t.rot;var n=t.rot_add;if(n)o=MMD_SA._v3a.setEulerFromQuaternion(MMD_SA._q1.set(e.rot[0],e.rot[1],e.rot[2],e.rot[3]),"YXZ").multiply(MMD_SA._v3b.set(-1,1,-1)).multiplyScalar(180/Math.PI);if(i)e.pos=[i.x,i.y,-i.z].map((e,t)=>e+a[s[t]]*(t==2?-1:1));if(o){e.rot=MMD_SA.TEMP_q.setFromEuler(MMD_SA.TEMP_v3.fromArray([-(o.x+(n?.x||0)),o.y+(n?.y||0),-(o.z+(n?.z||0))].map((e,t)=>e*Math.PI/180+r[s[t]]*(t==1?1:-1))),"YXZ").toArray();!n&&A&&(M?MMD_SA.THREEX.utils.convert_A_pose_rotation_to_T_pose(l.name,e.rot):MMD_SA.THREEX.utils.convert_T_pose_rotation_to_A_pose(l.name,e.rot))}if(t.interp)e.interp=new Uint8Array(t.interp)})}if(h&&(f.length>1||h.time<v)&&/guitar|g_head|g_bridge|f_board|\u8155\uFF29\uFF2B/.test(l.name)){_.use_armIK=true}}if(!MMD_SA.THREEX.enabled){const i=a?.adjustment_by_scale?.[l.name];if(i){switch(l.name){case"":const o=MMD_SA.THREEX.get_model(c._model_index).mesh.bones_by_name[""].pmxBone.origin[1]/i.reference_value;f.forEach(e=>{e.pos[1]*=o});break}}}if(h&&h.time<v){h=x(h);h.time=v;f.push(h)}if((!a||!a.IK_disabled||a.IK_disabled._IK_name_list)&&S.test(l.name)){let o;if(f.length<=1){o=true}else if(f.length==2){let e=f[f.length-1];let t=e.pos;let i=e.rot;if(t[0]==0&&t[1]==0&&t[2]==0&&i[0]==0&&i[1]==0&&i[2]==0)o=true}if(o){let e=decodeURIComponent(_.url.replace(/^.+[\/\\]/,"").replace(/\.([a-z0-9]{1,4})$/i,""));a=MMD_SA_options.motion_para[e]=MMD_SA_options.motion_para[e]||{};a.IK_disabled=a.IK_disabled||{test:function(e){return this._IK_name_list.indexOf(e)!=-1},_IK_name_list:[]};a.IK_disabled._IK_name_list.push(l.name)}}if(f.length)y.push({keys:f,i:e})});if(a&&a.IK_disabled&&a.IK_disabled._IK_name_list){a.IK_disabled._IK_name_list=a.IK_disabled._IK_name_list.filter(function(e){return e.indexOf("")!=-1?a.IK_disabled._IK_name_list.indexOf(e.charAt(0)+"")!=-1:true});if(a.IK_disabled._IK_name_list.length==0)delete a.IK_disabled;else console.log("IK disabled auto:",decodeURIComponent(_.url.replace(/^.+[\/\\]/,"").replace(/\.([a-z0-9]{1,4})$/i,"")))}if(a){if(a.has_leg_IK==null){a.has_leg_IK=!a.IK_disabled?.test("")&&y.findIndex(e=>e.keys[0]&&e.keys[0].name.indexOf("")!=-1)!=-1}if(a.has_arm_IK==null){a.has_arm_IK=y.findIndex(e=>e.keys[0]&&e.keys[0].name.indexOf("")!=-1)!=-1}}return{_timeMax:t,duration:v,targets:y}};A.prototype.generateMorphAnimation=function(e,_){var l=self.MMD_SA&&MMD_SA_options.model_para_obj_all[e._model_index];var d,f,h;d=this.morphKeys;if(d.length===0){if(!self.MMD_SA||l.morph_default._is_empty){return null}}f=this.timeMax;h=[];var m=self.MMD_SA&&l.morph_filter;var p=this;var c=[];var t=self.MMD_SA&&MMD_SA_options.motion_para[decodeURIComponent(this.url.replace(/^.+[\/\\]/,"").replace(/\.([a-z0-9]{1,4})$/i,""))];var u=t&&t.adjustment_per_model&&(t.adjustment_per_model[MMD_SA.THREEX.get_model(e._model_index).model_path.replace(/^.+[\/\\]/,"")]||t.adjustment_per_model[l._filename_cleaned]||t.adjustment_per_model._default_);u=u&&u.morph_default||{};f=t&&t.duration||f;var M=[];if(MMD_SA_options.auto_blink)M[e.morphs_index_by_name[""]]=true;e.morphs.forEach(function(e,t){if(e.type!=0)return;if(_&&!_.test(e.name)||m&&!m.test(e.name)){return}var i=self.MMD_SA&&(u[e.name]||l.morph_default[e.name]);if(i&&i.motion_filter&&!i.motion_filter.test(decodeURIComponent(p.url))){i=null}var o;if(M[t]||i&&(!i.weight_scale||i.weight||i.keys))o=true;else{for(var n=0,a=d.length;n<a;n++){var r=d[n];if(e.name===r.name){if(r.weight>0){o=true;break}}}}if(o){e.items.forEach(function(e){M[e.target]=true})}});e.morphs.forEach(function(t,i){if(_&&!_.test(t.name)||m&&!m.test(t.name)){return}var o,n;var a=0;var r=self.MMD_SA&&(u[t.name]||l.morph_default[t.name]);if(r&&r.motion_filter&&!r.motion_filter.test(decodeURIComponent(p.url))){r=null}if(1){o=[];var s=MMD_SA_options.model_para_obj_all.length>1;d.forEach(function(e){if(t.name===e.name){if(s){e=Object.assign({},e)}n=e;o.push(e);e.morph_type=t.type;e.morph_index=i;if(r&&r.weight_scale)e.weight*=r.weight_scale;a=Math.max(a,e.weight)}});if(!a||r&&r.keys){o=[];n=undefined;if(r&&(!r.weight_scale||r.weight||r.keys)){if(r.keys){r.keys.forEach(function(e){o.push({name:t.name,weight:e.weight,time:e.time,morph_type:t.type,morph_index:i})})}else{o.push({name:t.name,weight:r.weight===0?0:r.weight||1,time:r.time||0,morph_type:t.type,morph_index:i})}n=o[o.length-1]}else if(M[i]){o.push({name:t.name,weight:0,time:0,morph_type:t.type,morph_index:i});n=o[o.length-1]}}if(!n){return}if(n.time<f){n=x(n);n.time=f;o.push(n)}if(t.type!=1){c.push({keys:o})}else h.push({keys:o})}});h=h.concat(c);if(h.length===0){}return{duration:f,targets:h}};A.prototype.generateCameraAnimation=function(){var e,t,i,o;e=this.cameraKeys;if(e.length===0){return null}t=this.timeMax;i=[];e.forEach(function(e){o=e;i.push(e)});if(o&&o.time<t){o=x(o);o.time=t;i.push(o)}return{duration:t,keys:i}};A.prototype.generateLightAnimation=function(){var e,t,i,o;e=this.lightKeys;if(e.length===0){return null}t=this.timeMax;i=[];e.forEach(function(e){o=e;i.push(e)});if(o&&o.time<t){o=x(o);o.time=t;i.push(o)}return{duration:t,keys:i}}})();t={uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.bump,THREE.UniformsLib.normalmap,THREE.UniformsLib.fog,THREE.UniformsLib.lights,THREE.UniformsLib.shadowmap,THREE.UniformsLib["uniTexture"],{ambient:{type:"c",value:new THREE.Color(16777215)},emissive:{type:"c",value:new THREE.Color(0)},specular:{type:"c",value:new THREE.Color(1118481)},shininess:{type:"f",value:30},wrapRGB:{type:"v3",value:new THREE.Vector3(1,1,1)},MMDShadow:{type:"f",value:0},mmdToonMap:{type:"t",value:null},mmdSphereMap:{type:"t",value:null},mmdEdgeThick:{type:"f",value:0},mmdEdgeColor:{type:"v4",value:new THREE.Vector4(0,0,0,1)},mmdShadowDark:{type:"f",value:0}}]),vertexShader:"#define MMD\n#define PHONG\nvarying vec3 vViewPosition;varying vec3 vNormal;\n#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP )\nvarying vec2 vUv;uniform vec4 offsetRepeat;\n#endif\n#ifdef USE_LIGHTMAP\nvarying vec2 vUv2;\n#endif\n#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP )\nvarying vec3 vReflect;uniform float refractionRatio;uniform bool useRefract;\n#endif\n#ifndef PHONG_PER_PIXEL\n#if MAX_POINT_LIGHTS > 0\nuniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];uniform float pointLightDistance[ MAX_POINT_LIGHTS ];varying vec4 vPointLight[ MAX_POINT_LIGHTS ];\n#endif\n#if MAX_SPOT_LIGHTS > 0\nuniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];uniform float spotLightDistance[ MAX_SPOT_LIGHTS ];varying vec4 vSpotLight[ MAX_SPOT_LIGHTS ];\n#endif\n#endif\n"+THREE.ShaderChunk["uniTexture_pars_vertex"]+"\n"+"#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP ) || defined(USE_XRAY_PASS)\n"+"varying vec3 vWorldPosition;\n"+"#endif\n"+"#ifdef USE_COLOR\nvarying vec3 vColor;\n#endif\n"+"#ifdef USE_MORPHTARGETS\n#ifndef USE_MORPHNORMALS\n"+"uniform float morphTargetInfluences[ 8 ];\n#else\nuniform float morphTargetInfluences[ 4 ];\n"+"#endif\n#endif\n"+"#ifdef USE_SKINNING\n#ifdef BONE_TEXTURE\nuniform sampler2D boneTexture;mat4 getBoneMatrix( const in float i ) {float j = i * 4.0;float x = mod( j, N_BONE_PIXEL_X );float y = floor( j / N_BONE_PIXEL_X );const float dx = 1.0 / N_BONE_PIXEL_X;const float dy = 1.0 / N_BONE_PIXEL_Y;y = dy * ( y + 0.5 );vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );mat4 bone = mat4( v1, v2, v3, v4 );return bone;}\n#else\nuniform mat4 boneGlobalMatrices[ MAX_BONES ];mat4 getBoneMatrix( const in float i ) {mat4 bone = boneGlobalMatrices[ int(i) ];return bone;}\n#endif\n#endif\n#ifdef USE_SHADOWMAP\n"+"varying vec3 normal_untransformed;"+"varying vec4 vShadowCoord[ MAX_SHADOWS ];uniform mat4 shadowMatrix[ MAX_SHADOWS ];\n#endif\n#ifdef MMD\nuniform float mmdEdgeThick;\n#endif\n#ifdef MMD_SPHEREMAP\nvarying vec2 vUvSphere;\n#endif\n"+"void main() {\n"+"#ifdef USE_SKINNING\nmat4 skinMatrix;\n#ifdef MMD\nskinMatrix  = skinWeight.x * getBoneMatrix( skinIndex.x );if ( skinWeight.y > 0.0 ) {skinMatrix += skinWeight.y * getBoneMatrix( skinIndex.y );if ( skinWeight.z > 0.0 ) {skinMatrix += skinWeight.z * getBoneMatrix( skinIndex.z );skinMatrix += skinWeight.w * getBoneMatrix( skinIndex.w );}}\n#else\nskinMatrix =skinWeight.x * getBoneMatrix( skinIndex.x ) +skinWeight.y * getBoneMatrix( skinIndex.y );\n#endif\n#endif\nvec3 objectNormal = normal;\n"+"#ifdef USE_MORPHNORMALS\n"+function(){let t="";for(let e=0;e<4;e++)t+="objectNormal += ( morphNormal"+e+" - normal ) * morphTargetInfluences[ "+e+" ];\n";return t}()+"#endif\n"+"#ifdef USE_SKINNING\nobjectNormal.xyz = ( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n#ifdef FLIP_SIDED\nobjectNormal = -objectNormal;\n#endif\n"+"#ifdef USE_SHADOWMAP\n"+"  normal_untransformed = normalize(mat3( modelMatrix[ 0 ].xyz, modelMatrix[ 1 ].xyz, modelMatrix[ 2 ].xyz ) * objectNormal);\n"+"#endif\n"+"vNormal = normalize( normalMatrix * objectNormal );vec3 objectPosition = position;\n"+"#ifdef USE_MORPHTARGETS\n"+function(){let t="";for(let e=0;e<8;e++)t+="objectPosition += ( morphTarget"+e+" - position ) * morphTargetInfluences[ "+e+" ];\n";return t}()+"#endif\n"+"#ifdef USE_UNI_TEXTURE\n"+"  vec3 uniTexture_pos = objectPosition;\n"+"#endif\n"+"#ifdef USE_SKINNING\nobjectPosition.xyz = ( skinMatrix * vec4( objectPosition, 1.0 ) ).xyz;\n#endif\nvec4 mvPosition = modelViewMatrix * vec4( objectPosition, 1.0 );gl_Position = projectionMatrix * mvPosition;\n"+"#ifdef MMD\n"+"if (mmdEdgeThick > 0.0) {\n"+"#ifdef USE_XRAY_PASS\n"+"vWorldPosition = (modelMatrix * vec4( objectPosition, 1.0 )).xyz;\n"+"#endif\n"+"vec2 offset;offset.x = vNormal.x * projectionMatrix[0][0] / projectionMatrix[1][1];offset.y = vNormal.y;gl_Position.xy += offset * gl_Position.w * mmdEdgeThick;return;}\n"+"#endif\n"+"vViewPosition = -mvPosition.xyz;\n#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\nvec4 worldPosition = modelMatrix * vec4( objectPosition, 1.0 );\n#endif\n#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP )\nvec3 worldNormal = mat3( modelMatrix[ 0 ].xyz, modelMatrix[ 1 ].xyz, modelMatrix[ 2 ].xyz ) * objectNormal;worldNormal = normalize( worldNormal );vec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );if ( useRefract ) {vReflect = refract( cameraToVertex, worldNormal, refractionRatio );} else {vReflect = reflect( cameraToVertex, worldNormal );}\n#endif\n#ifndef PHONG_PER_PIXEL\n#if MAX_POINT_LIGHTS > 0\nfor( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {vec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );vec3 lVector = lPosition.xyz - mvPosition.xyz;float lDistance = 1.0;if ( pointLightDistance[ i ] > 0.0 )lDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );vPointLight[ i ] = vec4( lVector, lDistance );}\n#endif\n#if MAX_SPOT_LIGHTS > 0\nfor( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {vec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );vec3 lVector = lPosition.xyz - mvPosition.xyz;float lDistance = 1.0;if ( spotLightDistance[ i ] > 0.0 )lDistance = 1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );vSpotLight[ i ] = vec4( lVector, lDistance );}\n#endif\n#endif\n"+"#ifdef USE_UNI_TEXTURE\n"+["uniTexture_pos = uniTexture_pos - vec3(uniTexture_bs, -uniTexture_bs, uniTexture_bs) * 10.;","uniTexture_MatrixRain_opacity = (uniTexture_MatrixRain_height_limit.x > 0.0) ? clamp((1.0 - (uniTexture_MatrixRain_height_limit.y + uniTexture_bs - position.y) / (uniTexture_bs * 2.0) - uniTexture_MatrixRain_height_limit.x) / (uniTexture_MatrixRain_height_limit.x*0.25), 0.0, 1.0) : 1.0;","uniTexture_vUv = vec2(-length(uniTexture_pos.xz), length(uniTexture_pos.yz)) * 0.1 / uniTexture_scale;","#if !(MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP ) || defined(USE_XRAY_PASS))","  vWorldPosition = worldPosition.xyz;","#endif"].join("\n")+"\n"+"#endif\n"+"#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP ) || defined(USE_XRAY_PASS)\n"+"vWorldPosition = worldPosition.xyz;\n"+"#endif\n"+"#ifdef USE_SHADOWMAP\nfor( int i = 0; i < MAX_SHADOWS; i ++ ) {vShadowCoord[ i ] = shadowMatrix[ i ] * worldPosition;}\n#endif\n#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP )\nvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n#endif\n#ifdef USE_LIGHTMAP\nvUv2 = uv2;\n#endif\n#ifdef MMD_SPHEREMAP\nvUvSphere = vNormal.xy * 0.5 + 0.5;vUvSphere.y = 1.0 - vUvSphere.y;\n#endif\n#ifdef USE_COLOR\n#ifdef GAMMA_INPUT\nvColor = color * color;\n#else\nvColor = color;\n#endif\n#endif\n"+"}",fragmentShader:"#define MMD\nuniform vec3 diffuse;uniform float opacity;uniform vec3 ambient;uniform vec3 emissive;uniform vec3 specular;uniform float shininess;\n#ifdef USE_COLOR\nvarying vec3 vColor;\n#endif\n#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP )\nvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\nuniform sampler2D map;\n#endif\n#ifdef USE_LIGHTMAP\nvarying vec2 vUv2;uniform sampler2D lightMap;\n#endif\n#ifdef USE_ENVMAP\nuniform float reflectivity;uniform samplerCube envMap;uniform float flipEnvMap;uniform int combine;\n#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\nuniform bool useRefract;uniform float refractionRatio;\n#else\nvarying vec3 vReflect;\n#endif\n#endif\n#ifdef USE_FOG\nuniform vec3 fogColor;\n#ifdef FOG_EXP2\nuniform float fogDensity;\n#else\nuniform float fogNear;uniform float fogFar;\n#endif\n#endif\nuniform vec3 ambientLightColor;\n#if MAX_DIR_LIGHTS > 0\nuniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];uniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];\n#endif\n#if MAX_HEMI_LIGHTS > 0\nuniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];uniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];uniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];\n#endif\n#if MAX_POINT_LIGHTS > 0\nuniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];\n#ifdef PHONG_PER_PIXEL\nuniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];uniform float pointLightDistance[ MAX_POINT_LIGHTS ];\n#else\nvarying vec4 vPointLight[ MAX_POINT_LIGHTS ];\n#endif\n#endif\n#if MAX_SPOT_LIGHTS > 0\nuniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];uniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];uniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];uniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];uniform float spotLightExponent[ MAX_SPOT_LIGHTS ];\n#ifdef PHONG_PER_PIXEL\nuniform float spotLightDistance[ MAX_SPOT_LIGHTS ];\n#else\nvarying vec4 vSpotLight[ MAX_SPOT_LIGHTS ];\n#endif\n#endif\n"+THREE.ShaderChunk["uniTexture_pars_fragment"]+"\n"+"#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP ) || defined(USE_XRAY_PASS)\n"+"varying vec3 vWorldPosition;\n"+"#endif\n"+"#ifdef USE_XRAY_PASS\n"+"uniform vec3 xray_center;\n"+"uniform float xray_radius;\n"+"uniform float xray_opacity;\n"+"#endif\n"+MMD_SA.MME_shader("HDR").fvar+MMD_SA.MME_shader("self_overlay").fvar+MMD_SA.MME_shader("serious_shader").fvar+"#ifdef WRAP_AROUND\nuniform vec3 wrapRGB;\n#endif\nvarying vec3 vViewPosition;varying vec3 vNormal;\n#ifdef USE_SHADOWMAP\nuniform sampler2D shadowMap[ MAX_SHADOWS ];uniform vec2 shadowMapSize[ MAX_SHADOWS ];uniform float shadowDarkness[ MAX_SHADOWS ];"+"uniform vec3 shadowBias[ MAX_SHADOWS ];"+"uniform vec3 shadowPara[ MAX_SHADOWS ];"+"varying vec3 normal_untransformed;"+"varying vec4 vShadowCoord[ MAX_SHADOWS ];float unpackDepth( const in vec4 rgba_depth ) {const vec4 bit_shift = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );float depth = dot( rgba_depth, bit_shift );return depth;}\n#endif\n#ifdef USE_BUMPMAP\nuniform sampler2D bumpMap;uniform float bumpScale;vec2 dHdxy_fwd() {vec2 dSTdx = dFdx( vUv );vec2 dSTdy = dFdy( vUv );float Hll = bumpScale * texture2D( bumpMap, vUv ).x;float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;return vec2( dBx, dBy );}vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {vec3 vSigmaX = dFdx( surf_pos );vec3 vSigmaY = dFdy( surf_pos );vec3 vN = surf_norm;vec3 R1 = cross( vSigmaY, vN );vec3 R2 = cross( vN, vSigmaX );float fDet = dot( vSigmaX, R1 );vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );return normalize( abs( fDet ) * surf_norm - vGrad );}\n#endif\n#ifdef USE_NORMALMAP\nuniform sampler2D normalMap;uniform vec2 normalScale;vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {vec3 q0 = dFdx( eye_pos.xyz );vec3 q1 = dFdy( eye_pos.xyz );vec2 st0 = dFdx( vUv.st );vec2 st1 = dFdy( vUv.st );vec3 S = normalize(  q0 * st1.t - q1 * st0.t );vec3 T = normalize( -q0 * st1.s + q1 * st0.s );vec3 N = normalize( surf_norm );vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;mapN.xy = normalScale * mapN.xy;mat3 tsn = mat3( S, T, N );return normalize( tsn * mapN );}\n#endif\n#ifdef USE_SPECULARMAP\nuniform sampler2D specularMap;\n#endif\n"+"#ifdef MMD\n"+"uniform float MMDShadow;"+"uniform float mmdEdgeThick;uniform vec4 mmdEdgeColor;uniform float mmdShadowDark;\n"+"#endif\n"+"#ifdef MMD_TOONMAP\nuniform sampler2D mmdToonMap;\n#endif\n#ifdef MMD_SPHEREMAP\nvarying vec2 vUvSphere;uniform sampler2D mmdSphereMap;\n#endif\n"+THREE.ShaderChunk["AT_depth_render_mode_pars_fragment"]+"\n"+["vec3 YCbCrtoRGB(float Y, float Cb, float Cr) {","    float R = Y - 0.000982 * Cb + 1.401845 * Cr;","    float G = Y - 0.345117 * Cb - 0.714291 * Cr;","    float B = Y + 1.771019 * Cb - 0.000154 * Cr;","    return vec3( R, G, B );","}"].join("\n")+"\n"+"void main() {\n"+THREE.ShaderChunk["AT_depth_render_mode_fragment"]+"\n"+"#ifdef MMD\nif (mmdEdgeThick > 0.0) {gl_FragColor = mmdEdgeColor;} else {\n#endif\ngl_FragColor = vec4( vec3 ( 1.0 ), opacity );vec4 texelColor;\n"+"#ifdef USE_MAP\n"+"texelColor = texture2D( map, vUv );\n"+"#ifdef GAMMA_INPUT\ntexelColor.xyz *= texelColor.xyz;\n#endif\n"+"gl_FragColor = gl_FragColor * texelColor;\n"+"#endif\n"+"#ifdef MMD_SPHEREMAP\n"+"texelColor = texture2D( mmdSphereMap, vUvSphere );\n"+"#ifdef GAMMA_INPUT\ntexelColor.xyz *= texelColor.xyz;\n#endif\n"+"#if MMD_SPHEREMAP == 1\ngl_FragColor = gl_FragColor * texelColor;\n#else\ngl_FragColor.xyz = gl_FragColor.xyz + texelColor.xyz;\n#endif\n"+"#endif\n"+"vec4 ShadowColor;\n"+"float Y, Cb, Cr;\n"+"vec3 shadowColor = vec3( 1.0 );\n"+"#ifdef MAX_DIR_LIGHTS\n"+"float comp_list[MAX_DIR_LIGHTS];\n"+"#endif\n"+MMD_SA.MME_shader_branch("SERIOUS_SHADER",true)+"ShadowColor = vec4(gl_FragColor.rgb, 1.0);\n"+MMD_SA.MME_shader_branch("SERIOUS_SHADER",false)+"#ifdef ALPHATEST\nif ( gl_FragColor.a < ALPHATEST ) discard;\n#endif\nfloat specularStrength;\n#ifdef USE_SPECULARMAP\nvec4 texelSpecular = texture2D( specularMap, vUv );specularStrength = texelSpecular.r;\n#else\nspecularStrength = 1.0;\n#endif\nvec3 normal = vNormal;vec3 viewPosition = normalize( vViewPosition );\n#ifdef DOUBLE_SIDED\nnormal = normal * ( -1.0 + 2.0 * float( gl_FrontFacing ) );\n#endif\n#ifdef USE_NORMALMAP\nnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\nnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\nvec3 totalDiffuse = vec3( 0.0 );vec3 totalSpecular = vec3( 0.0 );\n#ifdef MMD\nvec3 totalToon = vec3( 0.0 );\n#endif\n#if MAX_POINT_LIGHTS > 0\nfor ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\n#ifdef PHONG_PER_PIXEL\nvec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );vec3 lVector = lPosition.xyz + vViewPosition.xyz;float lDistance = 1.0;if ( pointLightDistance[ i ] > 0.0 )lDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );lVector = normalize( lVector );\n#else\nvec3 lVector = normalize( vPointLight[ i ].xyz );float lDistance = vPointLight[ i ].w;\n#endif\nfloat dotProduct = dot( normal, lVector );\n#ifdef WRAP_AROUND\nfloat pointDiffuseWeightFull = max( dotProduct, 0.0 );float pointDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );vec3 pointDiffuseWeight = mix( vec3 ( pointDiffuseWeightFull ), vec3( pointDiffuseWeightHalf ), wrapRGB );\n#else\nfloat pointDiffuseWeight = max( dotProduct, 0.0 );\n#endif\n#ifdef MMD\n#ifdef MMD_TOONMAP\ntotalToon += (1.0 - totalToon) * texture2D( mmdToonMap, vec2( 0.0, 1.0 - ( 0.5 * dotProduct + 0.5 ) ) ).xyz;\n#else\ntotalToon += (1.0 - totalToon) * vec3( 1.0 );\n#endif\ntotalDiffuse += (1.0 - totalDiffuse) * diffuse * pointLightColor[ i ] * lDistance;\n#else\ntotalDiffuse += (1.0 - totalDiffuse) * diffuse * pointLightColor[ i ] * pointDiffuseWeight * lDistance;\n#endif\nvec3 pointHalfVector = normalize( lVector + viewPosition );float pointDotNormalHalf = max( dot( normal, pointHalfVector ), 0.0 );float pointSpecularWeight = specularStrength * pow( pointDotNormalHalf, shininess );\n#ifdef PHYSICALLY_BASED_SHADING\nfloat specularNormalization = ( shininess + 2.0001 ) / 8.0;vec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVector, pointHalfVector ), 5.0 );totalSpecular += schlick * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * lDistance * specularNormalization;\n#else\ntotalSpecular += specular * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * lDistance;\n#endif\n}\n#endif\n#if MAX_SPOT_LIGHTS > 0\nfor ( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {\n#ifdef PHONG_PER_PIXEL\nvec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );vec3 lVector = lPosition.xyz + vViewPosition.xyz;float lDistance = 1.0;if ( spotLightDistance[ i ] > 0.0 )lDistance = 1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );lVector = normalize( lVector );\n#else\nvec3 lVector = normalize( vSpotLight[ i ].xyz );float lDistance = vSpotLight[ i ].w;\n#endif\nfloat spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - vWorldPosition ) );if ( spotEffect > spotLightAngleCos[ i ] ) {spotEffect = max( pow( spotEffect, spotLightExponent[ i ] ), 0.0 );float dotProduct = dot( normal, lVector );\n#ifdef WRAP_AROUND\nfloat spotDiffuseWeightFull = max( dotProduct, 0.0 );float spotDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );vec3 spotDiffuseWeight = mix( vec3 ( spotDiffuseWeightFull ), vec3( spotDiffuseWeightHalf ), wrapRGB );\n#else\nfloat spotDiffuseWeight = max( dotProduct, 0.0 );\n#endif\n#ifdef MMD\n#ifdef MMD_TOONMAP\ntotalToon += (1.0 - totalToon) * texture2D( mmdToonMap, vec2( 0.0, 1.0 - ( 0.5 * dotProduct + 0.5 ) ) ).xyz;\n#else\ntotalToon += (1.0 - totalToon) * vec3( 1.0 );\n#endif\ntotalDiffuse += (1.0 - totalDiffuse) * diffuse * spotLightColor[ i ] * lDistance * spotEffect;\n#else\ntotalDiffuse += (1.0 - totalDiffuse) * diffuse * spotLightColor[ i ] * spotDiffuseWeight * lDistance * spotEffect;\n#endif\nvec3 spotHalfVector = normalize( lVector + viewPosition );float spotDotNormalHalf = max( dot( normal, spotHalfVector ), 0.0 );float spotSpecularWeight = specularStrength * pow( spotDotNormalHalf, shininess );\n#ifdef PHYSICALLY_BASED_SHADING\nfloat specularNormalization = ( shininess + 2.0001 ) / 8.0;vec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVector, spotHalfVector ), 5.0 );totalSpecular += schlick * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * lDistance * specularNormalization * spotEffect;\n#else\ntotalSpecular += specular * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * lDistance * spotEffect;\n#endif\n}}\n#endif\n#if MAX_DIR_LIGHTS > 0\nfor( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );vec3 dirVector = normalize( lDirection.xyz );"+"float dotProduct = dot( normal, dirVector );\n"+MMD_SA.MME_shader_branch("SERIOUS_SHADER",true)+"comp_list[i] = dotProduct;\n"+MMD_SA.MME_shader_branch("SERIOUS_SHADER",false)+"#ifdef WRAP_AROUND\nfloat dirDiffuseWeightFull = max( dotProduct, 0.0 );float dirDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );vec3 dirDiffuseWeight = mix( vec3( dirDiffuseWeightFull ), vec3( dirDiffuseWeightHalf ), wrapRGB );\n#else\nfloat dirDiffuseWeight = max( dotProduct, 0.0 );\n#endif\n#ifdef MMD\n#ifdef MMD_TOONMAP\ntotalToon += (1.0 - totalToon) * texture2D( mmdToonMap, vec2( 0.0, 1.0 - ( 0.5 * dotProduct + 0.5 ) ) ).xyz;\n#else\ntotalToon += (1.0 - totalToon) * vec3( 1.0 );\n#endif\ntotalDiffuse += (1.0 - totalDiffuse) * diffuse * directionalLightColor[ i ];\n#else\ntotalDiffuse += (1.0 - totalDiffuse) * diffuse * directionalLightColor[ i ] * dirDiffuseWeight;\n#endif\nvec3 dirHalfVector = normalize( dirVector + viewPosition );float dirDotNormalHalf = max( dot( normal, dirHalfVector ), 0.0 );float dirSpecularWeight = specularStrength * pow( dirDotNormalHalf, shininess );\n#ifdef PHYSICALLY_BASED_SHADING\nfloat specularNormalization = ( shininess + 2.0001 ) / 8.0;vec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( dirVector, dirHalfVector ), 5.0 );totalSpecular += schlick * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization;\n#else\ntotalSpecular += specular * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight;\n#endif\n}\n#endif\n#if MAX_HEMI_LIGHTS > 0\nfor( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {vec4 lDirection = viewMatrix * vec4( hemisphereLightDirection[ i ], 0.0 );vec3 lVector = normalize( lDirection.xyz );float dotProduct = dot( normal, lVector );float hemiDiffuseWeight = 0.5 * dotProduct + 0.5;\n#ifdef MMD\n#ifdef MMD_TOONMAP\ntotalToon += (1.0 - totalToon) * texture2D( mmdToonMap, vec2( 0.0, 1.0 - hemiDiffuseWeight ) ).xyz;\n#else\ntotalToon += (1.0 - totalToon) * vec3( 1.0 );\n#endif\n#endif\nvec3 hemiColor = mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );totalDiffuse += (1.0 - totalDiffuse) * diffuse * hemiColor;vec3 hemiHalfVectorSky = normalize( lVector + viewPosition );float hemiDotNormalHalfSky = 0.5 * dot( normal, hemiHalfVectorSky ) + 0.5;float hemiSpecularWeightSky = specularStrength * pow( hemiDotNormalHalfSky, shininess );vec3 lVectorGround = -lVector;vec3 hemiHalfVectorGround = normalize( lVectorGround + viewPosition );float hemiDotNormalHalfGround = 0.5 * dot( normal, hemiHalfVectorGround ) + 0.5;float hemiSpecularWeightGround = specularStrength * pow( hemiDotNormalHalfGround, shininess );\n#ifdef PHYSICALLY_BASED_SHADING\nfloat dotProductGround = dot( normal, lVectorGround );float specularNormalization = ( shininess + 2.0001 ) / 8.0;vec3 schlickSky = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVector, hemiHalfVectorSky ), 5.0 );vec3 schlickGround = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVectorGround, hemiHalfVectorGround ), 5.0 );totalSpecular += hemiColor * specularNormalization * ( schlickSky * hemiSpecularWeightSky * max( dotProduct, 0.0 ) + schlickGround * hemiSpecularWeightGround * max( dotProductGround, 0.0 ) );\n#else\ntotalSpecular += specular * hemiColor * ( hemiSpecularWeightSky + hemiSpecularWeightGround ) * hemiDiffuseWeight;\n#endif\n}\n#endif\n#ifdef MMD\ntotalSpecular = max( totalSpecular, 0.0 );\n#endif\n"+"#ifdef USE_LIGHTMAP\ngl_FragColor = gl_FragColor * texture2D( lightMap, vUv2 );\n#endif\n#ifdef USE_COLOR\ngl_FragColor = gl_FragColor * vec4( vColor, opacity );\n#endif\n#ifdef USE_ENVMAP\nvec3 reflectVec;\n#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\nvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );if ( useRefract ) {reflectVec = refract( cameraToVertex, normal, refractionRatio );} else {reflectVec = reflect( cameraToVertex, normal );}\n#else\nreflectVec = vReflect;\n#endif\n#ifdef DOUBLE_SIDED\nfloat flipNormal = ( -1.0 + 2.0 * float( gl_FrontFacing ) );vec4 cubeColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n#else\nvec4 cubeColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n#endif\n#ifdef GAMMA_INPUT\ncubeColor.xyz *= cubeColor.xyz;\n#endif\nif ( combine == 1 ) {gl_FragColor.xyz = mix( gl_FragColor.xyz, cubeColor.xyz, specularStrength * reflectivity );} else if ( combine == 2 ) {gl_FragColor.xyz += cubeColor.xyz * specularStrength * reflectivity;} else {gl_FragColor.xyz = mix( gl_FragColor.xyz, gl_FragColor.xyz * cubeColor.xyz, specularStrength * reflectivity );}\n#endif\n"+"#ifdef USE_SHADOWMAP\n"+"#ifdef MMD\nif (mmdShadowDark > 0.0) {\n#endif\n#ifdef SHADOWMAP_DEBUG\nvec3 frustumColors[3];frustumColors[0] = vec3( 1.0, 0.5, 0.0 );frustumColors[1] = vec3( 0.0, 1.0, 0.8 );frustumColors[2] = vec3( 0.0, 0.5, 1.0 );\n#endif\n#ifdef SHADOWMAP_CASCADE\nint inFrustumCount = 0;\n#endif\nfloat fDepth;"+"vec3 SP;"+"\n#pragma unroll_loop\n"+"for( int i = 0; i < MAX_SHADOWS; i ++ ) {//LOOP_START\n"+"SP = shadowPara[i];"+"vec3 shadowCoord = vShadowCoord[ i ].xyz / vShadowCoord[ i ].w;bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );bool inFrustum = all( inFrustumVec );\n#ifdef SHADOWMAP_CASCADE\ninFrustumCount += int( inFrustum );bvec3 frustumTestVec = bvec3( inFrustum, inFrustumCount == 1, shadowCoord.z <= 1.0 );\n#else\nbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n#endif\nbool frustumTest = all( frustumTestVec );if ( frustumTest ) {"+"shadowCoord.z += shadowBias[ i ].x * clamp(abs(tan(acos(clamp(dot(directionalLightDirection[ int(SP.y) ], normal_untransformed), -1., 1.)))), shadowBias[ i ].y, shadowBias[ i ].z);\n"+"#ifdef MMD\nfloat darkness = mmdShadowDark;\n#else\nfloat darkness = shadowDarkness[ i ];\n#endif\n"+"#if defined( SHADOWMAP_TYPE_PCF )\nfloat shadow = 0.0;const float shadowDelta = 1.0 / 9.0;float xPixelOffset = 1.0 / shadowMapSize[ i ].x;float yPixelOffset = 1.0 / shadowMapSize[ i ].y;float dx0 = -1.25 * xPixelOffset;float dy0 = -1.25 * yPixelOffset;float dx1 = 1.25 * xPixelOffset;float dy1 = 1.25 * yPixelOffset;fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );if ( fDepth < shadowCoord.z ) shadow += shadowDelta;fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );if ( fDepth < shadowCoord.z ) shadow += shadowDelta;fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );if ( fDepth < shadowCoord.z ) shadow += shadowDelta;fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );if ( fDepth < shadowCoord.z ) shadow += shadowDelta;fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );if ( fDepth < shadowCoord.z ) shadow += shadowDelta;fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );if ( fDepth < shadowCoord.z ) shadow += shadowDelta;fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );if ( fDepth < shadowCoord.z ) shadow += shadowDelta;fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );if ( fDepth < shadowCoord.z ) shadow += shadowDelta;fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );if ( fDepth < shadowCoord.z ) shadow += shadowDelta;shadowColor = shadowColor * vec3( ( 1.0 - darkness * shadow ) );\n"+"#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\nfloat shadow = 0.0;float xPixelOffset = 1.0 / shadowMapSize[ i ].x;float yPixelOffset = 1.0 / shadowMapSize[ i ].y;float dx0 = -1.0 * xPixelOffset;float dy0 = -1.0 * yPixelOffset;float dx1 = 1.0 * xPixelOffset;float dy1 = 1.0 * yPixelOffset;mat3 shadowKernel;mat3 depthKernel;depthKernel[0][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );depthKernel[0][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );depthKernel[0][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );depthKernel[1][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );depthKernel[1][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );depthKernel[1][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );depthKernel[2][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );depthKernel[2][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );depthKernel[2][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );vec3 shadowZ = vec3( shadowCoord.z );shadowKernel[0] = vec3(lessThan(depthKernel[0], shadowZ ));shadowKernel[0] *= vec3(0.25);shadowKernel[1] = vec3(lessThan(depthKernel[1], shadowZ ));shadowKernel[1] *= vec3(0.25);shadowKernel[2] = vec3(lessThan(depthKernel[2], shadowZ ));shadowKernel[2] *= vec3(0.25);vec2 fractionalCoord = 1.0 - fract( shadowCoord.xy * shadowMapSize[i].xy );shadowKernel[0] = mix( shadowKernel[1], shadowKernel[0], fractionalCoord.x );shadowKernel[1] = mix( shadowKernel[2], shadowKernel[1], fractionalCoord.x );vec4 shadowValues;shadowValues.x = mix( shadowKernel[0][1], shadowKernel[0][0], fractionalCoord.y );shadowValues.y = mix( shadowKernel[0][2], shadowKernel[0][1], fractionalCoord.y );shadowValues.z = mix( shadowKernel[1][1], shadowKernel[1][0], fractionalCoord.y );shadowValues.w = mix( shadowKernel[1][2], shadowKernel[1][1], fractionalCoord.y );shadow = dot( shadowValues, vec4( 1.0 ) );shadowColor = shadowColor * vec3( ( 1.0 - darkness * shadow ) );\n"+["#ifndef SHADOWMAP_CASCADE","float shadow_opacity = 1. - min(pow(length((shadowCoord.xy-0.5)*2.),4.), 1.);","shadowColor = mix(vec3(1.), shadowColor, shadow_opacity);","#endif"].join("\n")+"\n"+"#else\nvec4 rgbaDepth = texture2D( shadowMap[ i ], shadowCoord.xy );float fDepth = unpackDepth( rgbaDepth );if ( fDepth < shadowCoord.z )shadowColor = shadowColor * vec3( 1.0 - darkness );\n#endif\n"+"}//LOOP_END\n#ifdef SHADOWMAP_DEBUG\n#ifdef SHADOWMAP_CASCADE\nif ( inFrustum && inFrustumCount == 1 ) gl_FragColor.xyz *= frustumColors[ i ];\n#else\nif ( inFrustum ) gl_FragColor.xyz *= frustumColors[ i ];\n#endif\n#endif\n}\n#ifdef GAMMA_OUTPUT\nshadowColor *= shadowColor;\n#endif\n"+MMD_SA.MME_shader_branch("SERIOUS_SHADER",true,true)+"Y  =  0.298912 * gl_FragColor.r + 0.586611 * gl_FragColor.g + 0.114478 * gl_FragColor.b;\n"+"Cb = -0.168736 * gl_FragColor.r - 0.331264 * gl_FragColor.g + 0.5      * gl_FragColor.b;\n"+"Cr =  0.5      * gl_FragColor.r - 0.418688 * gl_FragColor.g - 0.081312 * gl_FragColor.b;\n"+"shadowColor.x = mix(1.0-MMDShadow,1.0, shadowColor.x);\n"+"gl_FragColor.rgb = mix(clamp(YCbCrtoRGB(Y*shadowColor.x, Cb, Cr), vec3(0.),vec3(1.)), gl_FragColor.xyz*shadowColor.x, 0.5);\n"+MMD_SA.MME_shader_branch("SERIOUS_SHADER",false)+"#ifdef MMD\n}\n#endif\n"+"#endif\n"+MMD_SA.MME_shader("serious_shader").fshader+MMD_SA.MME_shader_branch("SERIOUS_SHADER",true,true)+"#ifdef METAL\ngl_FragColor.xyz = gl_FragColor.xyz * ( emissive + totalDiffuse + ambientLightColor * ambient + totalSpecular );\n#else\ngl_FragColor.xyz = gl_FragColor.xyz * ( emissive + totalDiffuse + ambientLightColor * ambient ) + totalSpecular;\n#endif\n#ifdef MMD_TOONMAP\ngl_FragColor.xyz *= totalToon;\n#endif\n"+MMD_SA.MME_shader_branch("SERIOUS_SHADER",false)+"#ifdef GAMMA_OUTPUT\ngl_FragColor.xyz = sqrt( gl_FragColor.xyz );\n#endif\n#ifdef MMD\n}\n#endif\n"+"#ifdef USE_XRAY_PASS\n"+"float xray_distance = distance(vWorldPosition, xray_center);\n"+"if (xray_distance < xray_radius) {\n"+"  float xray_ratio = (1.0 - xray_distance/xray_radius) * 5.0;\n"+"  gl_FragColor.a *= mix(1.0, xray_opacity, ((xray_ratio>1.0)?1.0:xray_ratio));\n"+"}\n"+"#endif\n"+MMD_SA.MME_shader("HDR").fshader+MMD_SA.MME_shader("self_overlay").fshader+THREE.ShaderChunk["uniTexture_fragment"]+"\n"+"#ifdef USE_FOG\nfloat depth = gl_FragCoord.z / gl_FragCoord.w;\n#ifdef FOG_EXP2\nconst float LOG2 = 1.442695;float fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );\n#else\nfloat fogFactor = smoothstep( fogNear, fogFar, depth );\n#endif\ngl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n#endif\n"+"}"};I=function(e){THREE.ShaderMaterial.call(this);this.color=new THREE.Color(16777215);this.ambient=new THREE.Color(16777215);this.emissive=new THREE.Color(0);this.specular=new THREE.Color(1118481);this.shininess=30;this.metal=false;this.perPixel=false;this.wrapAround=false;this.wrapRGB=new THREE.Vector3(1,1,1);this.map=null;this.lightMap=null;this.bumpMap=null;this.bumpScale=1;this.normalMap=null;this.normalScale=new THREE.Vector2(1,1);this.specularMap=null;this.envMap=null;this.combine=THREE.MultiplyOperation;this.reflectivity=1;this.refractionRatio=.98;this.wireframeLinecap="round";this.wireframeLinejoin="round";this.castShadow=true;this.shadowMapCullFace=THREE.CullFaceFront;this.mmdToonMap=null;this.mmdSphereMap=null;this.mmdSphereMode=0;this.mmdEdgeColor=new THREE.Vector4(0,0,0,1);this.mmdEdgeThick=0;this.mmdShadowDark=0;this.passes=1;this.preRenderPass=null;this.postRenderPass=null;this.uniforms=THREE.UniformsUtils.clone(t.uniforms);this.vertexShader=t.vertexShader;this.fragmentShader=t.fragmentShader;this.setValues(e)};I.prototype=Object.create(THREE.ShaderMaterial.prototype);I.prototype.constructor=I;if(self.MMD_SA){I.prototype._passes=1;Object.defineProperty(I.prototype,"passes",{get:function(){return MMD_SA._mirror_rendering_?1:this._passes},set:function(e){this._passes=e}})}I.prototype._castShadow=true;Object.defineProperty(I.prototype,"castShadow",{get:function(){return this.opacity?this._castShadow:false},set:function(e){this._castShadow=e}});I.prototype.setup=function(){if(this.opacity<=0){this.passes=-1;this.preRenderPass=this.postRenderPass=null}else if(this.mmdEdgeThick>0){this.passes=2;this.preRenderPass=function(e,t){var i,o,n;i=e.context;if(t===0){if(this.side===THREE.DoubleSide){i.disable(i.CULL_FACE)}else{i.enable(i.CULL_FACE);i.cullFace(i.BACK)}o=0;n=false}else{i.enable(i.CULL_FACE);i.cullFace(i.FRONT);o=this.mmdEdgeThick*2/e.getViewportHeight();n=o<=0}i.uniform1f(this.program.uniforms.mmdEdgeThick,o);return n};this.postRenderPass=function(e,t){var i;i=e.context;i.enable(i.CULL_FACE);i.cullFace(i.BACK)}}else{this.passes=1;this.preRenderPass=function(e,t){var i;i=e.context;if(this.side===THREE.DoubleSide){i.disable(i.CULL_FACE)}else{i.enable(i.CULL_FACE);i.cullFace(i.BACK)}};this.postRenderPass=function(e,t){var i;i=e.context;i.enable(i.CULL_FACE);i.cullFace(i.BACK)}}if(this.mmdToonMap){this.defines.MMD_TOONMAP=""}else{delete this.defines.MMD_TOONMAP}if(this.mmdSphereMap){this.defines.MMD_SPHEREMAP=this.mmdSphereMode.toString()}else{delete this.defines.MMD_SPHEREMAP}if(this._xray_pass)this.defines.USE_XRAY_PASS="";this.needsUpdate=true};I.prototype.refreshUniforms=function(e){var r=this;var t=this.mesh;var i=this._original_value;var o=this.opacity;var s;var _;var l,d,f;var h=t._material_morph[this.name];if(h){if(!i){i=this._original_value={};i.opacity=this.opacity;i.mmdEdgeColor=this.mmdEdgeColor.clone();i.diffuse=[this.color.r,this.color.g,this.color.b];i.specular=[this.specular.r,this.specular.g,this.specular.b];i.ambient=[this.ambient.r,this.ambient.g,this.ambient.b]}s=i.opacity;_=i.mmdEdgeColor.w;l=i.diffuse.slice(0);d=i.specular.slice(0);f=i.ambient.slice(0);var n=Object.keys(h).sort(function(e,t){return e-t});n.forEach(function(e){var t=h[e];var i=t.weight;if(!i)return;if(i<0){i=0}if(!MMD_SA._mirror_rendering_){if(t.weight){t.weight=-1;r._render_once=true}else{t.weight=0}}var o=t.morph_obj;var n;if(o.operator==0){n=i*o.alpha+(1-i);s*=n;_*=n}else{n=i*o.alpha;s+=n;_+=n;if(o.diffuse.find(function(e){return!!e})){for(var a=0;a<3;a++)l[a]+=o.diffuse[a]*i}if(o.specular.find(function(e){return!!e})){for(var a=0;a<3;a++)d[a]+=o.specular[a]*i}if(o.ambient.find(function(e){return!!e})){for(var a=0;a<3;a++)f[a]+=o.ambient[a]*i}}if(s>1)s=1;else if(s<0)s=0;if(_>1)_=1;else if(_<0)_=0});this.opacity=s;this.mmdEdgeColor.w=_;this.color.setRGB(l[0],l[1],l[2]);this.specular.setRGB(d[0],d[1],d[2]);this.ambient.setRGB(f[0],f[1],f[2])}else{if(i){s=this.opacity=i.opacity;this.mmdEdgeColor.w=i.mmdEdgeColor.w;this.color.setRGB(i.diffuse[0],i.diffuse[1],i.diffuse[2]);this.specular.setRGB(i.specular[0],i.specular[1],i.specular[2]);this.ambient.setRGB(i.ambient[0],i.ambient[1],i.ambient[2])}else{s=o}}if(o==0){if(s>0){this.setup()}}else{if(s==0){this.setup()}}var a=this.uniforms;a.opacity.value=this.opacity;if(e.gammaInput){a.diffuse.value.copyGammaToLinear(this.color)}else{a.diffuse.value=this.color}a.map.value=this.map;a.lightMap.value=this.lightMap;a.specularMap.value=this.specularMap;if(this.bumpMap){a.bumpMap.value=this.bumpMap;a.bumpScale.value=this.bumpScale}if(this.normalMap){a.normalMap.value=this.normalMap;a.normalScale.value.copy(this.normalScale)}var m;if(this.map){m=this.map}else if(this.specularMap){m=this.specularMap}else if(this.normalMap){m=this.normalMap}else if(this.bumpMap){m=this.bumpMap}if(m!==undefined){var p=m.offset;var c=m.repeat;a.offsetRepeat.value.set(p.x,p.y,c.x,c.y)}a.envMap.value=this.envMap;a.flipEnvMap.value=this.envMap instanceof THREE.WebGLRenderTargetCube?1:-1;if(e.gammaInput){a.reflectivity.value=this.reflectivity}else{a.reflectivity.value=this.reflectivity}a.refractionRatio.value=this.refractionRatio;a.combine.value=this.combine;a.useRefract.value=this.envMap&&this.envMap.mapping instanceof THREE.CubeRefractionMapping;a.shininess.value=this.shininess;if(e.gammaInput){a.ambient.value.copyGammaToLinear(this.ambient);a.emissive.value.copyGammaToLinear(this.emissive);a.specular.value.copyGammaToLinear(this.specular)}else{a.ambient.value=this.ambient;a.emissive.value=this.emissive;a.specular.value=this.specular}if(this.wrapAround){a.wrapRGB.value.copy(this.wrapRGB)}if(this.mmdToonMap){a.mmdToonMap.value=this.mmdToonMap}if(this.mmdSphereMap){a.mmdSphereMap.value=this.mmdSphereMap}const u=t._model_index;const M=THREE.MMD.getModels()[u];const A=MMD_SA_options.model_para_obj_all[u].shadow_darkness||MMD_SA_options.shadow_darkness;if(self.MMD_SA){if(!this._MME_uniforms_updated_||u==0&&(MMD_SA._MME_uniforms_updated_&&MMD_SA._MME_uniforms_updated_>this._MME_uniforms_updated_)){var g=u==0?MMD_SA_options.MME:MMD_SA_options.model_para_obj_all[u].MME;var v;v=g.self_overlay;a.self_overlay_opacity.value=v.opacity||.5;a.self_overlay_brightness.value=v.brightness==null?.5:v.brightness;var y=v.color_adjust||[1.5,1,1];a.self_overlay_color_adjust.value.set(y[0],y[1],y[2]);v=g.HDR;a.HDR_opacity.value=v.opacity||.5;v=g.serious_shader;a.serious_shader_shadow_opacity.value=(v.shadow_opacity||.5)*Math.min(1,(v.material&&v.material[this.name]&&v.material[this.name].shadow_opacity_scale||1)*(MMD_SA_options.use_shadowMap?1+A:1));a.OverBright.value=(v.OverBright||(v.type=="AdultShaderS2"?1.15:1.2))+MMD_SA_options.SeriousShader_OverBright_adjust;a.ShadowDarkness.value=v.ShadowDarkness||(v.type=="SeriousShader"?.6:1);a.ToonPower.value=v.ToonPower||(v.type=="SeriousShader"?1.5:v.type=="AdultShaderS2"?1.1:1);a.EyeLightPower.value=v.EyeLightPower||(v.type=="AdultShaderS2"?.7:2);a.serious_shader_mode.value=v.type=="AdultShaderS"?2:v.type=="AdultShaderS2"?1:0;if(MMD_SA.MME_shader_inline_switch_mode){["self_overlay","HDR","serious_shader"].forEach(function(e){v=g[e];a[e.toUpperCase()].value=v.enabled==null||v.enabled?1:0})}this._MME_uniforms_updated_=Date.now()}else if(u==0&&MMD_SA._MME_uniforms_updated_){DEBUG_show("(MMD shader updated)",2);MMD_SA._MME_uniforms_updated_=0}if(this._xray_pass){var S=MMD_SA_options.mesh_obj_by_id["XrayMESH"];if(S&&S.visible){a.xray_center.value.copy(S._obj.position);var x=(Date.now()-S._start_time)/1e3;a.xray_opacity.value=MMD_SA_options._xray_opacity+(1-MMD_SA_options._xray_opacity)*(1-(x>1?1:x))}else a.xray_center.value.set(999,999,999)}}a.MMDShadow.value=A;a.mmdEdgeColor.value=this.mmdEdgeColor;a.mmdShadowDark.value=this.mmdShadowDark};(function(){var z,V,B,K,N,G,o,X,W;z=new THREE.Vector3;V=new THREE.Vector3;B=new THREE.Vector3;K=new THREE.Vector3;N=new THREE.Quaternion;G=new THREE.Matrix4;o=function(e){var t=e.matrix;if(e.visible){e.visible=false;t.makeRotationFromQuaternion(e.quaternion);t.setPosition(e.position)}return t};X=function(e,t,i){i.copy(t.position);while(t.parent!==e){t=t.parent;i.applyMatrix4(o(t))}};W=function(e,t,i){i.copy(o(t));while(t.parent!==e){t=t.parent;i.multiplyMatrices(o(t),i)}i.getInverse(i)};v=function(e){this.mesh=e};v.prototype.update=function(e){var i,t,o,n,a,r,s,_,l,d,f,h,m,p,c,u;i=this.mesh;o=i.bones;t=i.geometry.MMDIKs;var M,A,g,v;var y=[];var S=0;var x=t.length;var D=1;if(self.MMD_SA){M=THREE.MMD.getModels()[i._model_index];A=MMD_SA_options.model_para_obj_all[i._model_index];g=M.skin&&MMD_SA.motion[M.skin._motion_index];D=A.ik_iteration_factor||(MMD_SA_options.Dungeon&&i._model_index?MMD_SA_options.Dungeon_options.ik_iteration_factor||.5:1);v=g&&g.para_SA;if(e){S=e.ini;x=e.end||S}}for(n=S,a=x;n<=a;n++){r=i._IK_and_AddTrans[n].pmxBone.IK;h=o[r.target];let t;if(g){let e;if(i._model_index==0&&System._browser.camera.ML_enabled){const w=System._browser.camera.poseNet.IK_disabled_check(h.name);if(w===null){e=true}else if(w){continue}}else{e=true}if(e&&v.IK_disabled&&v.IK_disabled.test(h.name)){continue}const E={};window.dispatchEvent(new CustomEvent("SA_IK_"+h.name+"_onupdate",{detail:{result:E}}));if(E.links){n--;const T=E.links.target;const F=MMD_SA.TEMP_v3.copy(h.position);h.position.copy(T);T.copy(F);const m=o[r.effector];const k=E.links.effector;const O=MMD_SA.TEMP_q.copy(m.quaternion);m.quaternion.copy(k);k.copy(O);const R=E.links.links;const P=E.links_result;const f=r.links.length;for(let e=0;e<f;e++){const s=r.links[e];const p=o[s.bone];const C=MMD_SA.TEMP_q.copy(p.quaternion);p.quaternion.copy(R[e]);R[e].copy(C)}window.addEventListener("SA_IK_"+h.name+"_onupdate",e=>{h.position.copy(T);m.visible=true;m.quaternion.copy(k);for(let i=0;i<f;i++){const e=r.links[i];const t=o[e.bone];P.links[i].copy(t.quaternion);P.updated=RAF_timestamp;t.visible=true;t.quaternion.copy(R[i])}},{once:true})}if(/\u8155\uFF29\uFF2B/.test(h.name)){let e=MMD_SA.vmd_by_filename[g.filename];if(!System._browser.camera.use_armIK&&e&&!e.use_armIK&&!v.use_armIK){continue}const u=h.name;const I=u.charAt(0);const j=System._browser.camera.poseNet.frames;const b=i.bones_by_name;const H=(System._browser.camera.poseNet.enabled||System._browser.camera.facemesh.enabled)&&(j.skin[I+""]||System._browser.camera.poseNet.IK_disabled_check(h.name)===false);if(!e.use_armIK&&!H){continue}if(H){for(const U of[I+"",I+""]){b[U+"+"].quaternion.copy(b[U].quaternion);b[U].quaternion.set(0,0,0,1)}}if(MMD_SA.THREEX.get_model(i._model_index).is_T_pose){t=[I+""];if(H){t.push(I+"+",I+"+")}else if(e.use_armIK){}for(const U of t){const N=b[U].quaternion;const C=N.toArray();MMD_SA.THREEX.utils.convert_T_pose_rotation_to_A_pose(U.replace(/\+/,""),C);N.fromArray(C)}if(H){t=[I+"",I+"+",I+"+"]}else if(e.use_armIK){t=[I+"",I+"+",I+"+"]}}}}m=o[r.effector];X(i,h,z);d=r.iteration;d=Math.max(Math.floor(d*D),1);f=r.links.length;for(l=0;l<f;l++){s=r.links[l];p=o[s.bone];if(p.name.indexOf("")!=-1)p.quaternion.slerp(MMD_SA.TEMP_q.set(0,0,0,1),.5);y[l]=s.limits&&A&&A.IK_link_inverted&&A.IK_link_inverted.test(p.name)?-1:1}e:for(_=0;_<d;_++){var L=false;for(l=0;l<f;l++){s=r.links[l];p=o[s.bone];if(p.omitIK){break e}W(i,p,G);X(i,m,B);B.applyProjection(G).normalize();V.copy(z);V.applyProjection(G).normalize();c=V.dot(B);if(c>1){c=1}c=Math.acos(c);if(c<1e-5){continue}if(c>r.control){c=r.control}N.setFromAxisAngle(K.crossVectors(B,V).normalize(),c);p.quaternion.multiplyQuaternions(p.quaternion,N);if(s.limits){u=p.quaternion.w;p.quaternion.set(y[l]*Math.sqrt(1-u*u),0,0,u)}p.visible=true;L=true}if(!L){break}}const b=i.bones_by_name;if(t){for(const U of t){const N=b[U].quaternion;const C=N.toArray();MMD_SA.THREEX.utils.convert_A_pose_rotation_to_T_pose(U.replace(/\+/,""),C);N.fromArray(C)}}}o.forEach(function(e){e.visible=true})}})();(function(){var L=self.MMD_SA&&MMD_SA.ammo_proxy;var e,t,i,o,F,r,s,O,j,z,V,B,K,N,G,u;if(window.Ammo){jThree._ammo_async_init_=[];jThree._ammo_async_init_.push(function(){e=new Ammo.btDefaultCollisionConfiguration;t=new Ammo.btCollisionDispatcher(e);i=new Ammo.btSequentialImpulseConstraintSolver;o=new Ammo.btDbvtBroadphase;k=new Ammo.btDiscreteDynamicsWorld(t,o,i,e);F=new Ammo.btTransform;r=new Ammo.btVector3;s=new Ammo.btQuaternion;X=function(e,t,i){r.setValue(e,t,i);return r};W=function(e,t,i,o){s.setValue(e,t,i,o);return s};self.MMD_SA&&L&&L.update_worker("TEST")})}O=new THREE.Vector3;j=new THREE.Vector3;z=new THREE.Vector3;V=new THREE.Quaternion;B=new THREE.Quaternion;K=new THREE.Quaternion;N=new THREE.Matrix4;G=new THREE.Matrix4;u=function(e,t){V.copy(t.q);N.makeRotationFromQuaternion(V);N.getInverse(N);O.set(e.pos[0]-t.pos[0],e.pos[1]-t.pos[1],e.pos[2]-t.pos[2]);return O.applyProjection(N)};y=function(e){this.create(e)};y.prototype.create=function(h){function f(e,t,i){switch(i){case"OR":if(!self.MMD_SA||!L)return e|t;e=e._v_index&&(Ammo_local?"L.":"")+e._v_index||e;t=t._v_index&&(Ammo_local?"L.":"")+t._v_index||t;if(L.use_text_command)return(typeof e==="string"?"v['"+e+"']":e)+"|"+(typeof t==="string"?"v['"+t+"']":t);return{L:e,R:t,op:"OR"}}}if(MMD_SA.MMD_started){h.MMDrigids.length=0;h.geometry.MMDjoints.length=0}var m=h.MMDrigids,e=h.geometry.MMDjoints;this.mesh=h;var p=MMD_SA_options.model_para_obj_all[h._model_index];var c={};e.forEach(function(e){var t=m[e.rigidA],i=m[e.rigidB];if(t.type==0&&i.type>0)c[e.rigidA]=true});m.forEach(function(e,t){var i,o,n,a,r,s,_;e.q=new THREE.Quaternion;e.q.setFromEuler(new THREE.Vector3(e.rot[0],e.rot[1],e.rot[2]),"YXZ");var l=p.rigid_default&&(p.rigid_default[e.name]||p.rigid_default._all_)||{};if(l.type!=null){if(l.type==-1){e.type=0;e.size=[0,0,0]}else e.type=l.type}var d=self.MMD_SA&&p.rigid_filter;if(d&&!d.test(e.name)){e.type=0}if(e.bone>=0){i=h.bones[e.bone];if(e.type>0){i.omitIK=true}}else{if(e.type===2){e.type=1}}switch(e.shape){case 0:o=new Ammo.btSphereShape(e.size[0]);break;case 1:o=new Ammo.btBoxShape(X(e.size[0],e.size[1],e.size[2]));break;case 2:o=new Ammo.btCapsuleShape(e.size[0],e.size[1]);break;default:return}n=e.type===0?0:e.mass;a=new Ammo.btVector3(0,0,0);o.calculateLocalInertia(n,a);F.setIdentity();F.setOrigin(X(e.pos[0]+h.position.x,e.pos[1]+h.position.y,e.pos[2]+h.position.z));F.setRotation(W(e.q.x,e.q.y,e.q.z,e.q.w));r=new Ammo.btDefaultMotionState(F);s=new Ammo.btRigidBodyConstructionInfo(n,r,o,a);s.set_m_friction(e.friction);s.set_m_restitution(e.restitution);_=new Ammo.btRigidBody(s);if(e.type===0){_.setCollisionFlags(f(_.getCollisionFlags(),2,"OR"));if(!c[t])_.setActivationState(4)}_.setDamping(e.posDamping*(l.posDamping_scale||1),e.rotDamping*(l.rotDamping_scale||1));_.setSleepingThresholds(0,0);k.addRigidBody(_,1<<e.group,e.mask);Ammo.destroy(s);Ammo.destroy(a);e.body=_});e.forEach(function(e){var t,i,o,n,a,r,s=m[e.rigidA],_=m[e.rigidB],l=new Ammo.btTransform,d=new Ammo.btTransform;if(s.type!==0&&_.type===2){if(s.bone>0){a=h.bones[s.bone]}if(_.bone>0){r=h.bones[_.bone]}if(a&&r&&r.parent===a){if(0)_._skin_parent=a;else{_.type=1}}}l.setIdentity();t=u(e,s);l.setOrigin(X(t.x,t.y,t.z));i=W(-s.q.x,-s.q.y,-s.q.z,s.q.w);l.setRotation(i);d.setIdentity();t=u(e,_);d.setOrigin(X(t.x,t.y,t.z));i=W(-_.q.x,-_.q.y,-_.q.z,_.q.w);d.setRotation(i);var f=p.joint_default&&p.joint_default[e.name]||{};o=new Ammo.btGeneric6DofSpringConstraint(s.body,_.body,l,d,true);o.setLinearLowerLimit(X(e.posLower[0],e.posLower[1],e.posLower[2]));o.setLinearUpperLimit(X(e.posUpper[0],e.posUpper[1],e.posUpper[2]));o.setAngularLowerLimit(X(e.rotLower[0]*(f.rotLower_scale&&f.rotLower_scale[0]||1),e.rotLower[1]*(f.rotLower_scale&&f.rotLower_scale[1]||1),e.rotLower[2]*(f.rotLower_scale&&f.rotLower_scale[2]||1)));o.setAngularUpperLimit(X(e.rotUpper[0]*(f.rotUpper_scale&&f.rotUpper_scale[0]||1),e.rotUpper[1]*(f.rotUpper_scale&&f.rotUpper_scale[1]||1),e.rotUpper[2]*(f.rotUpper_scale&&f.rotUpper_scale[2]||1)));for(n=0;n<3;n++){if(e.posSpring[n]>0){o.enableSpring(n,true);o.setStiffness(n,e.posSpring[n]*(f.posSpring_scale&&f.posSpring_scale[n]||1))}if(e.rotSpring[n]>0){o.enableSpring(n+3,true);o.setStiffness(n+3,e.rotSpring[n])}}for(n=0;n<6;n++){if(!self.MMD_SA||o.setParam)o.setParam(2,P.STOP_ERP,n)}k.addConstraint(o,true);Ammo.destroy(l);Ammo.destroy(d);e.constraint=o});self.MMD_SA&&L&&L.update_worker()};y.prototype.dispose=function(){this.mesh.geometry.MMDjoints.forEach(function(e){k.removeConstraint(e.constraint);Ammo.destroy(e.constraint);delete e.constraint});this.mesh.MMDrigids.forEach(function(e){k.removeRigidBody(e.body);Ammo.destroy(e.body);delete e.body});self.MMD_SA&&L&&L.update_worker()};y.prototype.preSimulate=function(){var o;o=this.mesh;if(o.matrixWorld_physics)o.matrixWorld_physics.update();var n=o.matrixWorld_physics&&o.matrixWorld_physics.m4||o.matrixWorld;B.setFromRotationMatrix(n);var a=false;if(L){L.cache_by_model.set_enabled(o._model_index,!o._reset_rigid_body_physics_);a=L.use_optimized_command&&!L.use_text_command;a&&L.add_optimized_command({o:2,_btransform_v_index:F._v_index,_bv_v_index:r._v_index,_bq_v_index:s._v_index})}o.MMDrigids.forEach(function(e){var t,i;if((o._reset_rigid_body_physics_>0||e._reset_physics_&&(!L||!L.data_id_locked["stepSimulation"])||e.type===0)&&e.bone>=0){e._reset_physics_=null;t=o.bones[e.bone].skinMatrix;O.set(e.ofs[0],e.ofs[1],e.ofs[2]);O.applyMatrix4(t);O.applyMatrix4(n);V.setFromRotationMatrix(t);V.multiplyQuaternions(V,e.q);V.multiplyQuaternions(B,V);i=e.body;if(!a){F.setOrigin(X(O.x,O.y,O.z));F.setRotation(W(V.x,V.y,V.z,V.w));i.setCenterOfMassTransform(F);i.getMotionState().setWorldTransform(F)}else{L.add_optimized_command({o:3,body_v_index:i._v_index,_v:O,_q:V})}}})};y.prototype.postSimulate=function(){function n(e){for(var t=0,i=e.children.length;t<i;t++){var o=e.children[t];if(o instanceof THREE.Bone){if(o.pmxBone.afterPhysics){o.update(e.skinMatrix,false)}else n(o)}}}var D,e,t;D=this.mesh;var i=D._model_index;var b=self.MMD_SA&&L&&!Ammo_local;var E=D.matrixWorld_physics&&D.matrixWorld_physics.m4||D.matrixWorld;var w,T,k;var R=false;if(b){R=L.use_optimized_command&&!L.use_text_command;w=b&&L.cache_by_model.list[i];T=b&&L.cache_by_model_temp.list[i];k=b&&L.cache_by_model.get_enabled(i);L.cache_by_model_temp.set_matrixWorld(i,E);L.cache_by_model_temp.set_skin(i,D.bones,k)}G.getInverse(E);K.setFromRotationMatrix(G);var P,C;var I={};var o,H,a,r,s;var U;if(self.MMD_SA){o=THREE.MMD.getModels()[i];H=MMD_SA_options.model_para_obj_all[i];a=o.skin&&MMD_SA.motion[o.skin._motion_index].filename||"";r=MMD_SA_options.motion_para[a]||{};s=r.adjustment_per_model&&(r.adjustment_per_model[MMD_SA.THREEX.get_model(i).model_path.replace(/^.+[\/\\]/,"")]||r.adjustment_per_model[H._filename_cleaned]||r.adjustment_per_model._default_)||r;U=H.skin_filter_by_motion&&(H.skin_filter_by_motion.find(function(e){return e.motion.test(a)})||{}).skin||s.skin_filter||r.skin_filter;P=H.bone_constraint;if(P){if(P.motion_filter&&!P.motion_filter.test(a)){P=null}}if(P){if(P.group_skip){for(var _ in P.group_skip){if(P.group_skip[_].motion_match.test(a))I[_]=true}}}if(D._reset_rigid_body_physics_>0){C=true;D._reset_rigid_body_physics_=Math.max(D._reset_rigid_body_physics_-Math.min(RAF_timestamp_delta/1e3*30,1),0)}}D.MMDrigids.forEach(function(t){var i,o,n,a,r;if(t.type!==0&&t.bone>=0){i=D.bones[t.bone].skinMatrix;if(t._skin_parent){D.bones[t.bone].update(t._skin_parent.skinMatrix,false)}}if(t.bone==-1)return;var s=D.bones[t.bone].name;var e=!C&&U&&!U.test(s)&&(!H.skin_weight||!H.skin_weight[s]);if(b&&C&&D._reset_rigid_body_physics_<=2){e=true}if(C||e){if(b&&e&&(t.type!==0&&t.bone>=0)){if(R&&!L.locked)L._locked=true;o=t.body.getCenterOfMassTransform();a=o.getRotation();a.x();a.y();a.z();a.w();if(R&&!L.locked){L._locked=false;L.add_optimized_command({o:5,body_v_index:t.body._v_index})}if(t.type===1){if(R&&!L.locked)L._locked=true;n=o.getOrigin();n.x();n.y();n.z();if(R&&!L.locked){L._locked=false;L.add_optimized_command({o:6,body_v_index:t.body._v_index})}}else{O.set(t.ofs[0],t.ofs[1],t.ofs[2]);O.applyMatrix4(i);O.applyMatrix4(E);if(!R){r=t.body;r.getMotionState().getWorldTransform(F);F.setOrigin(X(O.x,O.y,O.z));r.setCenterOfMassTransform(F);r.getMotionState().setWorldTransform(F)}else{L.add_optimized_command({o:4,body_v_index:t.body._v_index,_v:O})}}}}else if(t.type!==0&&t.bone>=0){if(t.type===2){z.getPositionFromMatrix(i)}if(R&&!L.locked)L._locked=true;o=t.body.getCenterOfMassTransform();a=o.getRotation();V.set(a.x(),a.y(),a.z(),a.w());if(R&&!L.locked){L._locked=false;L.add_optimized_command({o:5,body_v_index:t.body._v_index})}B.copy(t.q).conjugate();let e;if(b){if(!k){V.multiplyQuaternions(MMD_SA.TEMP_q.setFromRotationMatrix(D.matrixWorld),V.multiplyQuaternions(MMD_SA._q1.setFromRotationMatrix(i),t.q))}else{V.multiplyQuaternions(w.q_matrixWorld_inv,V);e=true}}if(!e)V.multiplyQuaternions(K,V);V.multiplyQuaternions(V,B);var _=P&&P[s];if(_){var l=_.rotation;var d=l._q;if(!d)d=l._q=new THREE.Quaternion;B.setFromRotationMatrix(N.extractRotation(i));d.copy(V).multiply(B.conjugate());O.setEulerFromQuaternion(d.normalize());var f,h;if(I[_.group||"ALL"]){h=true}var m=l.x;var p=l.y;var c=l.z;var u=45;if(!h&&m){var M=m[0][0]- -O.x;var A=-O.x-m[1][0];if(M>0){f=true;if(M>u||m[0][1]==true)h=true;else O.x=m[0].length==1?m[0][0]:m[0][1]}else if(A>0){f=true;if(A>u||m[1][1]==true)h=true;else O.x=m[1].length==1?m[1][0]:m[1][1]}O.x=-O.x}if(!h&&p){var g=p[0][0]-O.y;var v=O.y-p[1][0];if(g>0){f=true;if(g>u||p[0][1]==true)h=true;else O.y=p[0].length==1?p[0][0]:p[0][1]}else if(v>0){f=true;if(v>u||p[1][1]==true)h=true;else O.y=p[1].length==1?p[1][0]:p[1][1]}}if(!h&&c){var y=c[0][0]- -O.z;var S=-O.z-c[1][0];if(y>0){f=true;if(y>u||c[0][1]==true)h=true;else O.z=c[0].length==1?c[0][0]:c[0][1]}else if(S>0){f=true;if(S>u||c[1][1]==true)h=true;else O.z=c[1].length==1?c[1][0]:c[1][1]}O.z=-O.z}if(h){t._reset_physics_=true;return}if(f){B.conjugate();B.multiply(d.setFromEuler(O));V.copy(B);d.copy(B);B.setFromRotationMatrix(E);O.set(t.ofs[0],t.ofs[1],t.ofs[2]);O.applyMatrix4(i);O.applyMatrix4(E);V.setFromRotationMatrix(i);V.multiplyQuaternions(V,t.q);V.multiplyQuaternions(B,V);r=t.body;if(!R){F.setOrigin(X(O.x,O.y,O.z));F.setRotation(W(V.x,V.y,V.z,V.w));r.setCenterOfMassTransform(F);r.getMotionState().setWorldTransform(F)}else{L.add_optimized_command({o:3,body_v_index:r._v_index,_v:O,_q:V})}V.copy(d)}}var x=MMD_SA.TEMP_v3.getPositionFromMatrix(i);i.makeRotationFromQuaternion(V);if(t.type===1){if(R&&!L.locked)L._locked=true;n=o.getOrigin();O.set(n.x(),n.y(),n.z());if(R&&!L.locked){L._locked=false;L.add_optimized_command({o:6,body_v_index:t.body._v_index})}let e;if(b){if(!k){O.copy(MMD_SA._v3a.set(t.ofs[0],t.ofs[1],t.ofs[2]).applyMatrix4(i)).add(x).applyMatrix4(E)}else{O.applyProjection(w.matrixWorld_inv);e=true}}if(!e)O.applyProjection(G);j.set(t.ofs[0],t.ofs[1],t.ofs[2]).negate();j.applyMatrix4(i);O.add(j);i.setPosition(O);k&&i.setPosition(O.sub(MMD_SA._v3a_.getPositionFromMatrix(w.skin[t.bone])).add(MMD_SA._v3b_.getPositionFromMatrix(T._skin[t.bone])))}else{i.setPosition(z);O.set(t.ofs[0],t.ofs[1],t.ofs[2]);O.applyMatrix4(i);O.applyMatrix4(E);r=t.body;if(!R){r.getMotionState().getWorldTransform(F);F.setOrigin(X(O.x,O.y,O.z));r.setCenterOfMassTransform(F);r.getMotionState().setWorldTransform(F)}else{L.add_optimized_command({o:4,body_v_index:r._v_index,_v:O})}}}b&&L.register([a,n])});if(self.MMD_SA&&MMD_SA.use_afterPhysics){for(var l in D._bone_update_afterPhysics){var d=D.bones[l];if(d.parent instanceof THREE.Bone){N.multiplyMatrices(MMD_SA.TEMP_m4.getInverse(d.parent.skinMatrix),d.skinMatrix)}else{N.copy(d.skinMatrix)}d.position.getPositionFromMatrix(N);d.quaternion.setFromRotationMatrix(N)}o._update_IK_and_AddTrans(true);for(var f=0,h=D.children.length;f<h;f++){child=D.children[f];if(child instanceof THREE.Bone){if(child.pmxBone.afterPhysics){child.update(D.identityMatrix,false)}else n(child)}}}for(e=0,t=D.bones.length;e<t;e++){N.multiplyMatrices(D.bones[e].skinMatrix,D.boneInverses[e]);N.flattenToArrayOffset(D.boneMatrices,e*16)}if(D.useVertexTexture){D.boneTexture.needsUpdate=true}};y.prototype.reset=function(){var e;e=this.mesh;e.updateMatrixWorld(true);if(e.matrixWorld_physics)e.matrixWorld_physics.update();var i=e.matrixWorld_physics&&e.matrixWorld_physics.m4||e.matrixWorld;B.setFromRotationMatrix(i);e.MMDrigids.forEach(function(e){var t;O.set(e.pos[0],e.pos[1],e.pos[2]).applyMatrix4(i);V.multiplyQuaternions(B,e.q);t=e.body;t.getMotionState().getWorldTransform(F);F.setOrigin(X(O.x,O.y,O.z));F.setRotation(W(V.x,V.y,V.z,V.w));t.setWorldTransform(F)});self.MMD_SA&&L&&L.update_worker()}})();o=function(){var r,s,_,l,d,f,h,m=function(e){return((r*e+s)*e+_)*e},p=function(e){return((l*e+d)*e+f)*e},c=function(e){return(3*r*e+2*s)*e+_},u=function(e){var t,i,o,n,a,r;o=e;for(r=0;r<8;r++){n=m(o)-e;if(Math.abs(n)<h){return o}a=c(o);if(Math.abs(a)<1e-6){break}o-=n/a}t=0;i=1;o=e;if(o<t){return t}if(o>i){return i}while(t<i){n=m(o);if(Math.abs(n-e)<h){return o}if(e>n){t=o}else{i=o}o=(i-t)*.5+t}return o},e=function(e,t,i,o,n,a){h=a;_=3*t;s=3*(o-t)-_;r=1-_-s;f=3*i;d=3*(n-i)-f;l=1-f-d;return p(u(e))};return e}();g=function(e,t){if(!(e instanceof Array)){e=[e]}this.targets=e;this.duration=t;this.duration_default=t;this.loop=false;this.playing=false;this.minKeyDelta=0;this.reset()};g.prototype.reset=function(){this.time=0;this.targets.forEach(function(e){e.k=0})};g.prototype.seek=function(e,t){var i;i=e-this.time;if(i>=0){this.update(i,t)}else{this.reset();this.update(e,t)}};g.prototype.play=function(e){if(e!==undefined){this.loop=e}this.playing=true};g.prototype.pause=function(){this.playing=false};g.prototype.update=function(e,t){var a,r,s;if(!this.playing){return}a=this;r=this.time+e;this.time=r%this.duration;s=false;if(this.time<0)return;var _;var l={};var d=this._model_index!=null&&THREE.MMD.getModels()[this._model_index].pmx.morphs;var f=this._motion_index_MMD_SA_extra!=null?this._motion_index_MMD_SA_extra:this._motion_index-MMD_SA.custom_action_index;this.targets.forEach(function(e,t){if(e.i!=null)t=e.i;var i,o,n;if(e.keys.length<2){if(e.keys.length==1&&a._is_MMD_SA_animation){i=e.keys[0];n=0;a.onupdate(i,i,n,t)}return}i=e.keys[e.k];o=e.keys[e.k+1];if(l[o.name]){return}if(o.morph_type==0){d[o.morph_index].items.forEach(function(e){l[d[e.target].name]=true})}if(o.time<=r){if(a.time<r){s=true;if(a.freeze_onended){s=false;if(a._is_MMD_SA_custom_animation&&a._is_skin&&!_){_=true;MMD_SA_options.custom_action[f].onFinish(a._model_index)}a.time=a.duration-1/59/1e3;n=1;if(!a._MMD_SA_animation_check||a._MMD_SA_animation_check(t)){a.onupdate(i,o,n,t);return}}else if(a.loop){jThree.MMD._onLoop=true;e.k=0;i=e.keys[e.k];o=e.keys[e.k+1];while(o.time<a.time){e.k++;i=e.keys[e.k];o=e.keys[e.k+1]}}else{a.time=o.time}}else{do{e.k++;i=e.keys[e.k];o=e.keys[e.k+1]}while(o.time<a.time)}}if(o.time-i.time<=a.minKeyDelta){n=0}else{if(a.time<i.time){n=0}else n=(a.time-i.time)/(o.time-i.time)}if(!a._MMD_SA_animation_check||a._MMD_SA_animation_check(t))a.onupdate(i,o,n,t)});if(a.freeze_onended&&(a._is_MMD_SA_custom_animation&&a._is_skin&&!_)&&r>a.duration){MMD_SA_options.custom_action[f].onFinish(a._model_index)}if(s){if(!this.loop){this.pause()}if(this.onended){this.onended(this)}}};g.prototype.adjustDuration=function(o){if(this.duration_default>o){o=this.duration_default;return}this.duration=o;this.targets.forEach(function(e){var t,i;t=e.keys;if(t.length<2){return}i=t[t.length-1];if(i.time<o){i=x(i);i.time=o;t.push(i)}})};S=function(e,t){var n,a;this.mesh=e;g.call(this,t.targets,t.duration);a=t.targets;n=e.geometry;var i=this;var r=[];var s=0;var _=[];var l=[];var d=0;var f=n.morphTargets?n.morphTargets.length:0;if(!n._morphTargets_index){n._morphTargets_index={}}n.MMDmorphs.forEach(function(e){if(e.type!=1){return}var t,i,o;o=d;if(o<a.length&&e.name===a[o].keys[0].name){d++;if(n._morphTargets_index[e.name]!=null){s++;_[n._morphTargets_index[e.name]]=a[o];return}n._morphTargets_index[e.name]=f++;l.push(a[o])}else{return}i=[];n.vertices.forEach(function(e){i.push(e.clone())});e.items.forEach(function(e){var t=i[e.target];t.x+=e.offset[0];t.y+=e.offset[1];t.z+=e.offset[2]});t={};t.name=e.name;t.vertices=i;r.push(t)});if(s){while(d<a.length){if(a[d].keys[0].morph_type!=1){l.push(a[d])}d++}n.morphTargets.forEach(function(e,t){if(!_[t])_[t]={keys:[{name:e.name,weight:0,morph_type:1}]}});this.targets=_.concat(l)}if(r.length){n.morphTargets=n.morphTargets?n.morphTargets.concat(r):r}if(n.morphTargets.length>0){n.morphTargetsNeedUpdate=true;e.updateMorphTargets();e.material.materials.forEach(function(e){e.morphTargets=true;e.needsUpdate=true})}};S.prototype=Object.create(g.prototype);S.prototype.constructor=S;S.prototype.onupdate=function(e,t,i,o){var n=this;var r=e.weight+(t.weight-e.weight)*i;var a=this.mesh;var s=a.geometry;var _=s.morphs_weight_by_name[e.name];s.morphs_weight_by_name[e.name]=r;if(e.morph_type==0){var l=e.morph_index;var d=s.MMDmorphs[l];d.items.forEach(function(e){var t=s.MMDmorphs[e.target];var i={name:t.name,weight:r*e.weight,morph_type:t.type,morph_index:e.target};n.onupdate(i,i,0,s._morphTargets_index[t.name]||0)})}else if(e.morph_type==2){var l=e.morph_index;var d=s.MMDmorphs[l];d.items.forEach(function(e){var t=a.bones[e.target].name;var i=a._bone_morph;i=i[t]=i[t]||{};i=i[l]=i[l]||{weight:0,pos_v3:new THREE.Vector3,rot_q:new THREE.Quaternion};if(i.weight>=Math.abs(r))return;i.weight=Math.abs(r);if(e.pos_v3){i.pos_v3.copy(e.pos_v3).multiplyScalar(r)}else i.pos_v3.set(0,0,0);if(e.rot_q){i.rot_q.set(0,0,0,1).slerp(e.rot_q,r)}else i.rot_q.set(0,0,0,1)})}else if(e.morph_type==8){var l=e.morph_index;var d=s.MMDmorphs[l];d.items.forEach(function(e){if(e.target==-1)return;var t=a.material.materials[e.target];t._render_once=true;var i=t.name;var o=a._material_morph[i];if(!o)o=a._material_morph[i]={};o[l]={weight:r,morph_obj:e}})}else if(e.morph_type>=3&&e.morph_type<=7){if(_==r)return;var l=e.morph_index;var d=s.MMDmorphs[l];if(!s._faceVertexUvs)s._faceVertexUvs=[[]];d.items.forEach(function(a,e){var t=a.target;var i=s._face_index_by_vertex[t];if(!i)return;i.forEach(function(e){var t=e[0];var i=s.faceVertexUvs[0][t];var o=s._faceVertexUvs[0][t];if(!o)o=s._faceVertexUvs[0][t]=[i[0].clone(),i[1].clone(),i[2].clone()];var n=e[1];i[n].x=o[n].x+a.uv[0]*r;i[n].y=o[n].y+a.uv[1]*r})});s.uvsNeedUpdate=true}else if(r>a.morphTargetInfluences[o]||e.override_weight)this.mesh.morphTargetInfluences[o]=r};(function(){var f,h,m;f=function(e,t,i,o){var n,a,r,s,_;n=e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3];if(n<0){i[0]=-t[0];i[1]=-t[1];i[2]=-t[2];i[3]=-t[3];n=-n}else{i[0]=t[0];i[1]=t[1];i[2]=t[2];i[3]=t[3]}if(Math.abs(n)>=1){i[0]=e[0];i[1]=e[1];i[2]=e[2];i[3]=e[3];return}a=Math.acos(n);r=Math.sqrt(1-n*n);if(Math.abs(r)<.001){i[0]=.5*(e[0]+i[0]);i[1]=.5*(e[1]+i[1]);i[2]=.5*(e[2]+i[2]);i[3]=.5*(e[3]+i[3]);return}s=Math.sin((1-o)*a)/r;_=Math.sin(o*a)/r;i[0]=e[0]*s+i[0]*_;i[1]=e[1]*s+i[1]*_;i[2]=e[2]*s+i[2]*_;i[3]=e[3]*s+i[3]*_};h=function(e,t,i){return o(e,t[i]/127,t[i+4]/127,t[i+8]/127,t[i+12]/127,1/128)};m=[0,0,0,1];D=function(e,t){this.mesh=e;g.call(this,t.targets,t.duration);this._timeMax=t._timeMax};D.prototype=Object.create(g.prototype);D.prototype.constructor=D;D.prototype.onupdate=function(){var _=new THREE.Vector3;var l=new THREE.Quaternion;var d={x:1,y:1,z:1};return function(e,t,i,o){var a=this.mesh.bones[o],r=this.mesh.geometry.bones[o],n;let s;if(self.MMD_SA){let e=MMD_SA_options.model_para_obj_all[this.mesh._model_index];let t;if(this._motion_index!=null&&MMD_SA.motion[this._motion_index]){t=MMD_SA.motion[this._motion_index].filename}else{let e=THREE.MMD.getModels()[this.mesh._model_index].skin;if(e){t=MMD_SA.motion[e._motion_index].filename}}s=MMD_SA_options.motion_para[t];let i=s&&s.adjustment_per_model&&(s.adjustment_per_model[MMD_SA.THREEX.get_model(this.mesh._model_index).model_path.replace(/^.+[\/\\]/,"")]||s.adjustment_per_model[e._filename_cleaned]||s.adjustment_per_model._default_);i=i&&i.skin_default||{};let o=i[r.name]||e.skin_default[r.name];if(o&&o.gpos_add){let i=[];r.pos.forEach(function(e,t){i[t]=e+o.gpos_add[t]});r={name:r.name,pos:i}}}n=t.interp;_.x=r.pos[0]+e.pos[0]+(t.pos[0]-e.pos[0])*h(i,n,0);_.y=r.pos[1]+e.pos[1]+(t.pos[1]-e.pos[1])*h(i,n,1);_.z=r.pos[2]+e.pos[2]+(t.pos[2]-e.pos[2])*h(i,n,2);f(e.rot,t.rot,m,h(i,n,3));l.x=m[0];l.y=m[1];l.z=m[2];l.w=m[3];if(this._blending_ratio_==null){a.position.copy(_);a.quaternion.copy(l)}else{let o=this._blending_ratio_;let n=false;if(s&&s.bone_to_position){let t=r.name.indexOf("")!=-1?"":r.name;let i=s.bone_to_position.find(e=>e.name==t);if(i){let e=i.scale||d;a.position.x+=(_.x-a.position.x)*o*(1-e.x);a.position.y+=(_.y-a.position.y)*o*(1-e.y);a.position.z+=(_.z-a.position.z)*o*(1-e.z);n=true}}if(!n)a.position.lerp(_,o);a.quaternion.slerp(l,this._blending_ratio_)}}}();MMD_SA._skin_onupdate=D.prototype.onupdate})();(function(){var d,f,h,m,p,c;d=new THREE.Vector3;f=new THREE.Quaternion;h=new THREE.Vector3;m=new THREE.Vector3;p=new THREE.Quaternion;c=new THREE.Quaternion;b=function(e,n){var a;this.mesh=n;a=[];n.bones.forEach(function(e,t){var i,o;i=e.pmxBone.additionalTransform;if(i&&i[0]>=0&&i[1]!==0){o=n.bones[i[0]];o.basePosition=o.position.clone();o.baseQuaternion=o.quaternion.clone();o.baseSkinMatrix=o.skinMatrix.clone();a.push(e)}});a.sort(function(e,t){return e.pmxBone.deformHierachy-t.pmxBone.deformHierachy});this.hasGlobal=a.some(function(e){return(e.pmxBone.flags&128)!==0});this.hasGlobal=false;this.bones=a};b.prototype.update=function(e){var t;t=this.mesh;if(this.hasGlobal){t.updateMatrixWorld()}var i=0;var o=this.bones.length-1;if(e){i=e.ini;o=e.end||i}for(var n=i,a=o;n<=a;n++){var r=t._IK_and_AddTrans[n];var s,_,l;s=r.pmxBone.additionalTransform;_=t.bones[s[0]];if(false&&(r.pmxBone.flags&128)!==0){h.getPositionFromMatrix(_.skinMatrix);m.getPositionFromMatrix(_.baseSkinMatrix);d.subVectors(h,m);p.setFromRotationMatrix(_.skinMatrix);c.setFromRotationMatrix(_.baseSkinMatrix);f.multiplyQuaternions(c.conjugate(),p)}else{d.subVectors(_.position,_.basePosition);f.copy(_.quaternion)}l=s[1];if((r.pmxBone.flags&256)!==0){p.set(0,0,0,1);if(l>=0){p.slerp(f,l)}else{p.slerp(f.conjugate(),-l)}r.quaternion.multiplyQuaternions(r.quaternion,p)}if((r.pmxBone.flags&512)!==0){r.position.addVectors(r.position,d.multiplyScalar(l))}}}})();(function(){var u,M;u=function(e,t,i){i*=4;return o(e,t[i]/127,t[i+2]/127,t[i+1]/127,t[i+3]/127,1/128)};M=new THREE.Vector3;E=function(e,t){if(!(e instanceof THREE.PerspectiveCamera)){console.error("not PerspectiveCamera");return}this.persepectiveCamera=e;g.call(this,t,t.duration);this.minKeyDelta=P.minKeyDelta;this.offset=new THREE.Vector3;this.target=new THREE.Vector3;const i=MMD_SA.THREEX.get_model(0);this.head_y=MMD_SA.THREEX.enabled?i.para.pos0["head"][1]*i.model_scale:i.mesh.bones_by_name[""].pmxBone.origin[1]};E.prototype=Object.create(g.prototype);E.prototype.constructor=E;E.prototype.play=function(e){g.prototype.play.call(this,e)};E.prototype.pause=function(){g.prototype.pause.call(this)};E.prototype.onupdate=function(e,t,i){var o=this.persepectiveCamera,n=t.interp,a,r,s,_,l,d;r=MMD_SA._v3a_.set(0,0,0);r.x=e.target[0]+(t.target[0]-e.target[0])*u(i,n,0);r.y=e.target[1]+(t.target[1]-e.target[1])*u(i,n,1);r.z=e.target[2]+(t.target[2]-e.target[2])*u(i,n,2);r.addVectors(r,this.offset);this.target.copy(r);const f=MMD_SA._v3a.copy(r);a=u(i,n,3);s=MMD_SA._v3b_.set(0,0,0);s.x=e.rot[0]+(t.rot[0]-e.rot[0])*a;s.y=e.rot[1]+(t.rot[1]-e.rot[1])*a;s.z=e.rot[2]+(t.rot[2]-e.rot[2])*a;_=e.distance+(t.distance-e.distance)*u(i,n,4);l=o.fov;o.fov=e.fov+(t.fov-e.fov)*u(i,n,5);if(o.fov!==l){o.updateProjectionMatrix()}d=o.matrix;d.makeRotationFromEuler(s);r.add(M.getColumnFromMatrix(2,d).multiplyScalar(_));d.setPosition(r);const h=MMD_SA._v3b.copy(r);if(1){const c=17.19686;let e=THREE.Math.clamp(1-Math.abs(c-h.y)/c,0,1);e=1-e+e*this.head_y/c;if(h.y<c){h.y*=e}else{h.y=this.head_y+(h.y-c)*e}}const m=MMD_SA.TEMP_v3.fromArray(MMD_SA_options.camera_position_base);h.sub(m);const p=MMD_SA._trackball_camera.position0.distanceTo(MMD_SA._trackball_camera.target0);f.set(0,0,-1).applyEuler(s).multiplyScalar(Math.abs(_)?Math.sign(_)*Math.max(Math.abs(_),p):p);f.add(h).add(m.setY(0));MMD_SA.Camera_MOD.adjust_camera("MMDCamera_onupdate",h,f);o.up.copy(M.getColumnFromMatrix(1,d));o.matrixWorldNeedsUpdate=true}})();w=function(e,t){if(!(e instanceof THREE.DirectionalLight)){console.error("not DirectionalLight");return}this.directionalLight=e;g.call(this,t,t.duration);this.minKeyDelta=P.minKeyDelta};w.prototype=Object.create(g.prototype);w.prototype.constructor=w;w.prototype.onupdate=function(e,t,i){var o=this.directionalLight,n=o.color,a=o.position,r=o.target.position;n.r=e.color[0]+(t.color[0]-e.color[0])*i;n.g=e.color[1]+(t.color[1]-e.color[1])*i;n.b=e.color[2]+(t.color[2]-e.color[2])*i;a.x=0;a.y=0;a.z=0;r.x=e.dir[0]+(t.dir[0]-e.dir[0])*i;r.y=e.dir[1]+(t.dir[1]-e.dir[1])*i;r.z=e.dir[2]+(t.dir[2]-e.dir[2])*i};var C=function(e){var t,i,o;this.matrixAutoUpdate&&this.updateMatrix();if(this.matrixWorldNeedsUpdate||e){if(this.parent){this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)}else{this.matrixWorld.copy(this.matrix)}this.matrixWorldNeedsUpdate=false;e=true}if(this._mesh_parent&&this._mesh_parent._RAF_timestamp_){if(this._mesh_parent._RAF_timestamp_==RAF_timestamp)return;this._mesh_parent._RAF_timestamp_=RAF_timestamp}for(t=0,i=this.children.length;t<i;t++){o=this.children[t];if(o instanceof THREE.Bone){if((this.matrixAutoUpdate||e)&&(!o.pmxBone||!o.pmxBone.afterPhysics))o.update(this.identityMatrix,false)}else{o.updateMatrixWorld(true)}}};(function(){function l(e){return e.bones.some(function(e){return!!e.additionalTransform})}T=function(e,t){this.init(e,t)};T.prototype.init=function(e,t){this.pmx=e;this.vmd=t;this.ik=null;this.physi=null;this.skin=null;this.morph=null;this.addTrans=null;this.mesh=null;this.simulateCallback=null;this.boundingCenterOffset=null;this._onmotionended=null;this._MMD_SA_cache=[]};T.prototype.load=function(e,i,o){var n;n=this;(new M).load(e,function(t){if(i){(new A).load(i,function(e){a(t,e)})}else{a(t)}});function a(e,t){T.call(n,e,t);o(n)}};T.prototype._update_IK_and_AddTrans=function(e,t,a,i){var o=this;var r;var s=r=this.mesh._IK_and_AddTrans;var n;var _,l,d;let f;if(t){const p=this.mesh.bones_by_name[t];f=a?"_IK_and_AddTrans_hierarchy":"_IK_and_AddTrans";s=p[f];if(!s){let n=t.charAt(0);if(n!=""&&n!="")n="";const c={};c[p._index]=true;p[f+"_reset_list"]={};const u=typeof a=="string"&&this.mesh.bones_by_name[a]||p.parent;s=p[f]=r.filter(t=>{if(n&&n!=t.name.charAt(0))return false;var i=false;if(a){const o=t.pmxBone.additionalTransform&&this.mesh.bones[t.pmxBone.additionalTransform[0]]||t.pmxBone.IK&&t;let e=o;do{e=e.parent;if(e==u){c[o._index]=true;i=true;break}}while(e&&e.isBone)}if(t.pmxBone.additionalTransform&&(!t.pmxBone.IK||t._additionalTransform_only)){const e=t.pmxBone.additionalTransform[0];if(c[e]){c[t._index]=true;p[f+"_reset_list"][e]=true;return true}}return i});p[f+"_reset_list"]=Object.keys(p[f+"_reset_list"]).map(e=>{return{bone:this.mesh.bones[e],pos:new THREE.Vector3,rot:new THREE.Quaternion}})}if(i){p[f+"_reset_list"].forEach(e=>{const t=e.bone;e.pos.copy(t.position);e.rot.copy(t.quaternion);t.position.negate();t.quaternion.conjugate()});const M=[];s=s.filter(e=>!e.pmxBone.IK);s.forEach(e=>{M.unshift(e)});s=M}this.mesh._IK_and_AddTrans=s;_=0;d=s.length-1}else{if(e){_=this.mesh._IK_and_AddTrans_afterPhysics_index;d=s.length-1}else{_=0;d=(this.mesh._IK_and_AddTrans_afterPhysics_index||s.length)-1}}l=-1;for(var h=_;h<=d;h++){var m=s[h];if(n){if(m.pmxBone.IK&&!m._additionalTransform_only){l=h}else{o.ik.update({ini:_,end:l});n=false;_=l=h}}else{if(m.pmxBone.additionalTransform&&(!m.pmxBone.IK||m._additionalTransform_only)){l=h}else{if(l!=-1){o.addTrans.update({ini:_,end:l})}n=true;_=l=h}}if(h==d){if(n){o.ik.update({ini:_,end:l})}else{o.addTrans.update({ini:_,end:l})}}}if(t&&i){this.mesh.bones_by_name[t][f+"_reset_list"].forEach(e=>{const t=e.bone;t.position.add(e.pos).add(e.pos);t.quaternion.premultiply(e.rot).premultiply(e.rot)})}this.mesh._IK_and_AddTrans=r};T.prototype.create=function(a,r){var _;_=this;var u,M,A,g;if(self.MMD_SA){u=document.createElement("canvas");M=u.getContext("2d");A=document.createElement("canvas");g=A.getContext("2d")}if(this.pmx){this.pmx.createMesh(a,function(p){function i(e){var t=e;var i=-1;while(t!==p){var o=_.pmx.rigid_index_by_bone[t._index];if(o!=null&&p.MMDrigids[o].type>0){i=t._index;break}t=t.parent}return i}p._bone_morph={};p.MMDrigids=_.pmx.rigids;var e;if(self.MMD_SA){p._model_index=p._model_index_default=_.pmx._model_index;p._material_morph={};e=self.MMD_SA&&MMD_SA_options.model_para_obj_all[p._model_index];p.bones_by_name={};p._IK_and_AddTrans=[];var s={};p.geometry.bones.forEach(function(e,t){var i=p.bones[t];p.bones_by_name[e.name]=i;i._index=t;var o=i.pmxBone=_.pmx.bones[t];if(o.IK){p._IK_and_AddTrans.push(i);var n=o.IK;s[n.effector]=t;n.links.forEach(function(e){s[e.bone]=t})}});if(p.bones_by_name[""]&&p.bones_by_name[""].pmxBone.origin[1]==0&&p.bones_by_name[""]){let e=p.bones_by_name[""].pmxBone.origin[1];p.bones_by_name[""].pmxBone.origin[1]=e;let i=e-p.bones_by_name[""].parent.pmxBone.origin[1];let o=p.bones_by_name[""]._index;p.geometry.bones[o].pos[1]=i;p.geometry.bones.forEach(function(e,t){if(e.parent==o)e.pos[1]-=i})}p.geometry.bones.forEach(function(e,t){var i=p.bones[t];var o=i.pmxBone;var n=o.additionalTransform;if(n&&n[0]>=0&&n[1]!==0){if(o.IK){let e=Object.assign({},i);e._additionalTransform_only=true;p._IK_and_AddTrans.push(e)}else p._IK_and_AddTrans.push(i);if(s[t]){const a=p.bones[s[t]];const r=a.pmxBone;r._index_IKAT=Math.min(r._index_IKAT||99999,8192+(o.deformHierachy-r.deformHierachy)*1024+t-.5)}}});p._bone_update_afterPhysics={};p._IK_and_AddTrans.forEach(function(e){if(!e.pmxBone.afterPhysics)return;var t;if(e.pmxBone.IK){t=i(e);if(t!=-1)p._bone_update_afterPhysics[t]=true}else{t=i(e);if(t!=-1)p._bone_update_afterPhysics[t]=true;t=i(p.bones[e.pmxBone.additionalTransform[0]]);if(t!=-1)p._bone_update_afterPhysics[t]=true}});p._IK_and_AddTrans.sort(function(e,t){var i=e.pmxBone;var o=t.pmxBone;return(i.afterPhysics&&32768||0)+(i.additionalTransform&&(!i.IK||e._additionalTransform_only)&&8192||0)+i.deformHierachy*1024+(i._index_IKAT||e._index)-((o.afterPhysics&&32768||0)+(o.additionalTransform&&(!o.IK||t._additionalTransform_only)&&8192||0)+o.deformHierachy*1024+(o._index_IKAT||t._index))});if(MMD_SA.use_afterPhysics){p._IK_and_AddTrans.some(function(e,t){if(e.pmxBone.afterPhysics){p._IK_and_AddTrans_afterPhysics_index=t;console.log(p._model_index,"._IK_and_AddTrans_afterPhysics_index",t);return true}})}}var t,o;var c=0;if(self.MMD_SA){t=self.MMD_SA&&_.pmx._clone_index==-1;o=e.material_para=e.material_para||{}}p.material.materials.forEach(function(_,e){function l(e){return e>=0?e%1:e%1+1}_.mesh=p;if(self.MMD_SA){let n,a,r;let s=o[_.name]||o._default_&&Object.assign({},o._default_)||{};if(s.depthWrite!=null){_.depthWrite=s.depthWrite}let e=t&&s.transparent==null;if(e){if(_.opacity<1){s.transparent=true}else if(!_.map){s.transparent=false}else if(_.map instanceof THREE.CompressedTexture){s.transparent=true}else if(_.map.image.src&&/\.jpg$/i.test(_.map.image.src)&&!/\.jpga\.jpg$/i.test(_.map.image.src)){s.transparent=false}else{n=_.map.image;a=u.width=A.width=Math.ceil(n.width*.5);r=u.height=A.height=Math.ceil(n.height*.5);M.drawImage(n,0,0,a,r);let t=p.geometry.faceVertexUvs[0];g=A.getContext("2d");g.fillStyle="white";for(var d=_._uv_bbox.face_ini,f=_._uv_bbox.face_end;d<f;d++){let e=t[d];g.beginPath();g.moveTo(l(e[0].x)*a,l(e[0].y)*r);g.lineTo(l(e[1].x)*a,l(e[1].y)*r);g.lineTo(l(e[2].x)*a,l(e[2].y)*r);g.closePath();g.fill()}let e=M.getImageData(0,0,a,r).data;let i=g.getImageData(0,0,a,r).data;let o=false;for(var h=0,m=e.length;h<m;h+=4){if(e[h+3]<192){o=true;break}}s.transparent=o;e=i=undefined}if(s.transparent!=null)_.transparent=s.transparent}_._material_para=o[_.name]||o._default_||null;if(!_.transparent)c++}});console.log("model-"+p._model_index+":auto_detect_material_para-"+!!t+",opaque/total material count-"+c+"/"+p.material.materials.length);if(self.MMD_SA){u.width=u.height=A.width=A.height=0;u=M=A=g=undefined}var n;_.mesh=p;p.identityMatrix=null;p.useQuaternion=true;if(a.position){p.position.copy(a.position)}if(a.rotation){p.rotation.copy(a.rotation);p.useQuaternion=false}if(a.quaternion){p.quaternion.copy(a.quaternion);p.useQuaternion=true}_.boundingCenterOffset=p.geometry.boundingSphere.center.clone().sub(p.bones[0].position);if(p.geometry.MMDIKs.length){_.ik=new v(p)}else{_.ik=null}if(window.Ammo){_.physi=new y(p)}else{_.physi=null}if(_.vmd){n=_.vmd.generateSkinAnimation(_.pmx);if(n){_.skin=new D(p,n);_.skin.onended=function(e){if(e.loop){if(_.physi){_.physi.reset()}}_._onmotionended=_.onmotionended};if(_.physi){p.updateMatrixWorld=C}}else{_.skin=null}n=_.vmd.generateMorphAnimation(_.pmx);if(n){_.morph=new S(p,n)}else{_.morph=null}if(self.MMD_SA)_._MMD_SA_cache[toLocalPath(_.vmd.url)]={skin:_.skin,morph:_.morph}}else if(self.MMD_SA){p.updateMatrixWorld=C}if(l(_.pmx)){_.addTrans=new b(_.pmx,p)}else{_.addTrans=null}r(_);window.dispatchEvent(new CustomEvent("SA_MMD_model"+_.pmx._model_index+"_onload"));if(self.MMD_SA){if(e.hidden_before_start||e.hidden_on_start||MMD_SA_options.hidden_before_start||MMD_SA_options.hidden_on_start)p.scale.set(0,0,0)}})}};T.prototype.resetBones=function(){var e,o;e=this.mesh;if(e){o=e.bones;e.geometry.bones.forEach(function(e,t){var i;i=o[t];i.position.set(e.pos[0],e.pos[1],e.pos[2]);i.quaternion.set(e.rotq[0],e.rotq[1],e.rotq[2],e.rotq[3])})}};T.prototype.setupMotion_MMD_SA=function(e,t,i){if(!t)t={skin_jThree:true,morph_jThree:true};var o=t.skin_jThree?e.generateSkinAnimation(this.pmx,t.skin_jThree===true?null:t.skin_jThree):null;var n=t.morph_jThree?(e._morph_component||e).generateMorphAnimation(this.pmx,t.morph_jThree===true?null:t.morph_jThree):null;var a=o?new D(this.mesh,o):i?MMD_SA.Animation_dummy:null;var r=n?new S(this.mesh,n):i?MMD_SA.Animation_dummy:null;if(a){a._model_index=this._model_index;a._motion_index=e._index}if(r){r._model_index=this._model_index;r._motion_index=e._index}var s=e._camera_component&&new E(MMD_SA._trackball_camera.object,e._camera_component.generateCameraAnimation());var _={skin:a,morph:r,camera:s};if(r&&!i){r.target_index_by_name={};r.targets.forEach(function(e,t){r.target_index_by_name[e.keys[0].name]=t});if(""in r.target_index_by_name)_._blink_target_index=r.target_index_by_name[""]}return _};T.prototype._VMD=function(e,t){(new A).load(e,t)};T.prototype.resetMotion=function(e){this.resetBones();if(this.morph){this.morph.reset();if(this.morph_MMD_SA_extra){this.morph_MMD_SA_extra.forEach(function(e){if(!e.time||e._MMD_SA_disabled){e.reset()}})}}if(this.skin){this.skin.reset();if(this.skin_MMD_SA_extra){this.skin_MMD_SA_extra.forEach(function(e){if(!e.time||e._MMD_SA_disabled){e.reset()}})}}if(this.physi){if(e)return;if(self.MMD_SA){let t=(this._model_index>0?MMD_SA.motion[this.skin._motion_index]:MMD_SA.MMD.motionManager).para_SA;this.resetPhysics();if(this._model_index==0){let e=t.gravity||[0,-1,0];if(e[0]!=MMD_SA.gravity[0]||e[1]!=MMD_SA.gravity[1]||e[2]!=MMD_SA.gravity[2]){THREE.MMD.setGravity(e[0]*9.8*10,e[1]*9.8*10,e[2]*9.8*10);MMD_SA.gravity=e}}}this.physi.reset()}};T.prototype.resetPhysics=function(e){if(!self.MMD_SA)return;if(e===0){this.mesh._reset_rigid_body_physics_=0;return}if(e==null){const t=(this._model_index>0?this.skin&&MMD_SA.motion[this.skin._motion_index]||{}:MMD_SA.MMD.motionManager).para_SA||{};e=t.reset_rigid_body_physics_step||MMD_SA_options.reset_rigid_body_physics_step}this.mesh._reset_rigid_body_physics_=Math.max(this.mesh._reset_rigid_body_physics_||0,e);if(MMD_SA.THREEX.enabled&&this.mesh._reset_rigid_body_physics_)MMD_SA.THREEX.models[this._model_index].resetPhysics()};if(self.MMD_SA){Object.defineProperty(T.prototype,"visible",{get:function(){if(this._visible_RAF_timestamp==RAF_timestamp)return this._visible;var e;if(this.mesh.visible)e=true;else if(this._clone_cache){e=this._clone_cache.list.some(function(e){return e.visible})}else e=false;this._visible_RAF_timestamp=RAF_timestamp;this._visible=e;return e}})}else{T.prototype.visible=true}T.prototype.updateMotion=function(r,e){if(!this.visible)return;this.resetBones();var f=this.mesh;var s=this;var _;var t,l;var h,d;if(self.MMD_SA){_=self.MMD_SA&&MMD_SA.meter_motion_disabled;t=MMD_SA_options.model_para_obj_all[this._model_index];l=MMD_SA.motion[(this.skin||this.morph||{})._motion_index];l=l&&l.para_SA||{};f._bone_morph={};let e=(l.playbackRate_by_model_index&&l.playbackRate_by_model_index[this._model_index]||1)*(t._playbackRate||1);if(this._model_index==0)t._playbackRate_OPC_=MMD_SA._playbackRate*e;else if(t._playbackRate_OPC_)e=t._playbackRate_OPC_/MMD_SA._playbackRate;r*=e}if(this.morph){var a=false;if(self.MMD_SA){let e=f.morphTargetInfluences;if(e){if(this.morph.playing){for(var m=0,L=e.length;m<L;m++)e[m]=0}else if(l.auto_blink){e[this.morph.target_index_by_name[""]]=0;if(this.morph.target_index_by_name[""]!=null)e[this.morph.target_index_by_name[""]]=0}}}if(this.morph_MMD_SA_extra){this.morph_MMD_SA_extra.forEach(function(e,t){if(e._is_dummy||!e.targets.length)return;var i=e._motion_index_MMD_SA_extra!=null?e._motion_index_MMD_SA_extra:e._motion_index-MMD_SA.custom_action_index;if(i<MMD_SA_options.custom_action.length){var o=MMD_SA_options.custom_action[i];var n=o.frame=o.para_by_model_index[s._model_index].frame=e._MMD_SA_disabled?0:~~((e.time<e.duration?e.time:e.duration)*30);if(o.condition(false,e)){a=true;if(e._MMD_SA_disabled){e._MMD_SA_disabled=false;e.reset();e.play()}}else{if(!e._MMD_SA_disabled){e.pause();e._MMD_SA_disabled=true}}}if(!e._MMD_SA_disabled){e.update(r)}})}if(a){this.morph.time+=r}else this.morph.update(r,e);if(self.MMD_SA){if(!l.process_morphs||!l.process_morphs(this,this.morph)){t.process_morphs&&t.process_morphs(this,this.morph);window.dispatchEvent(new CustomEvent("SA_MMD_model"+this._model_index+"_process_morphs",{detail:{model:this,morph:this.morph}}))}}if(self.MMD_SA){if(l.morph_noise){l.morph_noise.forEach(function(e){if(!e._count){e._count=~~(e.time_range[0]+Math.random()*(e.time_range[1]-e.time_range[0]+1));e.morph_list.forEach(function(e){e._weight=e.weight_range[0]+Math.random()*(e.weight_range[1]-e.weight_range[0])})}e._count--;var r=s.morph.targets;e.morph_list.forEach(function(e){var t=e.name;var i=s.morph.target_index_by_name[t];var o=r[i];var n=o.keys[0];var a={name:t,weight:s.pmx.morphs_weight_by_name[t]+e._weight,morph_type:n.morph_type,morph_index:n.morph_index};s.morph.onupdate(a,a,0,i)})})}var F=t._custom_morph||MMD_SA._custom_morph;F.forEach(function(e){if(!e.condition||e.condition(s)){s.morph.onupdate(e.key,e.key,0,e.idx)}});t._custom_morph=null;MMD_SA._custom_morph=[]}if(self.MMD_SA&&MMD_SA_options.auto_blink&&!a&&this.pmx.morphs_index_by_name[""]!=null){let e=this.morph.targets;let t=this._MMD_SA_cache_current;let r=e[t._blink_target_index];if(this._blink_countdown==null)this._blink_countdown=-9999;if(l.auto_blink||l.auto_blink==null&&r.keys.length<=2&&!r.keys[0].weight&&!r.keys[r.keys.length-1].weight){let o,n="",a=t._blink_target_index;if(l.auto_blink&&this.morph.playing){o=this.pmx.morphs_weight_by_name[""];let e=this.pmx.morphs_weight_by_name[""];if(o&&e){o=null}else if(e){o=e;n="";a=this.morph.target_index_by_name[n]}}else{o=0}if(o==null){this._blink_countdown=null}else{let e=this._blink_countdown;let i=-1;let t=2;if(e<=-1-t*3){this._blink_countdown=~~(20*(Math.random()*8+4));i=o||0}else if(e<=-1-t*2)i=o+(1-o)*(Math.abs(t*3+e)+1)/(t+1);else if(e<=-1-t*1)i=1;else if(e<=-1)i=o+(1-o)*(Math.abs(1+e)+1)/(t+1);if(i>=0){let e=r.keys[0];let t={name:n,weight:i,morph_type:e.morph_type,morph_index:e.morph_index};this.morph.onupdate(t,t,0,a)}this._blink_countdown-=RAF_timestamp_delta/1e3*60}}}}if(this.skin){self.MMD_SA&&MMD_SA_options.Dungeon&&MMD_SA_options.Dungeon.SFX_check(this,l,this.skin,r);window.dispatchEvent(new CustomEvent("SA_MMD_model"+this._model_index+"_before_process_bones",{detail:{model:this,skin:this.skin}}));this.skin.update(r,e)}if(self.MMD_SA){if(!l.process_bones||!l.process_bones(this,this.skin)){t.process_bones&&t.process_bones(this,this.skin);window.dispatchEvent(new CustomEvent("SA_MMD_model"+this._model_index+"_process_bones",{detail:{model:this,skin:this.skin}}))}if(this._model_index>0){let e=MMD_SA.bone_to_position.call(this,l);if(e)f.position.add(f._bone_to_position_last.pos_delta_rotated)}}if(this.skin){if(this.skin_MMD_SA_extra){this.skin_MMD_SA_extra.forEach(function(e,t){if(e._is_dummy)return;var i=e._motion_index_MMD_SA_extra!=null?e._motion_index_MMD_SA_extra:e._motion_index-MMD_SA.custom_action_index;if(i<MMD_SA_options.custom_action.length){var o=MMD_SA_options.custom_action[i];var n=o.frame=o.para_by_model_index[s._model_index].frame=e._MMD_SA_disabled?0:~~((e.time<e.duration?e.time:e.duration)*30);if(o.condition(true,e)){if(o.meter_motion_disabled!=false)_=true;var a=o.look_at_screen_ratio;if(a!=null)h=a;d=d||o.look_at_mouse_disabled;if(e._MMD_SA_disabled){e._MMD_SA_disabled=false;e.reset();e.play()}}else{if(!e._MMD_SA_disabled){e.pause();e._MMD_SA_disabled=true}}}if(!e._MMD_SA_disabled){if(e._seek_time_!=null){e.seek(e._seek_time_);e._seek_time_=null}else e.update(r);e._blending_ratio_=null}})}if(self.MMD_SA){for(var i in f._bone_morph){var o=f._bone_morph[i];var n=f.bones_by_name[i];for(var p in o){n.position.add(o[p].pos_v3);n.quaternion.multiply(o[p].rot_q)}}}var c="";var u=null;if(self.MMD_SA){if(!t.is_object){u=MMD_SA.THREEX.get_model(this._model_index).get_bone_position_by_MMD_name(c)}if(this._model_index==0){MMD_SA._head_pos=u;MMD_SA.SpeechBubble.update_placement();if(MMD_SA_options.Dungeon){var M=MMD_SA_options.Dungeon.character.bb_translate;M&&M.update&&M.update()}}}System._browser.camera.poseNet.frames.set_upper_body_rotation(this._model_index,0);var A;if(self.MMD_SA&&u&&f.bones_by_name[c]&&h!=0&&MMD_SA_options.look_at_screen_by_model(this)&&t.look_at_screen!=false){var g=MMD_SA.camera_position;if(l&&l.center_view_lookAt||MMD_SA_options.center_view_lookAt)A=true;else{var O=MMD_SA_options.camera_position.slice(0);var j=MMD_SA.center_view;var z=f.position.toArray();for(var m=0;m<3;m++)z[m]+=O[m]+j[m];var V=[g.x,g.y,g.z];for(var m=0;m<3;m++){if(Math.abs(z[m]-V[m])>.01){A=true;break}}}let e=!d&&MMD_SA_options.look_at_mouse||t.look_at_character!=null||t.look_at_target||l.look_at_target||l.look_at_mouse;if(A||e){const R=(MMD_SA_options.look_at_screen_parent_rotation_by_model(this)||System._browser.camera.facemesh.enabled&&f.bones_by_name[""].quaternion||MMD_SA.get_bone_rotation_parent(f,c)).conjugate();let d=MMD_SA.face_camera(u,R);const P=l.look_at_screen_angle_x_limit||[Math.PI*.5,-Math.PI*.5];const C=l.look_at_screen_angle_y_limit||[Math.PI*.5,-Math.PI*.5];const I=h!=null?h:MMD_SA_options.look_at_screen_ratio_by_model(this);d.x=Math.min(Math.max(MMD_SA.normalize_angle(d.x*I),P[1]),P[0]);d.y=Math.min(Math.max(MMD_SA.normalize_angle(d.y*I),C[1]),C[0]);const H=MMD_SA.TEMP_v3.copy(g).sub(u);if(this._model_index==0){MMD_SA._rx=Math.atan2(-H.y,Math.sqrt(Math.pow(H.x,2)+Math.pow(H.z,2)));MMD_SA._ry=d.y;MMD_SA._rx_last=d.x;MMD_SA._ry_last=d.y}if(e){let i;if(l.look_at_target){i=l.look_at_target()}else if(t.look_at_character!=null){i=THREE.MMD.getModels()[t.look_at_character].mesh.position.clone();i.y+=15}else if(t.look_at_target){i=t.look_at_target()}else{i=MMD_SA.mouse_to_ray(true);i.y+=MMD_SA._trackball_camera.position0.y-u.y}if(!MMD_SA._mouse_pos_3D[this._model_index])MMD_SA._mouse_pos_3D[this._model_index]=i;else{const U=500*RAF_timestamp_delta/1e3;["x","y","z"].forEach(function(e){let t=i[e]-MMD_SA._mouse_pos_3D[s._model_index][e];if(Math.abs(t)>U)t=Math.sign(t)*U;MMD_SA._mouse_pos_3D[s._model_index][e]+=t})}MMD_SA._camera_position_=MMD_SA._mouse_pos_3D[this._model_index];d=MMD_SA.face_camera(u,R);MMD_SA._camera_position_=null;d.x=Math.min(Math.max(MMD_SA.normalize_angle(d.x*I),P[1]),P[0]);d.y=Math.min(Math.max(MMD_SA.normalize_angle(d.y*I),C[1]),C[0])}var B,K,v,y;v=P[d.x<0?1:0];y=C[d.y<0?1:0];B=Math.abs(d.x/v);K=Math.abs(d.y/y);var N=MMD_SA_options.look_at_screen_bone_list_by_model(this);for(var m=0,G=N.length;m<G;m++){let e=N[m];let t=f.bones_by_name[e.name];if(!t)continue;let i=e.weight_screen;let o=MMD_SA_options.model_para_obj.skin_default[e.name]&&MMD_SA_options.model_para_obj.skin_default[e.name].pos_scale;if(o)i*=Math.min(o.x,o.y,o.z);let n,a;if(e.weight_screen_pow!=null){n=v*Math.pow(B,e.weight_screen_pow);a=y*Math.pow(K,e.weight_screen_pow)}else{n=d.x;a=d.y}let r=e.weight_motion;let s=r+(1-I)*(1-r);let _=e.weight_screen_x!=null?e.weight_screen_x:1;let l=e.weight_screen_y!=null?e.weight_screen_y:1;MMD_SA.process_bone(t,MMD_SA.TEMP_v3.set(n*i*_,a*i*l,0),[s+(1-s)*(1-_),s+(1-s)*(1-l),1])}if(MMD_SA._update_with_look_at_screen_){var X=MMD_SA._update_with_look_at_screen_.bone_list;var W=MMD_SA._update_with_look_at_screen_.parent_list;var S=MMD_SA.TEMP_q.set(0,0,0,1);for(var x=0,q=W.length;x<q;x++){var Q=f.bones_by_name[W[x]];if(Q)S.multiply(Q.quaternion,S)}S.inverse();for(var x=0,q=X.length;x<q;x++){let t=X[x];let i;for(var D=0,Y=t.name.length;D<Y;D++){let e=f.bones_by_name[t.name[D]];if(e){if(!i){i=MMD_SA._q1.copy(S);let e=t.ratio;if(e<1){i.inverse();e=-e}i.slerp(MMD_SA._q2.set(0,0,0,1),1-e/3)}e.quaternion.multiply(i)}}}MMD_SA._update_with_look_at_screen_=null}}}if(!A&&this._model_index==0){MMD_SA._rx=MMD_SA._rx_last=0;MMD_SA._ry=MMD_SA._ry_last=0}if(self.MMD_SA&&this._model_index==0){var b=this;var E=MMD_SA_options.custom_action.length;if(!_&&self.EV_usage>9){var w=[];if(EV_usage<60)w.push(~~(EV_usage/10)-1);else w.push(4,~~(EV_usage/10-1));for(var m=0,$=b.skin_MMD_SA_extra.length-E;m<$;m++){var T=b.skin_MMD_SA_extra[m+E];var J=false;for(var D=0,Z=w.length;D<Z;D++){if(m==w[D]){J=true;break}}if(J){if(T._MMD_SA_disabled){T._MMD_SA_disabled=false;T.reset();T.play()}}else{if(!T._MMD_SA_disabled){T.pause();T._MMD_SA_disabled=true}}}}else{for(var m=0,$=b.skin_MMD_SA_extra.length-E;m<$;m++){var T=b.skin_MMD_SA_extra[m+E];if(!T._MMD_SA_disabled){T.pause();T._MMD_SA_disabled=true}}}}}System._browser.camera.poseNet.frames.set_upper_body_rotation(this._model_index,1);if(self.MMD_SA){var e1=t._custom_skin||MMD_SA._custom_skin;e1.forEach(function(e){if(!e.condition||e.condition(s)){MMD_SA._skin_onupdate.call({mesh:f},e.key,e.key,0,e.idx)}});t._custom_skin=null;MMD_SA._custom_skin=[];var k=l.adjustment_per_model&&(l.adjustment_per_model[t._filename]||l.adjustment_per_model[t._filename_cleaned]||l.adjustment_per_model._default_);if(k&&k.skin_default){for(var i in k.skin_default){var n=k.skin_default[i];if(n.pos_scale&&n.pos_scale.auto_adjust&&i.indexOf("")!=-1&&t._ref_length&&t._ref_length[i]){var t1=MMD_SA.get_bone_position(f,i);var i1=MMD_SA.get_bone_position(f,i.substring(0,2));var o1=i1.sub(t1).setY(0).multiplyScalar(1-((t._ref_length[i]/n.pos_scale.auto_adjust.ref_length-1)*(n.pos_scale.auto_adjust.scale||1)+1));f.bones_by_name[i].position.sub(o1)}}}}if(self.MMD_SA){if(!l.process_bones_before_IK||!l.process_bones_before_IK(this,this.skin)){t.process_bones_before_IK&&t.process_bones_before_IK(this,this.skin);window.dispatchEvent(new CustomEvent("SA_MMD_model"+this._model_index+"_process_bones_before_IK",{detail:{model:this,skin:this.skin}}))}}this._update_IK_and_AddTrans();if(self.MMD_SA){if(!l.process_bones_after_IK||!l.process_bones_after_IK(this,this.skin)){t.process_bones_after_IK&&t.process_bones_after_IK(this,this.skin);window.dispatchEvent(new CustomEvent("SA_MMD_model"+this._model_index+"_process_bones_after_IK",{detail:{model:this,skin:this.skin}}))}}if(self.MMD_SA){MMD_SA_options.model_para_obj_all.forEach(function(e,t){if(t==s._model_index)return;var i=e.bone_connection;if(!i||i.target_model_index!=s._model_index)return;var o=MMD_SA.get_bone_position(f,i.target_bone_name);var n=MMD_SA.get_bone_rotation(f,i.target_bone_name);if(i.position){o.add(MMD_SA.TEMP_v3.set(-i.position.x,i.position.y,-i.position.z).applyQuaternion(n))}if(i.rotation){if(!i.rotation._quaternion)i.rotation._quaternion=(new THREE.Quaternion).setFromEuler(MMD_SA.TEMP_v3.set(i.rotation.x*Math.PI/180,-i.rotation.y*Math.PI/180,i.rotation.z*Math.PI/180));n.multiply(i.rotation._quaternion)}e._custom_skin=[{key:{name:i.self_bone_name,pos:o.toArray(),rot:n.toArray(),interp:MMD_SA._skin_interp_default},idx:THREE.MMD.getModels()[t].mesh.bones_by_name[i.self_bone_name]._index}]})}this.checkCallback()};T.prototype.seekMotion=function(e,t){this.resetBones();if(this.morph){this.morph.seek(e,t)}if(this.skin){this.skin.seek(e,t)}this._update_IK_and_AddTrans();this.checkCallback()};T.prototype.playMotion=function(t){if(this.morph){this.morph.play(t);if(this.morph_MMD_SA_extra){this.morph_MMD_SA_extra.forEach(function(e){if(!e._MMD_SA_disabled)e.play(t)})}}if(this.skin){this.skin.play(t);if(this.skin_MMD_SA_extra){this.skin_MMD_SA_extra.forEach(function(e){if(!e._MMD_SA_disabled)e.play(t)})}}if(this.camera)this.camera.play(t)};T.prototype.pauseMotion=function(){if(this.morph){this.morph.pause();if(this.morph_MMD_SA_extra){this.morph_MMD_SA_extra.forEach(function(e){if(!e._MMD_SA_disabled)e.pause()})}}if(this.skin){this.skin.pause();if(this.skin_MMD_SA_extra){this.skin_MMD_SA_extra.forEach(function(e){if(!e._MMD_SA_disabled)e.pause()})}}if(this.camera)this.camera.pause()};T.prototype.preSimulate=function(){if(this.physi){this.physi.preSimulate()}};T.prototype.postSimulate=function(){if(this.physi){this.physi.postSimulate()}};T.prototype.dispose=function(){if(this.physi){this.physi.dispose()}if(this.mesh){this.mesh.dispose()}this.init()};T.prototype.checkCallback=function(){if(this._onmotionended){this._onmotionended(this);this._onmotionended=null}}})();var H,U=[],L;(function(){var o,i,n,a,r,s,t,_,l,e;H=[];o=false;i=false;n=0;a=0;r=false;s=true;_={render:function(e){var t;if(!P.targetScene||P.targetScene===e){if(P.motionPlaying||r||s){r=false;t=n}else{t=0}P.simulate(t)}}};e=function(){if(l){l();l=undefined}};P={addModel:function(e){e._model_index=e.pmx._model_index;H.push(e)},removeModel:function(e){var t;t=H.indexOf(e);if(t>=0){if(t<H.length-1){this.swapModels(t,H.length-1,null,true)}H.length--;MMD_SA_options.model_para_obj_all.length--;for(const i of["cache_by_model","cache_by_model_next","cache_by_model_temp"])MMD_SA.ammo_proxy[i].list.length--;MMD_SA.THREEX.models.length--}},getModels:function(){return H},swapModels:function(a,r,e,t){[a,r].forEach(function(e){var t=H[e];var i=e==a?r:a;t._model_index=t.mesh._model_index=t.pmx._model_index=i;if(t.morph_MMD_SA_extra){t.morph_MMD_SA_extra.forEach(function(e){e._model_index=i})}if(t.skin_MMD_SA_extra){t.skin_MMD_SA_extra.forEach(function(e){e._model_index=i})}for(var o in t._MMD_SA_cache){var n=t._MMD_SA_cache[o];if(n.morph)n.morph._model_index=i;if(n.skin)n.skin._model_index=i}});var i,o;i=H[a];o=H[r];H[a]=o;H[r]=i;i=MMD_SA_options.model_para_obj_all[a];o=MMD_SA_options.model_para_obj_all[r];MMD_SA_options.model_para_obj_all[a]=o;MMD_SA_options.model_para_obj_all[r]=i;MMD_SA_options.model_para_obj_all[a]._model_index=a;MMD_SA_options.model_para_obj_all[r]._model_index=r;i=MMD_SA_options.mesh_obj_by_id["mikuPmx"+a];o=MMD_SA_options.mesh_obj_by_id["mikuPmx"+r];MMD_SA_options.mesh_obj_by_id["mikuPmx"+a]=o;MMD_SA_options.mesh_obj_by_id["mikuPmx"+r]=i;if(MMD_SA.ammo_proxy){["cache_by_model","cache_by_model_next","cache_by_model_temp"].forEach(function(e){i=MMD_SA.ammo_proxy[e].list[a];o=MMD_SA.ammo_proxy[e].list[r];MMD_SA.ammo_proxy[e].list[a]=o;MMD_SA.ammo_proxy[e].list[r]=i})}var n={};var s={};var _=["position","rotation","quaternion"];if(!t){_.forEach(function(e){n[e]=H[a].mesh[e].clone();s[e]=H[r].mesh[e].clone()})}e&&e(a,r);if(!t){_.forEach(function(e){H[a].mesh[e].copy(s[e]);H[r].mesh[e].copy(n[e])})}if(a==0){MMD_SA_options.model_para_obj=MMD_SA_options.model_para_obj_all[0];H[0].mesh.visible=true;H[0].mesh.children.forEach(function(e){e.visible=true})}},setupCameraMotion:function(e,t){if(U.length){U[0].reset()}if(e){U=[e]}else{if(U.length){const i=U[0].persepectiveCamera;if(i.fov!=MMD_SA_options.camera_fov){i.fov=MMD_SA_options.camera_fov;i.updateProjectionMatrix()}MMD_SA.Camera_MOD.adjust_camera("MMDCamera_onupdate",MMD_SA._v3a_.set(0,0,0),MMD_SA._v3b_.set(0,0,0));i.rotationAutoUpdate=true;i.matrixAutoUpdate=true}U.length=0}},getCameraMotion:function(){return U},setupLightMotion:function(e,t){var i;i=e.generateLightAnimation();if(i){L=new w(t,i);L.vmd=e}else{L=undefined}},getLightMotion:function(){return L},adjustMotionDuration:function(){var t=jThree.MMD._duration;U.forEach(function(e){t=Math.max(t,e.duration)});if(L){t=Math.max(t,L.duration)}H.forEach(function(e){if(e._model_index>0)return;if(e.skin){t=Math.max(t,e.skin.duration_default)}if(e.morph){t=Math.max(t,e.morph.duration_default)}});U.forEach(function(e){e.adjustDuration(t)});if(L){L.adjustDuration(t)}H.forEach(function(e){if(e._model_index>0)return;if(e.skin){e.skin.adjustDuration(t)}if(e.morph){e.morph.adjustDuration(t)}})},resetMotion:function(){U.forEach(function(e){e.reset()});if(L){L.reset()}H.forEach(function(e){e.resetMotion()});a=0},updateMotion:function(t,i){n=t;if(!i&&!o){return}U.forEach(function(e){e.update(t,i)});if(L){L.update(t,i)}H.forEach(function(e){e.updateMotion(t,i)});window.dispatchEvent(new CustomEvent("SA_MMD_model_all_process_bones"));e();a+=t;window.dispatchEvent(new CustomEvent("SA_MMD_after_updateMotion"))},seekMotion:function(t,i){if(!i&&!o){return}U.forEach(function(e){e.seek(t,i)});if(L){L.seek(t,i)}H.forEach(function(e){e.seekMotion(t,i)});e();r=true;a=t},playMotion:function(e){var t;t=this;if(e!==undefined){i=e}U.forEach(function(e){e.play(i)});if(L){L.play(i)}H.forEach(function(e){e.playMotion(i)});if(H.length>0){H[0].onmotionended=function(e){if(i){a=0}else{t.pauseMotion()}l=P.onmotionended}}o=true},pauseMotion:function(e){s=e;U.forEach(function(e){e.pause()});if(L){L.pause()}H.forEach(function(e){e.pauseMotion()});o=false},adjustCameraOffset:function(e){var t,i,o;if(U){if(e){t=e.model;i=e.offset}else{if(H.length>0){t=H[0]}}if(t){o=t.mesh.geometry.boundingBox.size()}U.offset.set(0,0,0);if(o){U.offset.y=o.y-20}if(i){U.offset.addVectors(U.offset,i)}}},getWorld:function(){return k},setGravity:function(e,t,i){k.setGravity(X(e,t,i));if(!MMD_SA.MMD_started||!MMD_SA.THREEX.enabled)return;const o=MMD_SA.THREEX.v1.set(e,t,i);const n=o.length()/5;const a=o.normalize();MMD_SA.THREEX.models.forEach(i=>{if(i.type=="VRM"&&i.model.springBoneManager){let t=0;i.model.springBoneManager.joints.forEach(e=>{e.settings.gravityDir.copy(a);e.settings.gravityPower=i._joints_settings[t].gravityPower*n;t++})}})},simulate:function(e,t){var i=e;self.MMD_SA&&MMD_SA.ammo_proxy&&MMD_SA.ammo_proxy.lock("stepSimulation");var o=performance.now();if(H.length===0){return}if(e<=0){}else{if(self.MMD_SA){if(MMD_SA._motionTime_last==THREE.MMD.motionTime)return;MMD_SA._motionTime_last=THREE.MMD.motionTime;e+=MMD_SA.ammo_proxy&&MMD_SA.ammo_proxy._timeStep||0}if(e<R){e=R}t=t||Math.ceil(e/R);if(self.MMD_SA){t=Math.min(Math.ceil(e/R),MMD_SA_options.model_para_obj.physics_maxSubSteps||MMD_SA_options.physics_maxSubSteps||9)}H.forEach(function(e){if(!e.visible)return;e.preSimulate()});k&&k.stepSimulation(e,t,R);H.forEach(function(e){if(!e.visible)return;e.postSimulate()});if(self.MMD_SA){if(MMD_SA.ammo_proxy){if(MMD_SA.ammo_proxy.update_worker("stepSimulation")){MMD_SA.ammo_proxy.cache_by_model_temp.transfer_to("cache_by_model_next");MMD_SA.ammo_proxy._timeStep=0}else{MMD_SA.ammo_proxy._timeStep+=i;MMD_SA.ammo_proxy.reset()}}MMD_SA.physicsHelper&&MMD_SA.physicsHelper.update()}}H.forEach(function(e){if(e.simulateCallback){e.simulateCallback()}})},init:function(e,t){P.targetScene=t;P.targetRenderer=e},targetScene:null,get targetRenderer(){return t},set targetRenderer(e){if(t!==e){t=e;if(e.renderPluginsPre.indexOf(_)===-1){e.renderPluginsPre.unshift(_)}}},get motionPlaying(){return o},get motionLoop(){return i},get motionDelta(){return n},get motionTime(){return a},onmotionended:null,minKeyDelta:1/30+1/60,STOP_ERP:.475,PMX:M,VMD:A,Model:T}})();THREE.MMD=P;THREE.Mesh.prototype.dispose=function(){if(this.material.materials){this.material.materials.forEach(function(e){t(e);e.dispose()})}else{t(this.material);this.material.dispose()}this.geometry.dispose();function t(e){var t,i;for(i in e){t=e[i];if(t instanceof THREE.Texture){t.dispose()}}}};jThree._ammo_async_init_.push(function(){window.Ammo&&P.setGravity(0,-9.8*10,0);if(window.Ammo){var e=new Ammo.btVector3,t=new Ammo.btTransform,i,o,n,a;e.setValue(0,1,0);i=new Ammo.btStaticPlaneShape(e,0);o=new Ammo.btVector3(0,0,0);i.calculateLocalInertia(0,o);t.setIdentity();n=new Ammo.btRigidBodyConstructionInfo(0,new Ammo.btDefaultMotionState(t),i,o);if(self.MMD_SA&&!MMD_SA_options.ground_physics_disabled){a=new Ammo.btRigidBody(n);k.addRigidBody(a);jThree.MMD._ground=a.getWorldTransform().getOrigin();if(MMD_SA_options.ground_y)jThree.MMD._ground.setY(MMD_SA_options.ground_y)}Ammo.destroy(n);Ammo.destroy(o);Ammo.destroy(t);Ammo.destroy(e)}self.MMD_SA&&MMD_SA.ammo_proxy&&MMD_SA.ammo_proxy.update_worker()});if(!self.MMD_SA||!MMD_SA_options.ammo_version||MMD_SA._ammo_async_loaded_){jThree._ammo_async_init_.forEach(function(e){e()});jThree._ammo_async_init_=[]}jThree.modelHooks.pmx=function(e,t){(new M).load(e,function(e){t(e);t=null})};jThree.motionHooks.vmd=function(e,t){(new A).load(e,function(e){t(e);t=null})};function l(){H.splice(this.__mmd,1)[0].dispose()}jThree.mmdHook=function(a,e,r){var s=jThree.three(this);var i;if(/(\d+)$/.test(this.getAttribute("model")))i=parseInt(RegExp.$1);if(!e){(function(){var e=i;MMD_SA.fn._model_creation_timerID[e]=setInterval(function(){if(!MMD_SA.fn._ready_for_model_creation[e])return;new THREE.MMD.Model(a).create(jThree.MMD,function(e){var t=e.mesh;s.__mmd=e;t.material.materials.forEach(function(e){e.fog=true;e.lights=true});s.addEventListener("removed",l);THREE.MMD.addModel(e);r(t);s=r=null;var i=MMD_SA_options.model_para_obj_all[a._model_index];var o=i.position_loading;if(!o){var n=i.skin_default[""];o=n&&(n.pos||n.pos_add||n.pos_add_absolute);if(o){if((o==n.pos||o==n.pos_add)&&n.pos_add_absolute){o={x:o.x+n.pos_add_absolute.x,y:o.y+n.pos_add_absolute.y,z:o.z+n.pos_add_absolute.z}}}}if(o){t.position.set(o.x,o.y,o.z)}});clearInterval(MMD_SA.fn._model_creation_timerID[e]);MMD_SA.fn._model_creation_timerID[e]=null;setTimeout("MMD_SA.fn.setupUI()",0)},500)})()}else{var o=this;function n(e){var t=jThree.three(this)._srcObj||(self.MMD_SA&&this._id?MMD_SA._j3_obj_by_id[this._id]:null);(function(){var e=i;MMD_SA.fn._model_creation_timerID[e]=setInterval(function(){if(!MMD_SA.fn._ready_for_model_creation[e])return;new THREE.MMD.Model(a,t).create(jThree.MMD,function(e){var t=e.mesh;s.__mmd=e;t.material.materials.forEach(function(e){e.fog=true;e.lights=true});s.addEventListener("removed",l);THREE.MMD.addModel(e);THREE.MMD.adjustMotionDuration();r(t);s=r=null;var i=MMD_SA_options.model_para_obj_all[a._model_index];var o=i.skin_default[""];var n=i.position_loading||o&&(o.pos||o.pos_add);if(n){t.position.set(n.x,n.y,n.z)}});clearInterval(MMD_SA.fn._model_creation_timerID[e]);MMD_SA.fn._model_creation_timerID[e]=null;setTimeout("MMD_SA.fn.setupUI()",0)},500)})();if(e){$.event.remove(this,"load",n);$.event.remove(this,"error",_)}o=null}function _(){$.event.remove(this,"load",n);$.event.remove(this,"error",_);$.event.trigger("error",undefined,o);o=s=r=null}switch(e.attr("loadStates")){case"loading":e.load(n);e.error(_);break;case"success":n.call(e);break;default:$.event.trigger("error",undefined,this);break}}};jThree.otherMmdHook=function(e){var n=this;function a(e){var t=THREE.MMD["setup"+(n.tagName==="CAMERA"?"Camera":"Light")+"Motion"],i=jThree.three(n),o=jThree.three(this)._srcObj;t(o,i);THREE.MMD.adjustMotionDuration();$.event.trigger("load",undefined,n);if(e){$.event.remove(this,"load",a);$.event.remove(this,"error",r)}n=null}function r(){$.event.remove(this,"load",a);$.event.remove(this,"error",r);$.event.trigger("error",undefined,n);n=null}switch(e.attr("loadStates")){case"loading":e.load(a);e.error(r);break;case"success":a.call(e[0]);break;default:if(this.tagName==="CAMERA"){var i=jThree.three(this);U.forEach(function(e,t){e.persepectiveCamera===i&&U.splice(t,1)});i=null}else{L=null}$.event.trigger("load",undefined,this);break}};jThree.MMD._simulate={render:function(){motionSeek=false;if(self.MMD_SA){P.simulate(P.motionPlaying||motionSeek?P.motionDelta/(MMD_SA._playbackRate*MMD_SA.playbackRate):0)}else P.simulate(P.motionPlaying||motionSeek?P.motionDelta:0)}};jThree.MMD.seek=THREE.MMD.seekMotion})();THREE.MMDPhysicsHelper=function(e){THREE.Object3D.call(this);this.root=e;this.matrix=e.matrixWorld.clone();this.matrixAutoUpdate=false;this.materials=[];this.materials.push(new THREE.MeshBasicMaterial({color:new THREE.Color(16746632),wireframe:true,depthTest:false,depthWrite:false,opacity:.25,transparent:true}));this.materials.push(new THREE.MeshBasicMaterial({color:new THREE.Color(8978312),wireframe:true,depthTest:false,depthWrite:false,opacity:.25,transparent:true}));this.materials.push(new THREE.MeshBasicMaterial({color:new THREE.Color(8947967),wireframe:true,depthTest:false,depthWrite:false,opacity:.25,transparent:true}));this._init();this.update()};THREE.MMDPhysicsHelper.prototype=Object.create(THREE.Object3D.prototype);THREE.MMDPhysicsHelper.prototype.constructor=THREE.MMDPhysicsHelper;THREE.MMDPhysicsHelper.prototype._init=function(){var e=this.root;var t=e.MMDrigids;function i(e){switch(e.shape){case 0:return new THREE.SphereGeometry(e.size[0],16,8);case 1:return new THREE.CubeGeometry(e.size[0]*2,e.size[1]*2,e.size[2]*2,8,8,8);case 2:return o(e.size[0],e.size[1],16,8);default:return null}}function o(e,t,i,o){var n=new THREE.CylinderGeometry(e,e,t,i,o,true);return n}for(var n=0,a=t.length;n<a;n++){var r=t[n];let e=new THREE.Mesh(i(r),this.materials[r.type]);e.useQuaternion=true;this.add(e)}};THREE.MMDPhysicsHelper.prototype.update=function(){var e=this.root;var o=e.MMDrigids;var t=(new THREE.Matrix4).getInverse(e.matrixWorld);var i=new THREE.Vector3;var n=new THREE.Quaternion;var a=new THREE.Quaternion;function r(e){i.set(e.x(),e.y(),e.z());return i}function s(e){n.set(e.x(),e.y(),e.z(),e.w());a.setFromRotationMatrix(t);a.multiply(n);return a}for(var _=0,l=o.length;_<l;_++){let e=o[_].body;let t=this.children[_];let i=e.getCenterOfMassTransform();t.position.copy(r(i.getOrigin()));t.quaternion.copy(s(i.getRotation()))}this.matrix.copy(this.root.matrix);this.updateMatrix()};(function(){"use strict";var d="?".charCodeAt(0),t={SJISToUTF8:function(e){var t=[],i=e.length,o=0,n,a,r,s,_,l;for(;o<i;o++){if(161<=e[o]&&e[o]<=223){a=e[o]-64;r=188|a>>6&3;s=128|a&63;t[t.length]=239;t[t.length]=r;t[t.length]=s}else if(e[o]>=128){n=e[o]<<1;a=e[++o];if(a<159){if(n<319){n-=225}else{n-=97}if(a>126){a-=32}else{a-=31}}else{if(n<319){n-=224}else{n-=96}a-=126}n&=255;_=(n<<8)+a;if(f[_]===void 0){t[t.length]=d}else{l=f[_];if(l<65535){t[t.length]=l>>8&255;t[t.length]=l&255}else{t[t.length]=l>>16&255;t[t.length]=l>>8&255;t[t.length]=l&255}}}else{t[t.length]=e[o]}}return t},UTF8ToUNICODE:function(e){var t=[],i=0,o=e.length,n,a,r,s,_,l;while(i<o){a=e[i++];n=a>>4;if(0<=n&&n<=7){t[t.length]=a}else if(12<=n&&n<=13){r=e[i++];t[t.length]=(a&31)<<6|r&63}else if(n===14){r=e[i++];s=e[i++];t[t.length]=(a&15)<<12|(r&63)<<6|(s&63)<<0}else if(i+2<o){r=e[i++];s=e[i++];_=e[i++];t[t.length]=(a&7)<<18|(r&63)<<12|(s&63)<<6|(_&63)<<0}}return t},SJISToUNICODE:function(e){return t.UTF8ToUNICODE(t.SJISToUTF8(e))}},f={11553:14848416,11554:14848417,11555:14848418,11556:14848419,11557:14848420,11558:14848421,11559:14848422,11560:14848423,11561:14848424,11562:14848425,11563:14848426,11564:14848427,11565:14848428,11566:14848429,11567:14848430,11568:14848431,11569:14848432,11570:14848433,11571:14848434,11572:14848435,11573:14845344,11574:14845345,11575:14845346,11576:14845347,11577:14845348,11578:14845349,11579:14845350,11580:14845351,11581:14845352,11582:14845353,11584:14912905,11585:14912660,11586:14912674,11587:14912909,11588:14912664,11589:14912679,11590:14912643,11591:14912694,11592:14912913,11593:14912919,11594:14912653,11595:14912678,11596:14912675,11597:14912683,11598:14912906,11599:14912699,11600:14913180,11601:14913181,11602:14913182,11603:14913166,11604:14913167,11605:14913412,11606:14913185,11615:14912955,11616:14909597,11617:14909599,11618:14845078,11619:14913421,11620:14845089,11621:14912164,11622:14912165,11623:14912166,11624:14912167,11625:14912168,11626:14911665,11627:14911666,11628:14911673,11629:14912958,11630:14912957,11631:14912956,11635:14846126,11636:14846097,11640:14846111,11641:14846655,8481:14909568,8482:14909569,8483:14909570,8484:15711372,8485:15711374,8486:14910395,8487:15711386,8488:15711387,8489:15711391,8490:15711361,8491:14910107,8492:14910108,8493:49844,8494:15711616,8495:49832,8496:15711422,8497:15712163,8498:15711423,8499:14910397,8500:14910398,8501:14910109,8502:14910110,8503:14909571,8504:14990237,8505:14909573,8506:14909574,8507:14909575,8508:14910396,8509:14844053,8510:14844048,8511:15711375,8512:15711420,8513:15711646,8514:14844054,8515:15711644,8516:14844070,8517:14844069,8518:14844056,8519:14844057,8520:14844060,8521:14844061,8522:15711368,8523:15711369,8524:14909588,8525:14909589,8526:15711419,8527:15711421,8528:15711643,8529:15711645,8530:14909576,8531:14909577,8532:14909578,8533:14909579,8534:14909580,8535:14909581,8536:14909582,8537:14909583,8538:14909584,8539:14909585,8540:15711371,8541:15711373,8542:49841,8543:50071,8544:50103,8545:15711389,8546:14846368,8547:15711388,8548:15711390,8549:14846374,8550:14846375,8551:14846110,8552:14846132,8553:14850434,8554:14850432,8555:49840,8556:14844082,8557:14844083,8558:14845059,8559:15712165,8560:15711364,8561:15712160,8562:15712161,8563:15711365,8564:15711363,8565:15711366,8566:15711370,8567:15711392,8568:49831,8569:14850182,8570:14850181,8571:14849931,8572:14849935,8573:14849934,8574:14849927,8737:14849926,8738:14849697,8739:14849696,8740:14849715,8741:14849714,8742:14849725,8743:14849724,8744:14844091,8745:14909586,8746:14845586,8747:14845584,8748:14845585,8749:14845587,8750:14909587,8762:14846088,8763:14846091,8764:14846598,8765:14846599,8766:14846594,8767:14846595,8768:14846122,8769:14846121,8778:14846119,8779:14846120,8780:49836,8781:14845842,8782:14845844,8783:14846080,8784:14846083,8796:14846112,8797:14846629,8798:14847122,8799:14846082,8800:14846087,8801:14846369,8802:14846354,8803:14846378,8804:14846379,8805:14846106,8806:14846141,8807:14846109,8808:14846133,8809:14846123,8810:14846124,8818:14845099,8819:14844080,8820:14850479,8821:14850477,8822:14850474,8823:14844064,8824:14844065,8825:49846,8830:14849967,9008:15711376,9009:15711377,9010:15711378,9011:15711379,9012:15711380,9013:15711381,9014:15711382,9015:15711383,9016:15711384,9017:15711385,9025:15711393,9026:15711394,9027:15711395,9028:15711396,9029:15711397,9030:15711398,9031:15711399,9032:15711400,9033:15711401,9034:15711402,9035:15711403,9036:15711404,9037:15711405,9038:15711406,9039:15711407,9040:15711408,9041:15711409,9042:15711410,9043:15711411,9044:15711412,9045:15711413,9046:15711414,9047:15711415,9048:15711416,9049:15711417,9050:15711418,9057:15711617,9058:15711618,9059:15711619,9060:15711620,9061:15711621,9062:15711622,9063:15711623,9064:15711624,9065:15711625,9066:15711626,9067:15711627,9068:15711628,9069:15711629,9070:15711630,9071:15711631,9072:15711632,9073:15711633,9074:15711634,9075:15711635,9076:15711636,9077:15711637,9078:15711638,9079:15711639,9080:15711640,9081:15711641,9082:15711642,9249:14909825,9250:14909826,9251:14909827,9252:14909828,9253:14909829,9254:14909830,9255:14909831,9256:14909832,9257:14909833,9258:14909834,9259:14909835,9260:14909836,9261:14909837,9262:14909838,9263:14909839,9264:14909840,9265:14909841,9266:14909842,9267:14909843,9268:14909844,9269:14909845,9270:14909846,9271:14909847,9272:14909848,9273:14909849,9274:14909850,9275:14909851,9276:14909852,9277:14909853,9278:14909854,9279:14909855,9280:14909856,9281:14909857,9282:14909858,9283:14909859,9284:14909860,9285:14909861,9286:14909862,9287:14909863,9288:14909864,9289:14909865,9290:14909866,9291:14909867,9292:14909868,9293:14909869,9294:14909870,9295:14909871,9296:14909872,9297:14909873,9298:14909874,9299:14909875,9300:14909876,9301:14909877,9302:14909878,9303:14909879,9304:14909880,9305:14909881,9306:14909882,9307:14909883,9308:14909884,9309:14909885,9310:14909886,9311:14909887,9312:14910080,9313:14910081,9314:14910082,9315:14910083,9316:14910084,9317:14910085,9318:14910086,9319:14910087,9320:14910088,9321:14910089,9322:14910090,9323:14910091,9324:14910092,9325:14910093,9326:14910094,9327:14910095,9328:14910096,9329:14910097,9330:14910098,9331:14910099,9505:14910113,9506:14910114,9507:14910115,9508:14910116,9509:14910117,9510:14910118,9511:14910119,9512:14910120,9513:14910121,9514:14910122,9515:14910123,9516:14910124,9517:14910125,9518:14910126,9519:14910127,9520:14910128,9521:14910129,9522:14910130,9523:14910131,9524:14910132,9525:14910133,9526:14910134,9527:14910135,9528:14910136,9529:14910137,9530:14910138,9531:14910139,9532:14910140,9533:14910141,9534:14910142,9535:14910143,9536:14910336,9537:14910337,9538:14910338,9539:14910339,9540:14910340,9541:14910341,9542:14910342,9543:14910343,9544:14910344,9545:14910345,9546:14910346,9547:14910347,9548:14910348,9549:14910349,9550:14910350,9551:14910351,9552:14910352,9553:14910353,9554:14910354,9555:14910355,9556:14910356,9557:14910357,9558:14910358,9559:14910359,9560:14910360,9561:14910361,9562:14910362,9563:14910363,9564:14910364,9565:14910365,9566:14910366,9567:14910367,9568:14910368,9569:14910369,9570:14910370,9571:14910371,9572:14910372,9573:14910373,9574:14910374,9575:14910375,9576:14910376,9577:14910377,9578:14910378,9579:14910379,9580:14910380,9581:14910381,9582:14910382,9583:14910383,9584:14910384,9585:14910385,9586:14910386,9587:14910387,9588:14910388,9589:14910389,9590:14910390,9761:52881,9762:52882,9763:52883,9764:52884,9765:52885,9766:52886,9767:52887,9768:52888,9769:52889,9770:52890,9771:52891,9772:52892,9773:52893,9774:52894,9775:52895,9776:52896,9777:52897,9778:52899,9779:52900,9780:52901,9781:52902,9782:52903,9783:52904,9784:52905,9793:52913,9794:52914,9795:52915,9796:52916,9797:52917,9798:52918,9799:52919,9800:52920,9801:52921,9802:52922,9803:52923,9804:52924,9805:52925,9806:52926,9807:52927,9808:53120,9809:53121,9810:53123,9811:53124,9812:53125,9813:53126,9814:53127,9815:53128,9816:53129,10017:53392,10018:53393,10019:53394,10020:53395,10021:53396,10022:53397,10023:53377,10024:53398,10025:53399,10026:53400,10027:53401,10028:53402,10029:53403,10030:53404,10031:53405,10032:53406,10033:53407,10034:53408,10035:53409,10036:53410,10037:53411,10038:53412,10039:53413,10040:53414,10041:53415,10042:53416,10043:53417,10044:53418,10045:53419,10046:53420,10047:53421,10048:53422,10049:53423,10065:53424,10066:53425,10067:53426,10068:53427,10069:53428,10070:53429,10071:53649,10072:53430,10073:53431,10074:53432,10075:53433,10076:53434,10077:53435,10078:53436,10079:53437,10080:53438,10081:53439,10082:53632,10083:53633,10084:53634,10085:53635,10086:53636,10087:53637,10088:53638,10089:53639,10090:53640,10091:53641,10092:53642,10093:53643,10094:53644,10095:53645,10096:53646,10097:53647,10273:14849152,10274:14849154,10275:14849164,10276:14849168,10277:14849176,10278:14849172,10279:14849180,10280:14849196,10281:14849188,10282:14849204,10283:14849212,10284:14849153,10285:14849155,10286:14849167,10287:14849171,10288:14849179,10289:14849175,10290:14849187,10291:14849203,10292:14849195,10293:14849211,10294:14849419,10295:14849184,10296:14849199,10297:14849192,10298:14849207,10299:14849215,10300:14849181,10301:14849200,10302:14849189,10303:14849208,10304:14849410,12321:14989980,12322:15045782,12323:15050883,12324:15308991,12325:15045504,12326:15107227,12327:15109288,12328:15050678,12329:15302818,12330:15241653,12331:15240348,12332:15182224,12333:15106730,12334:15110049,12335:15120549,12336:15112109,12337:15241638,12338:15239846,12339:15314869,12340:15114899,12341:15047847,12342:15111841,12343:15108529,12344:15052443,12345:15050640,12346:15243707,12347:15311796,12348:15185314,12349:15185598,12350:15314574,12351:15108246,12352:15184543,12353:15246007,12354:15052425,12355:15055541,12356:15109257,12357:15112855,12358:15114632,12359:15308679,12360:15310477,12361:15113615,12362:14990245,12363:14990474,12364:14990733,12365:14991005,12366:15040905,12367:15047602,12368:15049911,12369:15050644,12370:15050881,12371:15052937,12372:15106975,12373:15107215,12374:15107504,12375:15112339,12376:15115397,12377:15172282,12378:15177103,12379:15177136,12380:15181755,12381:15185581,12382:15185839,12383:15238019,12384:15241358,12385:15245731,12386:15248514,12387:15303061,12388:15303098,12389:15043771,12390:14989973,12391:14989989,12392:15048607,12393:15237810,12394:15303553,12395:15180719,12396:14989440,12397:15049649,12398:15121058,12399:15302840,12400:15182002,12401:15240360,12402:15239819,12403:15315119,12404:15041921,12405:15044016,12406:15045309,12407:15045537,12408:15047584,12409:15050683,12410:15056021,12411:15311794,12412:15120299,12413:15238052,12414:15242413,12577:15309218,12578:15309232,12579:15309472,12580:15310779,12581:15044747,12582:15044531,12583:15052423,12584:15172495,12585:15187645,12586:15253378,12587:15309736,12588:15044015,12589:15316380,12590:15182522,12591:14989457,12592:15180435,12593:15239100,12594:15120550,12595:15046808,12596:15045764,12597:15117469,12598:15242394,12599:15315131,12600:15050661,12601:15044265,12602:15119782,12603:15176604,12604:15308431,12605:15047042,12606:14989969,12607:15303051,12608:15309746,12609:15240591,12610:15312012,12611:15044513,12612:15046326,12613:15051952,12614:15056305,12615:15112352,12616:15113139,12617:15114372,12618:15118520,12619:15119283,12620:15119529,12621:15176091,12622:15178632,12623:15182222,12624:15311028,12625:15240113,12626:15245723,12627:15247776,12628:15305645,12629:15120050,12630:15177387,12631:15178634,12632:15312773,12633:15106726,12634:15248513,12635:15251082,12636:15308466,12637:15115918,12638:15044269,12639:15042182,12640:15047826,12641:15048880,12642:15050116,12643:15052468,12644:15055798,12645:15106216,12646:15109801,12647:15110068,12648:15119039,12649:15121556,12650:15172238,12651:15172756,12652:15173017,12653:15173525,12654:15174847,12655:15186049,12656:15239606,12657:15240081,12658:15242903,12659:15303072,12660:15305115,12661:15316123,12662:15049129,12663:15111868,12664:15118746,12665:15176869,12666:15042489,12667:15049902,12668:15050149,12669:15056512,12670:15056796,12833:15108796,12834:15112122,12835:15116458,12836:15117479,12837:15118004,12838:15175307,12839:15187841,12840:15246742,12841:15316140,12842:15316110,12843:15317892,12844:15053473,12845:15118998,12846:15240635,12847:15041668,12848:15053195,12849:15107766,12850:15239046,12851:15114678,12852:15174049,12853:14989721,12854:14991290,12855:15044024,12856:15106473,12857:15120553,12858:15182223,12859:15310771,12860:14989451,12861:15043734,12862:14990254,12863:14990741,12864:14990525,12865:14991009,12866:14990771,12867:15043232,12868:15044527,12869:15046793,12870:15049871,12871:15051649,12872:15052470,12873:15052705,12874:15181713,12875:15112839,12876:15113884,12877:15113910,12878:15117708,12879:15119027,12880:15172011,12881:15175554,12882:15181453,12883:15181502,12884:15182012,12885:15183495,12886:15239857,12887:15240091,12888:15240324,12889:15240631,12890:15241135,12891:15241107,12892:15244710,12893:15248050,12894:15046825,12895:15250088,12896:15253414,12897:15303054,12898:15309982,12899:15243914,12900:14991236,12901:15053736,12902:15108241,12903:15174041,12904:15176891,12905:15239077,12906:15239869,12907:15244222,12908:15250304,12909:15309701,12910:15312019,12911:15312789,12912:14990219,12913:14990490,12914:15247267,12915:15047582,12916:15049098,12917:15049610,12918:15055803,12919:15056811,12920:15106218,12921:15106708,12922:15106466,12923:15107984,12924:15108242,12925:15109008,12926:15111353,13089:15314305,13090:15112614,13091:15114928,13092:15119799,13093:15172016,13094:15177100,13095:15178374,13096:15185333,13097:15239845,13098:15245241,13099:15308427,13100:15309454,13101:15250077,13102:15042481,13103:15043262,13104:15049878,13105:15045299,13106:15052467,13107:15053974,13108:15107496,13109:15115906,13110:15120047,13111:15180429,13112:15242123,13113:15245719,13114:15247794,13115:15306407,13116:15313592,13117:15119788,13118:15312552,13119:15244185,13120:15048355,13121:15114175,13122:15244174,13123:15304846,13124:15043203,13125:15047303,13126:15044740,13127:15055763,13128:15109025,13129:15110841,13130:15114428,13131:15114424,13132:15118011,13133:15175090,13134:15180474,13135:15182251,13136:15247002,13137:15247250,13138:15250859,13139:15252611,13140:15303597,13141:15308451,13142:15309460,13143:15310249,13144:15052198,13145:15053491,13146:15115709,13147:15311245,13148:15311246,13149:15109787,13150:15183008,13151:15116459,13152:15116735,13153:15114934,13154:15315085,13155:15121823,13156:15042994,13157:15046301,13158:15106480,13159:15109036,13160:15119547,13161:15120519,13162:15121297,13163:15241627,13164:15246480,13165:15252868,13166:14989460,13167:15315129,13168:15044534,13169:15115419,13170:15116474,13171:15310468,13172:15114410,13173:15041948,13174:15182723,13175:15241906,13176:15304604,13177:15306380,13178:15047067,13179:15316136,13180:15114402,13181:15240325,13182:15241393,13345:15184549,13346:15042696,13347:15240069,13348:15176614,13349:14989758,13350:14990979,13351:15042208,13352:15052690,13353:15042698,13354:15043480,13355:15043495,13356:15054779,13357:15046298,13358:15048874,13359:15050662,13360:15052428,13361:15052440,13362:15052699,13363:15055282,13364:15055289,13365:15106723,13366:15107231,13367:15107491,13368:15107774,13369:15110043,13370:15111586,13371:15114129,13372:15114643,13373:15115194,13374:15117502,13375:15117715,13376:15118743,13377:15121570,13378:15122071,13379:15121797,13380:15176368,13381:15176856,13382:15178659,13383:15178891,13384:15182783,13385:15183521,13386:15184033,13387:15185833,13388:15187126,13389:15187888,13390:15237789,13391:15239590,13392:15240862,13393:15247027,13394:15248268,13395:15250091,13396:15303300,13397:15307153,13398:15308435,13399:15308433,13400:15308450,13401:15309221,13402:15310739,13403:15312040,13404:15239320,13405:14989496,13406:15044779,13407:15053496,13408:15054732,13409:15175337,13410:15178124,13411:15178940,13412:15053481,13413:15187883,13414:15250571,13415:15309697,13416:15310993,13417:15311252,13418:15311256,13419:14990465,13420:14990478,13421:15044017,13422:15046300,13423:15047080,13424:15048634,13425:15050119,13426:15051913,13427:15052676,13428:15053456,13429:15054988,13430:15055294,13431:15056780,13432:15110062,13433:15113402,13434:15112087,13435:15112098,13436:15113375,13437:15115147,13438:15115140,13601:15116703,13602:15055024,13603:15118213,13604:15118487,13605:15118781,13606:15177151,13607:15181192,13608:15052195,13609:15181952,13610:15185024,13611:15056573,13612:15246991,13613:15247512,13614:15250100,13615:15250871,13616:15252364,13617:15252637,13618:15311778,13619:15313038,13620:15314108,13621:14989952,13622:15040957,13623:15041664,13624:15050387,13625:15052444,13626:15108271,13627:15108736,13628:15111084,13629:15117498,13630:15174304,13631:15177361,13632:15181191,13633:15187625,13634:15245243,13635:15248060,13636:15248816,13637:15109804,13638:15241098,13639:15310496,13640:15044745,13641:15044739,13642:15046315,13643:15114644,13644:15116696,13645:15247792,13646:15179943,13647:15113653,13648:15317901,13649:15044020,13650:15052450,13651:15238298,13652:15243664,13653:15302790,13654:14989464,13655:14989701,13656:14990215,13657:14990481,13658:15044490,13659:15044792,13660:15052462,13661:15056019,13662:15106213,13663:15111569,13664:15113405,13665:15118722,13666:15118770,13667:15119267,13668:15172024,13669:15175811,13670:15182262,13671:15182510,13672:15182984,13673:15185050,13674:15184830,13675:15185318,13676:15112103,13677:15174043,13678:15044283,13679:15053189,13680:15054760,13681:15109010,13682:15109024,13683:15109273,13684:15120544,13685:15243674,13686:15247537,13687:15251357,13688:15305656,13689:15121537,13690:15181478,13691:15314330,13692:14989992,13693:14989995,13694:14989996,13857:14991003,13858:14991008,13859:15041425,13860:15041927,13861:15182774,13862:15041969,13863:15042486,13864:15043988,13865:15043745,13866:15044031,13867:15044523,13868:15046316,13869:15049347,13870:15053729,13871:15056055,13872:15056266,13873:15106223,13874:15106448,13875:15106477,13876:15109279,13877:15111577,13878:15116683,13879:15119233,13880:15174530,13881:15174573,13882:15179695,13883:15238072,13884:15238277,13885:15239304,13886:15242638,13887:15303607,13888:15306657,13889:15310783,13890:15312279,13891:15313306,13892:14990256,13893:15042461,13894:15052973,13895:15112833,13896:15115693,13897:15053184,13898:15113138,13899:15115701,13900:15175305,13901:15114640,13902:15184513,13903:15041413,13904:15043492,13905:15048071,13906:15054782,13907:15305894,13908:15111844,13909:15117475,13910:15117501,13911:15175860,13912:15181441,13913:15181501,13914:15183243,13915:15185802,13916:15239865,13917:15241100,13918:15245759,13919:15246751,13920:15248569,13921:15253393,13922:15304593,13923:15044767,13924:15305344,13925:14989725,13926:15040694,13927:15044517,13928:15043770,13929:15174551,13930:15175318,13931:15179689,13932:15240102,13933:15252143,13934:15312774,13935:15312776,13936:15312786,13937:15041975,13938:15107226,13939:15243678,13940:15046320,13941:15182266,13942:15040950,13943:15052691,13944:15303047,13945:15309445,13946:14989490,13947:15117211,13948:15304615,13949:15053201,13950:15053192,14113:15109784,14114:15182495,14115:15118995,14116:15310260,14117:15252897,14118:15182506,14119:15173258,14120:15309448,14121:15184514,14122:15114391,14123:15186352,14124:15114641,14125:15306156,14126:15043506,14127:15044763,14128:15242923,14129:15247507,14130:15187620,14131:15252365,14132:15303585,14133:15044006,14134:15245960,14135:15181185,14136:14991234,14137:15041214,14138:15042705,14139:15041924,14140:15046035,14141:15047853,14142:15175594,14143:15048331,14144:15050129,14145:15056290,14146:15056516,14147:15106485,14148:15107510,14149:15107495,14150:15107753,14151:15109810,14152:15110330,14153:15111596,14154:15112623,14155:15114626,14156:15120531,14157:15177126,14158:15182013,14159:15184827,14160:15185292,14161:15185561,14162:15186315,14163:15187371,14164:15240334,14165:15240586,14166:15244173,14167:15247496,14168:15247779,14169:15248806,14170:15252413,14171:15311002,14172:15316623,14173:15239864,14174:15253390,14175:15314856,14176:15043207,14177:15108255,14178:15110787,14179:15122304,14180:15309465,14181:15114625,14182:15041169,14183:15117472,14184:15118778,14185:15121812,14186:15182260,14187:15185296,14188:15245696,14189:15247523,14190:15113352,14191:14990262,14192:15040697,14193:15040678,14194:15040933,14195:15041980,14196:15042744,14197:15042979,14198:15046311,14199:15047823,14200:15048837,14201:15051660,14202:15055802,14203:15107762,14204:15108024,14205:15109043,14206:15109554,14369:15115420,14370:15116457,14371:15174077,14372:15174316,14373:15174830,14374:15179924,14375:15180207,14376:15185337,14377:15178892,14378:15237801,14379:15246987,14380:15248537,14381:15250338,14382:15252370,14383:15303075,14384:15306165,14385:15309242,14386:15311253,14387:15313043,14388:15317432,14389:15041923,14390:15044255,14391:15044275,14392:15055291,14393:15056038,14394:15120539,14395:15121040,14396:15175300,14397:15175614,14398:15185283,14399:15239351,14400:15247488,14401:15248314,14402:15309200,14403:14989710,14404:15040651,14405:15044516,14406:15045052,14407:15047610,14408:15050641,14409:15052196,14410:15054769,14411:15055531,14412:15056039,14413:15108280,14414:15111557,14415:15113903,14416:15120790,14417:15174544,14418:15184778,14419:15246004,14420:15237793,14421:15238049,14422:15241136,14423:15243662,14424:15248007,14425:15251368,14426:15304887,14427:15309703,14428:15311271,14429:15318163,14430:14989972,14431:14989970,14432:14990477,14433:15043976,14434:15045001,14435:15044798,14436:15050927,14437:15056524,14438:15056545,14439:15106719,14440:15114919,14441:15116942,14442:15176090,14443:15180417,14444:15248030,14445:15248036,14446:15248823,14447:15304336,14448:14989726,14449:15314825,14450:14989988,14451:14990780,14452:14991023,14453:15040665,14454:15040662,14455:15041929,14456:15041964,14457:15043231,14458:15043257,14459:15043518,14460:15044250,14461:15044515,14462:15044753,14625:15044750,14626:15046281,14627:15048081,14628:15048354,14629:15050173,14630:15052180,14631:15052189,14632:15052431,14633:15054757,14634:15054759,14635:15054775,14636:15055288,14637:15055491,14638:15055514,14639:15055543,14640:15056024,14641:15106450,14642:15107468,14643:15108759,14644:15109016,14645:15109799,14646:15111355,14647:15112322,14648:15112579,14649:15113140,14650:15113645,14651:15114401,14652:15114903,14653:15116171,14654:15118751,14655:15119530,14656:15119785,14657:15120559,14658:15121053,14659:15176882,14660:15178375,14661:15180204,14662:15182015,14663:15184800,14664:15185029,14665:15185048,14666:15185310,14667:15185585,14668:15237269,14669:15237251,14670:15237807,14671:15237809,14672:15238548,14673:15238799,14674:15239338,14675:15240594,14676:15245708,14677:15245729,14678:15248539,14679:15250082,14680:15250364,14681:15303562,14682:15304117,14683:15305137,14684:15179967,14685:15305660,14686:15308452,14687:15309197,14688:15310981,14689:15312537,14690:15313816,14691:15316155,14692:15042971,14693:15043243,14694:15044535,14695:15044744,14696:15049621,14697:15109047,14698:15122336,14699:15249834,14700:15252895,14701:15317689,14702:15041931,14703:15042747,14704:15045002,14705:15047613,14706:15182208,14707:15304119,14708:15316384,14709:15317906,14710:15175044,14711:15121545,14712:15238576,14713:15176849,14714:15056829,14715:15106970,14716:15313576,14717:15174555,14718:15253180,14881:15117732,14882:15310979,14883:14990218,14884:15047600,14885:15048100,14886:15049406,14887:15051162,14888:15106472,14889:15107975,14890:15112335,14891:15112326,14892:15114425,14893:15114929,14894:15120311,14895:15177621,14896:15185082,14897:15239598,14898:15314306,14899:14989979,14900:14990736,14901:15044489,14902:15045766,14903:15054255,14904:15054758,14905:15054766,14906:15114171,14907:15119001,14908:15176115,14909:15179906,14910:15247760,14911:15306390,14912:15246239,14913:15048080,14914:15055527,14915:15109291,14916:15041205,14917:15041196,14918:15042189,14919:15113344,14920:15045513,14921:15049118,14922:15050427,14923:15052464,14924:15056297,14925:15108493,14926:15109793,14927:15114429,14928:15117747,14929:15120520,14930:15172029,14931:15304583,14932:15174272,14933:15179925,14934:15179942,14935:15181229,14936:15111822,14937:15185072,14938:15241116,14939:15246209,14940:15252617,14941:15309467,14942:15042980,14943:15047848,14944:15113616,14945:15187370,14946:15250081,14947:15042228,14948:15048066,14949:15308970,14950:15048890,14951:15115914,14952:15237812,14953:15045298,14954:15053966,14955:15048636,14956:15180437,14957:15316922,14958:14990748,14959:15042954,14960:15045259,14961:15110334,14962:15112360,14963:15113364,14964:15114165,14965:15182468,14966:15183254,14967:15185058,14968:15305903,14969:15114652,14970:15314605,14971:15183033,14972:15043737,14973:15042186,14974:15042743,15137:15052703,15138:15109046,15139:15110830,15140:15111078,15141:15113389,15142:15118010,15143:15242921,15144:15309713,15145:15178384,15146:15314838,15147:15109516,15148:15305862,15149:15314603,15150:15178431,15151:15112594,15152:14989449,15153:15041176,15154:15044482,15155:15053233,15156:15106984,15157:15110802,15158:15111587,15159:15114655,15160:15173542,15161:15175562,15162:15176867,15163:15183511,15164:15186562,15165:15243925,15166:15249027,15167:15250331,15168:15304120,15169:15312016,15170:15111852,15171:15112875,15172:15117963,15173:14990229,15174:14990228,15175:14990522,15176:14990783,15177:15042746,15178:15044536,15179:15044530,15180:15046563,15181:15047579,15182:15049643,15183:15050635,15184:15050633,15185:15050687,15186:15052176,15187:15053197,15188:15054978,15189:15055019,15190:15056791,15191:15106205,15192:15109255,15193:15111343,15194:15052188,15195:15111855,15196:15111869,15197:15112104,15198:15113885,15199:15117730,15200:15117755,15201:15118479,15202:15175045,15203:15181193,15204:15181697,15205:15184824,15206:15185049,15207:15185067,15208:15237794,15209:15238274,15210:15239091,15211:15246998,15212:15247774,15213:15247785,15214:15247782,15215:15248012,15216:15248302,15217:15250311,15218:15250332,15219:15309708,15220:15311804,15221:15117743,15222:14989963,15223:14990524,15224:14990989,15225:15041936,15226:15052183,15227:15052730,15228:15107464,15229:15109249,15230:15112578,15393:15117473,15394:15121291,15395:15119035,15396:15173822,15397:15176381,15398:15177620,15399:15180673,15400:15180986,15401:15237260,15402:15237299,15403:15239082,15404:15241876,15405:15253150,15406:15118736,15407:15317439,15408:15056015,15409:15248792,15410:15316139,15411:15182778,15412:15252408,15413:15052429,15414:15309739,15415:14989443,15416:15044529,15417:15048631,15418:15049905,15419:15051657,15420:15052452,15421:15106697,15422:15120831,15423:15121542,15424:15177406,15425:15250346,15426:15052447,15427:15242368,15428:15183776,15429:15040946,15430:15114164,15431:15239837,15432:15053217,15433:15242634,15434:15186078,15435:15239310,15436:15042201,15437:15052932,15438:15109544,15439:15250854,15440:15111836,15441:15173038,15442:15180990,15443:15185047,15444:15237253,15445:15248541,15446:15252362,15447:15303086,15448:15244167,15449:15303338,15450:15040671,15451:15043514,15452:15052986,15453:15113619,15454:15172028,15455:15173813,15456:15304076,15457:15304584,15458:15305899,15459:15240101,15460:15052674,15461:15056049,15462:15107001,15463:14989499,15464:15044502,15465:15052424,15466:15108491,15467:15113393,15468:15117962,15469:15174569,15470:15175584,15471:15181998,15472:15238571,15473:15251107,15474:15304082,15475:15312534,15476:15041682,15477:15044503,15478:15045034,15479:15052735,15480:15109768,15481:15116473,15482:15185580,15483:15309952,15484:15047578,15485:15044494,15486:15045032,15649:15052439,15650:15052977,15651:15054750,15652:14991278,15653:15107201,15654:15109054,15655:15119538,15656:15181696,15657:15181707,15658:15185282,15659:15186317,15660:15187858,15661:15239085,15662:15239327,15663:15241872,15664:15245702,15665:15246770,15666:15249040,15667:15251892,15668:15252655,15669:15302833,15670:15304075,15671:15304108,15672:15309702,15673:15304348,15674:14990208,15675:14990735,15676:15041925,15677:15043969,15678:15056531,15679:15108238,15680:15114132,15681:15118721,15682:15120523,15683:15175075,15684:15186086,15685:15304589,15686:15305347,15687:15044500,15688:15049881,15689:15052479,15690:15120273,15691:15181213,15692:15186094,15693:15184539,15694:15049150,15695:15173279,15696:15042490,15697:15245715,15698:15253424,15699:14991242,15700:15053755,15701:15112357,15702:15179436,15703:15182755,15704:15239324,15705:15312831,15706:15042438,15707:15056554,15708:15112108,15709:15115695,15710:15117961,15711:15120307,15712:15121046,15713:15121828,15714:15178686,15715:15185044,15716:15054753,15717:15303093,15718:15304327,15719:15310982,15720:15042470,15721:15042717,15722:15108480,15723:15112849,15724:15113113,15725:15120538,15726:15055542,15727:15185810,15728:15187378,15729:15113144,15730:15242927,15731:15243191,15732:15248312,15733:15043241,15734:15044505,15735:15050163,15736:15055503,15737:15056528,15738:15106453,15739:15305636,15740:15309220,15741:15041207,15742:15041695,15905:15043485,15906:15043744,15907:15043975,15908:15044524,15909:15045544,15910:15046022,15911:15045809,15912:15046807,15913:15050152,15914:15050430,15915:15050940,15916:15052469,15917:15052934,15918:15052943,15919:15052945,15920:15052954,15921:15055492,15922:15055498,15923:15055776,15924:15056304,15925:15108543,15926:15108740,15927:15109019,15928:15109772,15929:15109559,15930:15112327,15931:15112332,15932:15112365,15933:15112630,15934:15113662,15935:15114914,15936:15116447,15937:15116469,15938:15119036,15939:15120008,15940:15120521,15941:15120792,15942:15172796,15943:15172774,15944:15173031,15945:15177607,15946:15178881,15947:15180189,15948:15180929,15949:15181221,15950:15181744,15951:15182752,15952:15182993,15953:15184551,15954:15185081,15955:15237782,15956:15241110,15957:15241867,15958:15242633,15959:15245725,15960:15246259,15961:15247519,15962:15247548,15963:15247764,15964:15247795,15965:15249825,15966:15250334,15967:15304356,15968:15305126,15969:15306174,15970:15306904,15971:15309468,15972:15310488,15973:14989450,15974:14989448,15975:14989470,15976:14989719,15977:15042199,15978:15042992,15979:15048590,15980:15048884,15981:15049612,15982:15051938,15983:15055032,15984:15106949,15985:15111102,15986:15113633,15987:15113622,15988:15119748,15989:15174326,15990:15177139,15991:15182243,15992:15241912,15993:15248818,15994:15304376,15995:15305888,15996:15046833,15997:15048628,15998:15311806,16161:15109037,16162:15115405,16163:15117974,16164:15173549,16165:15186324,16166:15237559,16167:15239602,16168:15247270,16169:15311775,16170:15244693,16171:15253169,16172:15052987,16173:14990520,16174:14991265,16175:14991029,16176:15045767,16177:15050912,16178:15052701,16179:15052713,16180:15056771,16181:15107470,16182:15109295,16183:15111856,16184:15112587,16185:15115182,16186:15115931,16187:15119800,16188:15120305,16189:15176883,16190:15177401,16191:15178911,16192:15181214,16193:15181734,16194:15185075,16195:15239075,16196:15239855,16197:15242922,16198:15247018,16199:15247546,16200:15252139,16201:15253147,16202:15302834,16203:15304605,16204:15309959,16205:14990010,16206:14990209,16207:15042691,16208:15049141,16209:15049644,16210:15052939,16211:15176858,16212:15052989,16213:15238542,16214:15247498,16215:15253381,16216:15309219,16217:15310253,16218:15183013,16219:15248271,16220:15310984,16221:15304098,16222:15047603,16223:15044264,16224:15302807,16225:15044793,16226:15048322,16227:15055013,16228:15109800,16229:15118516,16230:15172234,16231:15179169,16232:15184523,16233:15187872,16234:15245744,16235:15303042,16236:15304084,16237:15305872,16238:15305880,16239:15309455,16240:15176094,16241:15313796,16242:15053959,16243:15054249,16244:15111600,16245:15113890,16246:15251112,16247:15309723,16248:15109550,16249:15113609,16250:15115417,16251:15241093,16252:15310999,16253:15309696,16254:15246270,16417:15122052,16418:15110586,16419:15052728,16420:14989462,16421:15171756,16422:15177117,16423:15112367,16424:15042436,16425:15042742,16426:15043490,16427:15050643,16428:15056513,16429:15106215,16430:15108240,16431:15111359,16432:15111604,16433:15112351,16434:15112628,16435:15115186,16436:15114390,16437:15117731,16438:15120517,16439:15174066,16440:15176863,16441:15178651,16442:15184574,16443:15237526,16444:15049648,16445:15246269,16446:15246783,16447:15248032,16448:15248019,16449:15248267,16450:15302813,16451:15304338,16452:15310226,16453:15310233,16454:15111817,16455:15181966,16456:15238278,16457:15309499,16458:15055021,16459:15106972,16460:15108250,16461:15111845,16462:15112340,16463:15113872,16464:15179699,16465:15182221,16466:15184269,16467:15186110,16468:15238282,16469:15250092,16470:15250852,16471:15251361,16472:15251871,16473:15180457,16474:15042695,16475:15109017,16476:15109797,16477:15110530,16478:15108760,16479:15247533,16480:15182467,16481:15183744,16482:15248044,16483:15309738,16484:15185334,16485:15239308,16486:15244681,16487:14990233,16488:15041928,16489:15043971,16490:15044e3,16491:15052451,16492:15052930,16493:15052950,16494:15054749,16495:15108262,16496:15108487,16497:15110832,16498:15114387,16499:15114420,16500:15119241,16501:15119749,16502:15119511,16503:15114131,16504:15121820,16505:15173006,16506:15173053,16507:15112075,16508:15182271,16509:15183533,16510:15185818,16673:15186314,16674:15187624,16675:15238586,16676:15239323,16677:15239353,16678:15242918,16679:15247790,16680:15250318,16681:15251381,16682:15303096,16683:15303095,16684:15305389,16685:15305361,16686:15308419,16687:15314606,16688:15042957,16689:15046276,16690:15121592,16691:15172790,16692:15041960,16693:15181445,16694:15186325,16695:15238835,16696:15184782,16697:15047052,16698:15049105,16699:15053480,16700:15109802,16701:15113150,16702:15113149,16703:15115674,16704:15174553,16705:15177359,16706:15177358,16707:15180942,16708:15181206,16709:15181727,16710:15184535,16711:15185056,16712:15185284,16713:15243399,16714:15247540,16715:15308987,16716:15303073,16717:15318176,16718:15041447,16719:15042997,16720:15044492,16721:15044514,16722:15040649,16723:15046314,16724:15049646,16725:15050127,16726:15173821,16727:15052427,16728:15053220,16729:15043741,16730:15106979,16731:15106995,16732:15109532,16733:15109763,16734:15109311,16735:15109819,16736:15111053,16737:15112105,16738:15113145,16739:15054755,16740:15116173,16741:15116221,16742:15121557,16743:15173541,16744:14989961,16745:15177641,16746:15178680,16747:15182483,16748:15184799,16749:15185807,16750:15185564,16751:15237537,16752:15240585,16753:15240600,16754:15241644,16755:15241916,16756:15243195,16757:15246213,16758:15250864,16759:15302785,16760:15303085,16761:15306391,16762:15309980,16763:15313042,16764:15041423,16765:15049367,16766:15107726,16929:15239059,16930:15242421,16931:15250568,16932:15302816,16933:14991235,16934:15040948,16935:15042951,16936:15044019,16937:15106479,16938:15109513,16939:15113631,16940:15120556,16941:15251123,16942:15302815,16943:14991255,16944:15053214,16945:15250314,16946:15112079,16947:15185562,16948:15043986,16949:15245974,16950:15041974,16951:15110019,16952:15052184,16953:15052203,16954:15052938,16955:15110285,16956:15113617,16957:15303068,16958:14990230,16959:15049882,16960:15049898,16961:15118768,16962:15247761,16963:15045822,16964:15048853,16965:15050405,16966:15106992,16967:15108499,16968:15114113,16969:15239349,16970:15115669,16971:15309184,16972:15312772,16973:15313064,16974:14990739,16975:15048838,16976:15052734,16977:15237264,16978:15053489,16979:15055023,16980:15056517,16981:15106208,16982:15107467,16983:15108276,16984:15113151,16985:15119280,16986:15121310,16987:15238030,16988:15238591,16989:15240084,16990:15245963,16991:15250104,16992:15302784,16993:15302830,16994:15309450,16995:15317915,16996:15314843,16997:14990243,16998:15044528,16999:15049895,17e3:15183020,17001:15304333,17002:15311244,17003:15316921,17004:15121309,17005:15171751,17006:15043987,17007:15046020,17008:15052421,17009:15108504,17010:15108766,17011:15109011,17012:15119010,17013:15122351,17014:15175842,17015:15247511,17016:15306936,17017:15122305,17018:15248318,17019:15240376,17020:15042471,17021:15244216,17022:15044522,17185:15044521,17186:14990726,17187:15303060,17188:15253168,17189:15050154,17190:15238321,17191:15054781,17192:15182762,17193:15253183,17194:15115162,17195:15249591,17196:15174584,17197:15315336,17198:15116477,17199:15248048,17200:14989497,17201:15043992,17202:15046790,17203:15048102,17204:15108997,17205:15109794,17206:15112102,17207:15117710,17208:15120289,17209:15120795,17210:15172269,17211:15179693,17212:15182767,17213:15183530,17214:15185595,17215:15237309,17216:15238022,17217:15244171,17218:15248021,17219:15306139,17220:15047587,17221:15049607,17222:15056062,17223:15111853,17224:15112854,17225:15116928,17226:15118005,17227:15176887,17228:15248263,17229:15040676,17230:15179685,17231:15047856,17232:15056027,17233:15106469,17234:15112634,17235:15118752,17236:15177652,17237:15181978,17238:15187374,17239:15239092,17240:15244440,17241:15303045,17242:15312563,17243:15183753,17244:15177116,17245:15182777,17246:15183249,17247:15242116,17248:15302800,17249:15181737,17250:15182482,17251:15240374,17252:15051681,17253:15179136,17254:14989485,17255:14990258,17256:15052441,17257:15056800,17258:15108797,17259:15112380,17260:15114161,17261:15119272,17262:15243691,17263:15245751,17264:15247547,17265:15304078,17266:15305651,17267:15312784,17268:15116439,17269:15171750,17270:15174826,17271:15240103,17272:15241623,17273:15250095,17274:14989441,17275:15041926,17276:15042443,17277:15046283,17278:15052725,17441:15054998,17442:15055027,17443:15055489,17444:15056020,17445:15056053,17446:15056299,17447:15056564,17448:15108018,17449:15109265,17450:15112866,17451:15113373,17452:15121838,17453:15174034,17454:15176890,17455:15178938,17456:15237556,17457:15238329,17458:15238584,17459:15244726,17460:15248063,17461:15248284,17462:15251077,17463:15251379,17464:15305370,17465:15308215,17466:15310978,17467:15315877,17468:15043461,17469:15109527,17470:15178676,17471:15113365,17472:15118984,17473:15175565,17474:15250307,17475:15306414,17476:15309235,17477:15119525,17478:15049372,17479:15115406,17480:15116172,17481:15253437,17482:15306394,17483:15177627,17484:15302810,17485:15049114,17486:15114370,17487:15109812,17488:15116219,17489:14990723,17490:15121580,17491:15114136,17492:15253179,17493:15242406,17494:15185588,17495:15306132,17496:15115455,17497:15121840,17498:15048106,17499:15049655,17500:15051948,17501:15185068,17502:15173802,17503:15044746,17504:15304611,17505:15316660,17506:14989997,17507:14990734,17508:15040924,17509:15040949,17510:15042947,17511:15250078,17512:15045e3,17513:15048868,17514:15052442,17515:15055005,17516:15055509,17517:15055533,17518:15055799,17519:15056031,17520:15106700,17521:15108789,17522:15109306,17523:15110032,17524:15114927,17525:15118720,17526:15180423,17527:15181454,17528:15181963,17529:15185824,17530:15239559,17531:15247490,17532:15248294,17533:15251844,17534:15302803,17697:15303352,17698:15303853,17699:15304600,17700:15318158,17701:15119269,17702:15110552,17703:15111074,17704:15111605,17705:15121332,17706:15178372,17707:15183003,17708:15303081,17709:15306641,17710:15121082,17711:15045554,17712:15056569,17713:15110820,17714:15252877,17715:15253421,17716:15305092,17717:15041976,17718:15049131,17719:15049897,17720:15053205,17721:15055511,17722:15120315,17723:15186575,17724:15176860,17725:15250108,17726:15252386,17727:15311259,17728:15172281,17729:14990493,17730:15118015,17731:15122097,17732:15176880,17733:15309755,17734:15041934,17735:15044752,17736:15048885,17737:15049111,17738:15050412,17739:15053216,17740:15056530,17741:15111831,17742:15113628,17743:15120545,17744:15178171,17745:15241119,17746:15250349,17747:15302804,17748:15303613,17749:15306125,17750:15179941,17751:15179962,17752:15043242,17753:15055526,17754:15047839,17755:15050164,17756:15106194,17757:15040658,17758:15041946,17759:15042220,17760:15042445,17761:15042688,17762:15045776,17763:15049108,17764:15049112,17765:15050135,17766:15052437,17767:15053750,17768:15054475,17769:15106748,17770:15108757,17771:15110317,17772:15113649,17773:15114627,17774:15114940,17775:15115167,17776:15178647,17777:15120280,17778:15120815,17779:15120027,17780:15172015,17781:15173512,17782:15056275,17783:15177624,17784:15181239,17785:15183241,17786:15183252,17787:15183250,17788:15184790,17789:15185329,17790:15042736,17953:15241635,17954:15242665,17955:15243172,17956:15247502,17957:15248516,17958:15249798,17959:15251599,17960:15302787,17961:15302799,17962:15306905,17963:15309238,17964:15311021,17965:15313072,17966:15308696,17967:15041421,17968:15043477,17969:15044748,17970:15048834,17971:15052942,17972:15107751,17973:15110814,17974:15119518,17975:15179443,17976:15182757,17977:15238068,17978:15241348,17979:15303059,17980:15305349,17981:15053728,17982:15316103,17983:15043775,17984:15056535,17985:15056563,17986:15120028,17987:15174073,17988:15179171,17989:15181503,17990:15183780,17991:15118226,17992:15174572,17993:15248045,17994:15114371,17995:15116705,17996:15042488,17997:15182465,17998:15115444,17999:15053194,18e3:15315894,18001:15240107,18002:15052677,18003:15304073,18004:15171742,18005:15047096,18006:15053231,18007:15106951,18008:15111590,18009:15118988,18010:15249818,18011:15303041,18012:15310995,18013:15045009,18014:15113095,18015:15304845,18016:15050120,18017:15303331,18018:15042181,18019:14989709,18020:15042474,18021:15242905,18022:15248526,18023:15171992,18024:15109562,18025:15306123,18026:15115682,18027:15312564,18028:15186052,18029:15177143,18030:15043991,18031:15115680,18032:15252383,18033:15309731,18034:15118749,18035:14989964,18036:15052988,18037:15056016,18038:15253417,18039:15043714,18040:15250321,18041:15237769,18042:15243705,18043:15055807,18044:15112101,18045:14989747,18046:15041957,18209:15050370,18210:15052991,18211:15310766,18212:14990267,18213:15050378,18214:15056781,18215:15248013,18216:15122337,18217:15181488,18218:15181218,18219:15052711,18220:15241649,18221:15174827,18222:15173297,18223:15055284,18224:15056821,18225:15109563,18226:15110810,18227:15173507,18228:15184536,18229:14989699,18230:15055804,18231:14989707,18232:15048604,18233:15047330,18234:15106729,18235:15122307,18236:15185037,18237:15238077,18238:15238323,18239:15238847,18240:15253170,18241:15246999,18242:15243940,18243:15054772,18244:15108746,18245:15110829,18246:15246983,18247:15113655,18248:15119266,18249:15119550,18250:15175862,18251:15179956,18252:15051142,18253:15187381,18254:15239853,18255:15312556,18256:14991283,18257:15055747,18258:15109021,18259:15109778,18260:15111575,18261:15113647,18262:15178627,18263:15174028,18264:15238028,18265:15237818,18266:15252649,18267:15304077,18268:15040653,18269:15048633,18270:15051410,18271:15114885,18272:15115699,18273:15173028,18274:15174589,18275:15250103,18276:15049650,18277:15250336,18278:15309226,18279:15302809,18280:15244735,18281:15181732,18282:15179687,18283:15241385,18284:14990511,18285:15042981,18286:15043994,18287:15109005,18288:15114127,18289:15119242,18290:15178173,18291:15183508,18292:15184533,18293:15239350,18294:15242884,18295:15253419,18296:15113117,18297:15121568,18298:15173766,18299:15186075,18300:15240875,18301:15312769,18302:15317670,18465:15042493,18466:15183537,18467:15180210,18468:15183544,18469:15237767,18470:15183240,18471:15117224,18472:15055265,18473:15237772,18474:15177105,18475:15177120,18476:15041963,18477:15305122,18478:15121036,18479:15178170,18480:15304343,18481:15313834,18482:14990480,18483:15187376,18484:15108764,18485:15183247,18486:15308453,18487:15315881,18488:15047098,18489:15049113,18490:15244196,18491:15309500,18492:14990516,18493:15042724,18494:15043978,18495:15044493,18496:15044507,18497:15054982,18498:15110316,18499:15111825,18500:15113663,18501:15118526,18502:15118734,18503:15174024,18504:15174319,18505:15175597,18506:15177108,18507:15186305,18508:15239340,18509:15243177,18510:15250089,18511:15183748,18512:15304582,18513:15173033,18514:15310994,18515:15311791,18516:15109309,18517:15112617,18518:15177130,18519:15178660,18520:15180688,18521:15242627,18522:15244206,18523:15043754,18524:15043985,18525:15044774,18526:15050371,18527:15055495,18528:15056316,18529:15106738,18530:15108489,18531:15108537,18532:15108779,18533:15111824,18534:15118228,18535:15119244,18536:15177394,18537:15178414,18538:15180433,18539:15181720,18540:15185803,18541:15187383,18542:15237797,18543:15245995,18544:15248057,18545:15250107,18546:15303103,18547:15310238,18548:15311771,18549:15116427,18550:15184056,18551:15041177,18552:15052990,18553:15056558,18554:15113863,18555:15118232,18556:15175861,18557:15178889,18558:15187598,18721:15318203,18722:15114122,18723:15181975,18724:15043769,18725:15177355,18726:15313837,18727:15056294,18728:15238813,18729:15241137,18730:15237784,18731:15056060,18732:15056773,18733:15177122,18734:15183238,18735:15302844,18736:15114663,18737:15050667,18738:15051419,18739:15185040,18740:15178174,18741:15248556,18742:14991285,18743:15056298,18744:15116441,18745:15118519,18746:15121538,18747:15176610,18748:15181224,18749:15245736,18750:15247765,18751:15249849,18752:15055775,18753:15110031,18754:15177605,18755:15181714,18756:15240087,18757:15305896,18758:15305650,18759:15241884,18760:15244205,18761:15315117,18762:15045505,18763:15056300,18764:15111820,18765:15119772,18766:15171733,18767:15250087,18768:15250323,18769:15311035,18770:15111567,18771:15176630,18772:14989453,18773:14990232,18774:15048608,18775:15049899,18776:15051174,18777:15052684,18778:15042216,18779:15054979,18780:15055516,18781:15106198,18782:15108534,18783:15111607,18784:15111847,18785:15112622,18786:15119790,18787:15173814,18788:15183014,18789:15238544,18790:15238810,18791:15239833,18792:15248796,18793:15250080,18794:15250342,18795:15250868,18796:15308956,18797:15309188,18798:14991022,18799:15110827,18800:15117734,18801:15239326,18802:15241633,18803:15242666,18804:15303592,18805:15052929,18806:15115667,18807:15311528,18808:15241658,18809:15242647,18810:14990479,18811:15042991,18812:15056553,18813:15055237,18814:15113357,18977:15181455,18978:15238585,18979:15246471,18980:15246982,18981:15120309,18982:15056023,18983:15108501,18984:15119032,18985:14990223,18986:15174057,18987:15314578,18988:15042694,18989:15044795,18990:15047092,18991:15049395,18992:15107748,18993:15108526,18994:15172762,18995:15050158,18996:15184521,18997:15184798,18998:15185051,18999:15309744,19e3:15111815,19001:15237534,19002:14989465,19003:14990773,19004:15041973,19005:15049088,19006:15055267,19007:15055283,19008:15056010,19009:15114116,19010:14989478,19011:15242429,19012:15308425,19013:15309211,19014:15184307,19015:15310977,19016:15041467,19017:15049601,19018:15178134,19019:15180455,19020:15042725,19021:15179429,19022:15242385,19023:15183494,19024:15040911,19025:15049865,19026:15174023,19027:15183751,19028:15185832,19029:15253178,19030:15253396,19031:15303053,19032:14991039,19033:15043465,19034:15050921,19035:15056001,19036:15310509,19037:14991261,19038:15239319,19039:15305642,19040:15047811,19041:15109525,19042:15117737,19043:15176875,19044:15246236,19045:15252628,19046:15182210,19047:15043487,19048:15049363,19049:15107477,19050:15108234,19051:15112878,19052:15118221,19053:15184063,19054:15241129,19055:15040675,19056:14991288,19057:15043717,19058:15044998,19059:15048881,19060:15050121,19061:15052445,19062:15053744,19063:15053743,19064:15053993,19065:15055510,19066:15108785,19067:15109543,19068:15111358,19069:15111865,19070:15113355,19233:15119253,19234:15119265,19235:15172537,19236:15179954,19237:15186091,19238:15238046,19239:15239859,19240:15241356,19241:15242156,19242:15244418,19243:15246482,19244:15247530,19245:15249802,19246:15303334,19247:15305618,19248:15311805,19249:15315891,19250:15316396,19251:14989711,19252:14989985,19253:15041165,19254:15042966,19255:15048074,19256:15050408,19257:15055037,19258:15056792,19259:15056793,19260:15108287,19261:15112884,19262:15113371,19263:15114128,19264:15115154,19265:15042194,19266:15185057,19267:15237802,19268:15238824,19269:15248512,19270:15250060,19271:15250111,19272:15305150,19273:15308978,19274:15044768,19275:15311020,19276:15043735,19277:15041429,19278:15043996,19279:15049384,19280:15110834,19281:15113396,19282:15174055,19283:15179174,19284:15182214,19285:15304614,19286:15043459,19287:15119009,19288:15117958,19289:15048832,19290:15055244,19291:15050132,19292:15113388,19293:15187899,19294:15042465,19295:15178630,19296:15110569,19297:15180712,19298:15314324,19299:15317691,19300:15048587,19301:15050425,19302:15112359,19303:15113882,19304:15118222,19305:15045545,19306:15116185,19307:15055253,19308:15238812,19309:15113877,19310:15314602,19311:15114174,19312:15315346,19313:15114653,19314:14989990,19315:14991267,19316:15044488,19317:15108793,19318:15113387,19319:15119019,19320:15253380,19321:14991021,19322:15186349,19323:15317695,19324:14989447,19325:15107490,19326:15121024,19489:15121579,19490:15242387,19491:15045043,19492:15113386,19493:15314309,19494:15054771,19495:15183509,19496:15053484,19497:15052678,19498:15244444,19499:15120778,19500:15242129,19501:15181972,19502:15238280,19503:15050393,19504:15184525,19505:15118481,19506:15178912,19507:15043481,19508:15049890,19509:15172769,19510:15174047,19511:15179675,19512:15309991,19513:15316385,19514:15115403,19515:15051199,19516:15050904,19517:15042213,19518:15044749,19519:15045053,19520:15112334,19521:15178655,19522:15253431,19523:15305368,19524:15315892,19525:15050666,19526:15174045,19527:15121285,19528:15041933,19529:15115145,19530:15185599,19531:15185836,19532:15310242,19533:15317690,19534:15110584,19535:15116449,19536:15240322,19537:15050372,19538:15052191,19539:15118235,19540:15174811,19541:15178674,19542:15185586,19543:15237271,19544:15241881,19545:15041714,19546:15113384,19547:15317913,19548:15178670,19549:15113634,19550:15043519,19551:15312005,19552:15052964,19553:15108283,19554:15184318,19555:15250096,19556:15046031,19557:15106742,19558:15185035,19559:15308416,19560:15043713,19561:14989727,19562:15042230,19563:15049884,19564:15173818,19565:15237302,19566:15304590,19567:15056037,19568:15179682,19569:15044228,19570:15056313,19571:15185028,19572:15242924,19573:15247539,19574:15252109,19575:15310230,19576:15114163,19577:15242926,19578:15307155,19579:15107209,19580:15107208,19581:15119033,19582:15178130,19745:15248301,19746:15252664,19747:15045807,19748:14990737,19749:15041706,19750:15043463,19751:15044491,19752:15052453,19753:15055293,19754:15106720,19755:15107714,19756:15110038,19757:15113353,19758:15114138,19759:15120807,19760:15120012,19761:15174838,19762:15174839,19763:15176881,19764:15181200,19765:15246229,19766:15248024,19767:15303050,19768:15303313,19769:15303605,19770:15309700,19771:15244941,19772:15049877,19773:14989960,19774:14990745,19775:14989454,19776:15248009,19777:15252671,19778:15310992,19779:15041197,19780:15055292,19781:15050390,19782:15052473,19783:15055544,19784:15110042,19785:15110074,19786:15111041,19787:15113116,19788:15115658,19789:15116184,19790:15119499,19791:15121078,19792:15173268,19793:15176872,19794:15182511,19795:15187594,19796:15237248,19797:15241609,19798:15242121,19799:15246977,19800:15248545,19801:15251594,19802:15303077,19803:15309245,19804:15312010,19805:15107518,19806:15108753,19807:15117490,19808:15118979,19809:15119796,19810:15187852,19811:15187900,19812:15120256,19813:15187589,19814:15244986,19815:15246264,19816:15113637,19817:15240881,19818:15311036,19819:15309751,19820:15119515,19821:15185313,19822:15241405,19823:15304106,19824:14989745,19825:15044021,19826:15054224,19827:15117444,19828:15122347,19829:15243149,19830:15243437,19831:15247015,19832:15042729,19833:15044751,19834:15053221,19835:15113614,19836:15114920,19837:15175814,19838:15176323,20001:15177634,20002:15246223,20003:15246241,20004:15304588,20005:15309730,20006:15309240,20007:15056523,20008:15175303,20009:15182731,20010:15241614,20011:15109792,20012:15177125,20013:15043209,20014:15119745,20015:15121052,20016:15175817,20017:15177113,20018:15180203,20019:15184530,20020:15309446,20021:15182748,20022:15318669,20023:14991030,20024:15107502,20025:15112069,20026:15243676,20027:14989958,20028:14989998,20029:15041434,20030:14989473,20031:15042444,20032:15052718,20033:15111833,20034:15114881,20035:15120060,20036:15174815,20037:15178114,20038:15179437,20039:15181980,20040:15184807,20041:15239599,20042:15248274,20043:15303100,20044:15304591,20045:15309237,20046:15311e3,20047:15043227,20048:15185809,20049:15040683,20050:15044248,20051:15113879,20052:15120267,20053:15173520,20054:15175859,20055:15239080,20056:15252650,20057:15309475,20058:15315351,20059:15317663,20060:15176096,20061:15049089,20062:15120025,20063:15185071,20064:15311262,20065:14990244,20066:14990518,20067:14990987,20068:15042231,20069:15043249,20070:15054522,20071:15106204,20072:15175346,20073:15180988,20074:15240083,20075:15304884,20076:15309495,20077:15309750,20078:15309962,20079:15317655,20080:15318434,20081:15112870,20082:15117748,20083:15042711,20084:15043235,20085:15172488,20086:15246210,20087:15055753,20088:15106443,20089:15107728,20090:15121571,20091:15173001,20092:15184062,20093:15185844,20094:15237551,20257:15242158,20258:15302819,20259:15305900,20260:15044994,20261:15314351,20262:15117203,20263:15172233,20264:15250306,20265:15251375,20266:15310002,20267:15043252,20268:15051137,20269:15055754,20270:15056004,20271:15113367,20272:15115708,20273:15115924,20274:15119786,20275:15121551,20276:15174050,20277:15174588,20278:15183789,20279:15237249,20280:15237566,20281:15244683,20282:15303566,20283:15041965,20284:15317651,20285:15181444,20286:15237771,20287:15305906,20288:15248278,20289:15040685,20290:15045260,20291:15247793,20292:15117738,20293:15250308,20294:15238279,20295:15106961,20296:15113888,20297:15316914,20298:14989977,20299:14989976,20300:15315088,20301:15247787,20302:15243137,20303:15242664,20304:15115392,20305:15120830,20306:15180439,20307:15238549,20513:15056012,20514:14989456,20515:14989461,20516:14989482,20517:14989489,20518:14989494,20519:14989500,20520:14989503,20521:14989698,20522:14989718,20523:14989720,20524:14989954,20525:14989957,20526:15249835,20527:14989962,20528:15239314,20529:15056013,20530:14989966,20531:14989982,20532:14989983,20533:14989984,20534:14989986,20535:1499e4,20536:14990003,20537:14990006,20538:14990222,20539:14990221,20540:14990212,20541:14990214,20542:14990210,20543:14990231,20544:14990238,20545:14990253,20546:14990239,20547:14990263,20548:14990473,20549:14990746,20550:14990512,20551:14990747,20552:14990749,20553:14990743,20554:14990727,20555:14990774,20556:14990984,20557:14990991,20558:14991e3,20559:14990779,20560:14990761,20561:14990768,20562:14990993,20563:14990767,20564:14990982,20565:14990998,20566:15041688,20567:14991252,20568:14991263,20569:14991246,20570:14991256,20571:14991259,20572:14991249,20573:14991258,20574:14991248,20575:14991268,20576:14991269,20577:15040666,20578:15040680,20579:15040660,20580:15040682,20581:15040677,20582:15040645,20583:14990492,20584:14991286,20585:15040673,20586:15040681,20587:15040684,20588:14991294,20589:14991279,20590:15040657,20591:15040646,20592:15040899,20593:15040903,20594:15113347,20595:15040917,20596:15040912,20597:15040904,20598:15040922,20599:15040918,20600:15040940,20601:15040952,20602:15041152,20603:15041178,20604:15041157,20605:15041204,20606:15041202,20769:15041417,20770:15041418,20771:15041203,20772:15041410,20773:15041430,20774:15041438,20775:15041445,20776:15041453,20777:15041443,20778:15041454,20779:15041465,20780:15041461,20781:15041673,20782:15041665,20783:15041666,20784:15041686,20785:15041685,20786:15041684,20787:15041690,20788:15041697,20789:15041722,20790:15041719,20791:15041724,20792:15041723,20793:15041727,20794:15041920,20795:15041938,20796:15041932,20797:15041940,20798:15041954,20799:15182776,20800:15041961,20801:15041962,20802:15041966,20803:15042176,20804:15042178,20805:15047576,20806:15042188,20807:15042185,20808:15042191,20809:15042193,20810:15042195,20811:15042197,20812:15042198,20813:15042212,20814:15042214,20815:15042210,20816:15042217,20817:15042218,20818:15042219,20819:15042227,20820:15042225,20821:15042226,20822:15042224,20823:15042229,20824:15042237,20825:15042437,20826:15042441,20827:15042459,20828:15042464,20829:15243669,20830:15042473,20831:15042477,20832:15042480,20833:15042485,20834:15042494,20835:15042692,20836:15042699,20837:15042708,20838:15042702,20839:15042727,20840:15042730,20841:15042734,20842:15042739,20843:15042745,20844:15042959,20845:15042948,20846:15042955,20847:15042956,20848:15042974,20849:15042964,20850:15042986,20851:15042996,20852:15042985,20853:15042995,20854:15043007,20855:15043005,20856:15043213,20857:15043220,20858:15043218,20859:15042993,20860:15043208,20861:15043217,20862:15253160,21025:15253159,21026:15043244,21027:15043245,21028:15043260,21029:15043253,21030:15043457,21031:15043469,21032:15043479,21033:15043486,21034:15043491,21035:15043494,21036:15311789,21037:15043488,21038:15043507,21039:15043509,21040:15043512,21041:15043513,21042:15043718,21043:15043720,21044:15176888,21045:15043725,21046:15043728,21047:15043727,21048:15043733,21049:15043738,21050:15043747,21051:15043759,21052:15043761,21053:15043763,21054:15043768,21055:15043968,21056:15043974,21057:15043973,21058:14989463,21059:15043977,21060:15043981,21061:15042454,21062:15043998,21063:15044009,21064:15044014,21065:15049880,21066:15044027,21067:15044023,21068:15044226,21069:15044246,21070:15044256,21071:15044262,21072:15044261,21073:15044270,21074:15044272,21075:15044278,21076:15044483,21077:15184018,21078:15309721,21079:15044511,21080:15113148,21081:15173550,21082:15044526,21083:15044520,21084:15044525,21085:15044538,21086:15044737,21087:15044797,21088:15044992,21089:15044780,21090:15044781,21091:15044796,21092:15044782,21093:15044790,21094:15044777,21095:15044765,21096:15045006,21097:15045263,21098:15045045,21099:15045262,21100:15045023,21101:15045041,21102:15045047,21103:15045040,21104:15045266,21105:15045051,21106:15045248,21107:15045046,21108:15045252,21109:15045264,21110:15045254,21111:15045511,21112:15045282,21113:15045304,21114:15045285,21115:15045292,21116:15045508,21117:15045512,21118:15045288,21281:15045291,21282:15045506,21283:15045284,21284:15045310,21285:15045308,21286:15045528,21287:15045541,21288:15045542,21289:15045775,21290:15045780,21291:15045565,21292:15045550,21293:15045549,21294:15045562,21295:15045538,21296:15045817,21297:15046016,21298:15046051,21299:15046028,21300:15045806,21301:15046044,21302:15046021,21303:15046038,21304:15046039,21305:15045816,21306:15045811,21307:15046045,21308:15046297,21309:15046272,21310:15045295,21311:15046282,21312:15046303,21313:15046075,21314:15046078,21315:15046296,21316:15046302,21317:15046318,21318:15046076,21319:15046275,21320:15046313,21321:15046279,21322:15046312,21323:15046554,21324:15046533,21325:15046559,21326:15046532,21327:15046556,21328:15046564,21329:15046548,21330:15046804,21331:15046583,21332:15046806,21333:15046590,21334:15046589,21335:15046811,21336:15046585,21337:15047054,21338:15047056,21339:15173535,21340:15046836,21341:15046838,21342:15046834,21343:15046840,21344:15047083,21345:15047076,21346:15046831,21347:15047084,21348:15047082,21349:15047302,21350:15047296,21351:15047306,21352:15047328,21353:15047316,21354:15047311,21355:15047333,21356:15047342,21357:15047350,21358:15047348,21359:15047554,21360:15047356,21361:15047553,21362:15047555,21363:15047552,21364:15047560,21365:15047566,21366:15047569,21367:15047571,21368:15047575,21369:15047598,21370:15047609,21371:15047808,21372:15047615,21373:15047812,21374:15047817,21537:15047816,21538:15047819,21539:15047821,21540:15047827,21541:15047832,21542:15047830,21543:15046535,21544:15047836,21545:15047846,21546:15047863,21547:15047864,21548:15048078,21549:15047867,21550:15048064,21551:15048079,21552:15048105,21553:15048576,21554:15048328,21555:15048097,21556:15048127,21557:15048329,21558:15048339,21559:15048352,21560:15048371,21561:15048356,21562:15048362,21563:15048368,21564:15048579,21565:15048582,21566:15048596,21567:15048594,21568:15048595,21569:15048842,21570:15048598,21571:15048611,21572:15048843,21573:15048857,21574:15048861,21575:15049138,21576:15048865,21577:15049122,21578:15049099,21579:15049136,21580:15118208,21581:15049106,21582:15048893,21583:15049145,21584:15049349,21585:15049401,21586:15049375,21587:15049387,21588:15049402,21589:15049630,21590:15049403,21591:15049400,21592:15049390,21593:15049605,21594:15049619,21595:15049617,21596:15049623,21597:15049625,21598:15049624,21599:15049637,21600:15049628,21601:15049636,21602:15049631,21603:15049647,21604:15049658,21605:15049657,21606:15049659,21607:15049660,21608:15049661,21609:15049858,21610:15049866,21611:15049872,21612:15049883,21613:15114918,21614:15049893,21615:15049900,21616:15049901,21617:15049906,21618:15049912,21619:15049918,21620:15182738,21621:15050133,21622:15050128,21623:15050126,21624:15050138,21625:15050136,21626:15050146,21627:15050144,21628:15050151,21629:15050156,21630:15050153,21793:15050168,21794:15050369,21795:15050397,21796:14990750,21797:14991019,21798:15050403,21799:15050418,21800:15050630,21801:15050664,21802:15050652,21803:15050381,21804:15050649,21805:15050650,21806:15050917,21807:15050911,21808:15050897,21809:15050908,21810:15050889,21811:15050906,21812:15051136,21813:15051180,21814:15051145,21815:15050933,21816:15050934,21817:15051170,21818:15051178,21819:15051418,21820:15051452,21821:15051454,21822:15051659,21823:15051650,21824:15051453,21825:15051683,21826:15051671,21827:15051686,21828:15051689,21829:15051670,21830:15051706,21831:15051707,21832:15051916,21833:15051915,21834:15051926,21835:15051954,21836:15051664,21837:15051946,21838:15051958,21839:15051966,21840:15052163,21841:15052165,21842:15052160,21843:15052177,21844:15052181,21845:15052186,21846:15052187,21847:15052197,21848:15052201,21849:15052208,21850:15052211,21851:15052213,21852:15052216,21853:15111816,21854:15052218,21855:15052416,21856:15052419,21857:15052454,21858:15052472,21859:15052675,21860:15052679,21861:15052681,21862:15052692,21863:15052688,21864:15052708,21865:15052710,21866:15052706,21867:15052702,21868:15052709,21869:15052715,21870:15052720,21871:15052726,21872:15052723,21873:15052933,21874:15052935,21875:15052936,21876:15052941,21877:15052947,21878:15052960,21879:15052962,21880:15052968,21881:15052984,21882:15052985,21883:15053185,21884:15053190,21885:15053198,21886:15053203,22049:15053200,22050:15053199,22051:15052209,22052:15053228,22053:15053230,22054:14989730,22055:15053238,22056:15053241,22057:15053452,22058:15053457,22059:15053460,22060:15050395,22061:15053483,22062:15053499,22063:15053494,22064:15053500,22065:15053495,22066:15053701,22067:15053502,22068:15053703,22069:15053721,22070:15053737,22071:15053757,22072:15053754,22073:15053741,22074:15054476,22075:15053738,22076:15053963,22077:15053973,22078:15053975,22079:15054236,22080:15053983,22081:15053979,22082:15053969,22083:15053972,22084:15053986,22085:15053978,22086:15053977,22087:15053976,22088:15054220,22089:15054226,22090:15054222,22091:15054219,22092:15054252,22093:15054259,22094:15054262,22095:15054471,22096:15054468,22097:15054466,22098:15054498,22099:15054493,22100:15054508,22101:15054510,22102:15054525,22103:15054480,22104:15054519,22105:15054524,22106:15054729,22107:15054733,22108:15054739,22109:15054738,22110:15054742,22111:15054747,22112:15054763,22113:15054770,22114:15054773,22115:15054987,22116:15055002,22117:15055001,22118:15054993,22119:15055003,22120:15055030,22121:15055031,22122:15055236,22123:15055235,22124:15055232,22125:15055246,22126:15055255,22127:15055252,22128:15055263,22129:15055266,22130:15055268,22131:15055239,22132:15055285,22133:15055286,22134:15055290,22135:15317692,22136:15055295,22137:15055520,22138:15055745,22139:15055746,22140:15055752,22141:15055760,22142:15055759,22305:15055766,22306:15055779,22307:15055773,22308:15055770,22309:15055771,22310:15055778,22311:15055777,22312:15055784,22313:15055785,22314:15055788,22315:15055793,22316:15055795,22317:15055792,22318:15055796,22319:15055800,22320:15055806,22321:15056003,22322:15056009,22323:15056285,22324:15056284,22325:15056011,22326:15056017,22327:15056022,22328:15056041,22329:15056045,22330:15056056,22331:15056257,22332:15056264,22333:15056268,22334:15056270,22335:15056047,22336:15056273,22337:15056278,22338:15056279,22339:15056281,22340:15056289,22341:15056301,22342:15056307,22343:15056311,22344:15056515,22345:15056514,22346:15056319,22347:15056522,22348:15056520,22349:15056529,22350:15056519,22351:15056542,22352:15056537,22353:15056536,22354:15056544,22355:15056552,22356:15056557,22357:15056572,22358:15056790,22359:15056827,22360:15056804,22361:15056824,22362:15056817,22363:15056797,22364:15106739,22365:15056831,22366:15106209,22367:15106464,22368:15106201,22369:15106192,22370:15106217,22371:15106190,22372:15106225,22373:15106203,22374:15106197,22375:15106219,22376:15106214,22377:15106191,22378:15106234,22379:15106458,22380:15106433,22381:15106474,22382:15106487,22383:15106463,22384:15106442,22385:15106438,22386:15106445,22387:15106467,22388:15106435,22389:15106468,22390:15106434,22391:15106476,22392:15106475,22393:15106457,22394:15106689,22395:15106701,22396:15106983,22397:15106691,22398:15106714,22561:15106692,22562:15106715,22563:15106710,22564:15106711,22565:15106706,22566:15106727,22567:15106699,22568:15106977,22569:15106744,22570:15106976,22571:15106963,22572:15106740,22573:15056816,22574:15106749,22575:15106950,22576:15106741,22577:15106968,22578:15107469,22579:15107221,22580:15107206,22581:15106998,22582:15106999,22583:15107200,22584:15106996,22585:15107002,22586:15107203,22587:15107233,22588:15107003,22589:15106993,22590:15107213,22591:15107214,22592:15107463,22593:15107262,22594:15107240,22595:15107239,22596:15107466,22597:15107263,22598:15107260,22599:15107244,22600:15107252,22601:15107261,22602:15107458,22603:15107460,22604:15107507,22605:15107511,22606:15107480,22607:15107481,22608:15107482,22609:15107499,22610:15107508,22611:15107503,22612:15107493,22613:15107505,22614:15107487,22615:15107485,22616:15107475,22617:15107509,22618:15107737,22619:15107734,22620:15107719,22621:15107756,22622:15107732,22623:15107738,22624:15107722,22625:15107729,22626:15107755,22627:15107758,22628:15107980,22629:15107978,22630:15107977,22631:15108023,22632:15107976,22633:15107971,22634:15107974,22635:15107770,22636:15107979,22637:15187385,22638:15107981,22639:15108006,22640:15108003,22641:15108022,22642:15108026,22643:15108020,22644:15108031,22645:15108029,22646:15108028,22647:15108030,22648:15108224,22649:15108232,22650:15108233,22651:15108237,22652:15108236,22653:15108244,22654:15108251,22817:15108254,22818:15108257,22819:15108266,22820:15108270,22821:15108272,22822:15108274,22823:15108275,22824:15108481,22825:15108494,22826:15108510,22827:15108515,22828:15108507,22829:15108512,22830:15108520,22831:15108540,22832:15108738,22833:15108745,22834:15108542,22835:15108754,22836:15108755,22837:15108758,22838:15109012,22839:15108739,22840:15108756,22841:15109015,22842:15109009,22843:15108795,22844:15109007,22845:15109055,22846:15108998,22847:15111060,22848:15109e3,22849:15109020,22850:15109004,22851:15109002,22852:15108994,22853:15108999,22854:15108763,22855:15109001,22856:15109260,22857:15109038,22858:15109041,22859:15109287,22860:15109250,22861:15109256,22862:15109039,22863:15109045,22864:15109520,22865:15109310,22866:15109517,22867:15110300,22868:15109519,22869:15109782,22870:15109774,22871:15109760,22872:15109803,22873:15109558,22874:15109795,22875:15109775,22876:15109769,22877:15109791,22878:15109813,22879:15109547,22880:15109545,22881:15109822,22882:15110057,22883:15110016,22884:15110022,22885:15110051,22886:15110025,22887:15110034,22888:15110070,22889:15110020,22890:15110294,22891:15110324,22892:15110278,22893:15110291,22894:15110310,22895:15110326,22896:15111325,22897:15110295,22898:15110312,22899:15110287,22900:15110567,22901:15110575,22902:15110582,22903:15110542,22904:15111338,22905:15110805,22906:15110803,22907:15110821,22908:15110825,22909:15110792,22910:15110844,23073:15111066,23074:15111058,23075:15111045,23076:15111047,23077:15110843,23078:15111064,23079:15111042,23080:15111089,23081:15111079,23082:15239305,23083:15111072,23084:15111073,23085:15108780,23086:15111075,23087:15111087,23088:15111340,23089:15111094,23090:15111092,23091:15111090,23092:15111098,23093:15111296,23094:15111101,23095:15111320,23096:15111324,23097:15111301,23098:15111332,23099:15111331,23100:15111339,23101:15111348,23102:15111349,23103:15111351,23104:15111350,23105:15111352,23106:15177099,23107:15111560,23108:15111574,23109:15111573,23110:15111565,23111:15111576,23112:15111582,23113:15111581,23114:15111602,23115:15111608,23116:15111810,23117:15111811,23118:15249034,23119:15111835,23120:15111839,23121:15111851,23122:15111863,23123:15112067,23124:15112070,23125:15112065,23126:15112068,23127:15112076,23128:15112082,23129:15112091,23130:15112089,23131:15112096,23132:15112097,23133:15112113,23134:15113650,23135:15112330,23136:15112323,23137:15112123,23138:15113651,23139:15112373,23140:15112374,23141:15112372,23142:15112348,23143:15112591,23144:15112580,23145:15112585,23146:15112577,23147:15112606,23148:15112605,23149:15112612,23150:15112615,23151:15112616,23152:15112607,23153:15112610,23154:15112624,23155:15112835,23156:15112840,23157:15112846,23158:15112841,23159:15112836,23160:15112856,23161:15112861,23162:15113089,23163:15112889,23164:15113097,23165:15112894,23166:15112892,23329:15113092,23330:15112888,23331:15113110,23332:15113114,23333:15113120,23334:15112383,23335:15113126,23336:15113129,23337:15113136,23338:15113141,23339:15113143,23340:15113359,23341:15113366,23342:15113374,23343:15113382,23344:15113383,23345:15310008,23346:15113390,23347:15113407,23348:15113398,23349:15113601,23350:15113400,23351:15113399,23352:15113606,23353:15113630,23354:15113632,23355:15113625,23356:15113635,23357:15113636,23358:15113865,23359:15113648,23360:15113897,23361:15113660,23362:15113642,23363:15113868,23364:15113867,23365:15113894,23366:15113889,23367:15113861,23368:15113911,23369:15114159,23370:15113908,23371:15114156,23372:15113907,23373:15114153,23374:15113912,23375:15114148,23376:15114142,23377:15114141,23378:15114146,23379:15114158,23380:15113913,23381:15114126,23382:15114118,23383:15114151,23384:15116956,23385:15114398,23386:15114630,23387:15114409,23388:15114624,23389:15114637,23390:15114418,23391:15114638,23392:15114931,23393:15114411,23394:15114649,23395:15114659,23396:15114679,23397:15114687,23398:15114911,23399:15114895,23400:15114925,23401:15114900,23402:15114909,23403:15114907,23404:15114883,23405:15116974,23406:15114937,23407:15114676,23408:15114933,23409:15114912,23410:15114938,23411:15115407,23412:15114893,23413:15114686,23414:15115393,23415:15115146,23416:15115400,23417:15115160,23418:15115426,23419:15115430,23420:15115169,23421:15115404,23422:15115149,23585:15115156,23586:15115175,23587:15115157,23588:15115446,23589:15115410,23590:15115396,23591:15115159,23592:15115171,23593:15115429,23594:15115193,23595:15115168,23596:15115183,23597:15115432,23598:15115434,23599:15115418,23600:15115427,23601:15115425,23602:15115142,23603:15115705,23604:15115703,23605:15115676,23606:15115704,23607:15115691,23608:15115668,23609:15115710,23610:15115694,23611:15115449,23612:15115700,23613:15115453,23614:15115673,23615:15115440,23616:15115681,23617:15115678,23618:15115677,23619:15115905,23620:15115690,23621:15115954,23622:15115950,23623:15116176,23624:15115967,23625:15116161,23626:15116179,23627:15115966,23628:15116174,23629:15052712,23630:15116170,23631:15116189,23632:15115963,23633:15116163,23634:15115943,23635:15116462,23636:15115921,23637:15115936,23638:15115932,23639:15115925,23640:15115956,23641:15116190,23642:15116200,23643:15116418,23644:15116443,23645:15116223,23646:15117450,23647:15116217,23648:15116210,23649:15116199,23650:15116421,23651:15115953,23652:15116446,23653:15116205,23654:15116436,23655:15116203,23656:15116426,23657:15116434,23658:15117185,23659:15116451,23660:15116435,23661:15116676,23662:15116428,23663:15116722,23664:15116470,23665:15116728,23666:15116679,23667:15116706,23668:15116697,23669:15116710,23670:15116680,23671:15116472,23672:15116450,23673:15116944,23674:15116941,23675:15116960,23676:15116932,23677:15116962,23678:15116963,23841:15116951,23842:15243415,23843:15116987,23844:15117187,23845:15117186,23846:15116984,23847:15116979,23848:15116972,23849:15117214,23850:15117201,23851:15117215,23852:15116970,23853:15117210,23854:15117226,23855:15117243,23856:15117445,23857:15243414,23858:15117242,23859:15117458,23860:15117462,23861:15314097,23862:15117471,23863:15117496,23864:15117495,23865:15178652,23866:15117497,23867:15311790,23868:15117703,23869:15117699,23870:15117705,23871:15117712,23872:15117721,23873:15117716,23874:15117723,23875:15117727,23876:15117729,23877:15117752,23878:15117753,23879:15117759,23880:15117952,23881:15117956,23882:15117955,23883:15117965,23884:15117976,23885:15117973,23886:15117982,23887:15117988,23888:15117994,23889:15117995,23890:15117999,23891:15118002,23892:15118001,23893:15118003,23894:15118007,23895:15118012,23896:15118214,23897:15118219,23898:15118227,23899:15118239,23900:15118252,23901:15118251,23902:15118259,23903:15118255,23904:15317694,23905:15118472,23906:15118483,23907:15118484,23908:15118491,23909:15118500,23910:15118499,23911:15118750,23912:15118741,23913:15118754,23914:15118762,23915:15118978,23916:15118989,23917:15119002,23918:15118977,23919:15119003,23920:15118782,23921:15118760,23922:15118771,23923:15118994,23924:15118992,23925:15119236,23926:15119281,23927:15119251,23928:15119037,23929:15119255,23930:15119237,23931:15119261,23932:15119022,23933:15119025,23934:15119038,24097:15119034,24098:15119259,24099:15119279,24100:15119257,24101:15119274,24102:15119519,24103:15245709,24104:15119542,24105:15119531,24106:15119549,24107:15119544,24108:15119513,24109:15119541,24110:15119539,24111:15119506,24112:15119500,24113:15119779,24114:15120019,24115:15119780,24116:15119770,24117:15119801,24118:15119769,24119:15120014,24120:15120021,24121:15122340,24122:15120005,24123:15120313,24124:15120533,24125:15120522,24126:15120053,24127:15120263,24128:15120294,24129:15120056,24130:15120262,24131:15120300,24132:15120286,24133:15120268,24134:15120296,24135:15120274,24136:15120261,24137:15120314,24138:15120281,24139:15120292,24140:15120277,24141:15120298,24142:15120302,24143:15120557,24144:15120814,24145:15120558,24146:15120537,24147:15120818,24148:15120799,24149:15120574,24150:15120547,24151:15120811,24152:15120555,24153:15120822,24154:15120781,24155:15120543,24156:15120771,24157:15120570,24158:15120782,24159:15120548,24160:15121343,24161:15120541,24162:15120568,24163:15121026,24164:15121066,24165:15121048,24166:15121289,24167:15121079,24168:15121299,24169:15121085,24170:15121071,24171:15121284,24172:15121074,24173:15121300,24174:15121301,24175:15121039,24176:15121061,24177:15121282,24178:15121055,24179:15121793,24180:15121553,24181:15171980,24182:15121324,24183:15121336,24184:15121342,24185:15121599,24186:15121330,24187:15121585,24188:15121327,24189:15121586,24190:15121292,24353:15121598,24354:15121555,24355:15121335,24356:15122054,24357:15121850,24358:15121848,24359:15122049,24360:15122048,24361:15121839,24362:15121819,24363:15122355,24364:15121837,24365:15122050,24366:15121852,24367:15121816,24368:15122062,24369:15122065,24370:15122306,24371:15121830,24372:15122099,24373:15122083,24374:15122081,24375:15122084,24376:15122105,24377:15122310,24378:15122090,24379:15122335,24380:15122325,24381:15122348,24382:15122324,24383:15122328,24384:15122353,24385:15122350,24386:15122331,24387:15171721,24388:15171723,24389:15122362,24390:15171729,24391:15171713,24392:15171727,24393:15122366,24394:15171739,24395:15171738,24396:15121844,24397:15171741,24398:15171736,24399:15171743,24400:15171760,24401:15171774,24402:15171762,24403:15171985,24404:15172003,24405:15172249,24406:15172242,24407:15172271,24408:15172529,24409:15172268,24410:15172280,24411:15172275,24412:15172270,24413:15172511,24414:15172491,24415:15172509,24416:15172505,24417:15172745,24418:15172541,24419:15172764,24420:15172761,24421:15173029,24422:15173013,24423:15173256,24424:15173030,24425:15173026,24426:15173004,24427:15173014,24428:15173036,24429:15173263,24430:15173563,24431:15173252,24432:15173269,24433:15173288,24434:15173292,24435:15173527,24436:15173305,24437:15173310,24438:15173522,24439:15173513,24440:15173524,24441:15173518,24442:15173536,24443:15173548,24444:15173543,24445:15173557,24446:15173564,24609:15173561,24610:15173567,24611:15173773,24612:15173776,24613:15173787,24614:15173800,24615:15173805,24616:15173804,24617:15173808,24618:15173810,24619:15173819,24620:15173820,24621:15173823,24622:15174016,24623:15174022,24624:15174027,24625:15174040,24626:15174068,24627:15174078,24628:15174274,24629:15174273,24630:15174279,24631:15174290,24632:15174294,24633:15174306,24634:15174311,24635:15174329,24636:15174322,24637:15174531,24638:15174534,24639:15174532,24640:15174542,24641:15174546,24642:15174562,24643:15174560,24644:15174561,24645:15174585,24646:15174583,24647:15040655,24648:15174807,24649:15174794,24650:15174812,24651:15174806,24652:15174813,24653:15174836,24654:15174831,24655:15174825,24656:15174821,24657:15174846,24658:15175054,24659:15175055,24660:15317912,24661:15175063,24662:15175082,24663:15175080,24664:15175088,24665:15175096,24666:15175093,24667:15175099,24668:15175098,24669:15175560,24670:15175347,24671:15175566,24672:15175355,24673:15175552,24674:15175589,24675:15175598,24676:15175582,24677:15176354,24678:15175813,24679:15176111,24680:15175845,24681:15175608,24682:15175858,24683:15175866,24684:15176085,24685:15175871,24686:15176095,24687:15176089,24688:15176065,24689:15176092,24690:15176105,24691:15176112,24692:15176099,24693:15176106,24694:15176118,24695:15176126,24696:15176331,24697:15176350,24698:15176359,24699:15176586,24700:15176591,24701:15176596,24702:15175601,24865:15176608,24866:15176611,24867:15176615,24868:15176617,24869:15176622,24870:15176626,24871:15176624,24872:15176625,24873:15176632,24874:15176631,24875:15176836,24876:15176835,24877:15176837,24878:15176844,24879:15176846,24880:15176845,24881:15176853,24882:15176851,24883:15176862,24884:15176870,24885:15176876,24886:15176892,24887:15177092,24888:15177101,24889:15177098,24890:15177097,24891:15177115,24892:15177094,24893:15177114,24894:15177129,24895:15177124,24896:15177127,24897:15177131,24898:15177133,24899:15177144,24900:15177142,24901:15177350,24902:15177351,24903:15177140,24904:15177354,24905:15177353,24906:15177346,24907:15177364,24908:15177370,24909:15177373,24910:15177381,24911:15177379,24912:15177602,24913:15177395,24914:15177603,24915:15177397,24916:15177405,24917:15177400,24918:15177404,24919:15177393,24920:15177613,24921:15177610,24922:15177618,24923:15177625,24924:15177635,24925:15177630,24926:15177662,24927:15177663,24928:15177660,24929:15177857,24930:15177648,24931:15177658,24932:15177650,24933:15177651,24934:15177867,24935:15177869,24936:15177865,24937:15177887,24938:15177895,24939:15177888,24940:15177889,24941:15177890,24942:15177892,24943:15177908,24944:15177904,24945:15177915,24946:15178119,24947:15178120,24948:15178118,24949:15178140,24950:15178136,24951:15178145,24952:15178146,24953:15178152,24954:15178153,24955:15178154,24956:15178151,24957:15178156,24958:15178160,25121:15178162,25122:15178166,25123:15178168,25124:15178172,25125:15178368,25126:15178371,25127:15178376,25128:15178379,25129:15178382,25130:15178390,25131:15178387,25132:15178393,25133:15178394,25134:15178416,25135:15178420,25136:15178424,25137:15178425,25138:15178426,25139:15178626,25140:15178637,25141:15178646,25142:15178642,25143:15178654,25144:15178657,25145:15178661,25146:15178663,25147:15178666,25148:15243439,25149:15178683,25150:15178888,25151:15178887,25152:15178884,25153:15178921,25154:15178916,25155:15178910,25156:15178917,25157:15178918,25158:15178907,25159:15178935,25160:15178936,25161:15179143,25162:15179162,25163:15179176,25164:15179179,25165:15179163,25166:15179173,25167:15179199,25168:15179198,25169:15179193,25170:15179406,25171:15179403,25172:15179409,25173:15179424,25174:15179422,25175:15179440,25176:15179446,25177:15179449,25178:15179455,25179:15179452,25180:15179453,25181:15179451,25182:15179655,25183:15179661,25184:15179671,25185:15179674,25186:15179676,25187:15179683,25188:15179694,25189:15179708,25190:15179916,25191:15179922,25192:15180966,25193:15179936,25194:15180970,25195:15180165,25196:15180430,25197:15180212,25198:15180422,25199:15180220,25200:15180442,25201:15180428,25202:15180451,25203:15180469,25204:15180458,25205:15180463,25206:15180689,25207:15180678,25208:15180683,25209:15180692,25210:15180478,25211:15180476,25212:15180677,25213:15180682,25214:15180716,25377:15180711,25378:15180698,25379:15180733,25380:15180724,25381:15180935,25382:15180946,25383:15180945,25384:15180953,25385:15180972,25386:15180971,25387:15181184,25388:15181216,25389:15181207,25390:15181215,25391:15181210,25392:15181205,25393:15181203,25394:15181242,25395:15181247,25396:15181450,25397:15181469,25398:15181479,25399:15318411,25400:15181482,25401:15181486,25402:15181491,25403:15181497,25404:15181498,25405:15181705,25406:15181717,25407:15181735,25408:15181740,25409:15181729,25410:15181731,25411:15181960,25412:15181965,25413:15181976,25414:15181977,25415:15181984,25416:15181983,25417:15181440,25418:15182001,25419:15182011,25420:15182014,25421:15182007,25422:15182211,25423:15182231,25424:15182217,25425:15182241,25426:15182242,25427:15182249,25428:15318685,25429:15182256,25430:15182265,25431:15182269,25432:15182472,25433:15182487,25434:15182485,25435:15182488,25436:15182486,25437:15182505,25438:15182728,25439:15182512,25440:15182518,25441:15182725,25442:15182724,25443:15182527,25444:15303299,25445:15182727,25446:15182730,25447:15182733,25448:15182735,25449:15182741,25450:15182739,25451:15182745,25452:15182746,25453:15182749,25454:15182753,25455:15182754,25456:15182758,25457:15182765,25458:15182768,25459:15182978,25460:15182991,25461:15182986,25462:15182982,25463:15183027,25464:15183e3,25465:15183001,25466:15183006,25467:15183029,25468:15183016,25469:15183030,25470:15183248,25633:15183290,25634:15182980,25635:15183245,25636:15182987,25637:15183244,25638:15183237,25639:15183285,25640:15183269,25641:15183284,25642:15183271,25643:15183280,25644:15183281,25645:15183276,25646:15183278,25647:15183517,25648:15183512,25649:15183519,25650:15183501,25651:15183516,25652:15183514,25653:15183499,25654:15183506,25655:15183503,25656:15183261,25657:15183513,25658:15183755,25659:15183745,25660:15183756,25661:15183759,25662:15183540,25663:15183750,25664:15183773,25665:15183785,25666:15184017,25667:15184020,25668:15183782,25669:15183781,25670:15184288,25671:15184e3,25672:15184007,25673:15184019,25674:15183795,25675:15183799,25676:15184023,25677:15184013,25678:15183798,25679:15184035,25680:15184039,25681:15184042,25682:15184031,25683:15184055,25684:15184043,25685:15184061,25686:15184268,25687:15184259,25688:15184276,25689:15184271,25690:15184256,25691:15184272,25692:15184280,25693:15184287,25694:15184292,25695:15184278,25696:15184293,25697:15184300,25698:15184309,25699:15184515,25700:15184528,25701:15184548,25702:15184557,25703:15184546,25704:15184555,25705:15184545,25706:15184552,25707:15184563,25708:15184562,25709:15184561,25710:15184558,25711:15184569,25712:15184573,25713:15184768,25714:15184773,25715:15184770,25716:15184792,25717:15184786,25718:15184796,25719:15184802,25720:15314107,25721:15184815,25722:15184818,25723:15184820,25724:15184822,25725:15184826,25726:15185030,25889:15185026,25890:15185052,25891:15185045,25892:15185034,25893:15185285,25894:15185291,25895:15185070,25896:15185074,25897:15185087,25898:15185077,25899:15185286,25900:15185331,25901:15185302,25902:15185294,25903:15185330,25904:15185320,25905:15185326,25906:15185295,25907:15185315,25908:15185555,25909:15185545,25910:15185307,25911:15185551,25912:15185341,25913:15185563,25914:15185594,25915:15185582,25916:15185571,25917:15185589,25918:15185799,25919:15185597,25920:15185579,25921:15186109,25922:15185570,25923:15185583,25924:15185820,25925:15185592,25926:15185567,25927:15185584,25928:15185816,25929:15185821,25930:15185828,25931:15185822,25932:15185851,25933:15185842,25934:15185825,25935:15186053,25936:15186058,25937:15186083,25938:15186081,25939:15186066,25940:15186097,25941:15186079,25942:15186057,25943:15186059,25944:15186082,25945:15186310,25946:15186342,25947:15186107,25948:15186101,25949:15186105,25950:15186307,25951:15186103,25952:15186098,25953:15186106,25954:15186343,25955:15186333,25956:15186326,25957:15186334,25958:15186329,25959:15186330,25960:15186361,25961:15186346,25962:15186345,25963:15186364,25964:15186363,25965:15186563,25966:15185813,25967:15186365,25968:15253166,25969:15186367,25970:15186568,25971:15186569,25972:15186572,25973:15186578,25974:15186576,25975:15186579,25976:15186580,25977:15186582,25978:15186574,25979:15186587,25980:15186588,25981:15187128,25982:15187130,26145:15187333,26146:15187340,26147:15187341,26148:15187342,26149:15187344,26150:15187345,26151:15187349,26152:15187348,26153:15187352,26154:15187359,26155:15187360,26156:15187368,26157:15187369,26158:15187367,26159:15187384,26160:15187586,26161:15187590,26162:15187587,26163:15187592,26164:15187591,26165:15187596,26166:15187604,26167:15187614,26168:15187613,26169:15187610,26170:15187619,26171:15187631,26172:15187634,26173:15187641,26174:15187630,26175:15187638,26176:15187640,26177:15248817,26178:15187845,26179:15187846,26180:15187850,26181:15187861,26182:15187860,26183:15187873,26184:15187878,26185:15187881,26186:15187891,26187:15187897,26188:15311772,26189:15237254,26190:15237252,26191:15237259,26192:15237266,26193:15237272,26194:15237273,26195:15237276,26196:15237281,26197:15237288,26198:15237311,26199:15237307,26200:15237514,26201:15237510,26202:15237522,26203:15237528,26204:15237530,26205:15237535,26206:15237538,26207:15237544,26208:15237555,26209:15237554,26210:15237552,26211:15237558,26212:15237561,26213:15237565,26214:15237567,26215:15237764,26216:15237766,26217:15237765,26218:15237787,26219:15237779,26220:15237786,26221:15237805,26222:15042192,26223:15237804,26224:15238043,26225:15238053,26226:15238041,26227:15238045,26228:15238020,26229:15238042,26230:15238038,26231:15238281,26232:15238063,26233:15238065,26234:15238299,26235:15238313,26236:15238307,26237:15238319,26238:15238539,26401:15309451,26402:15238534,26403:15238334,26404:15238547,26405:15238545,26406:15238076,26407:15238577,26408:15238574,26409:15238565,26410:15238566,26411:15238580,26412:15238787,26413:15238792,26414:15238794,26415:15238784,26416:15238786,26417:15238816,26418:15238805,26419:15238820,26420:15238819,26421:15238559,26422:15238803,26423:15238825,26424:15238832,26425:15238837,26426:15238846,26427:15238840,26428:15238845,26429:15239040,26430:15239042,26431:15238842,26432:15239049,26433:15239053,26434:15239057,26435:15239065,26436:15239064,26437:15239048,26438:15239066,26439:15239071,26440:15239072,26441:15239079,26442:15239098,26443:15239099,26444:15239102,26445:15239297,26446:15239298,26447:15239301,26448:15239303,26449:15239306,26450:15239309,26451:15239312,26452:15239318,26453:15239337,26454:15239339,26455:15239352,26456:15239347,26457:15239552,26458:15239577,26459:15239576,26460:15239581,26461:15239578,26462:15239583,26463:15239588,26464:15239586,26465:15239592,26466:15239594,26467:15239595,26468:15239342,26469:15239601,26470:15239607,26471:15239608,26472:15239614,26473:15239821,26474:15239826,26475:15239851,26476:15239839,26477:15239867,26478:15239852,26479:15240097,26480:15240099,26481:15240095,26482:15240082,26483:15240116,26484:15240115,26485:15240122,26486:15240851,26487:15240323,26488:15240123,26489:15240121,26490:15240094,26491:15240326,26492:15240092,26493:15240329,26494:15240089,26657:15240373,26658:15240372,26659:15240342,26660:15240370,26661:15240369,26662:15240576,26663:15240377,26664:15240592,26665:15240581,26666:15240367,26667:15240363,26668:15240343,26669:15240344,26670:15240837,26671:15240858,26672:15240874,26673:15240863,26674:15240866,26675:15240854,26676:15240355,26677:15240846,26678:15240839,26679:15240842,26680:15240636,26681:15240885,26682:15240627,26683:15240629,26684:15240864,26685:15240841,26686:15240872,26687:15241140,26688:15241363,26689:15241131,26690:15241102,26691:15241149,26692:15241347,26693:15241112,26694:15241355,26695:15241089,26696:15241143,26697:15241351,26698:15241120,26699:15241138,26700:15241357,26701:15241378,26702:15241376,26703:15240893,26704:15241400,26705:15242374,26706:15241147,26707:15241645,26708:15241386,26709:15241404,26710:15242650,26711:15241860,26712:15241655,26713:15241643,26714:15241901,26715:15241646,26716:15241858,26717:15241641,26718:15241606,26719:15241388,26720:15241647,26721:15241657,26722:15241397,26723:15242122,26724:15241634,26725:15241913,26726:15241919,26727:15241887,26728:15242137,26729:15242125,26730:15241915,26731:15242138,26732:15242128,26733:15242113,26734:15242118,26735:15242134,26736:15241889,26737:15242401,26738:15242175,26739:15242164,26740:15242391,26741:15242392,26742:15242412,26743:15242399,26744:15242389,26745:15242388,26746:15242172,26747:15242624,26748:15242659,26749:15242648,26750:15242632,26913:15242625,26914:15243394,26915:15242635,26916:15242645,26917:15242880,26918:15242916,26919:15242888,26920:15242897,26921:15242890,26922:15242920,26923:15242669,26924:15242900,26925:15242907,26926:15243178,26927:15242887,26928:15242908,26929:15242679,26930:15242686,26931:15242896,26932:15243145,26933:15242938,26934:15243151,26935:15242937,26936:15243152,26937:15243157,26938:15243165,26939:15243173,26940:15243164,26941:15243193,26942:15243402,26943:15243411,26944:15243403,26945:15243198,26946:15243194,26947:15243398,26948:15243426,26949:15243418,26950:15243440,26951:15243455,26952:15243661,26953:14989717,26954:15243668,26955:15243679,26956:15243687,26957:15243697,26958:15243923,26959:15243939,26960:15243945,26961:15243946,26962:15243915,26963:15243916,26964:15243958,26965:15243951,26966:15244164,26967:15244166,26968:15243952,26969:15244169,26970:15245475,26971:15243947,26972:15244180,26973:15244190,26974:15244201,26975:15244204,26976:15244191,26977:15244187,26978:15244207,26979:15244434,26980:15244422,26981:15244424,26982:15244416,26983:15244419,26984:15244219,26985:15244433,26986:15244425,26987:15244429,26988:15244217,26989:15244426,26990:15244468,26991:15244479,26992:15244471,26993:15244475,26994:15244453,26995:15244457,26996:15244442,26997:15244704,26998:15244703,26999:15244728,27e3:15244684,27001:15244686,27002:15244724,27003:15244695,27004:15244712,27005:15244718,27006:15244697,27169:15244691,27170:15244707,27171:15244714,27172:15245445,27173:15244962,27174:15244959,27175:15244930,27176:15244975,27177:15245195,27178:15244989,27179:15245184,27180:15245200,27181:15309718,27182:15244971,27183:15245188,27184:15244979,27185:15245191,27186:15245190,27187:15244987,27188:15245231,27189:15245234,27190:15245216,27191:15245455,27192:15245453,27193:15245246,27194:15245238,27195:15245239,27196:15245454,27197:15245202,27198:15245457,27199:15245462,27200:15245461,27201:15245474,27202:15245473,27203:15245489,27204:15245494,27205:15245497,27206:15245479,27207:15245499,27208:15245700,27209:15245698,27210:15245714,27211:15245721,27212:15245726,27213:15245730,27214:15245739,27215:15245953,27216:15245758,27217:15245982,27218:15245749,27219:15245757,27220:15246005,27221:15245746,27222:15245954,27223:15245975,27224:15245970,27225:15245998,27226:15245977,27227:15245986,27228:15245965,27229:15245988,27230:15246e3,27231:15246015,27232:15246001,27233:15246211,27234:15246212,27235:15246228,27236:15246232,27237:15246233,27238:15246237,27239:15246265,27240:15246466,27241:15246268,27242:15246260,27243:15246248,27244:15246258,27245:15246468,27246:15246476,27247:15246474,27248:15246483,27249:15246723,27250:15246494,27251:15246501,27252:15246506,27253:15246507,27254:15246721,27255:15246724,27256:15246523,27257:15246518,27258:15246520,27259:15246732,27260:15246493,27261:15246752,27262:15246750,27425:15246758,27426:15246756,27427:15246765,27428:15246762,27429:15246767,27430:15246772,27431:15246775,27432:15246782,27433:15246979,27434:15246984,27435:15246986,27436:15246995,27437:15247e3,27438:15247009,27439:15247017,27440:15247014,27441:15247020,27442:15247023,27443:15247026,27444:15247034,27445:15247037,27446:15247039,27447:15247232,27448:15247258,27449:15247260,27450:15247261,27451:15247271,27452:15247284,27453:15247288,27454:15247491,27455:15247510,27456:15247504,27457:15247500,27458:15247515,27459:15247517,27460:15247525,27461:15247542,27462:15247745,27463:15247771,27464:15247762,27465:15247750,27466:15247752,27467:15247804,27468:15247789,27469:15247788,27470:15247778,27471:15248005,27472:15248002,27473:15248004,27474:15248040,27475:15248033,27476:15248017,27477:15248037,27478:15248038,27479:15248026,27480:15248035,27481:15248260,27482:15248269,27483:15248258,27484:15248282,27485:15248299,27486:15248307,27487:15248295,27488:15248292,27489:15248305,27490:15248532,27491:15248288,27492:15248290,27493:15248311,27494:15248286,27495:15248283,27496:15248524,27497:15248519,27498:15248538,27499:15248289,27500:15248534,27501:15248528,27502:15248535,27503:15248544,27504:15248563,27505:15310507,27506:15248550,27507:15248555,27508:15248574,27509:15248552,27510:15248769,27511:15248780,27512:15248783,27513:15248782,27514:15248777,27515:15248790,27516:15248795,27517:15248794,27518:15248811,27681:15248799,27682:15248812,27683:15248815,27684:15248820,27685:15248829,27686:15249024,27687:15249036,27688:15249038,27689:15249042,27690:15249043,27691:15249046,27692:15249049,27693:15249050,27694:15249594,27695:15249793,27696:15249599,27697:15249800,27698:15249804,27699:15249806,27700:15249808,27701:15249813,27702:15249826,27703:15249836,27704:15249848,27705:15249850,27706:15250050,27707:15250057,27708:15250053,27709:15250058,27710:15250061,27711:15250062,27712:15250068,27713:15249852,27714:15250072,27715:15108253,27716:15250093,27717:15250090,27718:15250109,27719:15250098,27720:15250099,27721:15250094,27722:15250102,27723:15250312,27724:15250305,27725:15250340,27726:15250339,27727:15250330,27728:15250365,27729:15250362,27730:15250363,27731:15250564,27732:15250565,27733:15250570,27734:15250567,27735:15250575,27736:15250573,27737:15250576,27738:15318414,27739:15250579,27740:15250317,27741:15250580,27742:15250582,27743:15250855,27744:15250861,27745:15250865,27746:15250867,27747:15251073,27748:15251097,27749:15251330,27750:15251134,27751:15251130,27752:15251343,27753:15251354,27754:15251350,27755:15251340,27756:15251355,27757:15251339,27758:15251370,27759:15251371,27760:15251359,27761:15251363,27762:15251388,27763:15251592,27764:15251593,27765:15251391,27766:15251613,27767:15251614,27768:15251600,27769:15251615,27770:15251842,27771:15251637,27772:15251632,27773:15251636,27774:15251850,27937:15251847,27938:15251849,27939:15251852,27940:15251856,27941:15251848,27942:15251865,27943:15251876,27944:15251872,27945:15251626,27946:15251875,27947:15251861,27948:15251894,27949:15251890,27950:15251900,27951:15252097,27952:15252103,27953:15252101,27954:15252100,27955:15252107,27956:15252106,27957:15252115,27958:15252113,27959:15252116,27960:15252121,27961:15252138,27962:15252129,27963:15252140,27964:15252144,27965:15252358,27966:15252145,27967:15252158,27968:15252357,27969:15252360,27970:15252363,27971:15252379,27972:15252387,27973:15252412,27974:15252411,27975:15252395,27976:15252414,27977:15252618,27978:15252613,27979:15252629,27980:15252626,27981:15252633,27982:15252627,27983:15252636,27984:15252639,27985:15252635,27986:15252620,27987:15252646,27988:15252659,27989:15252667,27990:15252665,27991:15252869,27992:15252866,27993:15252670,27994:15252876,27995:15252873,27996:15252870,27997:15252878,27998:15252887,27999:15252892,28e3:15252898,28001:15252899,28002:15252900,28003:15253148,28004:15253151,28005:15253155,28006:15253165,28007:15253167,28008:15253175,28009:15253402,28010:15253413,28011:15253410,28012:15253418,28013:15253423,28014:15303303,28015:15253428,28016:15302789,28017:15253433,28018:15253434,28019:15302801,28020:15302805,28021:15302817,28022:15302797,28023:15302814,28024:15302806,28025:15302795,28026:15302823,28027:15302838,28028:15302837,28029:15302841,28030:15253432,28193:15303055,28194:15303056,28195:15303057,28196:15303058,28197:15302798,28198:15303049,28199:15302846,28200:15303062,28201:15303064,28202:15303070,28203:15303080,28204:15303087,28205:15303094,28206:15309480,28207:15303090,28208:15303298,28209:15303101,28210:15303297,28211:15303296,28212:15303306,28213:15303305,28214:15303311,28215:15303336,28216:15303343,28217:15303345,28218:15303349,28219:15303586,28220:15303588,28221:15108488,28222:15303579,28223:15303810,28224:15303826,28225:15303833,28226:15303858,28227:15303856,28228:15304074,28229:15304086,28230:15304088,28231:15304099,28232:15304101,28233:15304105,28234:15304115,28235:15304114,28236:15304331,28237:15304329,28238:15304322,28239:15304354,28240:15304363,28241:15304367,28242:15304362,28243:15304373,28244:15304372,28245:15304378,28246:15304576,28247:15304577,28248:15304585,28249:15304587,28250:15304592,28251:15304598,28252:15304607,28253:15304609,28254:15304603,28255:15304636,28256:15304629,28257:15304630,28258:15304862,28259:15304639,28260:15304852,28261:15304876,28262:15304853,28263:15304849,28264:15305118,28265:15305111,28266:15305093,28267:15305097,28268:15305124,28269:15305096,28270:15305365,28271:15304895,28272:15305099,28273:15305104,28274:15305372,28275:15305366,28276:15305363,28277:15305371,28278:15305114,28279:15305615,28280:15305401,28281:15305399,28282:15305641,28283:15305871,28284:15305658,28285:15306116,28286:15305902,28449:15305881,28450:15305890,28451:15305882,28452:15305891,28453:15305914,28454:15305909,28455:15305915,28456:15306140,28457:15306144,28458:15306172,28459:15306158,28460:15306134,28461:15306416,28462:15306412,28463:15306413,28464:15306388,28465:15306425,28466:15306646,28467:15306647,28468:15306664,28469:15306661,28470:15306648,28471:15306627,28472:15306653,28473:15306640,28474:15306632,28475:15306660,28476:15306906,28477:15306900,28478:15306899,28479:15306883,28480:15306887,28481:15306896,28482:15306934,28483:15306923,28484:15306933,28485:15306913,28486:15306938,28487:15307137,28488:15307154,28489:15307140,28490:15307163,28491:15307168,28492:15307170,28493:15307166,28494:15307178,28495:15304873,28496:15307184,28497:15307189,28498:15307191,28499:15307197,28500:15307162,28501:15307196,28502:15307198,28503:15307393,28504:15307199,28505:15308418,28506:15308423,28507:15308426,28508:15308436,28509:15308438,28510:15308440,28511:15308441,28512:15308448,28513:15308456,28514:15308455,28515:15308461,28516:15308476,28517:15308475,28518:15308473,28519:15308478,28520:15308682,28521:15122358,28522:15308675,28523:15308685,28524:15308684,28525:15308693,28526:15308692,28527:15308694,28528:15308700,28529:15308705,28530:15308709,28531:15308706,28532:15308961,28533:15308968,28534:15308974,28535:15308975,28536:15309186,28537:15309196,28538:15309199,28539:15309195,28540:15309239,28541:15309212,28542:15309214,28705:15309213,28706:15309215,28707:15309222,28708:15309234,28709:15309228,28710:15309453,28711:15309464,28712:15309461,28713:15309463,28714:15309482,28715:15309479,28716:15309489,28717:15309490,28718:15309488,28719:15309492,28720:15309494,28721:15309496,28722:15309497,28723:15309710,28724:15309707,28725:15309705,28726:15309709,28727:15246733,28728:15309724,28729:15309965,28730:15309717,28731:15309753,28732:15309956,28733:15309958,28734:15309960,28735:15309971,28736:15309966,28737:15309969,28738:15309967,28739:15309974,28740:15309977,28741:15309988,28742:15309994,28743:1531e4,28744:15310009,28745:15310013,28746:15310014,28747:15310212,28748:15310214,28749:15310216,28750:15310210,28751:15310217,28752:15310236,28753:15310240,28754:15310244,28755:15310246,28756:15310248,28757:15043474,28758:15310251,28759:15310257,28760:15310265,28761:15310469,28762:15310268,28763:15310465,28764:15310266,28765:15310470,28766:15310475,28767:15310479,28768:15310480,28769:15310492,28770:15310504,28771:15310502,28772:15310499,28773:15310515,28774:15310516,28775:15310723,28776:15310726,28777:15310728,28778:15310731,28779:15310748,28780:15310765,28781:15318415,28782:15310770,28783:15182751,28784:15310774,28785:15310773,28786:15310991,28787:15310988,28788:15311032,28789:15311012,28790:15311009,28791:15311031,28792:15311037,28793:15311238,28794:15311247,28795:15311243,28796:15311275,28797:15311279,28798:15311280,28961:15311281,28962:15311284,28963:15311283,28964:15311530,28965:15311535,28966:15311537,28967:15311542,28968:15311748,28969:15311747,28970:15311750,28971:15311785,28972:15311787,28973:15312003,28974:15312009,28975:15312018,28976:15312020,28977:15312024,28978:15312033,28979:15312029,28980:15312030,28981:15312036,28982:15312032,28983:15312044,28984:15312046,28985:15312061,28986:15312062,28987:15312258,28988:15312265,28989:15312261,28990:15312272,28991:15312267,28992:15312273,28993:15312274,28994:15312268,28995:15312277,28996:15312535,28997:15312536,28998:15312549,28999:15312557,29e3:15312558,29001:15312572,29002:15312799,29003:15312795,29004:15312797,29005:15312792,29006:15312785,29007:15312813,29008:15312814,29009:15312817,29010:15312818,29011:15312827,29012:15312824,29013:15313025,29014:15313039,29015:15313029,29016:15312802,29017:15313049,29018:15313067,29019:15313079,29020:15313285,29021:15313282,29022:15313280,29023:15313283,29024:15313086,29025:15313301,29026:15313293,29027:15313307,29028:15313303,29029:15313311,29030:15313314,29031:15313317,29032:15313316,29033:15313321,29034:15313323,29035:15313322,29036:15313581,29037:15313584,29038:15313596,29039:15313792,29040:15313807,29041:15313809,29042:15313811,29043:15313812,29044:15313822,29045:15313823,29046:15313826,29047:15313827,29048:15313830,29049:15313839,29050:15313835,29051:15313838,29052:15313844,29053:15313841,29054:15313847,29217:15313851,29218:15314054,29219:15314072,29220:15314074,29221:15314079,29222:15314082,29223:15314083,29224:15314085,29225:15314087,29226:15314088,29227:15314089,29228:15314090,29229:15314094,29230:15314095,29231:15314098,29232:15314308,29233:15314307,29234:15314319,29235:15314317,29236:15314318,29237:15314321,29238:15314328,29239:15314356,29240:15314579,29241:15314563,29242:15314577,29243:15314582,29244:15314583,29245:15314591,29246:15314592,29247:15314600,29248:15314612,29249:15314816,29250:15314826,29251:15314617,29252:15314822,29253:15314831,29254:15314833,29255:15314834,29256:15314851,29257:15314850,29258:15314852,29259:15314836,29260:15314849,29261:15315130,29262:15314866,29263:15314865,29264:15314864,29265:15315093,29266:15315092,29267:15315081,29268:15315091,29269:15315084,29270:15315078,29271:15315080,29272:15315090,29273:15315082,29274:15315076,29275:15315118,29276:15315099,29277:15315109,29278:15315108,29279:15315105,29280:15315120,29281:15315335,29282:15315122,29283:15315334,29284:15315134,29285:15315354,29286:15315360,29287:15315367,29288:15315382,29289:15315384,29290:15315879,29291:15315884,29292:15315888,29293:15316105,29294:15316104,29295:15315883,29296:15316099,29297:15316102,29298:15316138,29299:15316134,29300:15316655,29301:15316131,29302:15316127,29303:15316356,29304:15316117,29305:15316114,29306:15316353,29307:15316159,29308:15316158,29309:15316358,29310:15316360,29473:15316381,29474:15316382,29475:15316388,29476:15316369,29477:15316368,29478:15316377,29479:15316402,29480:15316617,29481:15316615,29482:15316651,29483:15316399,29484:15316410,29485:15316634,29486:15316644,29487:15316649,29488:15316658,29489:15316868,29490:15316865,29491:15316667,29492:15316664,29493:15316666,29494:15316870,29495:15316879,29496:15316866,29497:15316889,29498:15316883,29499:15316920,29500:15316902,29501:15316909,29502:15316911,29503:15316925,29504:15317146,29505:15317147,29506:15317150,29507:15317429,29508:15317433,29509:15317437,29510:15317633,29511:15317640,29512:15317643,29513:15317644,29514:15317650,29515:15317653,29516:15317649,29517:15317661,29518:15317669,29519:15317673,29520:15317688,29521:15317674,29522:15317677,29523:15310241,29524:15317900,29525:15317902,29526:15317903,29527:15317904,29528:15317908,29529:15317916,29530:15317918,29531:15317917,29532:15317920,29533:15317925,29534:15317928,29535:15317935,29536:15317940,29537:15317942,29538:15317943,29539:15317945,29540:15317947,29541:15317948,29542:15317949,29543:15318151,29544:15318152,29545:15178423,29546:15318165,29547:15318177,29548:15318188,29549:15318206,29550:15318410,29551:15318418,29552:15318420,29553:15318435,29554:15318431,29555:15318432,29556:15318433,29557:15318438,29558:15318439,29559:15318444,29560:15318442,29561:15318455,29562:15318450,29563:15318454,29564:15318677,29565:15318684,29566:15318688,29729:15048879,29730:15116167,29731:15303065,29732:15176100,29733:15042460,29734:15173273};THREE.MMD.Encoding=t})();

THREE.XLoader=function(t,e,r){const s=MMD_SA.THREEX.THREE;this.txrPath=/\//.test(t)?t.slice(0,t.lastIndexOf("/")+1):"";this.url=t;this.onload=e;this.onerror=r;this.mode=null;this.modeArr=[];this.uvIdx=[];this.txrs={};this.nArr=[];this.uvArr=[];this.vColors=[];this.vId={};this.txrLength=0;this.meshNormalsVector=[];this.gmt=new s.Geometry;this.mtrs=this.MeshFaceMaterial();var i=new XMLHttpRequestZIP;var a=this;i.onload=function(){if(1||i.status===200){if(i.responseType=="arraybuffer"){a.parse(a.shift_jis_decoder.decode(new Uint8Array(i.response)))}else a.parse(i.response)}else{a.onerror&&a.onerror(t,i.statusText)}a=i=null};i.onerror=function(){a.onerror&&a.onerror(t,i.statusText)};i.open("GET",t,true);if(!/\.zip/i.test(t)){i.responseType="arraybuffer"}else i.responseType="text";i.send()};THREE.XLoader.prototype={constructor:THREE.XLoader,MeshFaceMaterial:function(){return MMD_SA.THREEX.enabled?{materials:[]}:new THREE.MeshFaceMaterial},get mesh_material(){return MMD_SA.THREEX.enabled?this.mtrs.materials:this.mtrs},TextureLoader:function(t,e,r,s,i){const a=MMD_SA.THREEX.THREE;var n=new Image;if(i&&i.texture_resolution_limit)n._texture_resolution_limit=i.texture_resolution_limit;var o=new a.Texture(n,e);if(MMD_SA.THREEX.enabled&&MMD_SA.THREEX.use_sRGBEncoding)o.colorSpace=a.SRGBColorSpace;var h=new self.THREE.ImageLoader;h.addEventListener("load",function(t){o.image=t.content;o.needsUpdate=true;if(r)r(o)});h.addEventListener("error",function(t){if(s)s(t.message)});h.load(t,n);return o},parse:function(t){const e=MMD_SA.THREEX.THREE;var r=this;t.replace(/^xof[\s.]+?\r\n/,"").split("\r\n").forEach(function(t){r.decision(t)});if(this.uvArr.length){this.uvIdx.forEach(function(t){r.gmt.faceVertexUvs[0].push([r.uvArr[t[0]],r.uvArr[t[1]],r.uvArr[t[2]],r.uvArr[t[3]]])})}if(this.vColors.length){this.gmt.faces.forEach(function(t){t.vertexColors=[r.vColors[t.a],r.vColors[t.b],r.vColors[t.c]];isFinite(t.d)&&(t.vertexColors[3]=r.vColors[t.d])})}if(!MMD_SA.THREEX.enabled)this.gmt.computeCentroids();this.gmt.computeFaceNormals();this.gmt.computeVertexNormals();if(MMD_SA.THREEX.enabled){const s=this.gmt.toBufferGeometry();this.gmt.dispose();this.gmt=s}this.gmt.computeBoundingBox();this.gmt.boundingSphere=this.gmt.boundingBox.getBoundingSphere(new e.Sphere);console.log(toLocalPath(this.txrPath)+"\n"+JSON.stringify(this.gmt.boundingBox));!this.txrLength&&this.onload(new e.Mesh(this.gmt,this.mesh_material));this.mode=this.modeArr=this.uvIdx=this.txrs=this.nArr=this.uvArr=this.vColors=this.meshNormalsVector=this.vId=null},decision:function(t){if(!t||/^\s+$/.test(t))return;if(/{.+?}/.test(t)){if(/^\s*TextureFilename/.test(t)){this.TextureFilename(t.match(/{\s*(.+)?\s*}/)[1])}return}else if(/{/.test(t)){this.modeArr.push(this.mode);this.mode=t.match(/^\s*([a-zA-Z]+)/)[1];this.nArr.push(this.n);this.n=0;return}else if(/}/.test(t)){this.mode=this.modeArr.pop();this.n=this.nArr.pop();return}if(this.mode&&!/^(Header|template)$/.test(this.mode)){this.n++;this[this.mode]&&this[this.mode](t)}},toRgb:function(t,e,r){return"rgb("+Math.floor(t*100)+"%,"+Math.floor(e*100)+"%,"+Math.floor(r*100)+"%)"},Mesh:function(t){const e=MMD_SA.THREEX.THREE;t=t.split(";");if(t.length===2&&t[1]===""){return}else if(t.length===3||t[2]===""||t.length===2&&/,/.test(t[1])){var r=t[1].split(",");if(/3/.test(t[0])){this.gmt.faces.push(new e.Face3(+r[2],+r[1],+r[0]));this.uvIdx.push([+r[2],+r[1],+r[0]])}else{this.gmt.faces.push(new e.Face4(+r[3],+r[2],+r[1],+r[0]));this.uvIdx.push([+r[3],+r[2],+r[1],+r[0]])}}else{var s=t.join(";"),i=this.vId[s]=this.vId[s]||new e.Vector3(+t[0],+t[1],-t[2]);this.gmt.vertices.push(i)}},MeshNormals:function(t){const e=MMD_SA.THREEX.THREE;t=t.split(";");if(t.length===2){return}else if(t.length===3||t[2]===""){!this.faceN&&(this.faceN=this.n);var r=t[1].split(",");if(/3/.test(t[0])){this.gmt.faces[this.n-this.faceN].normal=this.meshNormalsVector[+r[0]]}else{this.gmt.faces[this.n-this.faceN].normal=this.meshNormalsVector[+r[0]]}}else{this.meshNormalsVector.push(new e.Vector3(+t[0],+t[1],-t[2]))}},MeshMaterialList:function(t){if(this.n<3)return;this.gmt.faces[this.n-3].materialIndex=+t.match(/[0-9]+/)[0]},Material:function(t){const e=MMD_SA.THREEX.THREE;t=t.split(";");const r=this.material_para[this.mtrs.materials.length]||this.material_para._default_||{};if(this.n===1){this.mtr=new e.MeshPhongMaterial({color:this.toRgb(t[0],t[1],t[2]),opacity:+t[3]});if(r.side==2)this.mtr.side=e.DoubleSide;if(r.transparent===false)this.mtr.transparent=false;if(r.opacity!=null)this.mtr.opacity=r.opacity;if(r.alphaTest!=null)this.mtr.alphaTest=r.alphaTest;this.transparency_check(r);if(r.map)this.mtr.map=r.map;if(r.uniTexture)this.mtr.uniTexture=r.uniTexture;if(MMD_SA.THREEX.enabled){const s=new e.Color;s.setStyle(r.ambient||(MMD_SA.THREEX.use_VRM1?"#FFF":"#AAA"));this.mtr.color.setStyle(r.ambient||this.toRgb(t[0]*s.r,t[1]*s.g,t[2]*s.b))}else{this.mtr.base_color=[t[0],t[1],t[2]].join(",");this.mtr.color.setStyle("#FFF");this.mtr.ambient.setStyle(r.ambient||"#FFF")}this.mtrs.materials.push(this.mtr)}else if(this.n===2){this.mtr.shininess=+t[0]||5}else if(this.n===3){this.mtr.specular?.setStyle("#000")}else if(this.n===4){const s=new e.Color;if(MMD_SA.THREEX.enabled)s.setStyle("#000");this.mtr.emissive.setStyle(this.toRgb(t[0]*s.r,t[1]*s.g,t[2]*s.b))}},transparency_check:function(){var r=0;var s=0;window.addEventListener("MMDStarted",function(){if(r)console.log("X object opaque/total material count:"+s+"/"+r)});return function(t,e){if(!e){r++;this.mtr.transparent=this.mtr.opacity==1?false:true;if(!this.mtr.transparent)s++;return}if(t.transparent===false||this.mtr.opacity==1&&/\.jpg$/i.test(e)&&!/\.jpga\.jpg$/i.test(e)){this.mtr.transparent=false}else{this.mtr.transparent=true;s--}}}(),shift_jis_decoder:new TextDecoder("shift-jis"),TextureFilename:function(s){const c=MMD_SA.THREEX.THREE;s=s.split('"')[1].split(/\\+/).join("/").split("*")[0];var e=this.material_para[this.mtrs.materials.length-1]||this.material_para._default_||{};var r=toFileProtocol(e.txrPath||this.txrPath);s=e.row||s;if(this.mtr.base_color){this.mtr.color.setArray(this.mtr.base_color.split(",").map(function(t){return parseFloat(t)*255}));delete this.mtr.base_color;this.mtr.ambient.setStyle(e.ambient||"#444")}if(this.txrs[s]){this.mtr.map=this.txrs[s];this.transparency_check(e,s);return}if(!FSO_OBJ.FileExists(toLocalPath(r+s))){console.error("Texture file not found ("+toLocalPath(r+s)+")");return}var p=this;this.txrLength++;if(MMD_SA_options.child_animation_as_texture&&MMD_SA_options.child_animation_as_texture_swap_list){let r=0;MMD_SA_options.child_animation_as_texture_swap_list.forEach(function(t,e){if(s.indexOf(t)==-1)return;p.mtr.map=p.txrs[s]=jThree("#ChildAnimation"+e+"TXR").three(0);r++});if(r){if(--p.txrLength==0)p.onload(new c.Mesh(p.gmt,p.mesh_material));return}}const i=/\.zip\#/i.test(toLocalPath(r));const t=s.replace(/\.(png|jpg|bmp|jpeg|tga)$/i,"_normal."+(e.use_normal_jpg?"jpg":"png"));const a=r+t;if(e.use_normal||(browser_native_mode||i?e.use_normal:FSO_OBJ.FileExists(toLocalPath(a)))){if(this.txrs[t]){this.mtr.normalMap=this.txrs[t];return}this.txrLength++;this.mtr.normalMap=this.txrs[t]=p.TextureLoader(r+t,undefined,function(){if(--p.txrLength)return;p.onload(new c.Mesh(p.gmt,p.mesh_material));p=null},function(){if(--p.txrLength)return;p.onerror(new c.Mesh(p.gmt,p.mesh_material));p=null});this.mtr.normalMap.wrapS=this.mtr.normalMap.wrapT=c.RepeatWrapping;console.log("Normal map",t)}const n=s.replace(/\.(png|jpg|bmp|jpeg|tga)$/i,"_specular."+(e.use_specular_jpg?"jpg":"png"));const o=r+n;if(e.use_specular||(browser_native_mode||i?e.use_specular:FSO_OBJ.FileExists(toLocalPath(o)))){if(this.txrs[n]){this.mtr.specularMap=this.txrs[n];return}this.txrLength++;this.mtr.specularMap=this.txrs[n]=p.TextureLoader(r+n,undefined,function(m){const u=s.replace(/\.(png|jpg|bmp|jpeg|tga)$/i,"_metalness."+(e.use_metalness_jpg?"jpg":"png"));const t=r+u;if(e.use_metalness||(browser_native_mode||i?e.use_metalness:FSO_OBJ.FileExists(toLocalPath(t)))){p.TextureLoader(r+u,undefined,function(t){let e=document.createElement("canvas");let r=e.width=m.image.width;let s=e.height=m.image.height;let i=e.getContext("2d");i.drawImage(m.image,0,0);let a=i.getImageData(0,0,r,s);let n=a.data;i.drawImage(t.image,0,0,t.image.width,t.image.height,0,0,r,s);let o=i.getImageData(0,0,r,s).data;for(var h=0,l=n.length;h<l;h+=4){n[h+1]=o[h+1]}i.putImageData(a,0,0);t.image=e;a=n=o=undefined;console.log("Metal map merged with specular map",u);if(--p.txrLength)return;p.onload(new c.Mesh(p.gmt,p.mesh_material));p=null});return}else if(!e.use_specular_as_metalness){let t=document.createElement("canvas");let e=t.width=m.image.width;let r=t.height=m.image.height;let s=t.getContext("2d");s.drawImage(m.image,0,0);let i=s.getImageData(0,0,e,r);let a=i.data;for(var n=0,o=a.length;n<o;n+=4){a[n+1]=a[n+2]=0}s.putImageData(i,0,0);m.image=t;i=a=undefined}if(--p.txrLength)return;p.onload(new c.Mesh(p.gmt,p.mesh_material));p=null},function(){if(--p.txrLength)return;p.onerror(new c.Mesh(p.gmt,p.mesh_material));p=null});this.mtr.specular.setStyle("rgb(100%,100%,100%)");this.mtr.specularMap.wrapS=this.mtr.specularMap.wrapT=c.RepeatWrapping;console.log("Specular map",n)}this.mtr.map=this.txrs[s]=this.TextureLoader(r+s,undefined,function(){if(--p.txrLength)return;p.onload(new c.Mesh(p.gmt,p.mesh_material));p=null},function(){if(--p.txrLength)return;p.onerror(new c.Mesh(p.gmt,p.mesh_material));p=null});this.mtr.map.wrapS=this.mtr.map.wrapT=c.RepeatWrapping;this.transparency_check(e,s)},MeshTextureCoords:function(t){const e=MMD_SA.THREEX.THREE;if(this.n===1)return;t=t.split(";");var r;t[1]=1-t[1];r=+t[0];t[0]=r;r=t[1];t[1]=r;this.uvArr.push(new e.Vector2(t[0],t[1]))},MeshVertexColors:function(t){return;if(this.n===1){this.mtrs.materials.forEach(function(t){this.vertexColors=THREE.VertexColors});return}t=t.split(";");this.vColors[+t[0]]=new THREE.Color(this.toRgb(t[1],t[2],t[3]))},_material_para:null,get material_para(){if(this._material_para)return this._material_para;this._material_para={};const t=toLocalPath(this.url).replace(/^.+[\/\\]/,"");const e=t.replace(/[\-\_]copy\d+\.x$/,".x").replace(/[\-\_]v\d+\.x$/,".x");const r=MMD_SA_options.model_para[t]||MMD_SA_options.model_para[e];this._material_para=r&&r.material_para||this._material_para;return this._material_para}};jThree.modelHooks.x=function(i,a,n){new THREE.XLoader(i,function(t){if(!a)return;var e=toLocalPath(i).replace(/^.+[\/\\]/,"");var r=e.replace(/[\-\_]copy\d+\.x$/,".x").replace(/[\-\_]v\d+\.x$/,".x");var s=MMD_SA_options.model_para[e]||MMD_SA_options.model_para[r];if(s&&s.instanced_drawing)t.instanced_drawing=s.instanced_drawing;a(t);a=n=null},function(){n();a=n=null})};
THREE.LineSegments=function(c,d){THREE.Line.call(this,c,d),this.type="LineSegments"},THREE.LineSegments.prototype=Object.assign(Object.create(THREE.Line.prototype),{constructor:THREE.LineSegments}),THREE.CameraHelper=function(c){function d(p,q,r){e(p,r),e(q,r)}function e(p,q){f.vertices.push(new THREE.Vector3),f.colors.push(new THREE.Color(q)),j[p]===void 0&&(j[p]=[]),j[p].push(f.vertices.length-1)}var f=new THREE.Geometry,g=new THREE.LineBasicMaterial({color:16777215,vertexColors:THREE.FaceColors}),j={},k=16755200,l=16711680,m=43775,o=3355443;d("n1","n2",k),d("n2","n4",k),d("n4","n3",k),d("n3","n1",k),d("f1","f2",k),d("f2","f4",k),d("f4","f3",k),d("f3","f1",k),d("n1","f1",k),d("n2","f2",k),d("n3","f3",k),d("n4","f4",k),d("p","n1",l),d("p","n2",l),d("p","n3",l),d("p","n4",l),d("u1","u2",m),d("u2","u3",m),d("u3","u1",m),d("c","t",16777215),d("p","c",o),d("cn1","cn2",o),d("cn3","cn4",o),d("cf1","cf2",o),d("cf3","cf4",o),THREE.LineSegments.call(this,f,g),this.camera=c,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=c.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=j,this.update()},THREE.CameraHelper.prototype=Object.create(THREE.LineSegments.prototype),THREE.CameraHelper.prototype.constructor=THREE.CameraHelper,THREE.CameraHelper.prototype.update=function(){function c(j,k,l,m){f.set(k,l,m).unproject(g);var n=e[j];if(n!==void 0)for(var o=0,p=n.length;o<p;o++)d.vertices[n[o]].copy(f)}var d,e,f=new THREE.Vector3,g=new THREE.Camera;return function(){d=this.geometry,e=this.pointMap;var k=1,l=1;g.projectionMatrix.copy(this.camera.projectionMatrix),c("c",0,0,-1),c("t",0,0,1),c("n1",-k,-l,-1),c("n2",k,-l,-1),c("n3",-k,l,-1),c("n4",k,l,-1),c("f1",-k,-l,1),c("f2",k,-l,1),c("f3",-k,l,1),c("f4",k,l,1),c("u1",0.7*k,1.1*l,-1),c("u2",0.7*-k,1.1*l,-1),c("u3",0,2*l,-1),c("cf1",-k,0,1),c("cf2",k,0,1),c("cf3",0,-l,1),c("cf4",0,l,1),c("cn1",-k,0,-1),c("cn2",k,0,-1),c("cn3",0,-l,-1),c("cn4",0,l,-1),d.verticesNeedUpdate=!0}}();
THREE.ShadowMapPlugin=function(){function a(x){t!==x&&(x===THREE.CullFaceNone?f.disable(f.CULL_FACE):(f.enable(f.CULL_FACE),x===THREE.CullFaceBack?f.cullFace(f.BACK):x===THREE.CullFaceFront?f.cullFace(f.FRONT):x===THREE.CullFaceFrontBack?f.cullFace(f.FRONT_AND_BACK):void 0),t=x)}function b(x,y){var z=new THREE.DirectionalLight;z.isVirtual=!0,z.onlyShadow=!0,z.castShadow=!0,z.shadowCameraNear=x.shadowCameraNear,z.shadowCameraFar=x.shadowCameraFar,z.shadowCameraLeft=x.shadowCameraLeft,z.shadowCameraRight=x.shadowCameraRight,z.shadowCameraBottom=x.shadowCameraBottom,z.shadowCameraTop=x.shadowCameraTop,z.shadowCameraVisible=x.shadowCameraVisible,z.shadowDarkness=x.shadowDarkness,z.shadowBias=x.shadowCascadeBias[y],z.shadowMapWidth=x.shadowCascadeWidth[y],z.shadowMapHeight=x.shadowCascadeHeight[y],z.shadowBias_range=x.shadowBias_range,z.pointsWorld=[],z.pointsFrustum=[];for(var A=z.pointsWorld,B=z.pointsFrustum,C=0;8>C;C++)A[C]=new THREE.Vector3,B[C]=new THREE.Vector3;var D=x.shadowCascadeNearZ[y],E=x.shadowCascadeFarZ[y];return B[0].set(-1,-1,D),B[1].set(1,-1,D),B[2].set(-1,1,D),B[3].set(1,1,D),B[4].set(-1,-1,E),B[5].set(1,-1,E),B[6].set(-1,1,E),B[7].set(1,1,E),z}function c(x,y){var z=x.shadowCascadeArray[y];z.position.copy(x.position),z.target.position.copy(x.target.position),z.lookAt(z.target.position),z.shadowCameraVisible=x.shadowCameraVisible,z.shadowDarkness=x.shadowDarkness,z.shadowBias=x.shadowCascadeBias[y];var A=x.shadowCascadeNearZ[y],B=x.shadowCascadeFarZ[y],C=z.pointsFrustum;C[0].z=A,C[1].z=A,C[2].z=A,C[3].z=A,C[4].z=B,C[5].z=B,C[6].z=B,C[7].z=B}function d(x,y){var z=y.shadowCamera,A=y.pointsFrustum,B=y.pointsWorld;u.set(Infinity,Infinity,Infinity),v.set(-Infinity,-Infinity,-Infinity);for(var D,C=0;8>C;C++)D=B[C],D.copy(A[C]),D.unproject(x),D.applyMatrix4(z.matrixWorldInverse),D.x<u.x&&(u.x=D.x),D.x>v.x&&(v.x=D.x),D.y<u.y&&(u.y=D.y),D.y>v.y&&(v.y=D.y),D.z<u.z&&(u.z=D.z),D.z>v.z&&(v.z=D.z);z.left=u.x,z.right=v.x,z.top=v.y,z.bottom=u.y,z.updateProjectionMatrix()}function e(x){var y;return y=x.object.material,y instanceof THREE.MeshFaceMaterial&&(y=y.materials[x.buffer.materialIndex]),y}var f,g,h,l,o,q,t,r=new THREE.Frustum,s=new THREE.Matrix4,u=new THREE.Vector3,v=new THREE.Vector3,w=new THREE.Vector3;this.init=function(x){f=x.context,g=x;var y=THREE.ShaderLib.depthRGBA,z=THREE.UniformsUtils.clone(y.uniforms);h=new THREE.ShaderMaterial({fragmentShader:y.fragmentShader,vertexShader:y.vertexShader,uniforms:z}),l=new THREE.ShaderMaterial({fragmentShader:y.fragmentShader,vertexShader:y.vertexShader,uniforms:z,morphTargets:!0}),o=new THREE.ShaderMaterial({fragmentShader:y.fragmentShader,vertexShader:y.vertexShader,uniforms:z,skinning:!0}),q=new THREE.ShaderMaterial({fragmentShader:y.fragmentShader,vertexShader:y.vertexShader,uniforms:z,morphTargets:!0,skinning:!0}),this._switch_material=function(){var A={},B;return function(C,D){B=null==C._model_index_default?-1:C._model_index_default;var E=A[B];return E||(E=A[B]={_depthMaterialMorphSkin:q.clone(),_depthMaterialSkin:o.clone()}),D?E._depthMaterialMorphSkin:E._depthMaterialSkin}}(),h._shadowPass=!0,l._shadowPass=!0,o._shadowPass=!0,q._shadowPass=!0},this.render=function(x,y){g.shadowMapEnabled&&g.shadowMapAutoUpdate&&this.update(x,y)},this.update=function(x,y){var z,A,B,C,D,E,F,G,H,I,J,K,L,M,N=[],O=0,P=null;f.clearColor(1,1,1,1),f.disable(f.BLEND),f.frontFace(f.CCW),a(g.shadowMapCullFace),g.setDepthTest(!0);var Q=-1;for(z=0,A=x.__lights.length;z<A;z++)if(L=x.__lights[z],L.isVirtual||(L instanceof THREE.DirectionalLight?(Q++,!L._shadowPara&&(L._shadowPara=new THREE.Vector3(0,Q,0))):!L._shadowPara&&(L._shadowPara=new THREE.Vector3(1,0,0))),!!L.castShadow)if(L instanceof THREE.DirectionalLight&&L.shadowCascade)for(D=0;D<L.shadowCascadeCount;D++){var R;L.shadowCascadeArray[D]?R=L.shadowCascadeArray[D]:(R=b(L,D),R.originalCamera=y,R._shadowPara=L._shadowPara.clone(),x.add(R),L.shadowCascadeArray[D]=R,console.log("Created virtualLight",R)),c(L,D),N[O]=R,O++}else{if(L.isVirtual)continue;N[O]=L,O++}var S={},T=[],U=[];for(let aa=0,ba=N.length;aa<ba;aa++)T[aa]=0,U[aa]=0;for(z=0,A=N.length;z<A;z++){if(L=N[z],!L.shadowMap){var V=THREE.LinearFilter;g.shadowMapType===THREE.PCFSoftShadowMap&&(V=THREE.NearestFilter);var W={minFilter:V,magFilter:V,format:THREE.RGBAFormat};L.shadowMap=new THREE.WebGLRenderTarget(L.shadowMapWidth,L.shadowMapHeight,W),L.shadowMapSize=new THREE.Vector2(L.shadowMapWidth,L.shadowMapHeight),L.shadowMatrix=new THREE.Matrix4}if(!L.shadowCamera){if(L instanceof THREE.SpotLight)L.shadowCamera=new THREE.PerspectiveCamera(L.shadowCameraFov,L.shadowMapWidth/L.shadowMapHeight,L.shadowCameraNear,L.shadowCameraFar);else if(L instanceof THREE.DirectionalLight)L.shadowCamera=new THREE.OrthographicCamera(L.shadowCameraLeft,L.shadowCameraRight,L.shadowCameraTop,L.shadowCameraBottom,L.shadowCameraNear,L.shadowCameraFar);else{console.error("Unsupported light type for shadow");continue}x.add(L.shadowCamera),!0===x.autoUpdate&&x.updateMatrixWorld()}for(L.shadowCameraVisible&&!L.cameraHelper&&(L.cameraHelper=new THREE.CameraHelper(L.shadowCamera),L.shadowCamera.add(L.cameraHelper)),L.isVirtual&&R.originalCamera==y&&d(y,L),E=L.shadowMap,F=L.shadowMatrix,G=L.shadowCamera,G.position.copy(L.position),G.lookAt(L.target.position),G.updateMatrixWorld(),G.matrixWorldInverse.getInverse(G.matrixWorld),L._shadowBias_range||(!L.shadowBias_range&&(L.shadowBias_range=[0.1,100]),L._shadowBias_range=new THREE.Vector3(0,L.shadowBias_range[0],L.shadowBias_range[1])),L._shadowBias_range.x=L.shadowBias,L.cameraHelper&&(L.cameraHelper.visible=L.shadowCameraVisible),L.shadowCameraVisible&&L.cameraHelper.update(),F.set(0.5,0,0,0.5,0,0.5,0,0.5,0,0,0.5,0.5,0,0,0,1),F.multiply(G.projectionMatrix),F.multiply(G.matrixWorldInverse),s.multiplyMatrices(G.projectionMatrix,G.matrixWorldInverse),r.setFromMatrix(s),g.setRenderTarget(E),g.clear(),M=x.__webglObjects,(B=0,C=M.length);B<C;B++)if(J=M[B],X=e(J),K=J.object,J.render=!1,K.visible&&K.castShadow&&(void 0===X.castShadow||X.castShadow)&&(!(K instanceof THREE.Mesh||K instanceof THREE.ParticleSystem)||!K.frustumCulled||r.intersectsOrContainsObject(K))){if(T[z]++,S[B]){U[z]++;continue}r._containing&&(S[B]=!0),K._modelViewMatrix.multiplyMatrices(G.matrixWorldInverse,K.matrixWorld),J.render=!0}var X,Y,Z;for(B=0,C=M.length;B<C;B++)J=M[B],J.render&&(K=J.object,H=J.buffer,X=e(J),void 0===X.shadowMapCullFace?a(g.shadowMapCullFace):a(X.shadowMapCullFace),Y=0<K.geometry.morphTargets.length&&X.morphTargets,Z=K instanceof THREE.SkinnedMesh&&X.skinning,I=K.customDepthMaterial?K.customDepthMaterial:Z?this._switch_material(K,Y):Y?l:h,H instanceof THREE.BufferGeometry?g.renderBufferDirect(G,x.__lights,P,I,H,K):g.renderBuffer(G,x.__lights,P,I,H,K));for(a(g.shadowMapCullFace),M=x.__webglObjectsImmediate,(B=0,C=M.length);B<C;B++)J=M[B],K=J.object,K.visible&&K.castShadow&&(K._modelViewMatrix.multiplyMatrices(G.matrixWorldInverse,K.matrixWorld),g.renderImmediateObject(G,x.__lights,P,h,K))}var $=g.getClearColor(),_=g.getClearAlpha();f.clearColor($.r,$.g,$.b,_),f.enable(f.BLEND),a(THREE.CullFaceBack)}};
THREE.ShaderLib.mirror={uniforms:{mirrorSampler:{type:"t",value:null},mirrorPosition:{type:"v3",value:new THREE.Vector3(0,0,0)},reflection_state:{type:"i",value:0},reflection_alpha:{type:"f",value:1},fade_radius:{type:"f",value:15},fade_min:{type:"f",value:1},fade_max:{type:"f",value:1},depth_render_mode:{type:"i",value:0},baseTexture:{type:"t",value:null},baseSpeed:{type:"f",value:0},noiseTexture:{type:"t",value:null},noiseScale:{type:"f",value:0},bumpScale:{type:"f",value:5},vUv_scale:{type:"v2",value:new THREE.Vector2(1,1)},time:{type:"f",value:0},nIntensity:{type:"f",value:0},sIntensity:{type:"f",value:0.5},sCount:{type:"f",value:512},textureMatrix:{type:"m4",value:new THREE.Matrix4}},vertexShader:["uniform mat4 textureMatrix;","varying vec4 mirrorCoord;","varying vec3 vWorldPosition;","varying vec2 vUv;","uniform sampler2D noiseTexture;","uniform float time;","uniform float baseSpeed;","uniform float bumpScale;","void main() {","vUv = uv;","vec4 worldPosition = modelMatrix * vec4( position, 1.0 );","mirrorCoord = textureMatrix * worldPosition;","vec3 bumpedPosition = position;","vec4 mvPosition;","if (baseSpeed > 0.0) {","  vec2 uvTimeShift = vUv + vec2( 1.1, 1.9 ) * time * 0.15;","  vec4 bumpData = texture2D( noiseTexture, uvTimeShift );","  float displacement = (bumpData.g - 0.25) * bumpScale;","  bumpedPosition = bumpedPosition + normal * displacement;","}","mvPosition = modelViewMatrix * vec4( bumpedPosition, 1.0 );","vWorldPosition = worldPosition.xyz;","gl_Position = projectionMatrix * mvPosition;","}"].join("\n"),fragmentShader:["uniform sampler2D mirrorSampler;","varying vec4 mirrorCoord;","varying vec3 vWorldPosition;","uniform vec3 mirrorPosition;","uniform int reflection_state;","uniform float reflection_alpha;","uniform float fade_radius;","uniform float fade_min;","uniform float fade_max;","uniform vec2 vUv_scale;","varying vec2 vUv;","uniform sampler2D baseTexture;","uniform float baseSpeed;","uniform sampler2D noiseTexture;","uniform float noiseScale;","uniform float time;","uniform float nIntensity;","uniform float sIntensity;","uniform float sCount;","vec4 FilmShader(vec4 cTextureScreen, vec2 vUv) {","float x = vUv.x * vUv.y * time *  1000.0;","x = mod( x, 13.0 ) * mod( x, 123.0 );","float dx = mod( x, 0.01 );","vec3 cResult = cTextureScreen.rgb * clamp( 0.1 + dx * 100.0, 0.0, 1.0 );","vec2 sc = vec2( sin( vUv.y * sCount ), cos( vUv.y * sCount ) );","cResult += cTextureScreen.rgb * vec3( sc.x, sc.y, sc.x ) * sIntensity;","cResult = cTextureScreen.rgb + clamp( nIntensity, 0.0,1.0 ) * ( cResult - cTextureScreen.rgb );","return vec4( cResult, cTextureScreen.a );","}",THREE.ShaderChunk.AT_depth_render_mode_pars_fragment,"void main() {",THREE.ShaderChunk.AT_depth_render_mode_fragment,"vec4 color;","if (reflection_state == 0) {","  color = texture2DProj(mirrorSampler, mirrorCoord);","} else if (reflection_state == 1) {","  color = texture2D( mirrorSampler, vUv * vUv_scale + (1.0-vUv_scale)/2.0);","} else {","  color = vec4(0,0,0,0);","}","vec4 baseColor;","if (baseSpeed > 0.0) {","  vec2 uvTimeShift = vUv + vec2( -0.7, 1.5 ) * time * baseSpeed;","  vec4 noiseGeneratorTimeShift = texture2D( noiseTexture, uvTimeShift );","  vec2 uvNoiseTimeShift = vUv + noiseScale * vec2( noiseGeneratorTimeShift.r, noiseGeneratorTimeShift.b );","  baseColor = texture2D( baseTexture, uvNoiseTimeShift );","}","else {","  baseColor = texture2D( baseTexture, vUv );","}","color = vec4(mix(color.rgb, baseColor.rgb, baseColor.a * (1.0 - color.a*reflection_alpha)), baseColor.a + ((1.0-baseColor.a) * color.a*reflection_alpha));","if (nIntensity > 0.0) {","  color = FilmShader(color, vUv);","}","if ((fade_max < 1.0) || (fade_min < 1.0)) {","  if (fade_max != fade_min) {","    float fade_distance = distance(vWorldPosition, mirrorPosition);","    float fade_ratio = pow(fade_distance/fade_radius, 2.0);","    color.a *= mix(fade_max, fade_min, fade_ratio);","  } else {","    color.a *= fade_max;","  }","}","gl_FragColor = color;","}"].join("\n")},THREE.FlatMirror=function(a,b,d){function f(){self.MMD_SA&&MMD_SA.use_webgl2&&!is_mobile&&(this.texture._use_multisample=4),[this.texture,this.tempTexture].forEach(function(y){y.generateMipmaps=!1,y.minFilter=y.magFilter}),this.updateTextureMatrix(),this.render()}THREE.Object3D.call(this),this.name="flatMirror_"+this.id,d=d||{},this.matrixNeedsUpdate=!0;var g=void 0===d.textureWidth?512:d.textureWidth,h=void 0===d.textureHeight?512:d.textureHeight;this.clipBias=void 0===d.clipBias?0:d.clipBias,this.renderer=a,this.mirrorPlane=new THREE.Plane,this.normal=new THREE.Vector3(0,0,1),this.mirrorWorldPosition=new THREE.Vector3,this.cameraWorldPosition=new THREE.Vector3,this.rotationMatrix=new THREE.Matrix4,this.lookAtPosition=new THREE.Vector3(0,0,-1),this.clipPlane=new THREE.Vector4;var i=void 0!==d.debugMode&&d.debugMode;if(i){var j=new THREE.ArrowHelper(new THREE.Vector3(0,0,1),new THREE.Vector3(0,0,0),10,16777088),k=new THREE.Geometry;k.vertices.push(new THREE.Vector3(-10,-10,0)),k.vertices.push(new THREE.Vector3(10,-10,0)),k.vertices.push(new THREE.Vector3(10,10,0)),k.vertices.push(new THREE.Vector3(-10,10,0)),k.vertices.push(k.vertices[0]);var l=new THREE.Line(k,new THREE.LineBasicMaterial({color:16777088}));this.add(j),this.add(l)}b instanceof THREE.PerspectiveCamera?this.camera=b:(this.camera=new THREE.PerspectiveCamera,console.log(this.name+": camera is not a Perspective Camera!")),this.textureMatrix=new THREE.Matrix4,this.mirrorCamera=this.camera.clone();var m={stencilBuffer:!1};this.texture=new THREE.WebGLRenderTarget(g,h,m),this.tempTexture=new THREE.WebGLRenderTarget(g,h,m);var n=THREE.ShaderLib.mirror,o=THREE.UniformsUtils.clone(n.uniforms);if(this.material=new THREE.ShaderMaterial({fragmentShader:n.fragmentShader,vertexShader:n.vertexShader,uniforms:o}),this.material.uniforms.mirrorSampler.value=this.texture,this.material.uniforms.textureMatrix.value=this.textureMatrix,self.MMD_SA){this.mirrorCamera.matrixAutoUpdate=!0,this.mirror_index=d.mirror_index,this.clip_y=d.clip_y;var p=MMD_SA.mirror_obj[this.mirror_index],r=this.material.uniforms;if(p.reflection_state||(this.mirrorCamera.fov*=1.75),r.baseTexture.value=/^\#/.test(p.baseTexture)?jThree(p.baseTexture).three(0):THREE.ImageUtils.loadTexture(toFileProtocol(p.baseTexture)),r.reflection_state.value=p.reflection_state||0,null!=p.reflection_alpha&&(r.reflection_alpha.value=p.reflection_alpha),null!=p.fade_radius&&(r.fade_radius.value=p.fade_radius),null!=p.fade_min&&(r.fade_min.value=p.fade_min),null!=p.fade_max&&(r.fade_max.value=p.fade_max),this.time_ref=performance.now(),r.time.value=p.time||0,null!=p.baseSpeed){r.baseSpeed.value=p.baseSpeed||0.5;var s=new THREE.ImageUtils.loadTexture(toFileProtocol(p.noiseTexture));s.wrapS=s.wrapT=THREE.RepeatWrapping,r.noiseTexture.value=s,r.noiseScale.value=p.noiseScale||0.5337,p.bumpScale||(p.bumpScale=5),r.bumpScale.value=p.bumpScale}null!=p.nIntensity&&(r.nIntensity.value=p.nIntensity,null!=p.sIntensity&&(r.sIntensity.value=p.sIntensity),null!=p.sCount&&(r.sCount.value=p.sCount))}var t=this;self.MMD_SA&&!MMD_SA.WebGL_initialized?window.addEventListener("WebGL_initialized",()=>{f.call(t,g,h)}):f.call(t,g,h)},THREE.FlatMirror.prototype=Object.create(THREE.Object3D.prototype),THREE.FlatMirror.prototype.renderWithMirror=function(a){this.updateTextureMatrix(),this.matrixNeedsUpdate=!1;var b=a.camera;a.camera=this.mirrorCamera,a.renderTemp(),a.material.uniforms.mirrorSampler.value=a.tempTexture,this.render(),this.matrixNeedsUpdate=!0,a.material.uniforms.mirrorSampler.value=a.texture,a.camera=b,a.updateTextureMatrix()},THREE.FlatMirror.prototype.updateTextureMatrix=function(){var a=new THREE.Vector4,b,d=new THREE.Vector3;return function(){function e(s){return s?0>s?-1:1:0}this.updateMatrixWorld(),this.camera.updateMatrixWorld(),this.mirrorWorldPosition.getPositionFromMatrix(this.matrixWorld),this.cameraWorldPosition.getPositionFromMatrix(this.camera.matrixWorld),this.rotationMatrix.extractRotation(this.matrixWorld),this.normal.set(0,0,1),this.normal.applyMatrix4(this.rotationMatrix);var f=self.MMD_SA&&jThree(this._mesh_id).three(0);if(!f||1!=f.material.uniforms.reflection_state.value){var g=this.mirrorWorldPosition.clone().sub(this.cameraWorldPosition),h=g.reflect(this.normal);h.add(this.mirrorWorldPosition),this.rotationMatrix.extractRotation(this.camera.matrixWorld),this.lookAtPosition.set(0,0,-1),this.lookAtPosition.applyMatrix4(this.rotationMatrix),this.lookAtPosition.add(this.cameraWorldPosition);var i=this.mirrorWorldPosition.clone().sub(this.lookAtPosition),j=i.reflect(this.normal);j.add(this.mirrorWorldPosition),this.up.set(0,-1,0),this.up.applyMatrix4(this.rotationMatrix);var k=this.up.reflect(this.normal);this.mirrorCamera.position.copy(h),this.mirrorCamera.up=k,this.mirrorCamera.lookAt(j)}if(this.mirrorCamera.updateProjectionMatrix(),this.mirrorCamera.updateMatrixWorld(),this.mirrorCamera.matrixWorldInverse.getInverse(this.mirrorCamera.matrixWorld),this.textureMatrix.set(0.5,0,0,0.5,0,0.5,0,0.5,0,0,0.5,0.5,0,0,0,1),this.textureMatrix.multiply(this.mirrorCamera.projectionMatrix),this.textureMatrix.multiply(this.mirrorCamera.matrixWorldInverse),f){var l=MMD_SA.mirror_obj[this.mirror_index];null!=l.renderDepth&&(f.renderDepth=l.renderDepth,l.renderDepth=null);var m=f.material.uniforms;if(m.textureMatrix.value=this.textureMatrix,m.mirrorPosition.value=this.mirrorWorldPosition,!this._baseTexture_loaded){var n=m.baseTexture.value;n&&n.image&&(n.image.complete&&n.image.src||n.image._canvas_ready)&&(n.image._canvas_ready?n.needsUpdate=jThree(l.baseTexture).three(0).needsUpdate:(this._baseTexture_loaded=!0,n.needsUpdate=!0))}if(!this._noiseTexture_loaded){var n=m.noiseTexture.value;n&&n.image&&n.image.complete&&n.image.src&&(this._noiseTexture_loaded=!0,n.needsUpdate=!0)}if(!l.vUv_scale)if(l.plane){var o=Math.max(l.plane[0],l.plane[1]);l.vUv_scale=new THREE.Vector2(l.plane[0]/o,l.plane[1]/o)}else l.vUv_scale=new THREE.Vector2(1,1);m.vUv_scale.value=l.vUv_scale;var p=performance.now();m.time.value+=(p-this.time_ref)/1e3,this.time_ref=p}if(f&&1!=f.material.uniforms.reflection_state.value){d.copy(this.mirrorWorldPosition),null!=this.clip_y&&(d.y=this.clip_y),this.mirrorPlane.setFromNormalAndCoplanarPoint(this.normal,d),this.mirrorPlane.applyMatrix4(this.mirrorCamera.matrixWorldInverse),this.clipPlane.set(this.mirrorPlane.normal.x,this.mirrorPlane.normal.y,this.mirrorPlane.normal.z,this.mirrorPlane.constant);var r=this.mirrorCamera.projectionMatrix;a.x=(e(this.clipPlane.x)+r.elements[8])/r.elements[0],a.y=(e(this.clipPlane.y)+r.elements[9])/r.elements[5],a.z=-1,a.w=(1+r.elements[10])/r.elements[14],b=this.clipPlane.multiplyScalar(2/this.clipPlane.dot(a)),r.elements[2]=b.x,r.elements[6]=b.y,r.elements[10]=b.z+1-this.clipBias,r.elements[14]=b.w}}}(),THREE.FlatMirror.prototype.render=function(a){var b=self.MMD_SA&&jThree(this._mesh_id).three(0);if(!b||b.visible){this.matrixNeedsUpdate&&this.updateTextureMatrix(),this.matrixNeedsUpdate=!0;for(var d=this;void 0!==d.parent;)d=d.parent;if(b&&b.visible){var e,f,g,h,i={};if(e=b.material.uniforms.reflection_state,f=e.value,e.value=-1,self.MMD_SA&&(g=MMD_SA.mirror_obj[this.mirror_index],h=g.skip_reflection_list,!h&&(h=[this._mesh_id]),h.forEach(function(l){var m=/^\#(.+)$/.test(l)?MMD_SA_options.mesh_obj_by_id[RegExp.$1]:MMD_SA_options.x_object_by_name[l];m&&m.visible&&(i[l]=!0,m.hide())})),void 0!==d&&d instanceof THREE.Scene&&this.renderer.render(d,this.mirrorCamera,a||this.texture,!0),e.value=f,self.MMD_SA)for(var j in i){var k=/^\#(.+)$/.test(j)?MMD_SA_options.mesh_obj_by_id[RegExp.$1]:MMD_SA_options.x_object_by_name[j];k&&k.show()}}}},THREE.FlatMirror.prototype.renderTemp=function(){this.render(this.tempTexture)},THREE.MirrorMaterial=function(a){var b=jThree(a.camera).three(0),d=new THREE.FlatMirror(null,b,a);return MMD_SA._THREE_mirror.push(d),d.material._mirror=d,d._mesh_id=a.mesh,d._renderer_id=a.renderer,d.material},THREE.Math.isPowerOfTwo=function(a){return 0==(a&a-1)},THREE.Vector3.prototype.setFromMatrixPosition=THREE.Vector3.prototype.getPositionFromMatrix,THREE.PerspectiveCamera.prototype.clone=function(){var a=new THREE.PerspectiveCamera;return THREE.Camera.prototype.clone.call(this,a),a.zoom=this.zoom,a.fov=this.fov,a.aspect=this.aspect,a.near=this.near,a.far=this.far,a.projectionMatrix.copy(this.projectionMatrix),a};
THREE.TrackballControls=function(e,t){var d=this,n={NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM:4,TOUCH_PAN:5};this.object=e;this.domElement=t!==undefined?t:document;this._enabled=true;this.screen={left:0,top:0,width:0,height:0};this.rotateSpeed=1;this.zoomSpeed=1.2;this.panSpeed=.3;this.noRotate=this.noZoom=this.noPan=this.noRoll=false;this.damping=.2;this.minDistance=0;this.maxDistance=Infinity;this.target=e._lookAt;this.lastPosition=new THREE.Vector3;this._eye=new THREE.Vector3;var a=n.NONE,i=n.NONE,g=new THREE.Vector3,_=new THREE.Vector3,s=new THREE.Vector2,o=new THREE.Vector2,r=0,c=0,h=new THREE.Vector2,u=new THREE.Vector2;this.target0=this.target.clone();this.position0=this.object.position.clone();this.up0=this.object.up.clone();this._fixed=false;this.objectUp=new THREE.Vector3;var y=new THREE.Vector2;var E=new THREE.Vector2;var m=new THREE.Vector2;this.rotate_with_up_fixed=false;this.getMouseOnScreen_fixed_up=function(e,t,i){return this.getMouseOnScreen(e,t,i||new THREE.Vector2)};this.rotateCamera=function(){var n=new THREE.Vector3,a=new THREE.Quaternion;var r=new THREE.Vector3;var c=new THREE.Vector3;var h=new THREE.Vector3;var u=new THREE.Vector3;var l=new THREE.Quaternion;var i,o;function p(){i=o=null;if(!self.MMD_SA||!MMD_SA_options.trackball_camera_limit)return false;var e=MMD_SA_options.trackball_camera_limit;i=e.max;o=e.min;r.copy(this._eye).applyQuaternion(a);var t=e.adjust&&e.adjust(r);if(t){return t}if(i){if(r.x>i.x||r.y>i.y||r.z>i.z){return true}}if(o){if(r.x<o.x||r.z<o.z)return true}return false}function f(){if(!o||!(this._eye.y<o.y))return false;let e=this._eye.lengthSq();let t=this._eye.x*this._eye.x;let i=this._eye.z*this._eye.z;let s=(e-o.y*o.y)/(t+i);c.x=(this._eye.x<0?-1:1)*Math.sqrt(t*s);c.z=(this._eye.z<0?-1:1)*Math.sqrt(i*s);c.y=o.y;return true}return function(){if(this.rotate_with_up_fixed){if(y.distanceToSquared(E)>this.EPS){r.subVectors(this.position0,this.target);h.set(0,r.y,-Math.sqrt(r.x*r.x+r.z*r.z));let e=Math.atan2(h.y,-h.z);let t=1.9-e/(Math.PI/4);let i=-1.9-e/(Math.PI/4);u.copy(m).add(E).sub(y);u.y=THREE.Math.clamp(u.y,i,t);a.setFromEuler(MMD_SA.TEMP_v3.set(u.y*45/180*Math.PI,-u.x*180/180*Math.PI,0),"YXZ");c.copy(this._eye);let s=h.angleTo(r);l.setFromAxisAngle(n.set(0,1,0),s);a.multiplyQuaternions(l,a);this._eye.copy(h);let o=p.call(this);if(o){this._eye.copy(c);y.copy(E);return}this._eye.applyQuaternion(a);if(f.call(this)){this._eye.copy(c);y.y=E.y}m.add(E).sub(y);m.y=THREE.Math.clamp(m.y,i,t);y.add(u.copy(E).sub(y).multiplyScalar(this.damping))}return}var e=g.angleTo(_);if(e){n.crossVectors(g,_).normalize();e*=d.rotateSpeed;a.setFromAxisAngle(n,-e);if(p.call(this)){g.copy(_);return}this._eye.applyQuaternion(a);!d._fixed&&d.object.up.applyQuaternion(a);_.applyQuaternion(a);a.setFromAxisAngle(n,e*(d.damping-1));g.applyQuaternion(a);if(f.call(this)){let e=u.crossVectors(r,c).normalize();let t=r.angleTo(c);l.setFromAxisAngle(e,t);this._eye.applyQuaternion(l);!d._fixed&&d.object.up.applyQuaternion(l);_.applyQuaternion(l);g.applyQuaternion(l)}}}}();var l=function(){var a=new THREE.Vector3;return function(e,t){if(!self.MMD_SA||!MMD_SA_options.trackball_camera_limit){e.multiplyScalar(t);return}var i=MMD_SA_options.trackball_camera_limit;var s=i.max;var o=i.min;var n=a.copy(e).multiplyScalar(t).length();if(s&&n>s.length||o&&n<o.length)return;if(i.adjust&&i.adjust(e))return;e.multiplyScalar(t);if(s){if(e.x>s.x)e.x=s.x;if(e.y>s.y)e.y=s.y;if(e.z>s.z)e.z=s.z}if(o){if(e.x<o.x)e.x=o.x;if(e.y<o.y)e.y=o.y;if(e.z<o.z)e.z=o.z}}}();this.zoomCamera=function(){if(a===n.TOUCH_ZOOM){var e=r/c;r=c;l(this._eye,e)}else{var e=1+(o.y-s.y)*this.zoomSpeed;if(e!==1&&e>0){l(this._eye,e);s.y+=(o.y-s.y)*this.damping}}};this.panCamera=function(){var e=new THREE.Vector2,t=new THREE.Vector3,i=new THREE.Vector3;return function(){e.copy(u).sub(h);if(e.lengthSq()){e.multiplyScalar(this._eye.length()*d.panSpeed);i.copy(this._eye).cross(d.object.up).setLength(e.x);i.add(t.copy(d.object.up).setLength(e.y));d.object.position.add(i);d.target.add(i);h.add(e.subVectors(u,h).multiplyScalar(d.damping))}}}();var v=new THREE.Vector3;var T=1;this.reset=function(){if(self.MMD_SA)System._browser._wallpaper_mousedown=false;v.set(0,0,0);T=1;y=new THREE.Vector2;E=new THREE.Vector2;m=new THREE.Vector2;g=new THREE.Vector3;_=new THREE.Vector3;a=i=n.NONE;this.object.position.copy(this.position0);this.object.up.copy(this.up0);this.object.lookAt(this.target0);this._eye.subVectors(this.object.position,this.target);this.lastPosition.copy(this.object.position);return this};if(self.MMD_SA){this.SA_adjust=function(){var _=new THREE.Vector3;var y=new THREE.Vector3;var E=new THREE.Vector3;var m=new THREE.Quaternion;var b={filter:function(e){return e.no_camera_collision}};return function(e,t){_.copy(this.object.position);var i,s;if(e){if(e instanceof Array){i=e[0];s=e[1]}else i=s=e;this.object.position.sub(this.target).multiplyScalar(1/T).add(this.target).add(i);this.target.add(s);T=1}if(t){v.add(t)}var o=10;var n=2;var a=1;var r=2;var c=0;var h;if(v.x||v.y||v.z)h=m.setFromEuler(v);for(var u=10;u>=n;u--){E.copy(y.copy(this.object.position).sub(this.target).multiplyScalar(1/T*(c+u/o)));if(h)y.applyQuaternion(h);var l={return_value:null};window.dispatchEvent(new CustomEvent("SA_camera_adjust",{detail:{rot_delta:v,pos_v3:y,result:l}}));if(!l.return_value){if(a<r&&u<10&&(a>1||u>n)){a++;c+=u/o;o=Math.pow(10,a);u=10;n=0;continue}if(a==r||a==1&&(u==10||u==n))v.set(0,0,0);this.object.position.copy(y).add(this.target);T=c+u/o;break}if(a==1&&u==n){this.object.position.copy(E).add(this.target);T=c+u/o}}var p=MMD_SA_options.Dungeon;if(p&&T>2/10){var f=!p.no_camera_collision&&p.check_ray_intersection(this.target,y.copy(this.object.position).sub(this.target),b);if(f){var d=y.length()/T;var g=Math.max(f.nearest.distance/d,2/10);this.object.position.sub(this.target).multiplyScalar(1/T*g).add(this.target);T=g}}if(s&&s.lengthSq()>.01*.01)MMD_SA._mouse_pos_3D=[];this.object.updateMatrixWorld();this.position0.add(this.object.position).sub(_)}}()}function p(e){if(!d.enabled)return;e.preventDefault();e.stopPropagation();if(a===n.NONE){a=e.ctrlKey?n.PAN:e.button}if(a===n.ROTATE&&!d.noRotate){g=d.getMouseProjectionOnBall(e.pageX,e.pageY,g);_.copy(g);d.rotate_with_up_fixed&&E.copy(d.getMouseOnScreen_fixed_up(e.pageX,e.pageY,y))}else if(a===n.ZOOM&&!d.noZoom){s=d.getMouseOnScreen(e.pageX,e.pageY,s);o.copy(s)}else if(a===n.PAN&&!d.noPan){h=d.getMouseOnScreen(e.pageX,e.pageY,h);u.copy(h)}document.addEventListener("mousemove",f,false);document.addEventListener("mouseup",b,false)}function f(e){if(!d.enabled)return;e.preventDefault();e.stopPropagation();if(a===n.ROTATE&&!d.noRotate){_=d.getMouseProjectionOnBall(e.pageX,e.pageY,_);d.rotate_with_up_fixed&&d.getMouseOnScreen_fixed_up(e.pageX,e.pageY,E)}else if(a===n.ZOOM&&!d.noZoom){o=d.getMouseOnScreen(e.pageX,e.pageY,o)}else if(a===n.PAN&&!d.noPan){u=d.getMouseOnScreen(e.pageX,e.pageY,u)}}function b(e){if(!d.enabled)return;e.preventDefault();e.stopPropagation();a=n.NONE;document.removeEventListener("mousemove",f);document.removeEventListener("mouseup",b)}function w(e){if(!d.enabled)return;e.preventDefault();e.stopPropagation();var t=0;if(e.deltaY){t=e.deltaY/(e.deltaMode==0?40:1)}else if(e.wheelDelta){t=e.wheelDelta/40}else if(e.detail){t=-e.detail/3}s.y+=t*.01}function M(e){if(d.enabled===false)return;var t=[];for(var i=0;i<e.touches.length;i++){if(e.touches[i].target.id!="Ljoystick")t.push(e.touches[i])}if(t.length!=e.touches.length)e={touches:t};switch(e.touches.length){case 1:a=n.TOUCH_ROTATE;_.copy(d.getMouseProjectionOnBall(e.touches[0].pageX,e.touches[0].pageY,g));d.rotate_with_up_fixed&&E.copy(d.getMouseOnScreen_fixed_up(e.touches[0].pageX,e.touches[0].pageY,y));break;case 2:a=n.TOUCH_ZOOM;var s=e.touches[0].pageX-e.touches[1].pageX;var o=e.touches[0].pageY-e.touches[1].pageY;c=r=Math.sqrt(s*s+o*o);break;case 3:a=n.TOUCH_PAN;u.copy(d.getMouseOnScreen(e.touches[0].pageX,e.touches[0].pageY,h));break;default:a=n.NONE}}function j(e){if(d.enabled===false)return;e.preventDefault();e.stopPropagation();var t=[];for(var i=0;i<e.touches.length;i++){if(e.touches[i].target.id!="Ljoystick")t.push(e.touches[i])}if(t.length!=e.touches.length)e={touches:t};switch(e.touches.length){case 1:_=d.getMouseProjectionOnBall(e.touches[0].pageX,e.touches[0].pageY,_);d.rotate_with_up_fixed&&d.getMouseOnScreen_fixed_up(e.touches[0].pageX,e.touches[0].pageY,E);break;case 2:var s=e.touches[0].pageX-e.touches[1].pageX;var o=e.touches[0].pageY-e.touches[1].pageY;c=Math.sqrt(s*s+o*o);break;case 3:u=d.getMouseOnScreen(e.touches[0].pageX,e.touches[0].pageY,u);break;default:a=n.NONE}}function S(e){if(d.enabled===false)return;var t=[];for(var i=0;i<e.touches.length;i++){if(e.touches[i].target.id!="Ljoystick")t.push(e.touches[i])}if(t.length!=e.touches.length)e={touches:t};switch(e.touches.length){case 1:g.copy(d.getMouseProjectionOnBall(e.touches[0].pageX,e.touches[0].pageY,_));d.rotate_with_up_fixed&&y.copy(d.getMouseOnScreen_fixed_up(e.touches[0].pageX,e.touches[0].pageY,y));break;case 2:r=c=0;break;case 3:h.copy(d.getMouseOnScreen(e.touches[0].pageX,e.touches[0].pageY,u));break}a=n.NONE}if(self.Animate_RAF){Lbody_host.addEventListener("mousedown",function(e){if(e.button!==0)return;p(e)},false);Lbody_host.addEventListener("wheel",w,false);Lbody_host.addEventListener("touchstart",M,false);Lbody_host.addEventListener("touchend",S,false);Lbody_host.addEventListener("touchmove",j,false);window.addEventListener("resize",function(){d.resize()})}else{this.domElement.addEventListener("contextmenu",function(e){e.preventDefault()},false);this.domElement.addEventListener("mousedown",p,false);this.domElement.addEventListener("mousewheel",w,false);this.domElement.addEventListener("DOMMouseScroll",w,false);this.domElement.addEventListener("touchstart",M,false);this.domElement.addEventListener("touchend",S,false);this.domElement.addEventListener("touchmove",j,false)}this.resize()};THREE.TrackballControls.prototype={constructor:THREE.TrackballControls,get enabled(){return this._enabled&&MMD_SA.THREEX.camera.control.enabled},set enabled(e){this._enabled=e},stop:function(){this.enabled=false;return this},start:function(){this.enabled=true;return this},setup:function(e){jThree.extend(this,e);return this},fixUp:function(e){this._fixed=e===undefined?!this._fixed:e},resize:function(){if(true){this.screen.left=this.screen.top=0;this.screen.width=window.innerWidth;this.screen.height=window.innerHeight}else{jThree.extend(this.screen,this.domElement.getBoundingClientRect());var e=this.domElement.ownerDocument.documentElement;this.screen.left+=window.pageXOffset-e.clientLeft;this.screen.top+=window.pageYOffset-e.clientTop}},getMouseOnScreen:function(e,t,i){if(System._browser.camera.mirror_3D)e=this.screen.width-(e-this.screen.left);return(i||new THREE.Vector2).set((e-this.screen.left)/this.screen.width,(t-this.screen.top)/this.screen.height)},getMouseProjectionOnBall:function(e,t,i){if(System._browser.camera.mirror_3D)e=this.screen.width-(e-this.screen.left);var s=new THREE.Vector3((e-this.screen.width*.5-this.screen.left)/(this.screen.width*.5),(this.screen.height*.5+this.screen.top-t)/(this.screen.height*.5),0);var o=s.length();if(this.noRoll){if(o<Math.SQRT1_2){s.z=Math.sqrt(1-o*o)}else{s.z=.5/o}}else if(o>1){s.normalize()}else{s.z=Math.sqrt(1-o*o)}this._eye.copy(this.object.position).sub(this.target);i.copy(this.object.up).setLength(s.y);i.add(this.objectUp.copy(this.object.up).cross(this._eye).setLength(s.x));i.add(this._eye.setLength(s.z));return i},checkDistances:function(){if(!this.noZoom||!this.noPan){if(this._eye.lengthSq()>this.maxDistance*this.maxDistance){this.object.position.addVectors(this.target,this._eye.setLength(this.maxDistance))}if(this._eye.lengthSq()<this.minDistance*this.minDistance){this.object.position.addVectors(this.target,this._eye.setLength(this.minDistance))}}},EPS:1e-6,update:function(){if(!this._enabled)return;this._eye.subVectors(this.object.position,this.target);if(!this.noRotate){this.rotateCamera()}if(!this.noZoom){this.zoomCamera()}if(!this.noPan){this.panCamera()}this.object.position.addVectors(this.target,this._eye);this.checkDistances();this.object.lookAt(this.target);if(this.lastPosition.distanceToSquared(this.object.position)>this.EPS){this.lastPosition.copy(this.object.position)}}};jThree.Trackball=function(e){var i=[];jThree(isFinite(e)?"rdr:eq("+e+")":e||"rdr").each(function(){var t=new THREE.TrackballControls(jThree.three(jThree.getCamera(this)),jThree.getCanvas(this));jThree.update(this,function(){t.callback&&t.callback();t.update()});jThree(this).resize(function(){t.resize()}).on("attrChange",function(e){if(e.attrName!=="camera")return;t.object=jThree.three(jThree.getCamera(this));t.target=t.object._lookAt});i.push(t)});if(self.MMD_SA)MMD_SA._trackball_camera=i[0];return i.length>1?i:i[0]};
(function(){function a(){d.call(this),this.type='AudioListener',this.context=j.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0}function b(k){d.call(this),this.type='Audio',this.listener=k,this.context=k.context,this.gain=this.context.createGain(),this.gain.connect(k.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.startTime=0,this.offset=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType='empty',this.filters=[]}function c(k){b.call(this,k),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}var d=THREE.Object3D,e=THREE.Vector3,f=THREE.Quaternion,g=THREE.Clock,h,j={getContext:function(){return void 0===h&&(h=new(window.AudioContext||window.webkitAudioContext)),h},setContext:function(k){h=k}};a.prototype=Object.assign(Object.create(d.prototype),{constructor:a,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(k){return null===this.filter?this.gain.disconnect(this.context.destination):(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)),this.filter=k,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(k){return this.gain.gain.setTargetAtTime(k,this.context.currentTime,0.01),this},updateMatrixWorld:function(){var k=new e,m=new f,n=new e,o=new e,p=new g;return function(r){d.prototype.updateMatrixWorld.call(this,r);var s=this.context.listener,t=this.up;if(this.timeDelta=p.getDelta(),this.matrixWorld.decompose(k,m,n),o.set(0,0,-1).applyQuaternion(m),s.positionX){var u=this.context.currentTime+this.timeDelta;s.positionX.linearRampToValueAtTime(k.x,u),s.positionY.linearRampToValueAtTime(k.y,u),s.positionZ.linearRampToValueAtTime(k.z,u),s.forwardX.linearRampToValueAtTime(o.x,u),s.forwardY.linearRampToValueAtTime(o.y,u),s.forwardZ.linearRampToValueAtTime(o.z,u),s.upX.linearRampToValueAtTime(t.x,u),s.upY.linearRampToValueAtTime(t.y,u),s.upZ.linearRampToValueAtTime(t.z,u)}else s.setPosition(k.x,k.y,k.z),s.setOrientation(o.x,o.y,o.z,t.x,t.y,t.z)}}()}),b.prototype=Object.assign(Object.create(d.prototype),{constructor:b,getOutput:function(){return this.gain},setNodeSource:function(k){return this.hasPlaybackControl=!1,this.sourceType='audioNode',this.source=k,this.connect(),this},setMediaElementSource:function(k){return this.hasPlaybackControl=!1,this.sourceType='mediaNode',this.source=this.context.createMediaElementSource(k),this.connect(),this},setBuffer:function(k){return this.buffer=k,this.sourceType='buffer',this.autoplay&&this.play(),this},play:function(){if(!0===this.isPlaying)return void console.warn('THREE.Audio: Audio is already playing.');if(!1===this.hasPlaybackControl)return void console.warn('THREE.Audio: this Audio has no playback control.');this._player&&this._player._dispatchEvent('playing');var k=this.context.createBufferSource();return k.buffer=this.buffer,k.detune.value=this.detune,k.loop=this.loop,k.onended=this.onEnded.bind(this),k.playbackRate.setValueAtTime(this.playbackRate,this.startTime),this.startTime=this.context.currentTime,k.start(this.startTime,this.offset),this.isPlaying=!0,this.source=k,this.connect()},pause:function(){return!1===this.hasPlaybackControl?void console.warn('THREE.Audio: this Audio has no playback control.'):(!0===this.isPlaying&&(this.source.stop(),this.source.onended=null,this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this)},stop:function(){return!1===this.hasPlaybackControl?void console.warn('THREE.Audio: this Audio has no playback control.'):(this.source.stop(),this.source.onended=null,this.offset=0,this.isPlaying=!1,this)},connect:function(){if(0<this.filters.length){this.source.connect(this.filters[0]);for(var k=1,m=this.filters.length;k<m;k++)this.filters[k-1].connect(this.filters[k]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(0<this.filters.length){this.source.disconnect(this.filters[0]);for(var k=1,m=this.filters.length;k<m;k++)this.filters[k-1].disconnect(this.filters[k]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(k){return k||(k=[]),!0===this.isPlaying?(this.disconnect(),this.filters=k,this.connect()):this.filters=k,this},setDetune:function(k){return this.detune=k,!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,0.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(k){return this.setFilters(k?[k]:[])},setPlaybackRate:function(k){return!1===this.hasPlaybackControl?void console.warn('THREE.Audio: this Audio has no playback control.'):(this.playbackRate=k,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,0.01),this)},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this._player&&this._player._dispatchEvent('ended'),this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn('THREE.Audio: this Audio has no playback control.'),!1):this.loop},setLoop:function(k){return!1===this.hasPlaybackControl?void console.warn('THREE.Audio: this Audio has no playback control.'):(this.loop=k,!0===this.isPlaying&&(this.source.loop=this.loop),this)},getVolume:function(){return this.gain.gain.value},setVolume:function(k){return this.gain.gain.setTargetAtTime(k,this.context.currentTime,0.01),this}}),c.prototype=Object.assign(Object.create(b.prototype),{constructor:c,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(k){return this.panner.refDistance=k,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(k){return this.panner.rolloffFactor=k,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(k){return this.panner.distanceModel=k,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(k){return this.panner.maxDistance=k,this},setDirectionalCone:function(k,m,n){return this.panner.coneInnerAngle=k,this.panner.coneOuterAngle=m,this.panner.coneOuterGain=n,this},updateMatrixWorld:function(){var k=new e,m=new f,n=new e,o=new e;return function(q){if(d.prototype.updateMatrixWorld.call(this,q),!1!==this.isPlaying){this.matrixWorld.decompose(k,m,n),o.set(0,0,1).applyQuaternion(m);var r=this.panner;if(r.positionX){var s=this.context.currentTime+this.listener.timeDelta;r.positionX.linearRampToValueAtTime(k.x,s),r.positionY.linearRampToValueAtTime(k.y,s),r.positionZ.linearRampToValueAtTime(k.z,s),r.orientationX.linearRampToValueAtTime(o.x,s),r.orientationY.linearRampToValueAtTime(o.y,s),r.orientationZ.linearRampToValueAtTime(o.z,s)}else r.setPosition(k.x,k.y,k.z),r.setOrientation(o.x,o.y,o.z)}}}()}),THREE.AudioContext=j,THREE.AudioListener=a,THREE.Audio=b,THREE.PositionalAudio=c})();

MMD_SA.fn={length:1+1,load_length_extra:MMD_SA_options.load_length_extra||0,_ready_for_model_creation:[],_model_creation_timerID:[],setupUI:function(e){this.length++;var t=MMD_SA_options.motion.length+(MMD_SA_options.x_object.length+MMD_SA.GOML_head_list.length)+1+this.load_length_extra;t+=MMD_SA_options.model_path_extra.length;if(!this._ready_for_model_creation[0])t-=MMD_SA_options.motion.filter(e=>/\.fbx$/i.test(e.path)).length;if(this.length<t){DEBUG_show("("+parseInt(this.length/t*100)+"% loaded)")}else if(this.length==t){this._ready_for_model_creation[0]=true;DEBUG_show("(100% loaded, processing model...)")}else if(this.length==t+1){}else if(this.length<t+2+MMD_SA_options.model_path_extra.length*2){var o=parseInt((this.length-(t+2))/2)+1;this._ready_for_model_creation[o]=true;DEBUG_show("(100% loaded, processing extra model (#"+o+")...)")}else if(this.length==t+2+MMD_SA_options.model_path_extra.length*2){setTimeout(function(){MMD_SA.fn.init()},200);DEBUG_show("(MMD starting...)",2)}else{if(this.length>t+2){DEBUG_show("loading error(?)",0,1);console.log("loading error(?)",this.length+"/"+t)}}},x_object_init:function(){function _(e){if(!MMD_SA._x_object_displayed_once)return;if(!this.visible||e){this.visible=true;if(!/^\#mikuPmx/.test(this.id)){MMD_SA.THREEX.mesh_obj.get(this.id).show();return true}}}function n(e){if(!MMD_SA._x_object_displayed_once)return;if(this.visible||e){this.visible=false;if(!/^\#mikuPmx/.test(this.id)){MMD_SA.THREEX.mesh_obj.get(this.id).hide();return true}}}return function(){MMD_SA_options.x_object.forEach(function(t,e){MMD_SA_options.x_object_by_name[t.path.replace(/^.+[\/\\]/,"").replace(/\.x$/i,"")]=t;t.id=t.id||"#x_object"+e;t.show=_;t.hide=n;t._obj=MMD_SA.THREEX.mesh_obj.get_three(t.id);if(t.boundingBox_list!=null){const o=MMD_SA.get_bounding_host(t._obj);o.boundingBox_list=[];t.boundingBox_list.forEach(function(e){if(e==null){o.boundingBox_list.push(o.boundingBox)}else{var t=(new THREE.Box3).set(e.min,e.max);t.oncollide=e.oncollide;t.onaway=e.onaway;o.boundingBox_list.push(t)}});if(t.bb_adjust){o.boundingBox_list.forEach(function(e){if(t.bb_adjust.min)e.min.add(t.bb_adjust.min)})}}if(t.scale==null)t.scale=t._obj.scale.x==0?0:1;t.visible=t.hidden_on_start?false:t._obj.scale.x>0});MMD_SA_options.mesh_obj.forEach(function(e,t){MMD_SA_options.mesh_obj_by_id[e.id]=MMD_SA_options.mesh_obj_by_id["#"+e.id]=e;e.id="#"+e.id;e.show=_;e.hide=n;if(/^\#mikuPmx(\d+)$/.test(e.id)){e._obj=THREE.MMD.getModels()[parseInt(RegExp.$1)].mesh;Object.defineProperty(e,"visible",{get:function(){return this._obj.visible},set:function(e){this._obj.visible=e}});if(e.scale==null)e.scale=1;e.visible=true}else{if(!e._obj)e._obj=MMD_SA.THREEX.mesh_obj.get_three(e.id);var o=e._obj.children.length?e._obj.children[0]:e._obj;if(e.castShadow){o.castShadow=true}if(e.receiveShadow){o.receiveShadow=true}if(e.scale==null)e.scale=e._obj.scale.x==0?0:1;e.visible=e.hidden_on_start?false:e._obj.scale.x>0}});MMD_SA_options.mesh_obj_all=MMD_SA_options.x_object.concat(MMD_SA_options.mesh_obj)}}(),init:function(){var _=jThree;this.x_object_init();var e=this;var t=THREE.MMD.getModels()[0];var o=[];t.pmx.materials.forEach(function(e){o.push(e.name)});MMD_SA._material_list=o;var n=[{path:MMD_SA_options.model_path_default}];for(var i in MMD_SA_options.MME_saved){var a=MMD_SA_options.MME_saved[i];if(a.path_full)n.push({path:toLocalPath(a.path_full)})}n.forEach(function(e){var t=e.path;if(!/^(\w+\:|\/)/.test(t))t=System.Gadget.path+toLocalPath("\\"+t);e.in_use=t==MMD_SA_options.model_path||MMD_SA_options.model_path_extra.indexOf(t)!=-1});MMD_SA._model_list=n;THREE.MMD.getModels().forEach(function(e){e.skin_MMD_SA_extra=[MMD_SA.Animation_dummy];e.morph_MMD_SA_extra=[MMD_SA.Animation_dummy]});MMD_SA.MMD={MotionManager:function(){this._model_index=0},setFrameNumber:function(){},play:function(){jThree.MMD.play()},pause:function(){jThree.MMD.pause()}};Object.defineProperty(MMD_SA.MMD.MotionManager.prototype,"lastFrame",{get:function(){var e=THREE.MMD.getModels()[this._model_index]._MMD_SA_cache[this.para_SA._path];return e.skin.duration*30}});Object.defineProperty(MMD_SA.MMD.MotionManager.prototype,"_timeMax",{get:function(){var e=THREE.MMD.getModels()[this._model_index]._MMD_SA_cache[this.para_SA._path];return e.skin._timeMax}});Object.defineProperty(MMD_SA.MMD.MotionManager.prototype,"lastFrame_",{get:function(){if(this._lastFrame_!=null)return this._lastFrame_;var e=MMD_SA.MMD.motionManager;return e.para_SA.multi_model_motion_list&&e.para_SA.multi_model_motion_list.indexOf(this.filename)!=-1?e._lastFrame_:this.lastFrame},set:function(e){this._lastFrame_=e}});Object.defineProperty(MMD_SA.MMD.MotionManager.prototype,"firstFrame_",{get:function(){if(this._firstFrame_!=null)return this._firstFrame_;var e=MMD_SA.MMD.motionManager;return e.para_SA.multi_model_motion_list&&e.para_SA.multi_model_motion_list.indexOf(this.filename)!=-1?e._firstFrame_:0},set:function(e){this._firstFrame_=e}});MMD_SA.motion=[];var M=MMD_SA_options.motion_shuffle_list_default&&MMD_SA_options.motion_shuffle_list_default[0]||0;window.dispatchEvent(new CustomEvent("SA_MMD_before_motion_init"));for(var l=0,r=MMD_SA_options.motion.length;l<r;l++){var p=MMD_SA_options.motion[l];if(!p.path){MMD_SA.motion.push(new MMD_SA.MMD.MotionManager);continue}var m=decodeURIComponent(p.path.replace(/^.+[\/\\]/,"").replace(/\.([a-z0-9]{1,4})$/i,""));var d=MMD_SA_options.motion_para[m]||{};var u=MMD_SA.vmd_by_filename[m];u._index=l;if(p.is_vmd_component){MMD_SA.motion.push({});continue}if(p.morph_component_by_filename){u._morph_component=MMD_SA.vmd_by_filename[p.morph_component_by_filename];u._morph_component.url=u.url}THREE.MMD.getModels().forEach(function(e,t){var o,_,n,i,a;_=e._MMD_SA_cache[p.path];if(_){e._MMD_SA_cache_current=_;n=_.skin;i=_.morph;if(n){n._model_index=e._model_index;n._motion_index=l}if(i){i._model_index=e._model_index;i._motion_index=l}}else{a=MMD_SA_options.model_para_obj_all[t];o=p.jThree_para;var r=false;if(d.model_name_RegExp||d.model_index_list){if(d.model_name_RegExp)r=!d.model_name_RegExp.test(a._filename);if(d.model_index_list&&(!d.model_name_RegExp||r)){r=d.model_index_list.indexOf(t)==-1;if(r&&d.model_index_list.indexOf(0)!=-1&&a.is_PC_candidate)r=false}}else if(t>0&&!a.is_PC_candidate&&(o||!a.mirror_motion_from_first_model)){r=true}if(a.motion_name_default==m){r=false}if(r){if(t==MMD_SA_options.model_para_obj_all.length-1&&(!MMD_SA.motion.length||MMD_SA.motion[MMD_SA.motion.length-1].filename!=m))MMD_SA.motion.push({});return}_=e.setupMotion_MMD_SA(u,p.match,o);d=MMD_SA_options.motion_para[m]||d;n=_.skin;i=_.morph;if(o){n._is_MMD_SA_custom_animation=i._is_MMD_SA_custom_animation=MMD_SA.custom_action_index&&l>=MMD_SA.custom_action_index&&l<MMD_SA.motion_number_meter_index;n._is_MMD_SA_animation=true;n._is_skin=true;n._MMD_SA_disabled=true;n.freeze_onended=true;if(e.skin_MMD_SA_extra){n._motion_index_extra=e.skin_MMD_SA_extra.length;e.skin_MMD_SA_extra.push(n)}i._is_MMD_SA_animation=true;i._is_morph=true;i._MMD_SA_disabled=true;i.freeze_onended=true;if(e.morph_MMD_SA_extra){i._motion_index_extra=e.morph_MMD_SA_extra.length;e.morph_MMD_SA_extra.push(i)}n._MMD_SA_animation_check=i._MMD_SA_animation_check=o.animation_check}}if(!o||n._is_MMD_SA_custom_animation){e._MMD_SA_cache[p.path]=_;if(!MMD_SA.motion.length||MMD_SA.motion[MMD_SA.motion.length-1].filename!=m){var s=new MMD_SA.MMD.MotionManager;s.filename=m;s.para_SA=d;s.para_SA._path=p.path;s._index=s.para_SA._index=MMD_SA.motion.length;s._model_index=t;MMD_SA.motion.push(s)}}if(!e.skin||l==M||a.motion_name_default==m){if(!a.motion_name_default){if(t==0){if(l==M)a.motion_name_default=m}else if(t>0&&!a.mirror_motion_from_first_model)a.motion_name_default=m}e._MMD_SA_cache_current=_;e.skin=n;e.morph=i;THREE.MMD.adjustMotionDuration()}})}MMD_SA.motion_max_default=MMD_SA_options.motion.length;MMD_SA.MMD.motionManager=MMD_SA.motion[0];if(MMD_SA_options.use_speech_bubble){MMD_SA.SpeechBubble.onload()}MMD_SA._tray_updatable=true;System._browser.update_tray();setTimeout(function(){MMD_SA.MMD_started=true;resize();_.MMD.cameraMotion=true;MMD_SA._head_pos=new THREE.Vector3(0,15,0);MMD_SA_options.model_para_obj.onMotionChange&&MMD_SA_options.model_para_obj.onMotionChange();var o=(()=>{const H={};const P={minCutOff:1,beta:1,dCutOff:1};const k={};const q={minCutOff:.25,beta:.1,dCutOff:.25};return function(){var j=this;var R=this.mesh;var e=MMD_SA_options.Dungeon&&MMD_SA_options.Dungeon.accessory_list||MMD_SA_options.mesh_obj_all;e.forEach(function(l){var e=l.parent_bone;if(!e)return;var t=e.model_index||0;if(j._model_index!=t)return;const p=l._obj;if(MMD_SA_options.Dungeon){if(!R.visible||e.disabled){if(!R.visible){if(!e.disabled)e._avatar_hidden_=true;l._obj_proxy.hidden=true;l._obj_proxy.visible=false}else{if(e._avatar_hidden_){l._obj_proxy.hidden=false;l._obj_proxy.visible=true}if(l.placement?.position){if(!e._detached_)e._detached_={pos:new THREE.Vector3,rot:new THREE.Quaternion};if(e.attached){e.attached=false;p.matrixAutoUpdate=true;l._obj_proxy.hidden=false;l._obj_proxy.visible=true;p.position.copy(e._detached_.pos);p.quaternion.copy(e._detached_.rot)}else{e._detached_.pos.copy(p.position);e._detached_.rot.copy(p.quaternion)}}e._avatar_hidden_=false}return}l._obj_proxy.hidden=false;l._obj_proxy.visible=true}if(e.condition&&!e.condition(l,t))return;var o=MMD_SA.motion[j.skin._motion_index].para_SA;var _;_=o.adjustment_per_model&&(o.adjustment_per_model[MMD_SA_options.model_para_obj._filename]||o.adjustment_per_model[MMD_SA_options.model_para_obj._filename_cleaned]);_=_&&_.accessory_default&&_.accessory_default[l.path.replace(/^.+[\/\\]/,"")];if(_)e=_.parent_bone;var n=e.name=="ROOT";var i;if(!n){i=R.bones_by_name[e.name];if(!i)return}e.attached=true;var a,r;var s,m;m=MMD_SA.THREEX.get_model(t);if(n){s=MMD_SA.THREEX._THREE.MMD.getModels()[t].mesh;r=MMD_SA._q2.copy(s.bones_by_name[""].quaternion)}if(MMD_SA.THREEX.enabled){if(n){const u=m.getBoneNode("hips");a=MMD_SA.THREEX.v1.copy(u.position);if(!e.hips_as_root){a.y=0}a=m.process_position(a).multiplyScalar(MMD_SA.THREEX.VRM.vrm_scale)}else{const c=m.get_bone_by_MMD_name(e.name);if(!c)return;a=MMD_SA.THREEX.v1;r=MMD_SA.THREEX.q1;c.matrixWorld.decompose(MMD_SA.THREEX.v1,MMD_SA.THREEX.q1,MMD_SA.THREEX.v2);const f=MMD_SA.THREEX.q2.copy(m.mesh.quaternion).conjugate();a.sub(m.mesh.position).applyQuaternion(f);r.premultiply(f);if(m.type=="VRM"&&!m.is_VRM1){r.premultiply(MMD_SA.THREEX.q2.set(0,1,0,0));r.x*=-1;r.z*=-1}}}else{p.useQuaternion=true;if(n){i=R.bones_by_name[""]}bone_objs=i.skinMatrix.decompose();a=bone_objs[0];if(n){if(e.hips_as_root){a.y=MMD_SA.TEMP_v3.setFromMatrixPosition(R.bones_by_name[""].skinMatrix).y}else{a.y=0}}if(!r)r=bone_objs[1]}p.position.copy(a);if(e.position){const h=MMD_SA.TEMP_v3.set(e.position.x,e.position.y,-e.position.z);if(e.position.scale_base)h.multiply(p.scale).multiplyScalar(1/e.position.scale_base);if(n&&System._browser.camera.poseNet.enabled&&System._browser.camera.poseNet.frames.skin[""]?.[0]._hip_adjustment_offset){h.sub(MMD_SA._v3a.copy(System._browser.camera.poseNet.frames.skin[""][0]._hip_adjustment_offset).setY(0))}h.applyQuaternion(r);p.position.add(h)}p.quaternion.copy(r);let d;if(e.rotation){if(e.rotation.fixed){p.quaternion.set(0,0,0,1);d=MMD_SA._q1.setFromEuler(MMD_SA.TEMP_v3.set(-e.rotation.fixed.x,-e.rotation.fixed.y,e.rotation.fixed.z).multiplyScalar(Math.PI/180),"YXZ")}else{d=MMD_SA._q1.setFromEuler(MMD_SA.TEMP_v3.set(-e.rotation.x,-e.rotation.y,e.rotation.z).multiplyScalar(Math.PI/180),"YXZ")}p.quaternion.multiply(d)}var M=MMD_SA.TEMP_m4.makeFromPositionQuaternionScale(p.position,p.quaternion,p.scale).multiplyMatrices(R.matrixWorld,MMD_SA.TEMP_m4).decompose();p.position.copy(M[0]);p.quaternion.copy(M[1]);if(e.rotation){let M;const D=e.rotation.align_with_external_point;if(D)l.user_data._rot_default_=(l.user_data._rot_default_||new THREE.Quaternion).copy(p.quaternion);if(D&&(!D.mocap_only||System._browser.camera.poseNet.enabled&&System._browser.camera.ML_warmed_up)){const b=MMD_SA._q2.copy(p.quaternion);M=D.transfer_to_parent_bone&&(System._browser.camera.poseNet.enabled&&System._browser.camera.ML_warmed_up);if(M){const A=d.toAxisAngle();p.quaternion.setFromAxisAngle(A[0].applyQuaternion(MMD_SA.TEMP_q.copy(MMD_SA_options.model_para_obj.rot_hand_adjust_base[e.name.charAt(0)==""?1:-1]).conjugate()),-A[1])}else if(D.reset_rotation){if(D.reset_rotation===true){p.quaternion.set(0,0,0,1)}else{p.quaternion.copy(m.get_bone_rotation_by_MMD_name(D.reset_rotation.name))}}let t=MMD_SA._v3b_.set(0,0,0);let a=MMD_SA._v3a_.copy(p.position);if(D.reference_origin){if(D.reference_origin=="parent_bone"){a=m.get_bone_position_by_MMD_name(e.name)}else{const y=MMD_SA._v3a.copy(D.reference_origin);const E=MMD_SA._v3b.copy(D.reference_point);E.sub(y);const g=(0-(y.x*E.x+y.y*E.y+y.z*E.z))/E.lengthSq();t.set(y.x+E.x*g,y.y+E.y*g,y.z+E.z*g);a.copy(t).multiply(l._mesh.scale).applyQuaternion(p.quaternion).add(p.position)}}let r,s,o;if(D.external_point.type=="bone"){o=D.external_point.name.indexOf("left")!=-1?"":D.external_point.name.indexOf("right")!=-1?"":"";let e;let t;if(D.external_point.name.indexOf("hand")!=-1){if(D.mocap_only===false||System._browser.camera.poseNet.enabled&&(!MMD_SA.MMD.motionManager.para_SA.motion_tracking_upper_body_only||!System._browser.camera.poseNet.frames.get_blend_default_motion("skin",o+""))){e=m.get_bone_position_by_MMD_name(o+"");t=MMD_SA.TEMP_v3.set(0,0,0);if(D.external_point.offset)t.add(D.external_point.offset);s=m.get_bone_rotation_by_MMD_name(o+"");t.applyQuaternion(MMD_SA_options.model_para_obj.rot_arm_adjust[o+""].axis_rot).applyQuaternion(s)}}else if(D.external_point.name.indexOf("arm")!=-1){e=m.get_bone_position_by_MMD_name(o+"");t=MMD_SA.TEMP_v3.set(0,0,0);if(D.external_point.offset)t.add(D.external_point.offset);s=m.get_bone_rotation_by_MMD_name(!D.external_point.offset?.ignore_local_rotation?o+"":"2");t.applyQuaternion(s)}else if(D.external_point.name=="head"){e=m.get_bone_position_by_MMD_name("");t=MMD_SA.TEMP_v3.set(0,0,0);if(D.external_point.offset)t.add(D.external_point.offset);s=m.get_bone_rotation_by_MMD_name("");t.applyQuaternion(s)}if(e){if(t){if(D.external_point.use_filter){let e=k[D.external_point.name];if(!e)e=k[D.external_point.name]=new System._browser.data_filter([{type:"one_euro",id:D.external_point.name+"_bone_ext",para:[30,1,1,1,3]}]);Object.assign(e.filters[0].filter,q);t.fromArray(e.filter(t.toArray()))}e.add(t)}r=e}}else if(D.external_point.type=="object3D"){const x=MMD_SA.THREEX._XR_Animator_scene_?.object3D_list.find(e=>e.id==D.external_point.name);if(x){const v=MMD_SA.THREEX._object3d_list_.find(e=>e.uuid==x._object3d_uuid);r=MMD_SA._v3b.copy(D.external_point.reference_point).multiply(v._mesh.scale).applyQuaternion(v._mesh.quaternion).add(v._mesh.position)}}if(r){let i=1;if(D.weight_by_distance){const w=MMD_SA._v3a.copy(D.reference_point).multiply(l._mesh.scale).applyQuaternion(b).add(p.position).sub(r);let o=MMD_SA.THREEX.v3.copy(D.external_point.normal||{x:0,y:0,z:1});if(s)o.applyQuaternion(s);let e=w.length();let t=1-(D.weight_by_distance.power||0);let _=w.normalize().dot(o);if(_<0){t*=1-Math.min(-_*2,1)}let n=1-e/D.weight_by_distance.radius;if(t){i=n<0?0:Math.pow(n,t)}r.sub(a);if(M){let e=MMD_SA.TEMP_v3.copy(r).normalize().dot(o);let t=r.length()}}else{r.sub(a)}let e=MMD_SA._v3a.copy(D.reference_point).sub(t);e.normalize().applyQuaternion(p.quaternion);e.multiplyScalar(r.length()).add(a).sub(p.position);r=r.add(a).sub(p.position);e.normalize();r.normalize();const T=MMD_SA.TEMP_q.setFromUnitVectors(e,r);p.quaternion.premultiply(T);if(M){l._rot_aligned_=T.clone();l._rot_aligned_weight_=i;p.quaternion.copy(b)}}}const S=e.rotation.data_filter;if(S){if(!l.uuid)l.uuid=THREE.Math.generateUUID();let e=H[l.uuid];if(!e)e=H[l.uuid]=new System._browser.data_filter([{type:"one_euro",id:l.uuid+"_rot",para:[30,1,1,1,4]}]);Object.assign(e.filters[0].filter,P,S);if(M&&l._rot_aligned_){l._rot_aligned_.fromArray(e.filter(l._rot_aligned_.toArray()))}else{p.quaternion.fromArray(e.filter(p.quaternion.toArray()))}}}if(p.updateMatrix){p.matrixAutoUpdate=false;p.updateMatrix()}})}})();THREE.MMD.getModels().forEach(function(e,t){e.simulateCallback=o});var e=MMD_SA_options.MME.PostProcessingEffects;MMD_SA_options._PPE_enabled=e.enabled;if(MMD_SA_options.PPE_disabled_on_idle){if(MMD_SA_options._PPE_enabled){e.enabled=false}}MMD_SA.fadeout_opacity=.95;MMD_SA.fadeout_canvas.width=SL.width;MMD_SA.fadeout_canvas.height=SL.height;var t=MMD_SA.fadeout_canvas.getContext("2d");t.globalCompositeOperation="copy";t.globalAlpha=.01;t.fillRect(0,0,SL.width,SL.height);t.globalAlpha=1;MMD_SA_options.model_para_obj_all.forEach(function(e,t){var o=THREE.MMD.getModels()[t].mesh;if(e.position_loading||e.bone_connection||o.bones_by_name[""])o.position.set(0,0,0);if(e.scale)o.scale.set(e.scale,e.scale,e.scale)});THREE.MMD.getModels().forEach(function(){function o(e){this.mesh=e;this.m4=new THREE.Matrix4;this.pos=new THREE.Vector3;this.pos_world=new THREE.Vector3;this.reset()}o.prototype.reset=function(){this.pos.set(0,0,0);this.pos_world.set(0,0,0)};o.prototype.update=function(){this.m4.copy(this.mesh.matrixWorld);e.getPositionFromMatrix(this.m4);t.copy(e).sub(this.pos_world);t.multiplyScalar(MMD_SA_options.matrixWorld_physics_scale);this.pos.add(t);this.pos_world.copy(e);t.y+=this.mesh._model_index*25;this.m4.setPosition(t)};var e=new THREE.Vector3;var t=new THREE.Vector3;return function(e){let t=e.mesh;t.matrixWorld_physics=new o(t)}}());MMD_SA_options.onstart&&MMD_SA_options.onstart();window.dispatchEvent(new CustomEvent("MMDStarted"));MMD_SA.toggle_shadowMap();_.MMD.play(true);DEBUG_show("(MMD started)",2);if(MMD_SA.use_webgl2)DEBUG_show("Use WebGL2",2);if(MMD_SA.use_MSAA_FBO)DEBUG_show("Use MSAA FBO",2)},0);if(jThree.Trackball)jThree.trackball=jThree.Trackball;_.trackball();if(!returnBoolean("MMDTrackballCamera"))MMD_SA._trackball_camera.stop();MMD_SA_options.edgeScale=MMD_SA_options.model_para_obj.edgeScale>=0?MMD_SA_options.model_para_obj.edgeScale:MMD_SA_options.edgeScale>=0?MMD_SA_options.edgeScale:1;_.MMD.edgeScale=parseFloat(System.Gadget.Settings.readString("MMDEdgeScale")||Settings_default.MMDEdgeScale)*MMD_SA_options.edgeScale;jQuery("canvas").on("mousedown mousewheel DOMMouseScroll",function(){_.MMD.cameraMotion=false}).dblclick(function(){_.MMD.cameraMotion=true})}};(function(){MMD_SA.TEMP_q=new THREE.Quaternion;MMD_SA._q1=new THREE.Quaternion;MMD_SA._q2=new THREE.Quaternion;MMD_SA.TEMP_v3=new THREE.Vector3;MMD_SA._v3a=new THREE.Vector3;MMD_SA._v3b=new THREE.Vector3;MMD_SA.TEMP_m4=new THREE.Matrix4;MMD_SA._m4a=new THREE.Matrix4;MMD_SA._m4b=new THREE.Matrix4;MMD_SA.TEMP_b3=new THREE.Box3;MMD_SA._v3a_=new THREE.Vector3;MMD_SA._v3b_=new THREE.Vector3;MMD_SA.process_bone=function(e,t,o){const _=MMD_SA.MMD.motionManager.para_SA.look_at_screen_euler_order||"XYZ";const n=MMD_SA._v3a_.setEulerFromQuaternion(e.quaternion,_);if(o){n.x*=o[0];n.y*=o[1];n.z*=o[2]}if(t instanceof THREE.Quaternion)t=MMD_SA._v3b_.setEulerFromQuaternion(t,_);n.add(t);e.quaternion.setFromEuler(n,_)};MMD_SA.copy_first_bone_frame=function(e,t,o){if(!o)o=MMD_SA_options.motion[e].match;var n=o&&o.skin_jThree?o.skin_jThree:null;if(!t._is_skin)t=THREE.MMD.getModels()[0].skin_MMD_SA_extra[t._motion_index_extra];var i=t.mesh;t.targets.forEach(function(e){var t=e.keys[0];if(!t||n&&!n.test(t.name)||t.time){return}var o=i.bones_by_name[t.name];var _=i.geometry.bones[o._index];t.pos[0]=o.position.x-_.pos[0];t.pos[1]=o.position.y-_.pos[1];t.pos[2]=o.position.z-_.pos[2];t.rot=o.quaternion.toArray()})};MMD_SA.reset_skin=function(M){THREE.MMD.getModels().forEach(function(e,t){if(M!=null&&t!=M)return;var o=e.skin;if(!o||o._is_dummy){return}var _=o.mesh;var n=_.geometry;for(var i=0,a=_.bones.length;i<a;i++){var r=_.bones[i];var s=n.bones[i];r.position.set(s.pos[0],s.pos[1],s.pos[2]);r.quaternion.set(0,0,0,1)}})};MMD_SA.reset_morph=function(i){THREE.MMD.getModels().forEach(function(e,t){if(i!=null&&t!=i)return;var o=e.morph;if(o&&o._is_dummy){return}o=e.mesh.morphTargetInfluences;if(o){for(var _=0,n=o.length;_<n;_++)o[_]=0}})};MMD_SA._camera_y_offset_=0;MMD_SA.reset_camera=function(e){const t={};window.dispatchEvent(new CustomEvent("MMDCameraReset",{detail:{enforced:e,result:t}}));if(t.return_value)return;this._camera_y_offset_=0;var o=this.center_view;var _=this.center_view_lookAt;var n=THREE.MMD.getModels()[0].mesh.position;var i=MMD_SA_options.camera_position.slice();if(MMD_SA_options.use_random_camera&&returnBoolean("MMDRandomCamera")&&(MMD_SA.MMD.motionManager.para_SA.use_random_camera||Audio_BPM.vo.BPM_mode)){var a=MMD_SA_options.random_camera;i=MMD_SA.TEMP_v3.set(i[0]-n.x,i[1]-n.y,i[2]-n.z).multiplyScalar(a.distance[0]+Math.random()*(a.distance[1]-a.distance[0])).applyQuaternion(MMD_SA.TEMP_q.setFromEuler(MMD_SA._v3a.set((a.rotation.x[0]+Math.random()*(a.rotation.x[1]-a.rotation.x[0]))*Math.PI/180,(a.rotation.y[0]+Math.random()*(a.rotation.y[1]-a.rotation.y[0]))*Math.PI/180,(a.rotation.z[0]+Math.random()*(a.rotation.z[1]-a.rotation.z[0]))*Math.PI/180))).add(n).toArray()}var r=this._trackball_camera;r.position0.set(i[0]+o[0],i[1]+o[1],i[2]+o[2]);r.target0.set(n.x+_[0]+MMD_SA_options.camera_lookAt[0],n.y+_[1]+MMD_SA_options.camera_lookAt[1],n.z+_[2]+MMD_SA_options.camera_lookAt[2]);r.reset();r.object.updateProjectionMatrix();MMD_SA._mouse_pos_3D=[];MMD_SA._trackball_camera.SA_adjust();MMD_SA._trackball_camera.rotate_with_up_fixed=MMD_SA_options.Dungeon&&MMD_SA_options.Dungeon.character.TPS_mode;window.dispatchEvent(new CustomEvent("MMDCameraReset_after",{detail:{enforced:e}}))};MMD_SA.Animation_dummy={_is_dummy:true,_MMD_SA_disabled:true};MMD_SA.Animation_dummy.reset=MMD_SA.Animation_dummy.seek=MMD_SA.Animation_dummy.play=MMD_SA.Animation_dummy.pause=MMD_SA.Animation_dummy.update=MMD_SA.Animation_dummy.adjustDuration=MMD_SA.Animation_dummy.onupdate=function(){};THREE.Ray.prototype.intersectTriangle=function(){var l=new THREE.Vector3;var p=new THREE.Vector3;var m=new THREE.Vector3;var d=new THREE.Vector3;return function u(e,t,o,_,n){p.subVectors(t,e);m.subVectors(o,e);d.crossVectors(p,m);var i=this.direction.dot(d);var a;if(i>0){if(_)return null;a=1}else if(i<0){a=-1;i=-i}else{return null}l.subVectors(this.origin,e);var r=a*this.direction.dot(m.crossVectors(l,m));if(r<0){return null}var s=a*this.direction.dot(p.cross(l));if(s<0){return null}if(r+s>i){return null}var M=-a*l.dot(d);if(M<0){return null}return this.at(M/i,n)}}();MMD_SA.bone_to_position=function(){var m=new THREE.Vector3;var d=new THREE.Vector3;var u=new THREE.Vector3;var c=new THREE.Vector3;function e(){this.by_bone_name=[];this.pos_delta=new THREE.Vector3;this.pos_delta_rotated=new THREE.Vector3;this.bone_pos_offset=new THREE.Vector3}e.prototype.init=function(e,t,o,_){var n=this.by_bone_name[t];if(!n){n=this.by_bone_name[t]={gbone:{position:(new THREE.Vector3).fromArray(e.geometry.bones[e.bones_by_name[t]._index].pos)},position:new THREE.Vector3,quaternion:new THREE.Quaternion,path:"",motion_time:0}}if(n.path!=o||n.motion_time>_){n.position.set(0,0,0);n.quaternion.set(0,0,0,1);n.path=o}n.motion_time=_;this.gbone=n.gbone;this.position=n.position;this.quaternion=n.quaternion};return function(s){var M=this;if(!M.skin)return null;var l=this.mesh;if(l._bone_to_position_last){l._bone_to_position_last.pos_delta.set(0,0,0);l._bone_to_position_last.pos_delta_rotated.set(0,0,0);l._bone_to_position_last.bone_pos_offset.set(0,0,0)}else l._bone_to_position_last=new e;if(!s.bone_to_position)return null;var p=s.adjustment_per_model&&(s.adjustment_per_model[MMD_SA_options.model_para_obj_all[this._model_index]._filename_cleaned]||s.adjustment_per_model._default_)||{};s.bone_to_position.forEach(function(e){var t=e.name;var o=e.scale||{x:1,y:1,z:1};var _=l.bones_by_name[t];var n=M.skin.time;var i=n*30;l._bone_to_position_last.init(l,t,s._path,n);if(!e.frame_range||e.frame_range.some(function(e){return i>=e[0]&&i<=e[1]})){m.copy(_.position).sub(l._bone_to_position_last.gbone.position).multiply(o)}else{m.set(0,0,0)}u.copy(m);var a;var r;if(p.skin_default){let e=p.skin_default[t]||{};a=e.rot_add||e.rot;if(!a&&!s.bone_to_position.some(function(e){return e.name==""})){e=p.skin_default[""]||{};a=e.rot_add||e.rot;r=!!a}if(a){u.applyEuler(c.copy(a).multiplyScalar(Math.PI/180))}}if(!e.position_disabled){d.copy(u).sub(l._bone_to_position_last.position);l._bone_to_position_last.position.copy(u)}else{d.set(0,0,0);u.set(0,0,0)}if(t==""){_.position.sub(m);l._bone_to_position_last.bone_pos_offset.add(m)}else{let e=r?m.applyEuler(c.copy(a).multiplyScalar(Math.PI/180)):m;l.bones_by_name[""].position.sub(e);l._bone_to_position_last.bone_pos_offset.add(e)}l._bone_to_position_last.pos_delta.add(d)});l._bone_to_position_last.pos_delta_rotated.copy(l._bone_to_position_last.pos_delta).applyQuaternion(l.quaternion);return l._bone_to_position_last.pos_delta}}();if(MMD_SA.use_jThree_v1)jThree.goml("index.goml");var e={extractPathBase:function(e){var t=e.split("/");t.pop();return t.length===0?"":t.join("/")+"/"},extractPathExt:function(e){var t=e.split(".").pop();if(t===e){return""}return t}}})();

class LowPassFilter{constructor(t,i){this.setAlpha(t);this.y=null;this.s=null;this.type=i;LowPassFilter.#init()}static#q1;static#q2;static#initialized=false;static#init(){if(LowPassFilter.#initialized)return;LowPassFilter.#initialized=true;if(self.THREE){LowPassFilter.#q1=new THREE.Quaternion;LowPassFilter.#q2=new THREE.Quaternion}}setAlpha(t){if(t<=0||t>1){throw new Error}this.alpha=t}filter(t,i,e){if(e){this.setAlpha(e)}let s;if(!this.y){s=t}else{if(Array.isArray(t)){if(this.type==4){s=LowPassFilter.#q1.fromArray(this.s).slerp(LowPassFilter.#q2.fromArray(t),this.alpha).toArray()}else s=t.map((t,i)=>this.alpha*t+(1-this.alpha)*this.s[i])}else{s=this.alpha*t+(1-this.alpha)*this.s}}this.y=t;this.s=s;return s}lastValue(){return this.y}}class OneEuroFilter{constructor(t=30,i=1,e=0,s=1,r=0){if(t<=0||i<=0||s<=0){throw new Error}this.freq=t;this.minCutOff=i;this.beta=e;this.dCutOff=s;this.x=new LowPassFilter(this.alpha(this.minCutOff),r);this.dx=new LowPassFilter(this.alpha(this.dCutOff),r);this.lasttime=null;this.type=r;OneEuroFilter.#init()}static#q1_dx;static#q2_dx;static#initialized=false;static#init(){if(OneEuroFilter.#initialized)return;OneEuroFilter.#initialized=true;if(self.THREE){OneEuroFilter.#q1_dx=new THREE.Quaternion;OneEuroFilter.#q2_dx=new THREE.Quaternion}}computeDerivative(t){const e=this.x.lastValue();let i;if(!e){switch(this.type){case 3:i=[0,0,0];break;case 4:i=[0,0,0,1];break;default:i=0}}else{if(this.type==3){const s=1/this.freq;i=t.map((t,i)=>(t-e[i])/s)}else if(this.type==4){const s=1/this.freq;const r=1/s;OneEuroFilter.#q1_dx.fromArray(e).conjugate();i=OneEuroFilter.#q2_dx.fromArray(t).multiply(OneEuroFilter.#q1_dx);i=OneEuroFilter.#q1_dx.set(0,0,0,1).slerp(i,r).toArray()}else{i=(t-e)*this.freq}}return i}computeDerivativeMagnitude(t){let e;if(this.type==3){let i=0;t.forEach(t=>{i+=t*t});e=Math.sqrt(i)}else if(this.type==4){e=2*Math.acos(t[3])}else{e=Math.abs(t)}return e}alpha(t){const i=1/this.freq;const e=1/(2*Math.PI*t);return 1/(1+e/i)}filter(t,i=null,e=1){if(this.lasttime&&i){this.freq=1/(Math.max((i-this.lasttime)/1e3,1/60)*e)}this.lasttime=i;const s=this.computeDerivative(t);const r=this.computeDerivativeMagnitude(this.dx.filter(s,i,this.alpha(this.dCutOff)));const a=this.minCutOff+this.beta*r;return this.x.filter(t,i,this.alpha(a))}}
